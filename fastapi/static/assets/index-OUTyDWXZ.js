var Sme=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gdt=Sme((zs,Hs)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function EO(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Un={},zg=[],gc=()=>{},Cme=()=>!1,BA=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),MO=e=>e.startsWith("onUpdate:"),Ma=Object.assign,DO=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Tme=Object.prototype.hasOwnProperty,In=(e,t)=>Tme.call(e,t),Ar=Array.isArray,Hg=e=>zA(e)==="[object Map]",fZ=e=>zA(e)==="[object Set]",Rr=e=>typeof e=="function",yi=e=>typeof e=="string",Uf=e=>typeof e=="symbol",ei=e=>e!==null&&typeof e=="object",dZ=e=>(ei(e)||Rr(e))&&Rr(e.then)&&Rr(e.catch),hZ=Object.prototype.toString,zA=e=>hZ.call(e),Ame=e=>zA(e).slice(8,-1),vZ=e=>zA(e)==="[object Object]",PO=e=>yi(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ux=EO(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),HA=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Eme=/-(\w)/g,Fl=HA(e=>e.replace(Eme,(t,r)=>r?r.toUpperCase():"")),Mme=/\B([A-Z])/g,Up=HA(e=>e.replace(Mme,"-$1").toLowerCase()),VA=HA(e=>e.charAt(0).toUpperCase()+e.slice(1)),ND=HA(e=>e?`on${VA(e)}`:""),ih=(e,t)=>!Object.is(e,t),BD=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},jI=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Dme=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Pme=e=>{const t=yi(e)?Number(e):NaN;return isNaN(t)?e:t};let c8;const $A=()=>c8||(c8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function GA(e){if(Ar(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=yi(n)?kme(n):GA(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(yi(e)||ei(e))return e}const Rme=/;(?![^(]*\))/g,Lme=/:([^]+)/,Ime=/\/\*[^]*?\*\//g;function kme(e){const t={};return e.replace(Ime,"").split(Rme).forEach(r=>{if(r){const n=r.split(Lme);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function nm(e){let t="";if(yi(e))t=e;else if(Ar(e))for(let r=0;r<e.length;r++){const n=nm(e[r]);n&&(t+=n+" ")}else if(ei(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Ome="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fme=EO(Ome);function pZ(e){return!!e||e===""}const gZ=e=>!!(e&&e.__v_isRef===!0),mZ=e=>yi(e)?e:e==null?"":Ar(e)||ei(e)&&(e.toString===hZ||!Rr(e.toString))?gZ(e)?mZ(e.value):JSON.stringify(e,yZ,2):String(e),yZ=(e,t)=>gZ(t)?yZ(e,t.value):Hg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[zD(n,a)+" =>"]=i,r),{})}:fZ(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>zD(r))}:Uf(t)?zD(t):ei(t)&&!Ar(t)&&!vZ(t)?String(t):t,zD=(e,t="")=>{var r;return Uf(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let us;class Nme{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=us,!t&&us&&(this.index=(us.scopes||(us.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=us;try{return us=this,t()}finally{us=r}}}on(){++this._on===1&&(this.prevScope=us,us=this)}off(){this._on>0&&--this._on===0&&(us=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Bme(){return us}let Zn;const HD=new WeakSet;class xZ{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,us&&us.active&&us.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,HD.has(this)&&(HD.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bZ(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,f8(this),wZ(this);const t=Zn,r=du;Zn=this,du=!0;try{return this.fn()}finally{SZ(this),Zn=t,du=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)IO(t);this.deps=this.depsTail=void 0,f8(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?HD.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){YI(this)&&this.run()}get dirty(){return YI(this)}}let _Z=0,cx,fx;function bZ(e,t=!1){if(e.flags|=8,t){e.next=fx,fx=e;return}e.next=cx,cx=e}function RO(){_Z++}function LO(){if(--_Z>0)return;if(fx){let t=fx;for(fx=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;cx;){let t=cx;for(cx=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function wZ(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function SZ(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),IO(n),zme(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function YI(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(CZ(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function CZ(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Kx)||(e.globalVersion=Kx,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!YI(e))))return;e.flags|=2;const t=e.dep,r=Zn,n=du;Zn=e,du=!0;try{wZ(e);const i=e.fn(e._value);(t.version===0||ih(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Zn=r,du=n,SZ(e),e.flags&=-3}}function IO(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)IO(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function zme(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let du=!0;const TZ=[];function Rf(){TZ.push(du),du=!1}function Lf(){const e=TZ.pop();du=e===void 0?!0:e}function f8(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Zn;Zn=void 0;try{t()}finally{Zn=r}}}let Kx=0;class Hme{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kO{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Zn||!du||Zn===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Zn)r=this.activeLink=new Hme(Zn,this),Zn.deps?(r.prevDep=Zn.depsTail,Zn.depsTail.nextDep=r,Zn.depsTail=r):Zn.deps=Zn.depsTail=r,AZ(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Zn.depsTail,r.nextDep=void 0,Zn.depsTail.nextDep=r,Zn.depsTail=r,Zn.deps===r&&(Zn.deps=n)}return r}trigger(t){this.version++,Kx++,this.notify(t)}notify(t){RO();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{LO()}}}function AZ(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)AZ(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const FC=new WeakMap,op=Symbol(""),KI=Symbol(""),Zx=Symbol("");function fo(e,t,r){if(du&&Zn){let n=FC.get(e);n||FC.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new kO),i.map=n,i.key=r),i.track()}}function pf(e,t,r,n,i,a){const o=FC.get(e);if(!o){Kx++;return}const s=l=>{l&&l.trigger()};if(RO(),t==="clear")o.forEach(s);else{const l=Ar(e),u=l&&PO(r);if(l&&r==="length"){const c=Number(n);o.forEach((f,d)=>{(d==="length"||d===Zx||!Uf(d)&&d>=c)&&s(f)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(Zx)),t){case"add":l?u&&s(o.get("length")):(s(o.get(op)),Hg(e)&&s(o.get(KI)));break;case"delete":l||(s(o.get(op)),Hg(e)&&s(o.get(KI)));break;case"set":Hg(e)&&s(o.get(op));break}}LO()}function Vme(e,t){const r=FC.get(e);return r&&r.get(t)}function k0(e){const t=xn(e);return t===e?t:(fo(t,"iterate",Zx),Dl(e)?t:t.map(qa))}function UA(e){return fo(e=xn(e),"iterate",Zx),e}const $me={__proto__:null,[Symbol.iterator](){return VD(this,Symbol.iterator,qa)},concat(...e){return k0(this).concat(...e.map(t=>Ar(t)?k0(t):t))},entries(){return VD(this,"entries",e=>(e[1]=qa(e[1]),e))},every(e,t){return Jc(this,"every",e,t,void 0,arguments)},filter(e,t){return Jc(this,"filter",e,t,r=>r.map(qa),arguments)},find(e,t){return Jc(this,"find",e,t,qa,arguments)},findIndex(e,t){return Jc(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jc(this,"findLast",e,t,qa,arguments)},findLastIndex(e,t){return Jc(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jc(this,"forEach",e,t,void 0,arguments)},includes(...e){return $D(this,"includes",e)},indexOf(...e){return $D(this,"indexOf",e)},join(e){return k0(this).join(e)},lastIndexOf(...e){return $D(this,"lastIndexOf",e)},map(e,t){return Jc(this,"map",e,t,void 0,arguments)},pop(){return Gy(this,"pop")},push(...e){return Gy(this,"push",e)},reduce(e,...t){return d8(this,"reduce",e,t)},reduceRight(e,...t){return d8(this,"reduceRight",e,t)},shift(){return Gy(this,"shift")},some(e,t){return Jc(this,"some",e,t,void 0,arguments)},splice(...e){return Gy(this,"splice",e)},toReversed(){return k0(this).toReversed()},toSorted(e){return k0(this).toSorted(e)},toSpliced(...e){return k0(this).toSpliced(...e)},unshift(...e){return Gy(this,"unshift",e)},values(){return VD(this,"values",qa)}};function VD(e,t,r){const n=UA(e),i=n[t]();return n!==e&&!Dl(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const Gme=Array.prototype;function Jc(e,t,r,n,i,a){const o=UA(e),s=o!==e&&!Dl(e),l=o[t];if(l!==Gme[t]){const f=l.apply(e,a);return s?qa(f):f}let u=r;o!==e&&(s?u=function(f,d){return r.call(this,qa(f),d,e)}:r.length>2&&(u=function(f,d){return r.call(this,f,d,e)}));const c=l.call(o,u,n);return s&&i?i(c):c}function d8(e,t,r,n){const i=UA(e);let a=r;return i!==e&&(Dl(e)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,e)}):a=function(o,s,l){return r.call(this,o,qa(s),l,e)}),i[t](a,...n)}function $D(e,t,r){const n=xn(e);fo(n,"iterate",Zx);const i=n[t](...r);return(i===-1||i===!1)&&NO(r[0])?(r[0]=xn(r[0]),n[t](...r)):i}function Gy(e,t,r=[]){Rf(),RO();const n=xn(e)[t].apply(e,r);return LO(),Lf(),n}const Ume=EO("__proto__,__v_isRef,__isVue"),EZ=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Uf));function Wme(e){Uf(e)||(e=String(e));const t=xn(this);return fo(t,"has",e),t.hasOwnProperty(e)}class MZ{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?tye:LZ:a?RZ:PZ).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Ar(t);if(!i){let l;if(o&&(l=$me[r]))return l;if(r==="hasOwnProperty")return Wme}const s=Reflect.get(t,r,wa(t)?t:n);return(Uf(r)?EZ.has(r):Ume(r))||(i||fo(t,"get",r),a)?s:wa(s)?o&&PO(r)?s:s.value:ei(s)?i?Tc(s):ab(s):s}}class DZ extends MZ{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=hh(a);if(!Dl(n)&&!hh(n)&&(a=xn(a),n=xn(n)),!Ar(t)&&wa(a)&&!wa(n))return l?!1:(a.value=n,!0)}const o=Ar(t)&&PO(r)?Number(r)<t.length:In(t,r),s=Reflect.set(t,r,n,wa(t)?t:i);return t===xn(i)&&(o?ih(n,a)&&pf(t,"set",r,n):pf(t,"add",r,n)),s}deleteProperty(t,r){const n=In(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&pf(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Uf(r)||!EZ.has(r))&&fo(t,"has",r),n}ownKeys(t){return fo(t,"iterate",Ar(t)?"length":op),Reflect.ownKeys(t)}}class Xme extends MZ{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const jme=new DZ,Yme=new Xme,Kme=new DZ(!0),ZI=e=>e,$w=e=>Reflect.getPrototypeOf(e);function Zme(e,t,r){return function(...n){const i=this.__v_raw,a=xn(i),o=Hg(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=r?ZI:t?NC:qa;return!t&&fo(a,"iterate",l?KI:op),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Gw(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qme(e,t){const r={get(i){const a=this.__v_raw,o=xn(a),s=xn(i);e||(ih(i,s)&&fo(o,"get",i),fo(o,"get",s));const{has:l}=$w(o),u=t?ZI:e?NC:qa;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&fo(xn(i),"iterate",op),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,o=xn(a),s=xn(i);return e||(ih(i,s)&&fo(o,"has",i),fo(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=xn(s),u=t?ZI:e?NC:qa;return!e&&fo(l,"iterate",op),s.forEach((c,f)=>i.call(a,u(c),u(f),o))}};return Ma(r,e?{add:Gw("add"),set:Gw("set"),delete:Gw("delete"),clear:Gw("clear")}:{add(i){!t&&!Dl(i)&&!hh(i)&&(i=xn(i));const a=xn(this);return $w(a).has.call(a,i)||(a.add(i),pf(a,"add",i,i)),this},set(i,a){!t&&!Dl(a)&&!hh(a)&&(a=xn(a));const o=xn(this),{has:s,get:l}=$w(o);let u=s.call(o,i);u||(i=xn(i),u=s.call(o,i));const c=l.call(o,i);return o.set(i,a),u?ih(a,c)&&pf(o,"set",i,a):pf(o,"add",i,a),this},delete(i){const a=xn(this),{has:o,get:s}=$w(a);let l=o.call(a,i);l||(i=xn(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&pf(a,"delete",i,void 0),u},clear(){const i=xn(this),a=i.size!==0,o=i.clear();return a&&pf(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Zme(i,e,t)}),r}function OO(e,t){const r=qme(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(In(r,i)&&i in n?r:n,i,a)}const Jme={get:OO(!1,!1)},Qme={get:OO(!1,!0)},eye={get:OO(!0,!1)},PZ=new WeakMap,RZ=new WeakMap,LZ=new WeakMap,tye=new WeakMap;function rye(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nye(e){return e.__v_skip||!Object.isExtensible(e)?0:rye(Ame(e))}function ab(e){return hh(e)?e:FO(e,!1,jme,Jme,PZ)}function iye(e){return FO(e,!1,Kme,Qme,RZ)}function Tc(e){return FO(e,!0,Yme,eye,LZ)}function FO(e,t,r,n,i){if(!ei(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=nye(e);if(a===0)return e;const o=i.get(e);if(o)return o;const s=new Proxy(e,a===2?n:r);return i.set(e,s),s}function Vg(e){return hh(e)?Vg(e.__v_raw):!!(e&&e.__v_isReactive)}function hh(e){return!!(e&&e.__v_isReadonly)}function Dl(e){return!!(e&&e.__v_isShallow)}function NO(e){return e?!!e.__v_raw:!1}function xn(e){const t=e&&e.__v_raw;return t?xn(t):e}function qI(e){return!In(e,"__v_skip")&&Object.isExtensible(e)&&jI(e,"__v_skip",!0),e}const qa=e=>ei(e)?ab(e):e,NC=e=>ei(e)?Tc(e):e;function wa(e){return e?e.__v_isRef===!0:!1}function xe(e){return kZ(e,!1)}function IZ(e){return kZ(e,!0)}function kZ(e,t){return wa(e)?e:new aye(e,t)}class aye{constructor(t,r){this.dep=new kO,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:xn(t),this._value=r?t:qa(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||Dl(t)||hh(t);t=n?t:xn(t),ih(t,r)&&(this._rawValue=t,this._value=n?t:qa(t),this.dep.trigger())}}function Fr(e){return wa(e)?e.value:e}const oye={get:(e,t,r)=>t==="__v_raw"?e:Fr(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return wa(i)&&!wa(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function OZ(e){return Vg(e)?e:new Proxy(e,oye)}class sye{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Vme(xn(this._object),this._key)}}class lye{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function rt(e,t,r){return wa(e)?e:Rr(e)?new lye(e):ei(e)&&arguments.length>1?uye(e,t,r):xe(e)}function uye(e,t,r){const n=e[t];return wa(n)?n:new sye(e,t,r)}class cye{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new kO(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Kx-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Zn!==this)return bZ(this,!0),!0}get value(){const t=this.dep.track();return CZ(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function fye(e,t,r=!1){let n,i;return Rr(e)?n=e:(n=e.get,i=e.set),new cye(n,i,r)}const Uw={},BC=new WeakMap;let Iv;function dye(e,t=!1,r=Iv){if(r){let n=BC.get(r);n||BC.set(r,n=[]),n.push(e)}}function hye(e,t,r=Un){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=b=>i?b:Dl(b)||i===!1||i===0?gf(b,1):gf(b);let c,f,d,h,v=!1,p=!1;if(wa(e)?(f=()=>e.value,v=Dl(e)):Vg(e)?(f=()=>u(e),v=!0):Ar(e)?(p=!0,v=e.some(b=>Vg(b)||Dl(b)),f=()=>e.map(b=>{if(wa(b))return b.value;if(Vg(b))return u(b);if(Rr(b))return l?l(b,2):b()})):Rr(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Rf();try{d()}finally{Lf()}}const b=Iv;Iv=c;try{return l?l(e,3,[h]):e(h)}finally{Iv=b}}:f=gc,t&&i){const b=f,w=i===!0?1/0:i;f=()=>gf(b(),w)}const g=Bme(),m=()=>{c.stop(),g&&g.active&&DO(g.effects,c)};if(a&&t){const b=t;t=(...w)=>{b(...w),m()}}let y=p?new Array(e.length).fill(Uw):Uw;const x=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const w=c.run();if(i||v||(p?w.some((S,C)=>ih(S,y[C])):ih(w,y))){d&&d();const S=Iv;Iv=c;try{const C=[w,y===Uw?void 0:p&&y[0]===Uw?[]:y,h];y=w,l?l(t,3,C):t(...C)}finally{Iv=S}}}else c.run()};return s&&s(x),c=new xZ(f),c.scheduler=o?()=>o(x,!1):x,h=b=>dye(b,!1,c),d=c.onStop=()=>{const b=BC.get(c);if(b){if(l)l(b,4);else for(const w of b)w();BC.delete(c)}},t?n?x(!0):y=c.run():o?o(x.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function gf(e,t=1/0,r){if(t<=0||!ei(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,wa(e))gf(e.value,t,r);else if(Ar(e))for(let n=0;n<e.length;n++)gf(e[n],t,r);else if(fZ(e)||Hg(e))e.forEach(n=>{gf(n,t,r)});else if(vZ(e)){for(const n in e)gf(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&gf(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ob(e,t,r,n){try{return n?e(...n):e()}catch(i){WA(i,t,r)}}function xu(e,t,r,n){if(Rr(e)){const i=ob(e,t,r,n);return i&&dZ(i)&&i.catch(a=>{WA(a,t,r)}),i}if(Ar(e)){const i=[];for(let a=0;a<e.length;a++)i.push(xu(e[a],t,r,n));return i}}function WA(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Un;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}s=s.parent}if(a){Rf(),ob(a,null,10,[e,l,u]),Lf();return}}vye(e,r,i,n,o)}function vye(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const $o=[];let ec=-1;const $g=[];let Nd=null,wg=0;const FZ=Promise.resolve();let zC=null;function Sa(e){const t=zC||FZ;return e?t.then(this?e.bind(this):e):t}function pye(e){let t=ec+1,r=$o.length;for(;t<r;){const n=t+r>>>1,i=$o[n],a=qx(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function BO(e){if(!(e.flags&1)){const t=qx(e),r=$o[$o.length-1];!r||!(e.flags&2)&&t>=qx(r)?$o.push(e):$o.splice(pye(t),0,e),e.flags|=1,NZ()}}function NZ(){zC||(zC=FZ.then(zZ))}function gye(e){Ar(e)?$g.push(...e):Nd&&e.id===-1?Nd.splice(wg+1,0,e):e.flags&1||($g.push(e),e.flags|=1),NZ()}function h8(e,t,r=ec+1){for(;r<$o.length;r++){const n=$o[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;$o.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function BZ(e){if($g.length){const t=[...new Set($g)].sort((r,n)=>qx(r)-qx(n));if($g.length=0,Nd){Nd.push(...t);return}for(Nd=t,wg=0;wg<Nd.length;wg++){const r=Nd[wg];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Nd=null,wg=0}}const qx=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zZ(e){try{for(ec=0;ec<$o.length;ec++){const t=$o[ec];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ob(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ec<$o.length;ec++){const t=$o[ec];t&&(t.flags&=-2)}ec=-1,$o.length=0,BZ(),zC=null,($o.length||$g.length)&&zZ()}}let Ja=null,HZ=null;function HC(e){const t=Ja;return Ja=e,HZ=e&&e.type.__scopeId||null,t}function br(e,t=Ja,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&E8(-1);const a=HC(t);let o;try{o=e(...i)}finally{HC(a),n._d&&E8(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function _u(e,t){if(Ja===null)return e;const r=qA(Ja),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=Un]=t[i];a&&(Rr(a)&&(a={mounted:a,updated:a}),a.deep&&gf(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Zh(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(Rf(),xu(l,r,8,[e.el,s,e,t]),Lf())}}const VZ=Symbol("_vte"),$Z=e=>e.__isTeleport,dx=e=>e&&(e.disabled||e.disabled===""),v8=e=>e&&(e.defer||e.defer===""),p8=e=>typeof SVGElement<"u"&&e instanceof SVGElement,g8=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,JI=(e,t)=>{const r=e&&e.to;return yi(r)?t?t(r):null:r},GZ={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,a,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:v,createText:p,createComment:g}}=u,m=dx(t.props);let{shapeFlag:y,children:x,dynamicChildren:b}=t;if(e==null){const w=t.el=p(""),S=t.anchor=p("");h(w,r,n),h(S,r,n);const C=(A,M)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=A),c(x,A,M,i,a,o,s,l))},E=()=>{const A=t.target=JI(t.props,v),M=UZ(A,t,p,h);A&&(o!=="svg"&&p8(A)?o="svg":o!=="mathml"&&g8(A)&&(o="mathml"),m||(C(A,M),tC(t,!1)))};m&&(C(r,S),tC(t,!0)),v8(t.props)?(t.el.__isMounted=!1,Fo(()=>{E(),delete t.el.__isMounted},a)):E()}else{if(v8(t.props)&&e.el.__isMounted===!1){Fo(()=>{GZ.process(e,t,r,n,i,a,o,s,l,u)},a);return}t.el=e.el,t.targetStart=e.targetStart;const w=t.anchor=e.anchor,S=t.target=e.target,C=t.targetAnchor=e.targetAnchor,E=dx(e.props),A=E?r:S,M=E?w:C;if(o==="svg"||p8(S)?o="svg":(o==="mathml"||g8(S))&&(o="mathml"),b?(d(e.dynamicChildren,b,A,i,a,o,s),WO(e,t,!0)):l||f(e,t,A,M,i,a,o,s,!1),m)E?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ww(t,r,w,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=JI(t.props,v);D&&Ww(t,D,null,u,0)}else E&&Ww(t,S,C,u,1);tC(t,m)}},remove(e,t,r,{um:n,o:{remove:i}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(i(u),i(c)),a&&i(l),o&16){const h=a||!dx(d);for(let v=0;v<s.length;v++){const p=s[v];n(p,t,r,h,!!p.dynamicChildren)}}},move:Ww,hydrate:mye};function Ww(e,t,r,{o:{insert:n},m:i},a=2){a===0&&n(e.targetAnchor,t,r);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=a===2;if(f&&n(o,t,r),(!f||dx(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],t,r,2);f&&n(s,t,r)}function mye(e,t,r,n,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=t.target=JI(t.props,l);if(d){const h=dx(t.props),v=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,s(e),r,n,i,a),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let p=v;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}p=o(p)}t.targetAnchor||UZ(d,t,c,u),f(v&&o(v),t,d,r,n,i,a)}tC(t,h)}return t.anchor&&o(t.anchor)}const zO=GZ;function tC(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function UZ(e,t,r,n){const i=t.targetStart=r(""),a=t.targetAnchor=r("");return i[VZ]=a,e&&(n(i,e),n(a,e)),a}const Bd=Symbol("_leaveCb"),Xw=Symbol("_enterCb");function WZ(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vn(()=>{e.isMounted=!0}),Li(()=>{e.isUnmounting=!0}),e}const al=[Function,Array],XZ={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:al,onEnter:al,onAfterEnter:al,onEnterCancelled:al,onBeforeLeave:al,onLeave:al,onAfterLeave:al,onLeaveCancelled:al,onBeforeAppear:al,onAppear:al,onAfterAppear:al,onAppearCancelled:al},jZ=e=>{const t=e.subTree;return t.component?jZ(t.component):t},yye={name:"BaseTransition",props:XZ,setup(e,{slots:t}){const r=Ah(),n=WZ();return()=>{const i=t.default&&HO(t.default(),!0);if(!i||!i.length)return;const a=YZ(i),o=xn(e),{mode:s}=o;if(n.isLeaving)return GD(a);const l=m8(a);if(!l)return GD(a);let u=Jx(l,o,n,r,f=>u=f);l.type!==ia&&Sp(l,u);let c=r.subTree&&m8(r.subTree);if(c&&c.type!==ia&&!Hv(l,c)&&jZ(r).type!==ia){let f=Jx(c,o,n,r);if(Sp(c,f),s==="out-in"&&l.type!==ia)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},GD(a);s==="in-out"&&l.type!==ia?f.delayLeave=(d,h,v)=>{const p=KZ(n,c);p[String(c.key)]=c,d[Bd]=()=>{h(),d[Bd]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function YZ(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==ia){t=r;break}}return t}const xye=yye;function KZ(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Jx(e,t,r,n,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:v,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:x}=t,b=String(e.key),w=KZ(r,e),S=(A,M)=>{A&&xu(A,n,9,M)},C=(A,M)=>{const D=M[1];S(A,M),Ar(A)?A.every(R=>R.length<=1)&&D():A.length<=1&&D()},E={mode:o,persisted:s,beforeEnter(A){let M=l;if(!r.isMounted)if(a)M=g||l;else return;A[Bd]&&A[Bd](!0);const D=w[b];D&&Hv(e,D)&&D.el[Bd]&&D.el[Bd](),S(M,[A])},enter(A){let M=u,D=c,R=f;if(!r.isMounted)if(a)M=m||u,D=y||c,R=x||f;else return;let L=!1;const k=A[Xw]=O=>{L||(L=!0,O?S(R,[A]):S(D,[A]),E.delayedLeave&&E.delayedLeave(),A[Xw]=void 0)};M?C(M,[A,k]):k()},leave(A,M){const D=String(e.key);if(A[Xw]&&A[Xw](!0),r.isUnmounting)return M();S(d,[A]);let R=!1;const L=A[Bd]=k=>{R||(R=!0,M(),k?S(p,[A]):S(v,[A]),A[Bd]=void 0,w[D]===e&&delete w[D])};w[D]=e,h?C(h,[A,L]):L()},clone(A){const M=Jx(A,t,r,n,i);return i&&i(M),M}};return E}function GD(e){if(XA(e))return e=bu(e),e.children=null,e}function m8(e){if(!XA(e))return $Z(e.type)&&e.children?YZ(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&Rr(r.default))return r.default()}}function Sp(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Sp(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function HO(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:a);o.type===Dr?(o.patchFlag&128&&i++,n=n.concat(HO(o.children,t,s))):(t||o.type!==ia)&&n.push(s!=null?bu(o,{key:s}):o)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function lt(e,t){return Rr(e)?Ma({name:e.name},t,{setup:e}):e}function ZZ(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function hx(e,t,r,n,i=!1){if(Ar(e)){e.forEach((v,p)=>hx(v,t&&(Ar(t)?t[p]:t),r,n,i));return}if(Gg(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&hx(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?qA(n.component):n.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Un?s.refs={}:s.refs,f=s.setupState,d=xn(f),h=f===Un?()=>!1:v=>In(d,v);if(u!=null&&u!==l&&(yi(u)?(c[u]=null,h(u)&&(f[u]=null)):wa(u)&&(u.value=null)),Rr(l))ob(l,s,12,[o,c]);else{const v=yi(l),p=wa(l);if(v||p){const g=()=>{if(e.f){const m=v?h(l)?f[l]:c[l]:l.value;i?Ar(m)&&DO(m,a):Ar(m)?m.includes(a)||m.push(a):v?(c[l]=[a],h(l)&&(f[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else v?(c[l]=o,h(l)&&(f[l]=o)):p&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,Fo(g,r)):g()}}}$A().requestIdleCallback;$A().cancelIdleCallback;const Gg=e=>!!e.type.__asyncLoader,XA=e=>e.type.__isKeepAlive;function VO(e,t){qZ(e,"a",t)}function jA(e,t){qZ(e,"da",t)}function qZ(e,t,r=vo){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(YA(t,n,r),r){let i=r.parent;for(;i&&i.parent;)XA(i.parent.vnode)&&_ye(n,t,r,i),i=i.parent}}function _ye(e,t,r,n){const i=YA(t,e,n,!0);KA(()=>{DO(n[t],i)},r)}function YA(e,t,r=vo,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Rf();const s=lb(r),l=xu(t,r,e,o);return s(),Lf(),l});return n?i.unshift(a):i.push(a),a}}const Wf=e=>(t,r=vo)=>{(!e_||e==="sp")&&YA(e,(...n)=>t(...n),r)},Xf=Wf("bm"),Vn=Wf("m"),bye=Wf("bu"),JZ=Wf("u"),Li=Wf("bum"),KA=Wf("um"),wye=Wf("sp"),Sye=Wf("rtg"),Cye=Wf("rtc");function Tye(e,t=vo){YA("ec",e,t)}const Aye="components",QZ=Symbol.for("v-ndc");function Eye(e){return yi(e)?Mye(Aye,e,!1)||e:e||QZ}function Mye(e,t,r=!0,n=!1){const i=Ja||vo;if(i){const a=i.type;{const s=v1e(a,!1);if(s&&(s===t||s===Fl(t)||s===VA(Fl(t))))return a}const o=y8(i[e]||a[e],t)||y8(i.appContext[e],t);return!o&&n?a:o}}function y8(e,t){return e&&(e[t]||e[Fl(t)]||e[VA(Fl(t))])}function Dye(e,t,r,n){let i;const a=r,o=Ar(e);if(o||yi(e)){const s=o&&Vg(e);let l=!1,u=!1;s&&(l=!Dl(e),u=hh(e),e=UA(e)),i=new Array(e.length);for(let c=0,f=e.length;c<f;c++)i[c]=t(l?u?NC(qa(e[c])):qa(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(ei(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}function $O(e,t,r={},n,i){if(Ja.ce||Ja.parent&&Gg(Ja.parent)&&Ja.parent.ce)return cn(),mi(Dr,null,[mr("slot",r,n)],64);let a=e[t];a&&a._c&&(a._d=!1),cn();const o=a&&eq(a(r)),s=r.key||o&&o.key,l=mi(Dr,{key:(s&&!Uf(s)?s:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function eq(e){return e.some(t=>im(t)?!(t.type===ia||t.type===Dr&&!eq(t.children)):!0)?e:null}const QI=e=>e?yq(e)?qA(e):QI(e.parent):null,vx=Ma(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>QI(e.parent),$root:e=>QI(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rq(e),$forceUpdate:e=>e.f||(e.f=()=>{BO(e.update)}),$nextTick:e=>e.n||(e.n=Sa.bind(e.proxy)),$watch:e=>Zye.bind(e)}),UD=(e,t)=>e!==Un&&!e.__isScriptSetup&&In(e,t),Pye={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(UD(n,t))return o[t]=1,n[t];if(i!==Un&&In(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&In(u,t))return o[t]=3,a[t];if(r!==Un&&In(r,t))return o[t]=4,r[t];e3&&(o[t]=0)}}const c=vx[t];let f,d;if(c)return t==="$attrs"&&fo(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==Un&&In(r,t))return o[t]=4,r[t];if(d=l.config.globalProperties,In(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return UD(i,t)?(i[t]=r,!0):n!==Un&&In(n,t)?(n[t]=r,!0):In(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!r[o]||e!==Un&&In(e,o)||UD(t,o)||(s=a[0])&&In(s,o)||In(n,o)||In(vx,o)||In(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:In(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function x8(e){return Ar(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let e3=!0;function Rye(e){const t=rq(e),r=e.proxy,n=e.ctx;e3=!1,t.beforeCreate&&_8(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:p,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:x,unmounted:b,render:w,renderTracked:S,renderTriggered:C,errorCaptured:E,serverPrefetch:A,expose:M,inheritAttrs:D,components:R,directives:L,filters:k}=t;if(u&&Lye(u,n,null),o)for(const H in o){const V=o[H];Rr(V)&&(n[H]=V.bind(r))}if(i){const H=i.call(r,r);ei(H)&&(e.data=ab(H))}if(e3=!0,a)for(const H in a){const V=a[H],U=Rr(V)?V.bind(r,r):Rr(V.get)?V.get.bind(r,r):gc,K=!Rr(V)&&Rr(V.set)?V.set.bind(r):gc,q=me({get:U,set:K});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>q.value,set:N=>q.value=N})}if(s)for(const H in s)tq(s[H],n,r,H);if(l){const H=Rr(l)?l.call(r):l;Reflect.ownKeys(H).forEach(V=>{wn(V,H[V])})}c&&_8(c,e,"c");function F(H,V){Ar(V)?V.forEach(U=>H(U.bind(r))):V&&H(V.bind(r))}if(F(Xf,f),F(Vn,d),F(bye,h),F(JZ,v),F(VO,p),F(jA,g),F(Tye,E),F(Cye,S),F(Sye,C),F(Li,y),F(KA,b),F(wye,A),Ar(M))if(M.length){const H=e.exposed||(e.exposed={});M.forEach(V=>{Object.defineProperty(H,V,{get:()=>r[V],set:U=>r[V]=U,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===gc&&(e.render=w),D!=null&&(e.inheritAttrs=D),R&&(e.components=R),L&&(e.directives=L),A&&ZZ(e)}function Lye(e,t,r=gc){Ar(e)&&(e=t3(e));for(const n in e){const i=e[n];let a;ei(i)?"default"in i?a=rr(i.from||n,i.default,!0):a=rr(i.from||n):a=rr(i),wa(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function _8(e,t,r){xu(Ar(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function tq(e,t,r,n){let i=n.includes(".")?hq(r,n):()=>r[n];if(yi(e)){const a=t[e];Rr(a)&&hn(i,a)}else if(Rr(e))hn(i,e.bind(r));else if(ei(e))if(Ar(e))e.forEach(a=>tq(a,t,r,n));else{const a=Rr(e.handler)?e.handler.bind(r):t[e.handler];Rr(a)&&hn(i,a,e)}}function rq(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>VC(l,u,o,!0)),VC(l,t,o)),ei(t)&&a.set(t,l),l}function VC(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&VC(e,a,r,!0),i&&i.forEach(o=>VC(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=Iye[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const Iye={data:b8,props:w8,emits:w8,methods:N1,computed:N1,beforeCreate:Oo,created:Oo,beforeMount:Oo,mounted:Oo,beforeUpdate:Oo,updated:Oo,beforeDestroy:Oo,beforeUnmount:Oo,destroyed:Oo,unmounted:Oo,activated:Oo,deactivated:Oo,errorCaptured:Oo,serverPrefetch:Oo,components:N1,directives:N1,watch:Oye,provide:b8,inject:kye};function b8(e,t){return t?e?function(){return Ma(Rr(e)?e.call(this,this):e,Rr(t)?t.call(this,this):t)}:t:e}function kye(e,t){return N1(t3(e),t3(t))}function t3(e){if(Ar(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Oo(e,t){return e?[...new Set([].concat(e,t))]:t}function N1(e,t){return e?Ma(Object.create(null),e,t):t}function w8(e,t){return e?Ar(e)&&Ar(t)?[...new Set([...e,...t])]:Ma(Object.create(null),x8(e),x8(t??{})):t}function Oye(e,t){if(!e)return t;if(!t)return e;const r=Ma(Object.create(null),e);for(const n in t)r[n]=Oo(e[n],t[n]);return r}function nq(){return{app:null,config:{isNativeTag:Cme,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fye=0;function Nye(e,t){return function(n,i=null){Rr(n)||(n=Ma({},n)),i!=null&&!ei(i)&&(i=null);const a=nq(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:Fye++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:g1e,get config(){return a.config},set config(c){},use(c,...f){return o.has(c)||(c&&Rr(c.install)?(o.add(c),c.install(u,...f)):Rr(c)&&(o.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||mr(n,i);return h.appContext=a,d===!0?d="svg":d===!1&&(d=void 0),e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,qA(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(xu(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=Ug;Ug=u;try{return c()}finally{Ug=f}}};return u}}let Ug=null;function wn(e,t){if(vo){let r=vo.provides;const n=vo.parent&&vo.parent.provides;n===r&&(r=vo.provides=Object.create(n)),r[e]=t}}function rr(e,t,r=!1){const n=Ah();if(n||Ug){let i=Ug?Ug._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Rr(t)?t.call(n&&n.proxy):t}}const iq={},aq=()=>Object.create(iq),oq=e=>Object.getPrototypeOf(e)===iq;function Bye(e,t,r,n=!1){const i={},a=aq();e.propsDefaults=Object.create(null),sq(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:iye(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function zye(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=xn(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(ZA(e.emitsOptions,d))continue;const h=t[d];if(l)if(In(a,d))h!==a[d]&&(a[d]=h,u=!0);else{const v=Fl(d);i[v]=r3(l,s,v,h,e,!1)}else h!==a[d]&&(a[d]=h,u=!0)}}}else{sq(e,t,i,a)&&(u=!0);let c;for(const f in s)(!t||!In(t,f)&&((c=Up(f))===f||!In(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=r3(l,s,f,void 0,e,!0)):delete i[f]);if(a!==s)for(const f in a)(!t||!In(t,f))&&(delete a[f],u=!0)}u&&pf(e.attrs,"set","")}function sq(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(ux(l))continue;const u=t[l];let c;i&&In(i,c=Fl(l))?!a||!a.includes(c)?r[c]=u:(s||(s={}))[c]=u:ZA(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=xn(r),u=s||Un;for(let c=0;c<a.length;c++){const f=a[c];r[f]=r3(i,l,f,u[f],e,!In(u,f))}}return o}function r3(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=In(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Rr(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=lb(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Up(r))&&(n=!0))}return n}const Hye=new WeakMap;function lq(e,t,r=!1){const n=r?Hye:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!Rr(e)){const c=f=>{l=!0;const[d,h]=lq(f,t,!0);Ma(o,d),h&&s.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return ei(e)&&n.set(e,zg),zg;if(Ar(a))for(let c=0;c<a.length;c++){const f=Fl(a[c]);S8(f)&&(o[f]=Un)}else if(a)for(const c in a){const f=Fl(c);if(S8(f)){const d=a[c],h=o[f]=Ar(d)||Rr(d)?{type:d}:Ma({},d),v=h.type;let p=!1,g=!0;if(Ar(v))for(let m=0;m<v.length;++m){const y=v[m],x=Rr(y)&&y.name;if(x==="Boolean"){p=!0;break}else x==="String"&&(g=!1)}else p=Rr(v)&&v.name==="Boolean";h[0]=p,h[1]=g,(p||In(h,"default"))&&s.push(f)}}const u=[o,s];return ei(e)&&n.set(e,u),u}function S8(e){return e[0]!=="$"&&!ux(e)}const GO=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",UO=e=>Ar(e)?e.map(nc):[nc(e)],Vye=(e,t,r)=>{if(t._n)return t;const n=br((...i)=>UO(t(...i)),r);return n._c=!1,n},uq=(e,t,r)=>{const n=e._ctx;for(const i in e){if(GO(i))continue;const a=e[i];if(Rr(a))t[i]=Vye(i,a,n);else if(a!=null){const o=UO(a);t[i]=()=>o}}},cq=(e,t)=>{const r=UO(t);e.slots.default=()=>r},fq=(e,t,r)=>{for(const n in t)(r||!GO(n))&&(e[n]=t[n])},$ye=(e,t,r)=>{const n=e.slots=aq();if(e.vnode.shapeFlag&32){const i=t.__;i&&jI(n,"__",i,!0);const a=t._;a?(fq(n,t,r),r&&jI(n,"_",a,!0)):uq(t,n)}else t&&cq(e,t)},Gye=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=Un;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:fq(i,t,r):(a=!t.$stable,uq(t,i)),o=t}else t&&(cq(e,t),o={default:1});if(a)for(const s in i)!GO(s)&&o[s]==null&&delete i[s]},Fo=n1e;function Uye(e){return Wye(e)}function Wye(e,t){const r=$A();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=gc,insertStaticContent:v}=e,p=(z,J,se,he=null,_e=null,ge=null,$e=void 0,Le=null,fe=!!J.dynamicChildren)=>{if(z===J)return;z&&!Hv(z,J)&&(he=Te(z),N(z,_e,ge,!0),z=null),J.patchFlag===-2&&(fe=!1,J.dynamicChildren=null);const{type:de,ref:Ve,shapeFlag:Ge}=J;switch(de){case sb:g(z,J,se,he);break;case ia:m(z,J,se,he);break;case XD:z==null&&y(J,se,he,$e);break;case Dr:R(z,J,se,he,_e,ge,$e,Le,fe);break;default:Ge&1?w(z,J,se,he,_e,ge,$e,Le,fe):Ge&6?L(z,J,se,he,_e,ge,$e,Le,fe):(Ge&64||Ge&128)&&de.process(z,J,se,he,_e,ge,$e,Le,fe,pe)}Ve!=null&&_e?hx(Ve,z&&z.ref,ge,J||z,!J):Ve==null&&z&&z.ref!=null&&hx(z.ref,null,ge,z,!0)},g=(z,J,se,he)=>{if(z==null)n(J.el=s(J.children),se,he);else{const _e=J.el=z.el;J.children!==z.children&&u(_e,J.children)}},m=(z,J,se,he)=>{z==null?n(J.el=l(J.children||""),se,he):J.el=z.el},y=(z,J,se,he)=>{[z.el,z.anchor]=v(z.children,J,se,he,z.el,z.anchor)},x=({el:z,anchor:J},se,he)=>{let _e;for(;z&&z!==J;)_e=d(z),n(z,se,he),z=_e;n(J,se,he)},b=({el:z,anchor:J})=>{let se;for(;z&&z!==J;)se=d(z),i(z),z=se;i(J)},w=(z,J,se,he,_e,ge,$e,Le,fe)=>{J.type==="svg"?$e="svg":J.type==="math"&&($e="mathml"),z==null?S(J,se,he,_e,ge,$e,Le,fe):A(z,J,_e,ge,$e,Le,fe)},S=(z,J,se,he,_e,ge,$e,Le)=>{let fe,de;const{props:Ve,shapeFlag:Ge,transition:ke,dirs:Xe}=z;if(fe=z.el=o(z.type,ge,Ve&&Ve.is,Ve),Ge&8?c(fe,z.children):Ge&16&&E(z.children,fe,null,he,_e,WD(z,ge),$e,Le),Xe&&Zh(z,null,he,"created"),C(fe,z,z.scopeId,$e,he),Ve){for(const Kt in Ve)Kt!=="value"&&!ux(Kt)&&a(fe,Kt,null,Ve[Kt],ge,he);"value"in Ve&&a(fe,"value",null,Ve.value,ge),(de=Ve.onVnodeBeforeMount)&&Nu(de,he,z)}Xe&&Zh(z,null,he,"beforeMount");const gt=Xye(_e,ke);gt&&ke.beforeEnter(fe),n(fe,J,se),((de=Ve&&Ve.onVnodeMounted)||gt||Xe)&&Fo(()=>{de&&Nu(de,he,z),gt&&ke.enter(fe),Xe&&Zh(z,null,he,"mounted")},_e)},C=(z,J,se,he,_e)=>{if(se&&h(z,se),he)for(let ge=0;ge<he.length;ge++)h(z,he[ge]);if(_e){let ge=_e.subTree;if(J===ge||pq(ge.type)&&(ge.ssContent===J||ge.ssFallback===J)){const $e=_e.vnode;C(z,$e,$e.scopeId,$e.slotScopeIds,_e.parent)}}},E=(z,J,se,he,_e,ge,$e,Le,fe=0)=>{for(let de=fe;de<z.length;de++){const Ve=z[de]=Le?zd(z[de]):nc(z[de]);p(null,Ve,J,se,he,_e,ge,$e,Le)}},A=(z,J,se,he,_e,ge,$e)=>{const Le=J.el=z.el;let{patchFlag:fe,dynamicChildren:de,dirs:Ve}=J;fe|=z.patchFlag&16;const Ge=z.props||Un,ke=J.props||Un;let Xe;if(se&&qh(se,!1),(Xe=ke.onVnodeBeforeUpdate)&&Nu(Xe,se,J,z),Ve&&Zh(J,z,se,"beforeUpdate"),se&&qh(se,!0),(Ge.innerHTML&&ke.innerHTML==null||Ge.textContent&&ke.textContent==null)&&c(Le,""),de?M(z.dynamicChildren,de,Le,se,he,WD(J,_e),ge):$e||V(z,J,Le,null,se,he,WD(J,_e),ge,!1),fe>0){if(fe&16)D(Le,Ge,ke,se,_e);else if(fe&2&&Ge.class!==ke.class&&a(Le,"class",null,ke.class,_e),fe&4&&a(Le,"style",Ge.style,ke.style,_e),fe&8){const gt=J.dynamicProps;for(let Kt=0;Kt<gt.length;Kt++){const Nt=gt[Kt],Sr=Ge[Nt],Lt=ke[Nt];(Lt!==Sr||Nt==="value")&&a(Le,Nt,Sr,Lt,_e,se)}}fe&1&&z.children!==J.children&&c(Le,J.children)}else!$e&&de==null&&D(Le,Ge,ke,se,_e);((Xe=ke.onVnodeUpdated)||Ve)&&Fo(()=>{Xe&&Nu(Xe,se,J,z),Ve&&Zh(J,z,se,"updated")},he)},M=(z,J,se,he,_e,ge,$e)=>{for(let Le=0;Le<J.length;Le++){const fe=z[Le],de=J[Le],Ve=fe.el&&(fe.type===Dr||!Hv(fe,de)||fe.shapeFlag&198)?f(fe.el):se;p(fe,de,Ve,null,he,_e,ge,$e,!0)}},D=(z,J,se,he,_e)=>{if(J!==se){if(J!==Un)for(const ge in J)!ux(ge)&&!(ge in se)&&a(z,ge,J[ge],null,_e,he);for(const ge in se){if(ux(ge))continue;const $e=se[ge],Le=J[ge];$e!==Le&&ge!=="value"&&a(z,ge,Le,$e,_e,he)}"value"in se&&a(z,"value",J.value,se.value,_e)}},R=(z,J,se,he,_e,ge,$e,Le,fe)=>{const de=J.el=z?z.el:s(""),Ve=J.anchor=z?z.anchor:s("");let{patchFlag:Ge,dynamicChildren:ke,slotScopeIds:Xe}=J;Xe&&(Le=Le?Le.concat(Xe):Xe),z==null?(n(de,se,he),n(Ve,se,he),E(J.children||[],se,Ve,_e,ge,$e,Le,fe)):Ge>0&&Ge&64&&ke&&z.dynamicChildren?(M(z.dynamicChildren,ke,se,_e,ge,$e,Le),(J.key!=null||_e&&J===_e.subTree)&&WO(z,J,!0)):V(z,J,se,Ve,_e,ge,$e,Le,fe)},L=(z,J,se,he,_e,ge,$e,Le,fe)=>{J.slotScopeIds=Le,z==null?J.shapeFlag&512?_e.ctx.activate(J,se,he,$e,fe):k(J,se,he,_e,ge,$e,fe):O(z,J,fe)},k=(z,J,se,he,_e,ge,$e)=>{const Le=z.component=u1e(z,he,_e);if(XA(z)&&(Le.ctx.renderer=pe),c1e(Le,!1,$e),Le.asyncDep){if(_e&&_e.registerDep(Le,F,$e),!z.el){const fe=Le.subTree=mr(ia);m(null,fe,J,se),z.placeholder=fe.el}}else F(Le,z,J,se,_e,ge,$e)},O=(z,J,se)=>{const he=J.component=z.component;if(t1e(z,J,se))if(he.asyncDep&&!he.asyncResolved){H(he,J,se);return}else he.next=J,he.update();else J.el=z.el,he.vnode=J},F=(z,J,se,he,_e,ge,$e)=>{const Le=()=>{if(z.isMounted){let{next:Ge,bu:ke,u:Xe,parent:gt,vnode:Kt}=z;{const yr=dq(z);if(yr){Ge&&(Ge.el=Kt.el,H(z,Ge,$e)),yr.asyncDep.then(()=>{z.isUnmounted||Le()});return}}let Nt=Ge,Sr;qh(z,!1),Ge?(Ge.el=Kt.el,H(z,Ge,$e)):Ge=Kt,ke&&BD(ke),(Sr=Ge.props&&Ge.props.onVnodeBeforeUpdate)&&Nu(Sr,gt,Ge,Kt),qh(z,!0);const Lt=T8(z),er=z.subTree;z.subTree=Lt,p(er,Lt,f(er.el),Te(er),z,_e,ge),Ge.el=Lt.el,Nt===null&&r1e(z,Lt.el),Xe&&Fo(Xe,_e),(Sr=Ge.props&&Ge.props.onVnodeUpdated)&&Fo(()=>Nu(Sr,gt,Ge,Kt),_e)}else{let Ge;const{el:ke,props:Xe}=J,{bm:gt,m:Kt,parent:Nt,root:Sr,type:Lt}=z,er=Gg(J);qh(z,!1),gt&&BD(gt),!er&&(Ge=Xe&&Xe.onVnodeBeforeMount)&&Nu(Ge,Nt,J),qh(z,!0);{Sr.ce&&Sr.ce._def.shadowRoot!==!1&&Sr.ce._injectChildStyle(Lt);const yr=z.subTree=T8(z);p(null,yr,se,he,z,_e,ge),J.el=yr.el}if(Kt&&Fo(Kt,_e),!er&&(Ge=Xe&&Xe.onVnodeMounted)){const yr=J;Fo(()=>Nu(Ge,Nt,yr),_e)}(J.shapeFlag&256||Nt&&Gg(Nt.vnode)&&Nt.vnode.shapeFlag&256)&&z.a&&Fo(z.a,_e),z.isMounted=!0,J=se=he=null}};z.scope.on();const fe=z.effect=new xZ(Le);z.scope.off();const de=z.update=fe.run.bind(fe),Ve=z.job=fe.runIfDirty.bind(fe);Ve.i=z,Ve.id=z.uid,fe.scheduler=()=>BO(Ve),qh(z,!0),de()},H=(z,J,se)=>{J.component=z;const he=z.vnode.props;z.vnode=J,z.next=null,zye(z,J.props,he,se),Gye(z,J.children,se),Rf(),h8(z),Lf()},V=(z,J,se,he,_e,ge,$e,Le,fe=!1)=>{const de=z&&z.children,Ve=z?z.shapeFlag:0,Ge=J.children,{patchFlag:ke,shapeFlag:Xe}=J;if(ke>0){if(ke&128){K(de,Ge,se,he,_e,ge,$e,Le,fe);return}else if(ke&256){U(de,Ge,se,he,_e,ge,$e,Le,fe);return}}Xe&8?(Ve&16&&ve(de,_e,ge),Ge!==de&&c(se,Ge)):Ve&16?Xe&16?K(de,Ge,se,he,_e,ge,$e,Le,fe):ve(de,_e,ge,!0):(Ve&8&&c(se,""),Xe&16&&E(Ge,se,he,_e,ge,$e,Le,fe))},U=(z,J,se,he,_e,ge,$e,Le,fe)=>{z=z||zg,J=J||zg;const de=z.length,Ve=J.length,Ge=Math.min(de,Ve);let ke;for(ke=0;ke<Ge;ke++){const Xe=J[ke]=fe?zd(J[ke]):nc(J[ke]);p(z[ke],Xe,se,null,_e,ge,$e,Le,fe)}de>Ve?ve(z,_e,ge,!0,!1,Ge):E(J,se,he,_e,ge,$e,Le,fe,Ge)},K=(z,J,se,he,_e,ge,$e,Le,fe)=>{let de=0;const Ve=J.length;let Ge=z.length-1,ke=Ve-1;for(;de<=Ge&&de<=ke;){const Xe=z[de],gt=J[de]=fe?zd(J[de]):nc(J[de]);if(Hv(Xe,gt))p(Xe,gt,se,null,_e,ge,$e,Le,fe);else break;de++}for(;de<=Ge&&de<=ke;){const Xe=z[Ge],gt=J[ke]=fe?zd(J[ke]):nc(J[ke]);if(Hv(Xe,gt))p(Xe,gt,se,null,_e,ge,$e,Le,fe);else break;Ge--,ke--}if(de>Ge){if(de<=ke){const Xe=ke+1,gt=Xe<Ve?J[Xe].el:he;for(;de<=ke;)p(null,J[de]=fe?zd(J[de]):nc(J[de]),se,gt,_e,ge,$e,Le,fe),de++}}else if(de>ke)for(;de<=Ge;)N(z[de],_e,ge,!0),de++;else{const Xe=de,gt=de,Kt=new Map;for(de=gt;de<=ke;de++){const Ot=J[de]=fe?zd(J[de]):nc(J[de]);Ot.key!=null&&Kt.set(Ot.key,de)}let Nt,Sr=0;const Lt=ke-gt+1;let er=!1,yr=0;const ar=new Array(Lt);for(de=0;de<Lt;de++)ar[de]=0;for(de=Xe;de<=Ge;de++){const Ot=z[de];if(Sr>=Lt){N(Ot,_e,ge,!0);continue}let ue;if(Ot.key!=null)ue=Kt.get(Ot.key);else for(Nt=gt;Nt<=ke;Nt++)if(ar[Nt-gt]===0&&Hv(Ot,J[Nt])){ue=Nt;break}ue===void 0?N(Ot,_e,ge,!0):(ar[ue-gt]=de+1,ue>=yr?yr=ue:er=!0,p(Ot,J[ue],se,null,_e,ge,$e,Le,fe),Sr++)}const _t=er?jye(ar):zg;for(Nt=_t.length-1,de=Lt-1;de>=0;de--){const Ot=gt+de,ue=J[Ot],Pe=J[Ot+1],Je=Ot+1<Ve?Pe.el||Pe.placeholder:he;ar[de]===0?p(null,ue,se,Je,_e,ge,$e,Le,fe):er&&(Nt<0||de!==_t[Nt]?q(ue,se,Je,2):Nt--)}}},q=(z,J,se,he,_e=null)=>{const{el:ge,type:$e,transition:Le,children:fe,shapeFlag:de}=z;if(de&6){q(z.component.subTree,J,se,he);return}if(de&128){z.suspense.move(J,se,he);return}if(de&64){$e.move(z,J,se,pe);return}if($e===Dr){n(ge,J,se);for(let Ge=0;Ge<fe.length;Ge++)q(fe[Ge],J,se,he);n(z.anchor,J,se);return}if($e===XD){x(z,J,se);return}if(he!==2&&de&1&&Le)if(he===0)Le.beforeEnter(ge),n(ge,J,se),Fo(()=>Le.enter(ge),_e);else{const{leave:Ge,delayLeave:ke,afterLeave:Xe}=Le,gt=()=>{z.ctx.isUnmounted?i(ge):n(ge,J,se)},Kt=()=>{Ge(ge,()=>{gt(),Xe&&Xe()})};ke?ke(ge,gt,Kt):Kt()}else n(ge,J,se)},N=(z,J,se,he=!1,_e=!1)=>{const{type:ge,props:$e,ref:Le,children:fe,dynamicChildren:de,shapeFlag:Ve,patchFlag:Ge,dirs:ke,cacheIndex:Xe}=z;if(Ge===-2&&(_e=!1),Le!=null&&(Rf(),hx(Le,null,se,z,!0),Lf()),Xe!=null&&(J.renderCache[Xe]=void 0),Ve&256){J.ctx.deactivate(z);return}const gt=Ve&1&&ke,Kt=!Gg(z);let Nt;if(Kt&&(Nt=$e&&$e.onVnodeBeforeUnmount)&&Nu(Nt,J,z),Ve&6)Z(z.component,se,he);else{if(Ve&128){z.suspense.unmount(se,he);return}gt&&Zh(z,null,J,"beforeUnmount"),Ve&64?z.type.remove(z,J,se,pe,he):de&&!de.hasOnce&&(ge!==Dr||Ge>0&&Ge&64)?ve(de,J,se,!1,!0):(ge===Dr&&Ge&384||!_e&&Ve&16)&&ve(fe,J,se),he&&W(z)}(Kt&&(Nt=$e&&$e.onVnodeUnmounted)||gt)&&Fo(()=>{Nt&&Nu(Nt,J,z),gt&&Zh(z,null,J,"unmounted")},se)},W=z=>{const{type:J,el:se,anchor:he,transition:_e}=z;if(J===Dr){j(se,he);return}if(J===XD){b(z);return}const ge=()=>{i(se),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(z.shapeFlag&1&&_e&&!_e.persisted){const{leave:$e,delayLeave:Le}=_e,fe=()=>$e(se,ge);Le?Le(z.el,ge,fe):fe()}else ge()},j=(z,J)=>{let se;for(;z!==J;)se=d(z),i(z),z=se;i(J)},Z=(z,J,se)=>{const{bum:he,scope:_e,job:ge,subTree:$e,um:Le,m:fe,a:de,parent:Ve,slots:{__:Ge}}=z;C8(fe),C8(de),he&&BD(he),Ve&&Ar(Ge)&&Ge.forEach(ke=>{Ve.renderCache[ke]=void 0}),_e.stop(),ge&&(ge.flags|=8,N($e,z,J,se)),Le&&Fo(Le,J),Fo(()=>{z.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},ve=(z,J,se,he=!1,_e=!1,ge=0)=>{for(let $e=ge;$e<z.length;$e++)N(z[$e],J,se,he,_e)},Te=z=>{if(z.shapeFlag&6)return Te(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const J=d(z.anchor||z.el),se=J&&J[VZ];return se?d(se):J};let Se=!1;const te=(z,J,se)=>{z==null?J._vnode&&N(J._vnode,null,null,!0):p(J._vnode||null,z,J,null,null,null,se),J._vnode=z,Se||(Se=!0,h8(),BZ(),Se=!1)},pe={p,um:N,m:q,r:W,mt:k,mc:E,pc:V,pbc:M,n:Te,o:e};return{render:te,hydrate:void 0,createApp:Nye(te)}}function WD({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function qh({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xye(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function WO(e,t,r=!1){const n=e.children,i=t.children;if(Ar(n)&&Ar(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=zd(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&WO(o,s)),s.type===sb&&(s.el=o.el),s.type===ia&&!s.el&&(s.el=o.el)}}function jye(e){const t=e.slice(),r=[0];let n,i,a,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<u?a=s+1:o=s;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function dq(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:dq(t)}function C8(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Yye=Symbol.for("v-scx"),Kye=()=>rr(Yye);function eo(e,t){return XO(e,null,t)}function hn(e,t,r){return XO(e,t,r)}function XO(e,t,r=Un){const{immediate:n,deep:i,flush:a,once:o}=r,s=Ma({},r),l=t&&n||!t&&a!=="post";let u;if(e_){if(a==="sync"){const h=Kye();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=gc,h.resume=gc,h.pause=gc,h}}const c=vo;s.call=(h,v,p)=>xu(h,c,v,p);let f=!1;a==="post"?s.scheduler=h=>{Fo(h,c&&c.suspense)}:a!=="sync"&&(f=!0,s.scheduler=(h,v)=>{v?h():BO(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=hye(e,t,s);return e_&&(u?u.push(d):l&&d()),d}function Zye(e,t,r){const n=this.proxy,i=yi(e)?e.includes(".")?hq(n,e):()=>n[e]:e.bind(n,n);let a;Rr(t)?a=t:(a=t.handler,r=t);const o=lb(this),s=XO(i,a.bind(n),r);return o(),s}function hq(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const qye=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fl(t)}Modifiers`]||e[`${Up(t)}Modifiers`];function Jye(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Un;let i=r;const a=t.startsWith("update:"),o=a&&qye(n,t.slice(7));o&&(o.trim&&(i=r.map(c=>yi(c)?c.trim():c)),o.number&&(i=r.map(Dme)));let s,l=n[s=ND(t)]||n[s=ND(Fl(t))];!l&&a&&(l=n[s=ND(Up(t))]),l&&xu(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,xu(u,e,6,i)}}function vq(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!Rr(e)){const l=u=>{const c=vq(u,t,!0);c&&(s=!0,Ma(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(ei(e)&&n.set(e,null),null):(Ar(a)?a.forEach(l=>o[l]=null):Ma(o,a),ei(e)&&n.set(e,o),o)}function ZA(e,t){return!e||!BA(t)?!1:(t=t.slice(2).replace(/Once$/,""),In(e,t[0].toLowerCase()+t.slice(1))||In(e,Up(t))||In(e,t))}function T8(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:v,inheritAttrs:p}=e,g=HC(e);let m,y;try{if(r.shapeFlag&4){const b=i||n,w=b;m=nc(u.call(w,b,c,f,h,d,v)),y=s}else{const b=t;m=nc(b.length>1?b(f,{attrs:s,slots:o,emit:l}):b(f,null)),y=t.props?s:Qye(s)}}catch(b){px.length=0,WA(b,e,1),m=mr(ia)}let x=m;if(y&&p!==!1){const b=Object.keys(y),{shapeFlag:w}=x;b.length&&w&7&&(a&&b.some(MO)&&(y=e1e(y,a)),x=bu(x,y,!1,!0))}return r.dirs&&(x=bu(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&Sp(x,r.transition),m=x,HC(g),m}const Qye=e=>{let t;for(const r in e)(r==="class"||r==="style"||BA(r))&&((t||(t={}))[r]=e[r]);return t},e1e=(e,t)=>{const r={};for(const n in e)(!MO(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function t1e(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?A8(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!ZA(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?A8(n,o,u):!0:!!o;return!1}function A8(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!ZA(r,a))return!0}return!1}function r1e({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const pq=e=>e.__isSuspense;function n1e(e,t){t&&t.pendingBranch?Ar(e)?t.effects.push(...e):t.effects.push(e):gye(e)}const Dr=Symbol.for("v-fgt"),sb=Symbol.for("v-txt"),ia=Symbol.for("v-cmt"),XD=Symbol.for("v-stc"),px=[];let Os=null;function cn(e=!1){px.push(Os=e?null:[])}function i1e(){px.pop(),Os=px[px.length-1]||null}let Qx=1;function E8(e,t=!1){Qx+=e,e<0&&Os&&t&&(Os.hasOnce=!0)}function gq(e){return e.dynamicChildren=Qx>0?Os||zg:null,i1e(),Qx>0&&Os&&Os.push(e),e}function Pl(e,t,r,n,i,a){return gq(pi(e,t,r,n,i,a,!0))}function mi(e,t,r,n,i){return gq(mr(e,t,r,n,i,!0))}function im(e){return e?e.__v_isVNode===!0:!1}function Hv(e,t){return e.type===t.type&&e.key===t.key}const mq=({key:e})=>e??null,rC=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?yi(e)||wa(e)||Rr(e)?{i:Ja,r:e,k:t,f:!!r}:e:null);function pi(e,t=null,r=null,n=0,i=null,a=e===Dr?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mq(t),ref:t&&rC(t),scopeId:HZ,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ja};return s?(jO(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=yi(r)?8:16),Qx>0&&!o&&Os&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Os.push(l),l}const mr=a1e;function a1e(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===QZ)&&(e=ia),im(e)){const s=bu(e,t,!0);return r&&jO(s,r),Qx>0&&!a&&Os&&(s.shapeFlag&6?Os[Os.indexOf(e)]=s:Os.push(s)),s.patchFlag=-2,s}if(p1e(e)&&(e=e.__vccOpts),t){t=o1e(t);let{class:s,style:l}=t;s&&!yi(s)&&(t.class=nm(s)),ei(l)&&(NO(l)&&!Ar(l)&&(l=Ma({},l)),t.style=GA(l))}const o=yi(e)?1:pq(e)?128:$Z(e)?64:ei(e)?4:Rr(e)?2:0;return pi(e,t,r,n,i,o,a,!0)}function o1e(e){return e?NO(e)||oq(e)?Ma({},e):e:null}function bu(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?Us(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&mq(u),ref:t&&t.ref?r&&a?Ar(a)?a.concat(rC(t)):[a,rC(t)]:rC(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Dr?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bu(e.ssContent),ssFallback:e.ssFallback&&bu(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Sp(c,l.clone(c)),c}function qn(e=" ",t=0){return mr(sb,null,e,t)}function Ca(e="",t=!1){return t?(cn(),mi(ia,null,e)):mr(ia,null,e)}function nc(e){return e==null||typeof e=="boolean"?mr(ia):Ar(e)?mr(Dr,null,e.slice()):im(e)?zd(e):mr(sb,null,String(e))}function zd(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bu(e)}function jO(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ar(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),jO(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!oq(t)?t._ctx=Ja:i===3&&Ja&&(Ja.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Rr(t)?(t={default:t,_ctx:Ja},r=32):(t=String(t),n&64?(r=16,t=[qn(t)]):r=8);e.children=t,e.shapeFlag|=r}function Us(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=nm([t.class,n.class]));else if(i==="style")t.style=GA([t.style,n.style]);else if(BA(i)){const a=t[i],o=n[i];o&&a!==o&&!(Ar(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function Nu(e,t,r,n=null){xu(e,t,7,[r,n])}const s1e=nq();let l1e=0;function u1e(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||s1e,a={uid:l1e++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nme(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lq(n,i),emitsOptions:vq(n,i),emit:null,emitted:null,propsDefaults:Un,inheritAttrs:n.inheritAttrs,ctx:Un,data:Un,props:Un,attrs:Un,slots:Un,refs:Un,setupState:Un,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Jye.bind(null,a),e.ce&&e.ce(a),a}let vo=null;const Ah=()=>vo||Ja;let $C,n3;{const e=$A(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};$C=t("__VUE_INSTANCE_SETTERS__",r=>vo=r),n3=t("__VUE_SSR_SETTERS__",r=>e_=r)}const lb=e=>{const t=vo;return $C(e),e.scope.on(),()=>{e.scope.off(),$C(t)}},M8=()=>{vo&&vo.scope.off(),$C(null)};function yq(e){return e.vnode.shapeFlag&4}let e_=!1;function c1e(e,t=!1,r=!1){t&&n3(t);const{props:n,children:i}=e.vnode,a=yq(e);Bye(e,n,a,t),$ye(e,i,r||t);const o=a?f1e(e,t):void 0;return t&&n3(!1),o}function f1e(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pye);const{setup:n}=r;if(n){Rf();const i=e.setupContext=n.length>1?h1e(e):null,a=lb(e),o=ob(n,e,0,[e.props,i]),s=dZ(o);if(Lf(),a(),(s||e.sp)&&!Gg(e)&&ZZ(e),s){if(o.then(M8,M8),t)return o.then(l=>{D8(e,l)}).catch(l=>{WA(l,e,0)});e.asyncDep=o}else D8(e,o)}else xq(e)}function D8(e,t,r){Rr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ei(t)&&(e.setupState=OZ(t)),xq(e)}function xq(e,t,r){const n=e.type;e.render||(e.render=n.render||gc);{const i=lb(e);Rf();try{Rye(e)}finally{Lf(),i()}}}const d1e={get(e,t){return fo(e,"get",""),e[t]}};function h1e(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,d1e),slots:e.slots,emit:e.emit,expose:t}}function qA(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(OZ(qI(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in vx)return vx[r](e)},has(t,r){return r in t||r in vx}})):e.proxy}function v1e(e,t=!0){return Rr(e)?e.displayName||e.name:e.name||t&&e.__name}function p1e(e){return Rr(e)&&"__vccOpts"in e}const me=(e,t)=>fye(e,t,e_);function I(e,t,r){const n=arguments.length;return n===2?ei(t)&&!Ar(t)?im(t)?mr(e,null,[t]):mr(e,t):mr(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&im(r)&&(r=[r]),mr(e,t,r))}const g1e="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let i3;const P8=typeof window<"u"&&window.trustedTypes;if(P8)try{i3=P8.createPolicy("vue",{createHTML:e=>e})}catch{}const _q=i3?e=>i3.createHTML(e):e=>e,m1e="http://www.w3.org/2000/svg",y1e="http://www.w3.org/1998/Math/MathML",uf=typeof document<"u"?document:null,R8=uf&&uf.createElement("template"),x1e={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?uf.createElementNS(m1e,e):t==="mathml"?uf.createElementNS(y1e,e):r?uf.createElement(e,{is:r}):uf.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>uf.createTextNode(e),createComment:e=>uf.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>uf.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{R8.innerHTML=_q(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=R8.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},md="transition",Uy="animation",am=Symbol("_vtc"),bq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wq=Ma({},XZ,bq),_1e=e=>(e.displayName="Transition",e.props=wq,e),vs=_1e((e,{slots:t})=>I(xye,Sq(e),t)),Jh=(e,t=[])=>{Ar(e)?e.forEach(r=>r(...t)):e&&e(...t)},L8=e=>e?Ar(e)?e.some(t=>t.length>1):e.length>1:!1;function Sq(e){const t={};for(const R in e)R in bq||(t[R]=e[R]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,v=b1e(i),p=v&&v[0],g=v&&v[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:w,onBeforeAppear:S=m,onAppear:C=y,onAppearCancelled:E=x}=t,A=(R,L,k,O)=>{R._enterCancelled=O,kd(R,L?c:s),kd(R,L?u:o),k&&k()},M=(R,L)=>{R._isLeaving=!1,kd(R,f),kd(R,h),kd(R,d),L&&L()},D=R=>(L,k)=>{const O=R?C:y,F=()=>A(L,R,k);Jh(O,[L,F]),I8(()=>{kd(L,R?l:a),Ku(L,R?c:s),L8(O)||k8(L,n,p,F)})};return Ma(t,{onBeforeEnter(R){Jh(m,[R]),Ku(R,a),Ku(R,o)},onBeforeAppear(R){Jh(S,[R]),Ku(R,l),Ku(R,u)},onEnter:D(!1),onAppear:D(!0),onLeave(R,L){R._isLeaving=!0;const k=()=>M(R,L);Ku(R,f),R._enterCancelled?(Ku(R,d),a3()):(a3(),Ku(R,d)),I8(()=>{R._isLeaving&&(kd(R,f),Ku(R,h),L8(b)||k8(R,n,g,k))}),Jh(b,[R,k])},onEnterCancelled(R){A(R,!1,void 0,!0),Jh(x,[R])},onAppearCancelled(R){A(R,!0,void 0,!0),Jh(E,[R])},onLeaveCancelled(R){M(R),Jh(w,[R])}})}function b1e(e){if(e==null)return null;if(ei(e))return[jD(e.enter),jD(e.leave)];{const t=jD(e);return[t,t]}}function jD(e){return Pme(e)}function Ku(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[am]||(e[am]=new Set)).add(t)}function kd(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[am];r&&(r.delete(t),r.size||(e[am]=void 0))}function I8(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let w1e=0;function k8(e,t,r,n){const i=e._endId=++w1e,a=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:o,timeout:s,propCount:l}=Cq(e,t);if(!o)return n();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),a()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function Cq(e,t){const r=window.getComputedStyle(e),n=v=>(r[v]||"").split(", "),i=n(`${md}Delay`),a=n(`${md}Duration`),o=O8(i,a),s=n(`${Uy}Delay`),l=n(`${Uy}Duration`),u=O8(s,l);let c=null,f=0,d=0;t===md?o>0&&(c=md,f=o,d=a.length):t===Uy?u>0&&(c=Uy,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?md:Uy:null,d=c?c===md?a.length:l.length:0);const h=c===md&&/\b(transform|all)(,|$)/.test(n(`${md}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function O8(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>F8(r)+F8(e[n])))}function F8(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function a3(){return document.body.offsetHeight}function S1e(e,t,r){const n=e[am];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const GC=Symbol("_vod"),Tq=Symbol("_vsh"),om={beforeMount(e,{value:t},{transition:r}){e[GC]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Wy(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Wy(e,!0),n.enter(e)):n.leave(e,()=>{Wy(e,!1)}):Wy(e,t))},beforeUnmount(e,{value:t}){Wy(e,t)}};function Wy(e,t){e.style.display=t?e[GC]:"none",e[Tq]=!t}const C1e=Symbol(""),T1e=/(^|;)\s*display\s*:/;function A1e(e,t,r){const n=e.style,i=yi(r);let a=!1;if(r&&!i){if(t)if(yi(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&nC(n,s,"")}else for(const o in t)r[o]==null&&nC(n,o,"");for(const o in r)o==="display"&&(a=!0),nC(n,o,r[o])}else if(i){if(t!==r){const o=n[C1e];o&&(r+=";"+o),n.cssText=r,a=T1e.test(r)}}else t&&e.removeAttribute("style");GC in e&&(e[GC]=a?n.display:"",e[Tq]&&(n.display="none"))}const N8=/\s*!important$/;function nC(e,t,r){if(Ar(r))r.forEach(n=>nC(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=E1e(e,t);N8.test(r)?e.setProperty(Up(n),r.replace(N8,""),"important"):e[n]=r}}const B8=["Webkit","Moz","ms"],YD={};function E1e(e,t){const r=YD[t];if(r)return r;let n=Fl(t);if(n!=="filter"&&n in e)return YD[t]=n;n=VA(n);for(let i=0;i<B8.length;i++){const a=B8[i]+n;if(a in e)return YD[t]=a}return t}const z8="http://www.w3.org/1999/xlink";function H8(e,t,r,n,i,a=Fme(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(z8,t.slice(6,t.length)):e.setAttributeNS(z8,t,r):r==null||a&&!pZ(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Uf(r)?String(r):r)}function V8(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?_q(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=pZ(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function M1e(e,t,r,n){e.addEventListener(t,r,n)}function D1e(e,t,r,n){e.removeEventListener(t,r,n)}const $8=Symbol("_vei");function P1e(e,t,r,n,i=null){const a=e[$8]||(e[$8]={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=R1e(t);if(n){const u=a[t]=k1e(n,i);M1e(e,s,u,l)}else o&&(D1e(e,s,o,l),a[t]=void 0)}}const G8=/(?:Once|Passive|Capture)$/;function R1e(e){let t;if(G8.test(e)){t={};let n;for(;n=e.match(G8);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Up(e.slice(2)),t]}let KD=0;const L1e=Promise.resolve(),I1e=()=>KD||(L1e.then(()=>KD=0),KD=Date.now());function k1e(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;xu(O1e(n,r.value),t,5,[n])};return r.value=e,r.attached=I1e(),r}function O1e(e,t){if(Ar(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const U8=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,F1e=(e,t,r,n,i,a)=>{const o=i==="svg";t==="class"?S1e(e,n,o):t==="style"?A1e(e,r,n):BA(t)?MO(t)||P1e(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):N1e(e,t,n,o))?(V8(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&H8(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!yi(n))?V8(e,Fl(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),H8(e,t,n,o))};function N1e(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&U8(t)&&Rr(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return U8(t)&&yi(r)?!1:t in e}const Aq=new WeakMap,Eq=new WeakMap,UC=Symbol("_moveCb"),W8=Symbol("_enterCb"),B1e=e=>(delete e.props.mode,e),z1e=B1e({name:"TransitionGroup",props:Ma({},wq,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ah(),n=WZ();let i,a;return JZ(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!G1e(i[0].el,r.vnode.el,o)){i=[];return}i.forEach(H1e),i.forEach(V1e);const s=i.filter($1e);a3(),s.forEach(l=>{const u=l.el,c=u.style;Ku(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[UC]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[UC]=null,kd(u,o))};u.addEventListener("transitionend",f)}),i=[]}),()=>{const o=xn(e),s=Sq(o);let l=o.tag||Dr;if(i=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(i.push(c),Sp(c,Jx(c,s,n,r)),Aq.set(c,c.el.getBoundingClientRect()))}a=t.default?HO(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&Sp(c,Jx(c,s,n,r))}return mr(l,null,a)}}}),Mq=z1e;function H1e(e){const t=e.el;t[UC]&&t[UC](),t[W8]&&t[W8]()}function V1e(e){Eq.set(e,e.el.getBoundingClientRect())}function $1e(e){const t=Aq.get(e),r=Eq.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${i}px)`,a.transitionDuration="0s",e}}function G1e(e,t,r){const n=e.cloneNode(),i=e[am];i&&i.forEach(s=>{s.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:o}=Cq(n);return a.removeChild(n),o}const U1e=Ma({patchProp:F1e},x1e);let X8;function W1e(){return X8||(X8=Uye(U1e))}const X1e=(...e)=>{const t=W1e().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Y1e(n);if(!i)return;const a=t._component;!Rr(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,j1e(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function j1e(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Y1e(e){return yi(e)?document.querySelector(e):e}function K1e(e){let t=".",r="__",n="--",i;if(e){let v=e.blockPrefix;v&&(t=v),v=e.elementPrefix,v&&(r=v),v=e.modifierPrefix,v&&(n=v)}const a={install(v){i=v.c;const p=v.context;p.bem={},p.bem.b=null,p.bem.els=null}};function o(v){let p,g;return{before(m){p=m.bem.b,g=m.bem.els,m.bem.els=null},after(m){m.bem.b=p,m.bem.els=g},$({context:m,props:y}){return v=typeof v=="string"?v:v({context:m,props:y}),m.bem.b=v,`${y?.bPrefix||t}${m.bem.b}`}}}function s(v){let p;return{before(g){p=g.bem.els},after(g){g.bem.els=p},$({context:g,props:m}){return v=typeof v=="string"?v:v({context:g,props:m}),g.bem.els=v.split(",").map(y=>y.trim()),g.bem.els.map(y=>`${m?.bPrefix||t}${g.bem.b}${r}${y}`).join(", ")}}}function l(v){return{$({context:p,props:g}){v=typeof v=="string"?v:v({context:p,props:g});const m=v.split(",").map(b=>b.trim());function y(b){return m.map(w=>`&${g?.bPrefix||t}${p.bem.b}${b!==void 0?`${r}${b}`:""}${n}${w}`).join(", ")}const x=p.bem.els;return x!==null?y(x[0]):y()}}}function u(v){return{$({context:p,props:g}){v=typeof v=="string"?v:v({context:p,props:g});const m=p.bem.els;return`&:not(${g?.bPrefix||t}${p.bem.b}${m!==null&&m.length>0?`${r}${m[0]}`:""}${n}${v})`}}}return Object.assign(a,{cB:((...v)=>i(o(v[0]),v[1],v[2])),cE:((...v)=>i(s(v[0]),v[1],v[2])),cM:((...v)=>i(l(v[0]),v[1],v[2])),cNotM:((...v)=>i(u(v[0]),v[1],v[2]))}),a}function Z1e(e){let t=0;for(let r=0;r<e.length;++r)e[r]==="&"&&++t;return t}const Dq=/\s*,(?![^(]*\))\s*/g,q1e=/\s+/g;function J1e(e,t){const r=[];return t.split(Dq).forEach(n=>{let i=Z1e(n);if(i){if(i===1){e.forEach(o=>{r.push(n.replace("&",o))});return}}else{e.forEach(o=>{r.push((o&&o+" ")+n)});return}let a=[n];for(;i--;){const o=[];a.forEach(s=>{e.forEach(l=>{o.push(s.replace("&",l))})}),a=o}a.forEach(o=>r.push(o))}),r}function Q1e(e,t){const r=[];return t.split(Dq).forEach(n=>{e.forEach(i=>{r.push((i&&i+" ")+n)})}),r}function exe(e){let t=[""];return e.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?t=J1e(t,r):t=Q1e(t,r))}),t.join(", ").replace(q1e," ")}function j8(e){if(!e)return;const t=e.parentElement;t&&t.removeChild(e)}function JA(e,t){return(t??document.head).querySelector(`style[cssr-id="${e}"]`)}function txe(e){const t=document.createElement("style");return t.setAttribute("cssr-id",e),t}function jw(e){return e?/^\s*@(s|m)/.test(e):!1}const rxe=/[A-Z]/g;function Pq(e){return e.replace(rxe,t=>"-"+t.toLowerCase())}function nxe(e,t="  "){return typeof e=="object"&&e!==null?` {
`+Object.entries(e).map(r=>t+`  ${Pq(r[0])}: ${r[1]};`).join(`
`)+`
`+t+"}":`: ${e};`}function ixe(e,t,r){return typeof e=="function"?e({context:t.context,props:r}):e}function Y8(e,t,r,n){if(!t)return"";const i=ixe(t,r,n);if(!i)return"";if(typeof i=="string")return`${e} {
${i}
}`;const a=Object.keys(i);if(a.length===0)return r.config.keepEmptyBlock?e+` {
}`:"";const o=e?[e+" {"]:[];return a.forEach(s=>{const l=i[s];if(s==="raw"){o.push(`
`+l+`
`);return}s=Pq(s),l!=null&&o.push(`  ${s}${nxe(l)}`)}),e&&o.push("}"),o.join(`
`)}function o3(e,t,r){e&&e.forEach(n=>{if(Array.isArray(n))o3(n,t,r);else if(typeof n=="function"){const i=n(t);Array.isArray(i)?o3(i,t,r):i&&r(i)}else n&&r(n)})}function Rq(e,t,r,n,i){const a=e.$;let o="";if(!a||typeof a=="string")jw(a)?o=a:t.push(a);else if(typeof a=="function"){const u=a({context:n.context,props:i});jw(u)?o=u:t.push(u)}else if(a.before&&a.before(n.context),!a.$||typeof a.$=="string")jw(a.$)?o=a.$:t.push(a.$);else if(a.$){const u=a.$({context:n.context,props:i});jw(u)?o=u:t.push(u)}const s=exe(t),l=Y8(s,e.props,n,i);o?r.push(`${o} {`):l.length&&r.push(l),e.children&&o3(e.children,{context:n.context,props:i},u=>{if(typeof u=="string"){const c=Y8(s,{raw:u},n,i);r.push(c)}else Rq(u,t,r,n,i)}),t.pop(),o&&r.push("}"),a&&a.after&&a.after(n.context)}function axe(e,t,r){const n=[];return Rq(e,[],n,t,r),n.join(`

`)}function t_(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function oxe(e,t,r,n){const{els:i}=t;if(r===void 0)i.forEach(j8),t.els=[];else{const a=JA(r,n);a&&i.includes(a)&&(j8(a),t.els=i.filter(o=>o!==a))}}function K8(e,t){e.push(t)}function sxe(e,t,r,n,i,a,o,s,l){let u;if(r===void 0&&(u=t.render(n),r=t_(u)),l){l.adapter(r,u??t.render(n));return}s===void 0&&(s=document.head);const c=JA(r,s);if(c!==null&&!a)return c;const f=c??txe(r);if(u===void 0&&(u=t.render(n)),f.textContent=u,c!==null)return c;if(o){const d=s.querySelector(`meta[name="${o}"]`);if(d)return s.insertBefore(f,d),K8(t.els,f),f}return i?s.insertBefore(f,s.querySelector("style, link")):s.appendChild(f),K8(t.els,f),f}function lxe(e){return axe(this,this.instance,e)}function uxe(e={}){const{id:t,ssr:r,props:n,head:i=!1,force:a=!1,anchorMetaName:o,parent:s}=e;return sxe(this.instance,this,t,n,i,a,o,s,r)}function cxe(e={}){const{id:t,parent:r}=e;oxe(this.instance,this,t,r)}const Yw=function(e,t,r,n){return{instance:e,$:t,props:r,children:n,els:[],render:lxe,mount:uxe,unmount:cxe}},fxe=function(e,t,r,n){return Array.isArray(t)?Yw(e,{$:null},null,t):Array.isArray(r)?Yw(e,t,null,r):Array.isArray(n)?Yw(e,t,r,n):Yw(e,t,r,null)};function Lq(e={}){const t={c:((...r)=>fxe(t,...r)),use:(r,...n)=>r.install(t,...n),find:JA,context:{},config:e};return t}function dxe(e,t){if(e===void 0)return!1;if(t){const{context:{ids:r}}=t;return r.has(e)}return JA(e)!==null}const hxe="n",r_=`.${hxe}-`,vxe="__",pxe="--",Iq=Lq(),kq=K1e({blockPrefix:r_,elementPrefix:vxe,modifierPrefix:pxe});Iq.use(kq);const{c:we,find:Wdt}=Iq,{cB:ie,cE:Me,cM:Ce,cNotM:zn}=kq;function QA(e){return we(({props:{bPrefix:t}})=>`${t||r_}modal, ${t||r_}drawer`,[e])}function YO(e){return we(({props:{bPrefix:t}})=>`${t||r_}popover`,[e])}function Oq(e){return we(({props:{bPrefix:t}})=>`&${t||r_}modal`,e)}const gxe=(...e)=>we(">",[ie(...e)]);function tt(e,t){return e+(t==="default"?"":t.replace(/^[a-z]/,r=>r.toUpperCase()))}let WC=[];const Fq=new WeakMap;function mxe(){WC.forEach(e=>e(...Fq.get(e))),WC=[]}function n_(e,...t){Fq.set(e,t),!WC.includes(e)&&WC.push(e)===1&&requestAnimationFrame(mxe)}function Rl(e,t){let{target:r}=e;for(;r;){if(r.dataset&&r.dataset[t]!==void 0)return!0;r=r.parentElement}return!1}function sm(e){return e.composedPath()[0]||null}function hu(e){return typeof e=="string"?e.endsWith("px")?Number(e.slice(0,e.length-2)):Number(e):e}function ma(e){if(e!=null)return typeof e=="number"?`${e}px`:e.endsWith("px")?e:`${e}px`}function Ha(e,t){const r=e.trim().split(/\s+/g),n={top:r[0]};switch(r.length){case 1:n.right=r[0],n.bottom=r[0],n.left=r[0];break;case 2:n.right=r[1],n.left=r[1],n.bottom=r[0];break;case 3:n.right=r[1],n.bottom=r[2],n.left=r[1];break;case 4:n.right=r[1],n.bottom=r[2],n.left=r[3];break;default:throw new Error("[seemly/getMargin]:"+e+" is not a valid value.")}return t===void 0?n:n[t]}function yxe(e,t){const[r,n]=e.split(" ");return{row:r,col:n||r}}const Z8={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function xxe(e,t,r){t/=100,r/=100;let n=(i,a=(i+e/60)%6)=>r-r*t*Math.max(Math.min(a,4-a,1),0);return[n(5)*255,n(3)*255,n(1)*255]}function _xe(e,t,r){t/=100,r/=100;let n=t*Math.min(r,1-r),i=(a,o=(a+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0)*255,i(8)*255,i(4)*255]}const Oc="^\\s*",Fc="\\s*$",vh="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",Fs="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",Xv="([0-9A-Fa-f])",jv="([0-9A-Fa-f]{2})",Nq=new RegExp(`${Oc}hsl\\s*\\(${Fs},${vh},${vh}\\)${Fc}`),Bq=new RegExp(`${Oc}hsv\\s*\\(${Fs},${vh},${vh}\\)${Fc}`),zq=new RegExp(`${Oc}hsla\\s*\\(${Fs},${vh},${vh},${Fs}\\)${Fc}`),Hq=new RegExp(`${Oc}hsva\\s*\\(${Fs},${vh},${vh},${Fs}\\)${Fc}`),bxe=new RegExp(`${Oc}rgb\\s*\\(${Fs},${Fs},${Fs}\\)${Fc}`),wxe=new RegExp(`${Oc}rgba\\s*\\(${Fs},${Fs},${Fs},${Fs}\\)${Fc}`),Sxe=new RegExp(`${Oc}#${Xv}${Xv}${Xv}${Fc}`),Cxe=new RegExp(`${Oc}#${jv}${jv}${jv}${Fc}`),Txe=new RegExp(`${Oc}#${Xv}${Xv}${Xv}${Xv}${Fc}`),Axe=new RegExp(`${Oc}#${jv}${jv}${jv}${jv}${Fc}`);function as(e){return parseInt(e,16)}function Exe(e){try{let t;if(t=zq.exec(e))return[XC(t[1]),Ud(t[5]),Ud(t[9]),sp(t[13])];if(t=Nq.exec(e))return[XC(t[1]),Ud(t[5]),Ud(t[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${e}.`)}catch(t){throw t}}function Mxe(e){try{let t;if(t=Hq.exec(e))return[XC(t[1]),Ud(t[5]),Ud(t[9]),sp(t[13])];if(t=Bq.exec(e))return[XC(t[1]),Ud(t[5]),Ud(t[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${e}.`)}catch(t){throw t}}function If(e){try{let t;if(t=Cxe.exec(e))return[as(t[1]),as(t[2]),as(t[3]),1];if(t=bxe.exec(e))return[ho(t[1]),ho(t[5]),ho(t[9]),1];if(t=wxe.exec(e))return[ho(t[1]),ho(t[5]),ho(t[9]),sp(t[13])];if(t=Sxe.exec(e))return[as(t[1]+t[1]),as(t[2]+t[2]),as(t[3]+t[3]),1];if(t=Axe.exec(e))return[as(t[1]),as(t[2]),as(t[3]),sp(as(t[4])/255)];if(t=Txe.exec(e))return[as(t[1]+t[1]),as(t[2]+t[2]),as(t[3]+t[3]),sp(as(t[4]+t[4])/255)];if(e in Z8)return If(Z8[e]);if(Nq.test(e)||zq.test(e)){const[r,n,i,a]=Exe(e);return[..._xe(r,n,i),a]}else if(Bq.test(e)||Hq.test(e)){const[r,n,i,a]=Mxe(e);return[...xxe(r,n,i),a]}throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function Dxe(e){return e>1?1:e<0?0:e}function s3(e,t,r,n){return`rgba(${ho(e)}, ${ho(t)}, ${ho(r)}, ${Dxe(n)})`}function ZD(e,t,r,n,i){return ho((e*t*(1-n)+r*n)/i)}function tr(e,t){Array.isArray(e)||(e=If(e)),Array.isArray(t)||(t=If(t));const r=e[3],n=t[3],i=sp(r+n-r*n);return s3(ZD(e[0],r,t[0],n,i),ZD(e[1],r,t[1],n,i),ZD(e[2],r,t[2],n,i),i)}function ut(e,t){const[r,n,i,a=1]=Array.isArray(e)?e:If(e);return typeof t.alpha=="number"?s3(r,n,i,t.alpha):s3(r,n,i,a)}function Hi(e,t){const[r,n,i,a=1]=Array.isArray(e)?e:If(e),{lightness:o=1,alpha:s=1}=t;return Pxe([r*o,n*o,i*o,a*s])}function sp(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function XC(e){const t=Math.round(Number(e));return t>=360||t<0?0:t}function ho(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}function Ud(e){const t=Math.round(Number(e));return t>100?100:t<0?0:t}function Pxe(e){const[t,r,n]=e;return 3 in e?`rgba(${ho(t)}, ${ho(r)}, ${ho(n)}, ${sp(e[3])})`:`rgba(${ho(t)}, ${ho(r)}, ${ho(n)}, 1)`}function Cp(e=8){return Math.random().toString(16).slice(2,2+e)}function Vq(e,t){const r=[];for(let n=0;n<e;++n)r.push(t);return r}function iC(e){return e.composedPath()[0]}const Rxe={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function Lxe(e,t,r){if(e==="mousemoveoutside"){const n=i=>{t.contains(iC(i))||r(i)};return{mousemove:n,touchstart:n}}else if(e==="clickoutside"){let n=!1;const i=o=>{n=!t.contains(iC(o))},a=o=>{n&&(t.contains(iC(o))||r(o))};return{mousedown:i,mouseup:a,touchstart:i,touchend:a}}return console.error(`[evtd/create-trap-handler]: name \`${e}\` is invalid. This could be a bug of evtd.`),{}}function $q(e,t,r){const n=Rxe[e];let i=n.get(t);i===void 0&&n.set(t,i=new WeakMap);let a=i.get(r);return a===void 0&&i.set(r,a=Lxe(e,t,r)),a}function Ixe(e,t,r,n){if(e==="mousemoveoutside"||e==="clickoutside"){const i=$q(e,t,r);return Object.keys(i).forEach(a=>{fn(a,document,i[a],n)}),!0}return!1}function kxe(e,t,r,n){if(e==="mousemoveoutside"||e==="clickoutside"){const i=$q(e,t,r);return Object.keys(i).forEach(a=>{an(a,document,i[a],n)}),!0}return!1}function Oxe(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const e=new WeakMap,t=new WeakMap;function r(){e.set(this,!0)}function n(){e.set(this,!0),t.set(this,!0)}function i(C,E,A){const M=C[E];return C[E]=function(){return A.apply(C,arguments),M.apply(C,arguments)},C}function a(C,E){C[E]=Event.prototype[E]}const o=new WeakMap,s=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var C;return(C=o.get(this))!==null&&C!==void 0?C:null}function u(C,E){s!==void 0&&Object.defineProperty(C,"currentTarget",{configurable:!0,enumerable:!0,get:E??s.get})}const c={bubble:{},capture:{}},f={};function d(){const C=function(E){const{type:A,eventPhase:M,bubbles:D}=E,R=iC(E);if(M===2)return;const L=M===1?"capture":"bubble";let k=R;const O=[];for(;k===null&&(k=window),O.push(k),k!==window;)k=k.parentNode||null;const F=c.capture[A],H=c.bubble[A];if(i(E,"stopPropagation",r),i(E,"stopImmediatePropagation",n),u(E,l),L==="capture"){if(F===void 0)return;for(let V=O.length-1;V>=0&&!e.has(E);--V){const U=O[V],K=F.get(U);if(K!==void 0){o.set(E,U);for(const q of K){if(t.has(E))break;q(E)}}if(V===0&&!D&&H!==void 0){const q=H.get(U);if(q!==void 0)for(const N of q){if(t.has(E))break;N(E)}}}}else if(L==="bubble"){if(H===void 0)return;for(let V=0;V<O.length&&!e.has(E);++V){const U=O[V],K=H.get(U);if(K!==void 0){o.set(E,U);for(const q of K){if(t.has(E))break;q(E)}}}}a(E,"stopPropagation"),a(E,"stopImmediatePropagation"),u(E)};return C.displayName="evtdUnifiedHandler",C}function h(){const C=function(E){const{type:A,eventPhase:M}=E;if(M!==2)return;const D=f[A];D!==void 0&&D.forEach(R=>R(E))};return C.displayName="evtdUnifiedWindowEventHandler",C}const v=d(),p=h();function g(C,E){const A=c[C];return A[E]===void 0&&(A[E]=new Map,window.addEventListener(E,v,C==="capture")),A[E]}function m(C){return f[C]===void 0&&(f[C]=new Set,window.addEventListener(C,p)),f[C]}function y(C,E){let A=C.get(E);return A===void 0&&C.set(E,A=new Set),A}function x(C,E,A,M){const D=c[E][A];if(D!==void 0){const R=D.get(C);if(R!==void 0&&R.has(M))return!0}return!1}function b(C,E){const A=f[C];return!!(A!==void 0&&A.has(E))}function w(C,E,A,M){let D;if(typeof M=="object"&&M.once===!0?D=F=>{S(C,E,D,M),A(F)}:D=A,Ixe(C,E,D,M))return;const L=M===!0||typeof M=="object"&&M.capture===!0?"capture":"bubble",k=g(L,C),O=y(k,E);if(O.has(D)||O.add(D),E===window){const F=m(C);F.has(D)||F.add(D)}}function S(C,E,A,M){if(kxe(C,E,A,M))return;const R=M===!0||typeof M=="object"&&M.capture===!0,L=R?"capture":"bubble",k=g(L,C),O=y(k,E);if(E===window&&!x(E,R?"bubble":"capture",C,A)&&b(C,A)){const H=f[C];H.delete(A),H.size===0&&(window.removeEventListener(C,p),f[C]=void 0)}O.has(A)&&O.delete(A),O.size===0&&k.delete(E),k.size===0&&(window.removeEventListener(C,v,L==="capture"),c[L][C]=void 0)}return{on:w,off:S}}const{on:fn,off:an}=Oxe();function Fxe(e){const t=xe(!!e.value);if(t.value)return Tc(t);const r=hn(e,n=>{n&&(t.value=!0,r())});return Tc(t)}function Tn(e){const t=me(e),r=xe(t.value);return hn(t,n=>{r.value=n}),typeof e=="function"?r:{__v_isRef:!0,get value(){return r.value},set value(n){e.set(n)}}}function KO(){return Ah()!==null}const ZO=typeof window<"u";let Wg,gx;const Nxe=()=>{var e,t;Wg=ZO?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,gx=!1,Wg!==void 0?Wg.then(()=>{gx=!0}):gx=!0};Nxe();function Gq(e){if(gx)return;let t=!1;Vn(()=>{gx||Wg?.then(()=>{t||e()})}),Li(()=>{t=!0})}const B1=xe(null);function q8(e){if(e.clientX>0||e.clientY>0)B1.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:r,top:n,width:i,height:a}=t.getBoundingClientRect();r>0||n>0?B1.value={x:r+i/2,y:n+a/2}:B1.value={x:0,y:0}}else B1.value=null}}let Kw=0,J8=!0;function Bxe(){if(!ZO)return Tc(xe(null));Kw===0&&fn("click",document,q8,!0);const e=()=>{Kw+=1};return J8&&(J8=KO())?(Xf(e),Li(()=>{Kw-=1,Kw===0&&an("click",document,q8,!0)})):e(),Tc(B1)}const zxe=xe(void 0);let Zw=0;function Q8(){zxe.value=Date.now()}let eH=!0;function Hxe(e){if(!ZO)return Tc(xe(!1));const t=xe(!1);let r=null;function n(){r!==null&&window.clearTimeout(r)}function i(){n(),t.value=!0,r=window.setTimeout(()=>{t.value=!1},e)}Zw===0&&fn("click",window,Q8,!0);const a=()=>{Zw+=1,fn("click",window,i,!0)};return eH&&(eH=KO())?(Xf(a),Li(()=>{Zw-=1,Zw===0&&an("click",window,Q8,!0),an("click",window,i,!0),n()})):a(),Tc(t)}function bo(e,t){return hn(e,r=>{r!==void 0&&(t.value=r)}),me(()=>e.value===void 0?t.value:e.value)}function zm(){const e=xe(!1);return Vn(()=>{e.value=!0}),Tc(e)}function jC(e,t){return me(()=>{for(const r of t)if(e[r]!==void 0)return e[r];return e[t[t.length-1]]})}const Vxe=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function $xe(){return Vxe}function Gxe(e={},t){const r=ab({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:n,keyup:i}=e,a=l=>{switch(l.key){case"Control":r.ctrl=!0;break;case"Meta":r.command=!0,r.win=!0;break;case"Shift":r.shift=!0;break;case"Tab":r.tab=!0;break}n!==void 0&&Object.keys(n).forEach(u=>{if(u!==l.key)return;const c=n[u];if(typeof c=="function")c(l);else{const{stop:f=!1,prevent:d=!1}=c;f&&l.stopPropagation(),d&&l.preventDefault(),c.handler(l)}})},o=l=>{switch(l.key){case"Control":r.ctrl=!1;break;case"Meta":r.command=!1,r.win=!1;break;case"Shift":r.shift=!1;break;case"Tab":r.tab=!1;break}i!==void 0&&Object.keys(i).forEach(u=>{if(u!==l.key)return;const c=i[u];if(typeof c=="function")c(l);else{const{stop:f=!1,prevent:d=!1}=c;f&&l.stopPropagation(),d&&l.preventDefault(),c.handler(l)}})},s=()=>{(t===void 0||t.value)&&(fn("keydown",document,a),fn("keyup",document,o)),t!==void 0&&hn(t,l=>{l?(fn("keydown",document,a),fn("keyup",document,o)):(an("keydown",document,a),an("keyup",document,o))})};return KO()?(Xf(s),Li(()=>{(t===void 0||t.value)&&(an("keydown",document,a),an("keyup",document,o))})):s(),Tc(r)}const qO="n-internal-select-menu",Uq="n-internal-select-menu-body",eE="n-drawer-body",tE="n-modal-body",Uxe="n-modal-provider",Wq="n-modal",ub="n-popover-body",Xq="__disabled__";function Ac(e){const t=rr(tE,null),r=rr(eE,null),n=rr(ub,null),i=rr(Uq,null),a=xe();if(typeof document<"u"){a.value=document.fullscreenElement;const o=()=>{a.value=document.fullscreenElement};Vn(()=>{fn("fullscreenchange",document,o)}),Li(()=>{an("fullscreenchange",document,o)})}return Tn(()=>{var o;const{to:s}=e;return s!==void 0?s===!1?Xq:s===!0?a.value||"body":s:t?.value?(o=t.value.$el)!==null&&o!==void 0?o:t.value:r?.value?r.value:n?.value?n.value:i?.value?i.value:s??(a.value||"body")})}Ac.tdkey=Xq;Ac.propTo={type:[String,Object,Boolean],default:void 0};function Wxe(e,t,r){const n=xe(e.value);let i=null;return hn(e,a=>{i!==null&&window.clearTimeout(i),a===!0?r&&!r.value?n.value=!0:i=window.setTimeout(()=>{n.value=!0},t):n.value=!1}),n}const jf=typeof document<"u"&&typeof window<"u";let tH=!1;function jq(){if(jf&&window.CSS&&!tH&&(tH=!0,"registerProperty"in window?.CSS))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const JO=xe(!1);function rH(){JO.value=!0}function nH(){JO.value=!1}let Xy=0;function Xxe(){return jf&&(Xf(()=>{Xy||(window.addEventListener("compositionstart",rH),window.addEventListener("compositionend",nH)),Xy++}),Li(()=>{Xy<=1?(window.removeEventListener("compositionstart",rH),window.removeEventListener("compositionend",nH),Xy=0):Xy--})),JO}let O0=0,iH="",aH="",oH="",sH="";const lH=xe("0px");function jxe(e){if(typeof document>"u")return;const t=document.documentElement;let r,n=!1;const i=()=>{t.style.marginRight=iH,t.style.overflow=aH,t.style.overflowX=oH,t.style.overflowY=sH,lH.value="0px"};Vn(()=>{r=hn(e,a=>{if(a){if(!O0){const o=window.innerWidth-t.offsetWidth;o>0&&(iH=t.style.marginRight,t.style.marginRight=`${o}px`,lH.value=`${o}px`),aH=t.style.overflow,oH=t.style.overflowX,sH=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}n=!0,O0++}else O0--,O0||i(),n=!1},{immediate:!0})}),Li(()=>{r?.(),n&&(O0--,O0||i(),n=!1)})}function Yxe(e){const t={isDeactivated:!1};let r=!1;return VO(()=>{if(t.isDeactivated=!1,!r){r=!0;return}e()}),jA(()=>{t.isDeactivated=!0,r||(r=!0)}),t}function l3(e,t,r="default"){const n=t[r];if(n===void 0)throw new Error(`[vueuc/${e}]: slot[${r}] is empty.`);return n()}function u3(e,t=!0,r=[]){return e.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(qn(String(n)));return}if(Array.isArray(n)){u3(n,t,r);return}if(n.type===Dr){if(n.children===null)return;Array.isArray(n.children)&&u3(n.children,t,r)}else n.type!==ia&&r.push(n)}}),r}function uH(e,t,r="default"){const n=t[r];if(n===void 0)throw new Error(`[vueuc/${e}]: slot[${r}] is empty.`);const i=u3(n());if(i.length===1)return i[0];throw new Error(`[vueuc/${e}]: slot[${r}] should have exactly one child.`)}let yd=null;function Yq(){if(yd===null&&(yd=document.getElementById("v-binder-view-measurer"),yd===null)){yd=document.createElement("div"),yd.id="v-binder-view-measurer";const{style:e}=yd;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(yd)}return yd.getBoundingClientRect()}function Kxe(e,t){const r=Yq();return{top:t,left:e,height:0,width:0,right:r.width-e,bottom:r.height-t}}function qD(e){const t=e.getBoundingClientRect(),r=Yq();return{left:t.left-r.left,top:t.top-r.top,bottom:r.height+r.top-t.bottom,right:r.width+r.left-t.right,width:t.width,height:t.height}}function Zxe(e){return e.nodeType===9?null:e.parentNode}function Kq(e){if(e===null)return null;const t=Zxe(e);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:r,overflowX:n,overflowY:i}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(r+i+n))return t}return Kq(t)}const QO=lt({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;wn("VBinder",(t=Ah())===null||t===void 0?void 0:t.proxy);const r=rr("VBinder",null),n=xe(null),i=m=>{n.value=m,r&&e.syncTargetWithParent&&r.setTargetRef(m)};let a=[];const o=()=>{let m=n.value;for(;m=Kq(m),m!==null;)a.push(m);for(const y of a)fn("scroll",y,f,!0)},s=()=>{for(const m of a)an("scroll",m,f,!0);a=[]},l=new Set,u=m=>{l.size===0&&o(),l.has(m)||l.add(m)},c=m=>{l.has(m)&&l.delete(m),l.size===0&&s()},f=()=>{n_(d)},d=()=>{l.forEach(m=>m())},h=new Set,v=m=>{h.size===0&&fn("resize",window,g),h.has(m)||h.add(m)},p=m=>{h.has(m)&&h.delete(m),h.size===0&&an("resize",window,g)},g=()=>{h.forEach(m=>m())};return Li(()=>{an("resize",window,g),s()}),{targetRef:n,setTargetRef:i,addScrollListener:u,removeScrollListener:c,addResizeListener:v,removeResizeListener:p}},render(){return l3("binder",this.$slots)}}),e5=lt({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=rr("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?_u(uH("follower",this.$slots),[[t]]):uH("follower",this.$slots)}}),F0="@@mmoContext",qxe={mounted(e,{value:t}){e[F0]={handler:void 0},typeof t=="function"&&(e[F0].handler=t,fn("mousemoveoutside",e,t))},updated(e,{value:t}){const r=e[F0];typeof t=="function"?r.handler?r.handler!==t&&(an("mousemoveoutside",e,r.handler),r.handler=t,fn("mousemoveoutside",e,t)):(e[F0].handler=t,fn("mousemoveoutside",e,t)):r.handler&&(an("mousemoveoutside",e,r.handler),r.handler=void 0)},unmounted(e){const{handler:t}=e[F0];t&&an("mousemoveoutside",e,t),e[F0].handler=void 0}},N0="@@coContext",i_={mounted(e,{value:t,modifiers:r}){e[N0]={handler:void 0},typeof t=="function"&&(e[N0].handler=t,fn("clickoutside",e,t,{capture:r.capture}))},updated(e,{value:t,modifiers:r}){const n=e[N0];typeof t=="function"?n.handler?n.handler!==t&&(an("clickoutside",e,n.handler,{capture:r.capture}),n.handler=t,fn("clickoutside",e,t,{capture:r.capture})):(e[N0].handler=t,fn("clickoutside",e,t,{capture:r.capture})):n.handler&&(an("clickoutside",e,n.handler,{capture:r.capture}),n.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:r}=e[N0];r&&an("clickoutside",e,r,{capture:t.capture}),e[N0].handler=void 0}};function Jxe(e,t){console.error(`[vdirs/${e}]: ${t}`)}class Qxe{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,r){const{elementZIndex:n}=this;if(r!==void 0){t.style.zIndex=`${r}`,n.delete(t);return}const{nextZIndex:i}=this;n.has(t)&&n.get(t)+1===this.nextZIndex||(t.style.zIndex=`${i}`,n.set(t,i),this.nextZIndex=i+1,this.squashState())}unregister(t,r){const{elementZIndex:n}=this;n.has(t)?n.delete(t):r===void 0&&Jxe("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((r,n)=>r[1]-n[1]),this.nextZIndex=2e3,t.forEach(r=>{const n=r[0],i=this.nextZIndex++;`${i}`!==n.style.zIndex&&(n.style.zIndex=`${i}`)})}}const JD=new Qxe,B0="@@ziContext",rE={mounted(e,t){const{value:r={}}=t,{zIndex:n,enabled:i}=r;e[B0]={enabled:!!i,initialized:!1},i&&(JD.ensureZIndex(e,n),e[B0].initialized=!0)},updated(e,t){const{value:r={}}=t,{zIndex:n,enabled:i}=r,a=e[B0].enabled;i&&!a&&(JD.ensureZIndex(e,n),e[B0].initialized=!0),e[B0].enabled=!!i},unmounted(e,t){if(!e[B0].initialized)return;const{value:r={}}=t,{zIndex:n}=r;JD.unregister(e,n)}},e_e="@css-render/vue3-ssr";function t_e(e,t){return`<style cssr-id="${e}">
${t}
</style>`}function r_e(e,t,r){const{styles:n,ids:i}=r;i.has(e)||n!==null&&(i.add(e),n.push(t_e(e,t)))}const n_e=typeof document<"u";function Eh(){if(n_e)return;const e=rr(e_e,null);if(e!==null)return{adapter:(t,r)=>r_e(t,r,e),context:e}}function cH(e,t){console.error(`[vueuc/${e}]: ${t}`)}const{c:uc}=Lq(),nE="vueuc-style";function fH(e){return e&-e}class Zq{constructor(t,r){this.l=t,this.min=r;const n=new Array(t+1);for(let i=0;i<t+1;++i)n[i]=0;this.ft=n}add(t,r){if(r===0)return;const{l:n,ft:i}=this;for(t+=1;t<=n;)i[t]+=r,t+=fH(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:r,min:n,l:i}=this;if(t>i)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let a=t*n;for(;t>0;)a+=r[t],t-=fH(t);return a}getBound(t){let r=0,n=this.l;for(;n>r;){const i=Math.floor((r+n)/2),a=this.sum(i);if(a>t){n=i;continue}else if(a<t){if(r===i)return this.sum(r+1)<=t?r+1:i;r=i}else return i}return r}}function dH(e){return typeof e=="string"?document.querySelector(e):e()}const t5=lt({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:Fxe(rt(e,"show")),mergedTo:me(()=>{const{to:t}=e;return t??"body"})}},render(){return this.showTeleport?this.disabled?l3("lazy-teleport",this.$slots):I(zO,{disabled:this.disabled,to:this.mergedTo},l3("lazy-teleport",this.$slots)):null}}),qw={top:"bottom",bottom:"top",left:"right",right:"left"},hH={start:"end",center:"center",end:"start"},QD={top:"height",bottom:"height",left:"width",right:"width"},i_e={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},a_e={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},o_e={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},vH={top:!0,bottom:!1,left:!0,right:!1},pH={top:"end",bottom:"start",left:"end",right:"start"};function s_e(e,t,r,n,i,a){if(!i||a)return{placement:e,top:0,left:0};const[o,s]=e.split("-");let l=s??"center",u={top:0,left:0};const c=(h,v,p)=>{let g=0,m=0;const y=r[h]-t[v]-t[h];return y>0&&n&&(p?m=vH[v]?y:-y:g=vH[v]?y:-y),{left:g,top:m}},f=o==="left"||o==="right";if(l!=="center"){const h=o_e[e],v=qw[h],p=QD[h];if(r[p]>t[p]){if(t[h]+t[p]<r[p]){const g=(r[p]-t[p])/2;t[h]<g||t[v]<g?t[h]<t[v]?(l=hH[s],u=c(p,v,f)):u=c(p,h,f):l="center"}}else r[p]<t[p]&&t[v]<0&&t[h]>t[v]&&(l=hH[s])}else{const h=o==="bottom"||o==="top"?"left":"top",v=qw[h],p=QD[h],g=(r[p]-t[p])/2;(t[h]<g||t[v]<g)&&(t[h]>t[v]?(l=pH[h],u=c(p,h,f)):(l=pH[v],u=c(p,v,f)))}let d=o;return t[o]<r[QD[o]]&&t[o]<t[qw[o]]&&(d=qw[o]),{placement:l!=="center"?`${d}-${l}`:d,left:u.left,top:u.top}}function l_e(e,t){return t?a_e[e]:i_e[e]}function u_e(e,t,r,n,i,a){if(a)switch(e){case"bottom-start":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left+r.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(r.top-t.top+r.height/2)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(r.top-t.top+r.height/2)}px`,left:`${Math.round(r.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left+r.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+i)}px`,transform:""};case"bottom-end":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+r.width+i)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+i)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+r.width+i)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+r.width+i)}px`,transform:""};case"right-end":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+r.width+i)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+i)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+i)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+r.width/2+i)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(r.top-t.top+r.height/2+n)}px`,left:`${Math.round(r.left-t.left+r.width+i)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(r.top-t.top+r.height/2+n)}px`,left:`${Math.round(r.left-t.left+i)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+r.width/2+i)}px`,transform:"translateX(-50%)"}}}const c_e=uc([uc(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),uc(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[uc("> *",{pointerEvents:"all"})])]),r5=lt({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=rr("VBinder"),r=Tn(()=>e.enabled!==void 0?e.enabled:e.show),n=xe(null),i=xe(null),a=()=>{const{syncTrigger:d}=e;d.includes("scroll")&&t.addScrollListener(l),d.includes("resize")&&t.addResizeListener(l)},o=()=>{t.removeScrollListener(l),t.removeResizeListener(l)};Vn(()=>{r.value&&(l(),a())});const s=Eh();c_e.mount({id:"vueuc/binder",head:!0,anchorMetaName:nE,ssr:s}),Li(()=>{o()}),Gq(()=>{r.value&&l()});const l=()=>{if(!r.value)return;const d=n.value;if(d===null)return;const h=t.targetRef,{x:v,y:p,overlap:g}=e,m=v!==void 0&&p!==void 0?Kxe(v,p):qD(h);d.style.setProperty("--v-target-width",`${Math.round(m.width)}px`),d.style.setProperty("--v-target-height",`${Math.round(m.height)}px`);const{width:y,minWidth:x,placement:b,internalShift:w,flip:S}=e;d.setAttribute("v-placement",b),g?d.setAttribute("v-overlap",""):d.removeAttribute("v-overlap");const{style:C}=d;y==="target"?C.width=`${m.width}px`:y!==void 0?C.width=y:C.width="",x==="target"?C.minWidth=`${m.width}px`:x!==void 0?C.minWidth=x:C.minWidth="";const E=qD(d),A=qD(i.value),{left:M,top:D,placement:R}=s_e(b,m,E,w,S,g),L=l_e(R,g),{left:k,top:O,transform:F}=u_e(R,A,m,D,M,g);d.setAttribute("v-placement",R),d.style.setProperty("--v-offset-left",`${Math.round(M)}px`),d.style.setProperty("--v-offset-top",`${Math.round(D)}px`),d.style.transform=`translateX(${k}) translateY(${O}) ${F}`,d.style.setProperty("--v-transform-origin",L),d.style.transformOrigin=L};hn(r,d=>{d?(a(),u()):o()});const u=()=>{Sa().then(l).catch(d=>console.error(d))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(d=>{hn(rt(e,d),l)}),["teleportDisabled"].forEach(d=>{hn(rt(e,d),u)}),hn(rt(e,"syncTrigger"),d=>{d.includes("resize")?t.addResizeListener(l):t.removeResizeListener(l),d.includes("scroll")?t.addScrollListener(l):t.removeScrollListener(l)});const c=zm(),f=Tn(()=>{const{to:d}=e;if(d!==void 0)return d;c.value});return{VBinder:t,mergedEnabled:r,offsetContainerRef:i,followerRef:n,mergedTo:f,syncPosition:l}},render(){return I(t5,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const r=I("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[I("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))]);return this.zindexable?_u(r,[[rE,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):r}})}});var lp=[],f_e=function(){return lp.some(function(e){return e.activeTargets.length>0})},d_e=function(){return lp.some(function(e){return e.skippedTargets.length>0})},gH="ResizeObserver loop completed with undelivered notifications.",h_e=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:gH}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=gH),window.dispatchEvent(e)},a_;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(a_||(a_={}));var up=function(e){return Object.freeze(e)},v_e=(function(){function e(t,r){this.inlineSize=t,this.blockSize=r,up(this)}return e})(),qq=(function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,up(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,a=t.right,o=t.bottom,s=t.left,l=t.width,u=t.height;return{x:r,y:n,top:i,right:a,bottom:o,left:s,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e})(),n5=function(e){return e instanceof SVGElement&&"getBBox"in e},Jq=function(e){if(n5(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},mH=function(e){var t;if(e instanceof Element)return!0;var r=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},p_e=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},mx=typeof window<"u"?window:{},Jw=new WeakMap,yH=/auto|scroll/,g_e=/^tb|vertical/,m_e=/msie|trident/i.test(mx.navigator&&mx.navigator.userAgent),Bu=function(e){return parseFloat(e||"0")},Xg=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new v_e((r?t:e)||0,(r?e:t)||0)},xH=up({devicePixelContentBoxSize:Xg(),borderBoxSize:Xg(),contentBoxSize:Xg(),contentRect:new qq(0,0,0,0)}),Qq=function(e,t){if(t===void 0&&(t=!1),Jw.has(e)&&!t)return Jw.get(e);if(Jq(e))return Jw.set(e,xH),xH;var r=getComputedStyle(e),n=n5(e)&&e.ownerSVGElement&&e.getBBox(),i=!m_e&&r.boxSizing==="border-box",a=g_e.test(r.writingMode||""),o=!n&&yH.test(r.overflowY||""),s=!n&&yH.test(r.overflowX||""),l=n?0:Bu(r.paddingTop),u=n?0:Bu(r.paddingRight),c=n?0:Bu(r.paddingBottom),f=n?0:Bu(r.paddingLeft),d=n?0:Bu(r.borderTopWidth),h=n?0:Bu(r.borderRightWidth),v=n?0:Bu(r.borderBottomWidth),p=n?0:Bu(r.borderLeftWidth),g=f+u,m=l+c,y=p+h,x=d+v,b=s?e.offsetHeight-x-e.clientHeight:0,w=o?e.offsetWidth-y-e.clientWidth:0,S=i?g+y:0,C=i?m+x:0,E=n?n.width:Bu(r.width)-S-w,A=n?n.height:Bu(r.height)-C-b,M=E+g+w+y,D=A+m+b+x,R=up({devicePixelContentBoxSize:Xg(Math.round(E*devicePixelRatio),Math.round(A*devicePixelRatio),a),borderBoxSize:Xg(M,D,a),contentBoxSize:Xg(E,A,a),contentRect:new qq(f,l,E,A)});return Jw.set(e,R),R},eJ=function(e,t,r){var n=Qq(e,r),i=n.borderBoxSize,a=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(t){case a_.DEVICE_PIXEL_CONTENT_BOX:return o;case a_.BORDER_BOX:return i;default:return a}},y_e=(function(){function e(t){var r=Qq(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=up([r.borderBoxSize]),this.contentBoxSize=up([r.contentBoxSize]),this.devicePixelContentBoxSize=up([r.devicePixelContentBoxSize])}return e})(),tJ=function(e){if(Jq(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},x_e=function(){var e=1/0,t=[];lp.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(u){var c=new y_e(u.target),f=tJ(u.target);s.push(c),u.lastReportedSize=eJ(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e},_H=function(e){lp.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(tJ(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})},__e=function(){var e=0;for(_H(e);f_e();)e=x_e(),_H(e);return d_e()&&h_e(),e>0},eP,rJ=[],b_e=function(){return rJ.splice(0).forEach(function(e){return e()})},w_e=function(e){if(!eP){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return b_e()}).observe(r,n),eP=function(){r.textContent="".concat(t?t--:t++)}}rJ.push(e),eP()},S_e=function(e){w_e(function(){requestAnimationFrame(e)})},aC=0,C_e=function(){return!!aC},T_e=250,A_e={attributes:!0,characterData:!0,childList:!0,subtree:!0},bH=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],wH=function(e){return e===void 0&&(e=0),Date.now()+e},tP=!1,E_e=(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=T_e),!tP){tP=!0;var n=wH(t);S_e(function(){var i=!1;try{i=__e()}finally{if(tP=!1,t=n-wH(),!C_e())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,A_e)};document.body?r():mx.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),bH.forEach(function(r){return mx.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),bH.forEach(function(r){return mx.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e})(),c3=new E_e,SH=function(e){!aC&&e>0&&c3.start(),aC+=e,!aC&&c3.stop()},M_e=function(e){return!n5(e)&&!p_e(e)&&getComputedStyle(e).display==="inline"},D_e=(function(){function e(t,r){this.target=t,this.observedBox=r||a_.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=eJ(this.target,this.observedBox,!0);return M_e(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e})(),P_e=(function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e})(),Qw=new WeakMap,CH=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},eS=(function(){function e(){}return e.connect=function(t,r){var n=new P_e(t,r);Qw.set(t,n)},e.observe=function(t,r,n){var i=Qw.get(t),a=i.observationTargets.length===0;CH(i.observationTargets,r)<0&&(a&&lp.push(i),i.observationTargets.push(new D_e(r,n&&n.box)),SH(1),c3.schedule())},e.unobserve=function(t,r){var n=Qw.get(t),i=CH(n.observationTargets,r),a=n.observationTargets.length===1;i>=0&&(a&&lp.splice(lp.indexOf(n),1),n.observationTargets.splice(i,1),SH(-1))},e.disconnect=function(t){var r=this,n=Qw.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e})(),R_e=(function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");eS.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mH(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");eS.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mH(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");eS.unobserve(this,t)},e.prototype.disconnect=function(){eS.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e})();class L_e{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||R_e)(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const r of t){const n=this.elHandlersMap.get(r.target);n!==void 0&&n(r)}}registerHandler(t,r){this.elHandlersMap.set(t,r),this.observer.observe(t)}unregisterHandler(t){this.elHandlersMap.has(t)&&(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}const yx=new L_e,bf=lt({name:"ResizeObserver",props:{onResize:Function},setup(e){let t=!1;const r=Ah().proxy;function n(i){const{onResize:a}=e;a!==void 0&&a(i)}Vn(()=>{const i=r.$el;if(i===void 0){cH("resize-observer","$el does not exist.");return}if(i.nextElementSibling!==i.nextSibling&&i.nodeType===3&&i.nodeValue!==""){cH("resize-observer","$el can not be observed (it may be a text node).");return}i.nextElementSibling!==null&&(yx.registerHandler(i.nextElementSibling,n),t=!0)}),Li(()=>{t&&yx.unregisterHandler(r.$el.nextElementSibling)})},render(){return $O(this.$slots,"default")}});let tS;function I_e(){return typeof document>"u"?!1:(tS===void 0&&("matchMedia"in window?tS=window.matchMedia("(pointer:coarse)").matches:tS=!1),tS)}let rP;function TH(){return typeof document>"u"?1:(rP===void 0&&(rP="chrome"in window?window.devicePixelRatio:1),rP)}const nJ="VVirtualListXScroll";function k_e({columnsRef:e,renderColRef:t,renderItemWithColsRef:r}){const n=xe(0),i=xe(0),a=me(()=>{const u=e.value;if(u.length===0)return null;const c=new Zq(u.length,0);return u.forEach((f,d)=>{c.add(d,f.width)}),c}),o=Tn(()=>{const u=a.value;return u!==null?Math.max(u.getBound(i.value)-1,0):0}),s=u=>{const c=a.value;return c!==null?c.sum(u):0},l=Tn(()=>{const u=a.value;return u!==null?Math.min(u.getBound(i.value+n.value)+1,e.value.length-1):0});return wn(nJ,{startIndexRef:o,endIndexRef:l,columnsRef:e,renderColRef:t,renderItemWithColsRef:r,getLeft:s}),{listWidthRef:n,scrollLeftRef:i}}const AH=lt({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:t,columnsRef:r,getLeft:n,renderColRef:i,renderItemWithColsRef:a}=rr(nJ);return{startIndex:e,endIndex:t,columns:r,renderCol:i,renderItemWithCols:a,getLeft:n}},render(){const{startIndex:e,endIndex:t,columns:r,renderCol:n,renderItemWithCols:i,getLeft:a,item:o}=this;if(i!=null)return i({itemIndex:this.index,startColIndex:e,endColIndex:t,allColumns:r,item:o,getLeft:a});if(n!=null){const s=[];for(let l=e;l<=t;++l){const u=r[l];s.push(n({column:u,left:a(l),item:o}))}return s}return null}}),O_e=uc(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[uc("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[uc("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),i5=lt({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=Eh();O_e.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:nE,ssr:t}),Vn(()=>{const{defaultScrollIndex:L,defaultScrollKey:k}=e;L!=null?g({index:L}):k!=null&&g({key:k})});let r=!1,n=!1;VO(()=>{if(r=!1,!n){n=!0;return}g({top:h.value,left:o.value})}),jA(()=>{r=!0,n||(n=!0)});const i=Tn(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let L=0;return e.columns.forEach(k=>{L+=k.width}),L}),a=me(()=>{const L=new Map,{keyField:k}=e;return e.items.forEach((O,F)=>{L.set(O[k],F)}),L}),{scrollLeftRef:o,listWidthRef:s}=k_e({columnsRef:rt(e,"columns"),renderColRef:rt(e,"renderCol"),renderItemWithColsRef:rt(e,"renderItemWithCols")}),l=xe(null),u=xe(void 0),c=new Map,f=me(()=>{const{items:L,itemSize:k,keyField:O}=e,F=new Zq(L.length,k);return L.forEach((H,V)=>{const U=H[O],K=c.get(U);K!==void 0&&F.add(V,K)}),F}),d=xe(0),h=xe(0),v=Tn(()=>Math.max(f.value.getBound(h.value-hu(e.paddingTop))-1,0)),p=me(()=>{const{value:L}=u;if(L===void 0)return[];const{items:k,itemSize:O}=e,F=v.value,H=Math.min(F+Math.ceil(L/O+1),k.length-1),V=[];for(let U=F;U<=H;++U)V.push(k[U]);return V}),g=(L,k)=>{if(typeof L=="number"){b(L,k,"auto");return}const{left:O,top:F,index:H,key:V,position:U,behavior:K,debounce:q=!0}=L;if(O!==void 0||F!==void 0)b(O,F,K);else if(H!==void 0)x(H,K,q);else if(V!==void 0){const N=a.value.get(V);N!==void 0&&x(N,K,q)}else U==="bottom"?b(0,Number.MAX_SAFE_INTEGER,K):U==="top"&&b(0,0,K)};let m,y=null;function x(L,k,O){const{value:F}=f,H=F.sum(L)+hu(e.paddingTop);if(!O)l.value.scrollTo({left:0,top:H,behavior:k});else{m=L,y!==null&&window.clearTimeout(y),y=window.setTimeout(()=>{m=void 0,y=null},16);const{scrollTop:V,offsetHeight:U}=l.value;if(H>V){const K=F.get(L);H+K<=V+U||l.value.scrollTo({left:0,top:H+K-U,behavior:k})}else l.value.scrollTo({left:0,top:H,behavior:k})}}function b(L,k,O){l.value.scrollTo({left:L,top:k,behavior:O})}function w(L,k){var O,F,H;if(r||e.ignoreItemResize||R(k.target))return;const{value:V}=f,U=a.value.get(L),K=V.get(U),q=(H=(F=(O=k.borderBoxSize)===null||O===void 0?void 0:O[0])===null||F===void 0?void 0:F.blockSize)!==null&&H!==void 0?H:k.contentRect.height;if(q===K)return;q-e.itemSize===0?c.delete(L):c.set(L,q-e.itemSize);const W=q-K;if(W===0)return;V.add(U,W);const j=l.value;if(j!=null){if(m===void 0){const Z=V.sum(U);j.scrollTop>Z&&j.scrollBy(0,W)}else if(U<m)j.scrollBy(0,W);else if(U===m){const Z=V.sum(U);q+Z>j.scrollTop+j.offsetHeight&&j.scrollBy(0,W)}D()}d.value++}const S=!I_e();let C=!1;function E(L){var k;(k=e.onScroll)===null||k===void 0||k.call(e,L),(!S||!C)&&D()}function A(L){var k;if((k=e.onWheel)===null||k===void 0||k.call(e,L),S){const O=l.value;if(O!=null){if(L.deltaX===0&&(O.scrollTop===0&&L.deltaY<=0||O.scrollTop+O.offsetHeight>=O.scrollHeight&&L.deltaY>=0))return;L.preventDefault(),O.scrollTop+=L.deltaY/TH(),O.scrollLeft+=L.deltaX/TH(),D(),C=!0,n_(()=>{C=!1})}}}function M(L){if(r||R(L.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(L.contentRect.height===u.value)return}else if(L.contentRect.height===u.value&&L.contentRect.width===s.value)return;u.value=L.contentRect.height,s.value=L.contentRect.width;const{onResize:k}=e;k!==void 0&&k(L)}function D(){const{value:L}=l;L!=null&&(h.value=L.scrollTop,o.value=L.scrollLeft)}function R(L){let k=L;for(;k!==null;){if(k.style.display==="none")return!0;k=k.parentElement}return!1}return{listHeight:u,listStyle:{overflow:"auto"},keyToIndex:a,itemsStyle:me(()=>{const{itemResizable:L}=e,k=ma(f.value.sum());return d.value,[e.itemsStyle,{boxSizing:"content-box",width:ma(i.value),height:L?"":k,minHeight:L?k:"",paddingTop:ma(e.paddingTop),paddingBottom:ma(e.paddingBottom)}]}),visibleItemsStyle:me(()=>(d.value,{transform:`translateY(${ma(f.value.sum(v.value))})`})),viewportItems:p,listElRef:l,itemsElRef:xe(null),scrollTo:g,handleListResize:M,handleListScroll:E,handleListWheel:A,handleItemResize:w}},render(){const{itemResizable:e,keyField:t,keyToIndex:r,visibleItemsTag:n}=this;return I(bf,{onResize:this.handleListResize},{default:()=>{var i,a;return I("div",Us(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?I("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[I(n,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:o,renderItemWithCols:s}=this;return this.viewportItems.map(l=>{const u=l[t],c=r.get(u),f=o!=null?I(AH,{index:c,item:l}):void 0,d=s!=null?I(AH,{index:c,item:l}):void 0,h=this.$slots.default({item:l,renderedCols:f,renderedItemWithCols:d,index:c})[0];return e?I(bf,{key:u,onResize:v=>this.handleItemResize(u,v)},{default:()=>h}):(h.key=u,h)})}})]):(a=(i=this.$slots).empty)===null||a===void 0?void 0:a.call(i)])}})}}),F_e=uc(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[uc("&::-webkit-scrollbar",{width:0,height:0})]),N_e=lt({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=xe(null);function t(i){!(i.currentTarget.offsetWidth<i.currentTarget.scrollWidth)||i.deltaY===0||(i.currentTarget.scrollLeft+=i.deltaY+i.deltaX,i.preventDefault())}const r=Eh();return F_e.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:nE,ssr:r}),Object.assign({selfRef:e,handleWheel:t},{scrollTo(...i){var a;(a=e.value)===null||a===void 0||a.scrollTo(...i)}})},render(){return I("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),Qc="v-hidden",B_e=uc("[v-hidden]",{display:"none!important"}),EH=lt({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const r=xe(null),n=xe(null);function i(o){const{value:s}=r,{getCounter:l,getTail:u}=e;let c;if(l!==void 0?c=l():c=n.value,!s||!c)return;c.hasAttribute(Qc)&&c.removeAttribute(Qc);const{children:f}=s;if(o.showAllItemsBeforeCalculate)for(const x of f)x.hasAttribute(Qc)&&x.removeAttribute(Qc);const d=s.offsetWidth,h=[],v=t.tail?u?.():null;let p=v?v.offsetWidth:0,g=!1;const m=s.children.length-(t.tail?1:0);for(let x=0;x<m-1;++x){if(x<0)continue;const b=f[x];if(g){b.hasAttribute(Qc)||b.setAttribute(Qc,"");continue}else b.hasAttribute(Qc)&&b.removeAttribute(Qc);const w=b.offsetWidth;if(p+=w,h[x]=w,p>d){const{updateCounter:S}=e;for(let C=x;C>=0;--C){const E=m-1-C;S!==void 0?S(E):c.textContent=`${E}`;const A=c.offsetWidth;if(p-=h[C],p+A<=d||C===0){g=!0,x=C-1,v&&(x===-1?(v.style.maxWidth=`${d-A}px`,v.style.boxSizing="border-box"):v.style.maxWidth="");const{onUpdateCount:M}=e;M&&M(E);break}}}}const{onUpdateOverflow:y}=e;g?y!==void 0&&y(!0):(y!==void 0&&y(!1),c.setAttribute(Qc,""))}const a=Eh();return B_e.mount({id:"vueuc/overflow",head:!0,anchorMetaName:nE,ssr:a}),Vn(()=>i({showAllItemsBeforeCalculate:!1})),{selfRef:r,counterRef:n,sync:i}},render(){const{$slots:e}=this;return Sa(()=>this.sync({showAllItemsBeforeCalculate:!1})),I("div",{class:"v-overflow",ref:"selfRef"},[$O(e,"default"),e.counter?e.counter():I("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function iJ(e){return e instanceof HTMLElement}function aJ(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes[t];if(iJ(r)&&(sJ(r)||aJ(r)))return!0}return!1}function oJ(e){for(let t=e.childNodes.length-1;t>=0;t--){const r=e.childNodes[t];if(iJ(r)&&(sJ(r)||oJ(r)))return!0}return!1}function sJ(e){if(!z_e(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function z_e(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let jy=[];const lJ=lt({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=Cp(),r=xe(null),n=xe(null);let i=!1,a=!1;const o=typeof document>"u"?null:document.activeElement;function s(){return jy[jy.length-1]===t}function l(g){var m;g.code==="Escape"&&s()&&((m=e.onEsc)===null||m===void 0||m.call(e,g))}Vn(()=>{hn(()=>e.active,g=>{g?(f(),fn("keydown",document,l)):(an("keydown",document,l),i&&d())},{immediate:!0})}),Li(()=>{an("keydown",document,l),i&&d()});function u(g){if(!a&&s()){const m=c();if(m===null||m.contains(sm(g)))return;h("first")}}function c(){const g=r.value;if(g===null)return null;let m=g;for(;m=m.nextSibling,!(m===null||m instanceof Element&&m.tagName==="DIV"););return m}function f(){var g;if(!e.disabled){if(jy.push(t),e.autoFocus){const{initialFocusTo:m}=e;m===void 0?h("first"):(g=dH(m))===null||g===void 0||g.focus({preventScroll:!0})}i=!0,document.addEventListener("focus",u,!0)}}function d(){var g;if(e.disabled||(document.removeEventListener("focus",u,!0),jy=jy.filter(y=>y!==t),s()))return;const{finalFocusTo:m}=e;m!==void 0?(g=dH(m))===null||g===void 0||g.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&o instanceof HTMLElement&&(a=!0,o.focus({preventScroll:!0}),a=!1)}function h(g){if(s()&&e.active){const m=r.value,y=n.value;if(m!==null&&y!==null){const x=c();if(x==null||x===y){a=!0,m.focus({preventScroll:!0}),a=!1;return}a=!0;const b=g==="first"?aJ(x):oJ(x);a=!1,b||(a=!0,m.focus({preventScroll:!0}),a=!1)}}}function v(g){if(a)return;const m=c();m!==null&&(g.relatedTarget!==null&&m.contains(g.relatedTarget)?h("last"):h("first"))}function p(g){a||(g.relatedTarget!==null&&g.relatedTarget===r.value?h("last"):h("first"))}return{focusableStartRef:r,focusableEndRef:n,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:v,handleEndFocus:p}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:r}=this;return I(Dr,null,[I("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:r,onFocus:this.handleStartFocus}),e(),I("div",{"aria-hidden":"true",style:r,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}});function uJ(e,t){t&&(Vn(()=>{const{value:r}=e;r&&yx.registerHandler(r,t)}),hn(e,(r,n)=>{n&&yx.unregisterHandler(n)},{deep:!1}),Li(()=>{const{value:r}=e;r&&yx.unregisterHandler(r)}))}function YC(e){return e.replace(/#|\(|\)|,|\s|\./g,"_")}const H_e=/^(\d|\.)+$/,MH=/(\d|\.)+/;function gi(e,{c:t=1,offset:r=0,attachPx:n=!0}={}){if(typeof e=="number"){const i=(e+r)*t;return i===0?"0":`${i}px`}else if(typeof e=="string")if(H_e.test(e)){const i=(Number(e)+r)*t;return n?i===0?"0":`${i}px`:`${i}`}else{const i=MH.exec(e);return i?e.replace(MH,String((Number(i[0])+r)*t)):e}return e}function DH(e){const{left:t,right:r,top:n,bottom:i}=Ha(e);return`${n} ${t} ${i} ${r}`}function a5(e,t){if(!e)return;const r=document.createElement("a");r.href=e,t!==void 0&&(r.download=t),document.body.appendChild(r),r.click(),document.body.removeChild(r)}let nP;function V_e(){return nP===void 0&&(nP=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),nP}const cJ=new WeakSet;function $_e(e){cJ.add(e)}function G_e(e){return!cJ.has(e)}function PH(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function RH(e){switch(e){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw new Error(`${e} has no smaller size.`)}function Ec(e,t){console.error(`[naive/${e}]: ${t}`)}function LH(e,t,r){console.error(`[naive/${e}]: ${t}`,r)}function Wp(e,t){throw new Error(`[naive/${e}]: ${t}`)}function ht(e,...t){if(Array.isArray(e))e.forEach(r=>ht(r,...t));else return e(...t)}function fJ(e){return t=>{t?e.value=t.$el:e.value=null}}function wf(e,t=!0,r=[]){return e.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(qn(String(n)));return}if(Array.isArray(n)){wf(n,t,r);return}if(n.type===Dr){if(n.children===null)return;Array.isArray(n.children)&&wf(n.children,t,r)}else{if(n.type===ia&&t)return;r.push(n)}}}),r}function U_e(e,t="default",r=void 0){const n=e[t];if(!n)return Ec("getFirstSlotVNode",`slot[${t}] is empty`),null;const i=wf(n(r));return i.length===1?i[0]:(Ec("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function W_e(e,t,r){if(!t)return null;const n=wf(t(r));return n.length===1?n[0]:(Ec("getFirstSlotVNode",`slot[${e}] should have exactly one child`),null)}function dJ(e,t="default",r=[]){const i=e.$slots[t];return i===void 0?r:i()}function lm(e,t=[],r){const n={};return t.forEach(i=>{n[i]=e[i]}),Object.assign(n,r)}function iE(e){return Object.keys(e)}function xx(e){const t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?t[0]:r=>{e.forEach(n=>{n&&n(r)})}}function aE(e,t=[],r){const n={};return Object.getOwnPropertyNames(e).forEach(a=>{t.includes(a)||(n[a]=e[a])}),Object.assign(n,r)}function Ba(e,...t){return typeof e=="function"?e(...t):typeof e=="string"?qn(e):typeof e=="number"?qn(String(e)):null}function ou(e){return e.some(t=>im(t)?!(t.type===ia||t.type===Dr&&!ou(t.children)):!0)?e:null}function Vs(e,t){return e&&ou(e())||t()}function X_e(e,t,r){return e&&ou(e(t))||r(t)}function Jn(e,t){const r=e&&ou(e());return t(r||null)}function f3(e){return!(e&&ou(e()))}const d3=lt({render(){var e,t;return(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)}}),wu="n-config-provider",KC="n";function tn(e={},t={defaultBordered:!0}){const r=rr(wu,null);return{inlineThemeDisabled:r?.inlineThemeDisabled,mergedRtlRef:r?.mergedRtlRef,mergedComponentPropsRef:r?.mergedComponentPropsRef,mergedBreakpointsRef:r?.mergedBreakpointsRef,mergedBorderedRef:me(()=>{var n,i;const{bordered:a}=e;return a!==void 0?a:(i=(n=r?.mergedBorderedRef.value)!==null&&n!==void 0?n:t.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:r?r.mergedClsPrefixRef:IZ(KC),namespaceRef:me(()=>r?.mergedNamespaceRef.value)}}function hJ(){const e=rr(wu,null);return e?e.mergedClsPrefixRef:IZ(KC)}function ti(e,t,r,n){r||Wp("useThemeClass","cssVarsRef is not passed");const i=rr(wu,null),a=i?.mergedThemeHashRef,o=i?.styleMountTarget,s=xe(""),l=Eh();let u;const c=`__${e}`,f=()=>{let d=c;const h=t?t.value:void 0,v=a?.value;v&&(d+=`-${v}`),h&&(d+=`-${h}`);const{themeOverrides:p,builtinThemeOverrides:g}=n;p&&(d+=`-${t_(JSON.stringify(p))}`),g&&(d+=`-${t_(JSON.stringify(g))}`),s.value=d,u=()=>{const m=r.value;let y="";for(const x in m)y+=`${x}: ${m[x]};`;we(`.${d}`,y).mount({id:d,ssr:l,parent:o}),u=void 0}};return eo(()=>{f()}),{themeClass:s,onRender:()=>{u?.()}}}const IH="n-form-item";function Mh(e,{defaultSize:t="medium",mergedSize:r,mergedDisabled:n}={}){const i=rr(IH,null);wn(IH,null);const a=me(r?()=>r(i):()=>{const{size:l}=e;if(l)return l;if(i){const{mergedSize:u}=i;if(u.value!==void 0)return u.value}return t}),o=me(n?()=>n(i):()=>{const{disabled:l}=e;return l!==void 0?l:i?i.disabled.value:!1}),s=me(()=>{const{status:l}=e;return l||i?.mergedValidationStatus.value});return Li(()=>{i&&i.restoreValidation()}),{mergedSizeRef:a,mergedDisabledRef:o,mergedStatusRef:s,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}const j_e={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:e=>`Please load all ${e}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"YYYY-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:e=>`Total ${e} items`,selected:e=>`${e} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (←)",tipNext:"Next picture (→)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}},Y_e={name:"zh-CN",global:{undo:"撤销",redo:"重做",confirm:"确认",clear:"清除"},Popconfirm:{positiveText:"确认",negativeText:"取消"},Cascader:{placeholder:"请选择",loading:"加载中",loadingRequiredMessage:e=>`加载全部 ${e} 的子节点后才可选中`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy年",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"YYYY-w周",clear:"清除",now:"此刻",confirm:"确认",selectTime:"选择时间",selectDate:"选择日期",datePlaceholder:"选择日期",datetimePlaceholder:"选择日期时间",monthPlaceholder:"选择月份",yearPlaceholder:"选择年份",quarterPlaceholder:"选择季度",weekPlaceholder:"选择周",startDatePlaceholder:"开始日期",endDatePlaceholder:"结束日期",startDatetimePlaceholder:"开始日期时间",endDatetimePlaceholder:"结束日期时间",startMonthPlaceholder:"开始月份",endMonthPlaceholder:"结束月份",monthBeforeYear:!1,firstDayOfWeek:0,today:"今天"},DataTable:{checkTableAll:"选择全部表格数据",uncheckTableAll:"取消选择全部表格数据",confirm:"确认",clear:"重置"},LegacyTransfer:{sourceTitle:"源项",targetTitle:"目标项"},Transfer:{selectAll:"全选",clearAll:"清除",unselectAll:"取消全选",total:e=>`共 ${e} 项`,selected:e=>`已选 ${e} 项`},Empty:{description:"无数据"},Select:{placeholder:"请选择"},TimePicker:{placeholder:"请选择时间",positiveText:"确认",negativeText:"取消",now:"此刻",clear:"清除"},Pagination:{goto:"跳至",selectionSuffix:"页"},DynamicTags:{add:"添加"},Log:{loading:"加载中"},Input:{placeholder:"请输入"},InputNumber:{placeholder:"请输入"},DynamicInput:{create:"添加"},ThemeEditor:{title:"主题编辑器",clearAllVars:"清除全部变量",clearSearch:"清除搜索",filterCompName:"过滤组件名",filterVarName:"过滤变量名",import:"导入",export:"导出",restore:"恢复默认"},Image:{tipPrevious:"上一张（←）",tipNext:"下一张（→）",tipCounterclockwise:"向左旋转",tipClockwise:"向右旋转",tipZoomOut:"缩小",tipZoomIn:"放大",tipDownload:"下载",tipClose:"关闭（Esc）",tipOriginalSize:"缩放到原始尺寸"}};function jg(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}function ic(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}function ac(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?Z_e(s,f=>f.test(o)):K_e(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(o.length);return{value:u,rest:c}}}function K_e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Z_e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function vJ(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}function q_e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}let J_e={};function Q_e(){return J_e}function kH(e,t){const r=Q_e(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=q_e(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ebe(e,t,r){const n=kH(e,r),i=kH(t,r);return+n==+i}const tbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rbe=(e,t,r)=>{let n;const i=tbe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},nbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ibe=(e,t,r,n)=>nbe[e],abe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},obe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ube={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fbe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dbe={ordinalNumber:fbe,era:ic({values:abe,defaultWidth:"wide"}),quarter:ic({values:obe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ic({values:sbe,defaultWidth:"wide"}),day:ic({values:lbe,defaultWidth:"wide"}),dayPeriod:ic({values:ube,defaultWidth:"wide",formattingValues:cbe,defaultFormattingWidth:"wide"})},hbe=/^(\d+)(th|st|nd|rd)?/i,vbe=/\d+/i,pbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gbe={any:[/^b/i,/^(a|c)/i]},mbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ybe={any:[/1/i,/2/i,/3/i,/4/i]},xbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_be={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tbe={ordinalNumber:vJ({matchPattern:hbe,parsePattern:vbe,valueCallback:e=>parseInt(e,10)}),era:ac({matchPatterns:pbe,defaultMatchWidth:"wide",parsePatterns:gbe,defaultParseWidth:"any"}),quarter:ac({matchPatterns:mbe,defaultMatchWidth:"wide",parsePatterns:ybe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ac({matchPatterns:xbe,defaultMatchWidth:"wide",parsePatterns:_be,defaultParseWidth:"any"}),day:ac({matchPatterns:bbe,defaultMatchWidth:"wide",parsePatterns:wbe,defaultParseWidth:"any"}),dayPeriod:ac({matchPatterns:Sbe,defaultMatchWidth:"any",parsePatterns:Cbe,defaultParseWidth:"any"})},Abe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ebe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dbe={date:jg({formats:Abe,defaultWidth:"full"}),time:jg({formats:Ebe,defaultWidth:"full"}),dateTime:jg({formats:Mbe,defaultWidth:"full"})},Pbe={code:"en-US",formatDistance:rbe,formatLong:Dbe,formatRelative:ibe,localize:dbe,match:Tbe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Rbe={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},Lbe=(e,t,r)=>{let n;const i=Rbe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?n+"内":n+"前":n},Ibe={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},kbe={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Obe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Fbe={date:jg({formats:Ibe,defaultWidth:"full"}),time:jg({formats:kbe,defaultWidth:"full"}),dateTime:jg({formats:Obe,defaultWidth:"full"})};function OH(e,t,r){const n="eeee p";return ebe(e,t,r)?n:e.getTime()>t.getTime()?"'下个'"+n:"'上个'"+n}const Nbe={lastWeek:OH,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:OH,other:"PP p"},Bbe=(e,t,r,n)=>{const i=Nbe[e];return typeof i=="function"?i(t,r,n):i},zbe={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},Hbe={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},Vbe={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},$be={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},Gbe={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Ube={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Wbe=(e,t)=>{const r=Number(e);switch(t?.unit){case"date":return r.toString()+"日";case"hour":return r.toString()+"时";case"minute":return r.toString()+"分";case"second":return r.toString()+"秒";default:return"第 "+r.toString()}},Xbe={ordinalNumber:Wbe,era:ic({values:zbe,defaultWidth:"wide"}),quarter:ic({values:Hbe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ic({values:Vbe,defaultWidth:"wide"}),day:ic({values:$be,defaultWidth:"wide"}),dayPeriod:ic({values:Gbe,defaultWidth:"wide",formattingValues:Ube,defaultFormattingWidth:"wide"})},jbe=/^(第\s*)?\d+(日|时|分|秒)?/i,Ybe=/\d+/i,Kbe={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Zbe={any:[/^(前)/i,/^(公元)/i]},qbe={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},Jbe={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Qbe={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},ewe={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},twe={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},rwe={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},nwe={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},iwe={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},awe={ordinalNumber:vJ({matchPattern:jbe,parsePattern:Ybe,valueCallback:e=>parseInt(e,10)}),era:ac({matchPatterns:Kbe,defaultMatchWidth:"wide",parsePatterns:Zbe,defaultParseWidth:"any"}),quarter:ac({matchPatterns:qbe,defaultMatchWidth:"wide",parsePatterns:Jbe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ac({matchPatterns:Qbe,defaultMatchWidth:"wide",parsePatterns:ewe,defaultParseWidth:"any"}),day:ac({matchPatterns:twe,defaultMatchWidth:"wide",parsePatterns:rwe,defaultParseWidth:"any"}),dayPeriod:ac({matchPatterns:nwe,defaultMatchWidth:"any",parsePatterns:iwe,defaultParseWidth:"any"})},owe={code:"zh-CN",formatDistance:Lbe,formatLong:Fbe,formatRelative:Bbe,localize:Xbe,match:awe,options:{weekStartsOn:1,firstWeekContainsDate:4}},swe={name:"en-US",locale:Pbe},lwe={name:"zh-CN",locale:owe};var pJ=typeof global=="object"&&global&&global.Object===Object&&global,uwe=typeof self=="object"&&self&&self.Object===Object&&self,Du=pJ||uwe||Function("return this")(),ph=Du.Symbol,gJ=Object.prototype,cwe=gJ.hasOwnProperty,fwe=gJ.toString,Yy=ph?ph.toStringTag:void 0;function dwe(e){var t=cwe.call(e,Yy),r=e[Yy];try{e[Yy]=void 0;var n=!0}catch{}var i=fwe.call(e);return n&&(t?e[Yy]=r:delete e[Yy]),i}var hwe=Object.prototype,vwe=hwe.toString;function pwe(e){return vwe.call(e)}var gwe="[object Null]",mwe="[object Undefined]",FH=ph?ph.toStringTag:void 0;function Xp(e){return e==null?e===void 0?mwe:gwe:FH&&FH in Object(e)?dwe(e):pwe(e)}function gh(e){return e!=null&&typeof e=="object"}var ywe="[object Symbol]";function oE(e){return typeof e=="symbol"||gh(e)&&Xp(e)==ywe}function mJ(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Nl=Array.isArray,NH=ph?ph.prototype:void 0,BH=NH?NH.toString:void 0;function yJ(e){if(typeof e=="string")return e;if(Nl(e))return mJ(e,yJ)+"";if(oE(e))return BH?BH.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xwe=/\s/;function _we(e){for(var t=e.length;t--&&xwe.test(e.charAt(t)););return t}var bwe=/^\s+/;function wwe(e){return e&&e.slice(0,_we(e)+1).replace(bwe,"")}function Bl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zH=NaN,Swe=/^[-+]0x[0-9a-f]+$/i,Cwe=/^0b[01]+$/i,Twe=/^0o[0-7]+$/i,Awe=parseInt;function HH(e){if(typeof e=="number")return e;if(oE(e))return zH;if(Bl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wwe(e);var r=Cwe.test(e);return r||Twe.test(e)?Awe(e.slice(2),r?2:8):Swe.test(e)?zH:+e}function o5(e){return e}var Ewe="[object AsyncFunction]",Mwe="[object Function]",Dwe="[object GeneratorFunction]",Pwe="[object Proxy]";function s5(e){if(!Bl(e))return!1;var t=Xp(e);return t==Mwe||t==Dwe||t==Ewe||t==Pwe}var iP=Du["__core-js_shared__"],VH=(function(){var e=/[^.]+$/.exec(iP&&iP.keys&&iP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Rwe(e){return!!VH&&VH in e}var Lwe=Function.prototype,Iwe=Lwe.toString;function jp(e){if(e!=null){try{return Iwe.call(e)}catch{}try{return e+""}catch{}}return""}var kwe=/[\\^$.*+?()[\]{}|]/g,Owe=/^\[object .+?Constructor\]$/,Fwe=Function.prototype,Nwe=Object.prototype,Bwe=Fwe.toString,zwe=Nwe.hasOwnProperty,Hwe=RegExp("^"+Bwe.call(zwe).replace(kwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vwe(e){if(!Bl(e)||Rwe(e))return!1;var t=s5(e)?Hwe:Owe;return t.test(jp(e))}function $we(e,t){return e?.[t]}function Yp(e,t){var r=$we(e,t);return Vwe(r)?r:void 0}var h3=Yp(Du,"WeakMap"),$H=Object.create,Gwe=(function(){function e(){}return function(t){if(!Bl(t))return{};if($H)return $H(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function Uwe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Wwe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Xwe=800,jwe=16,Ywe=Date.now;function Kwe(e){var t=0,r=0;return function(){var n=Ywe(),i=jwe-(n-r);if(r=n,i>0){if(++t>=Xwe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Zwe(e){return function(){return e}}var ZC=(function(){try{var e=Yp(Object,"defineProperty");return e({},"",{}),e}catch{}})(),qwe=ZC?function(e,t){return ZC(e,"toString",{configurable:!0,enumerable:!1,value:Zwe(t),writable:!0})}:o5,Jwe=Kwe(qwe),Qwe=9007199254740991,eSe=/^(?:0|[1-9]\d*)$/;function l5(e,t){var r=typeof e;return t=t??Qwe,!!t&&(r=="number"||r!="symbol"&&eSe.test(e))&&e>-1&&e%1==0&&e<t}function u5(e,t,r){t=="__proto__"&&ZC?ZC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function cb(e,t){return e===t||e!==e&&t!==t}var tSe=Object.prototype,rSe=tSe.hasOwnProperty;function nSe(e,t,r){var n=e[t];(!(rSe.call(e,t)&&cb(n,r))||r===void 0&&!(t in e))&&u5(e,t,r)}function iSe(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;l===void 0&&(l=e[s]),i?u5(r,s,l):nSe(r,s,l)}return r}var GH=Math.max;function aSe(e,t,r){return t=GH(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=GH(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Uwe(e,this,s)}}function oSe(e,t){return Jwe(aSe(e,t,o5),e+"")}var sSe=9007199254740991;function c5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sSe}function Hm(e){return e!=null&&c5(e.length)&&!s5(e)}function lSe(e,t,r){if(!Bl(r))return!1;var n=typeof t;return(n=="number"?Hm(r)&&l5(t,r.length):n=="string"&&t in r)?cb(r[t],e):!1}function uSe(e){return oSe(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&lSe(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var cSe=Object.prototype;function f5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||cSe;return e===r}function fSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var dSe="[object Arguments]";function UH(e){return gh(e)&&Xp(e)==dSe}var xJ=Object.prototype,hSe=xJ.hasOwnProperty,vSe=xJ.propertyIsEnumerable,qC=UH((function(){return arguments})())?UH:function(e){return gh(e)&&hSe.call(e,"callee")&&!vSe.call(e,"callee")};function pSe(){return!1}var _J=typeof zs=="object"&&zs&&!zs.nodeType&&zs,WH=_J&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,gSe=WH&&WH.exports===_J,XH=gSe?Du.Buffer:void 0,mSe=XH?XH.isBuffer:void 0,JC=mSe||pSe,ySe="[object Arguments]",xSe="[object Array]",_Se="[object Boolean]",bSe="[object Date]",wSe="[object Error]",SSe="[object Function]",CSe="[object Map]",TSe="[object Number]",ASe="[object Object]",ESe="[object RegExp]",MSe="[object Set]",DSe="[object String]",PSe="[object WeakMap]",RSe="[object ArrayBuffer]",LSe="[object DataView]",ISe="[object Float32Array]",kSe="[object Float64Array]",OSe="[object Int8Array]",FSe="[object Int16Array]",NSe="[object Int32Array]",BSe="[object Uint8Array]",zSe="[object Uint8ClampedArray]",HSe="[object Uint16Array]",VSe="[object Uint32Array]",ni={};ni[ISe]=ni[kSe]=ni[OSe]=ni[FSe]=ni[NSe]=ni[BSe]=ni[zSe]=ni[HSe]=ni[VSe]=!0;ni[ySe]=ni[xSe]=ni[RSe]=ni[_Se]=ni[LSe]=ni[bSe]=ni[wSe]=ni[SSe]=ni[CSe]=ni[TSe]=ni[ASe]=ni[ESe]=ni[MSe]=ni[DSe]=ni[PSe]=!1;function $Se(e){return gh(e)&&c5(e.length)&&!!ni[Xp(e)]}function GSe(e){return function(t){return e(t)}}var bJ=typeof zs=="object"&&zs&&!zs.nodeType&&zs,_x=bJ&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,USe=_x&&_x.exports===bJ,aP=USe&&pJ.process,jH=(function(){try{var e=_x&&_x.require&&_x.require("util").types;return e||aP&&aP.binding&&aP.binding("util")}catch{}})(),YH=jH&&jH.isTypedArray,d5=YH?GSe(YH):$Se,WSe=Object.prototype,XSe=WSe.hasOwnProperty;function wJ(e,t){var r=Nl(e),n=!r&&qC(e),i=!r&&!n&&JC(e),a=!r&&!n&&!i&&d5(e),o=r||n||i||a,s=o?fSe(e.length,String):[],l=s.length;for(var u in e)(t||XSe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||l5(u,l)))&&s.push(u);return s}function SJ(e,t){return function(r){return e(t(r))}}var jSe=SJ(Object.keys,Object),YSe=Object.prototype,KSe=YSe.hasOwnProperty;function ZSe(e){if(!f5(e))return jSe(e);var t=[];for(var r in Object(e))KSe.call(e,r)&&r!="constructor"&&t.push(r);return t}function h5(e){return Hm(e)?wJ(e):ZSe(e)}function qSe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var JSe=Object.prototype,QSe=JSe.hasOwnProperty;function e2e(e){if(!Bl(e))return qSe(e);var t=f5(e),r=[];for(var n in e)n=="constructor"&&(t||!QSe.call(e,n))||r.push(n);return r}function CJ(e){return Hm(e)?wJ(e,!0):e2e(e)}var t2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r2e=/^\w*$/;function v5(e,t){if(Nl(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||oE(e)?!0:r2e.test(e)||!t2e.test(e)||t!=null&&e in Object(t)}var o_=Yp(Object,"create");function n2e(){this.__data__=o_?o_(null):{},this.size=0}function i2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var a2e="__lodash_hash_undefined__",o2e=Object.prototype,s2e=o2e.hasOwnProperty;function l2e(e){var t=this.__data__;if(o_){var r=t[e];return r===a2e?void 0:r}return s2e.call(t,e)?t[e]:void 0}var u2e=Object.prototype,c2e=u2e.hasOwnProperty;function f2e(e){var t=this.__data__;return o_?t[e]!==void 0:c2e.call(t,e)}var d2e="__lodash_hash_undefined__";function h2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o_&&t===void 0?d2e:t,this}function Tp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tp.prototype.clear=n2e;Tp.prototype.delete=i2e;Tp.prototype.get=l2e;Tp.prototype.has=f2e;Tp.prototype.set=h2e;function v2e(){this.__data__=[],this.size=0}function sE(e,t){for(var r=e.length;r--;)if(cb(e[r][0],t))return r;return-1}var p2e=Array.prototype,g2e=p2e.splice;function m2e(e){var t=this.__data__,r=sE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():g2e.call(t,r,1),--this.size,!0}function y2e(e){var t=this.__data__,r=sE(t,e);return r<0?void 0:t[r][1]}function x2e(e){return sE(this.__data__,e)>-1}function _2e(e,t){var r=this.__data__,n=sE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Yf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yf.prototype.clear=v2e;Yf.prototype.delete=m2e;Yf.prototype.get=y2e;Yf.prototype.has=x2e;Yf.prototype.set=_2e;var s_=Yp(Du,"Map");function b2e(){this.size=0,this.__data__={hash:new Tp,map:new(s_||Yf),string:new Tp}}function w2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lE(e,t){var r=e.__data__;return w2e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function S2e(e){var t=lE(this,e).delete(e);return this.size-=t?1:0,t}function C2e(e){return lE(this,e).get(e)}function T2e(e){return lE(this,e).has(e)}function A2e(e,t){var r=lE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Kf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kf.prototype.clear=b2e;Kf.prototype.delete=S2e;Kf.prototype.get=C2e;Kf.prototype.has=T2e;Kf.prototype.set=A2e;var E2e="Expected a function";function p5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(E2e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(p5.Cache||Kf),r}p5.Cache=Kf;var M2e=500;function D2e(e){var t=p5(e,function(n){return r.size===M2e&&r.clear(),n}),r=t.cache;return t}var P2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R2e=/\\(\\)?/g,L2e=D2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(P2e,function(r,n,i,a){t.push(i?a.replace(R2e,"$1"):n||r)}),t});function uE(e){return e==null?"":yJ(e)}function TJ(e,t){return Nl(e)?e:v5(e,t)?[e]:L2e(uE(e))}function cE(e){if(typeof e=="string"||oE(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function AJ(e,t){t=TJ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[cE(t[r++])];return r&&r==n?e:void 0}function v3(e,t,r){var n=e==null?void 0:AJ(e,t);return n===void 0?r:n}function I2e(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var EJ=SJ(Object.getPrototypeOf,Object),k2e="[object Object]",O2e=Function.prototype,F2e=Object.prototype,MJ=O2e.toString,N2e=F2e.hasOwnProperty,B2e=MJ.call(Object);function z2e(e){if(!gh(e)||Xp(e)!=k2e)return!1;var t=EJ(e);if(t===null)return!0;var r=N2e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MJ.call(r)==B2e}function H2e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}function V2e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:H2e(e,t,r)}var $2e="\\ud800-\\udfff",G2e="\\u0300-\\u036f",U2e="\\ufe20-\\ufe2f",W2e="\\u20d0-\\u20ff",X2e=G2e+U2e+W2e,j2e="\\ufe0e\\ufe0f",Y2e="\\u200d",K2e=RegExp("["+Y2e+$2e+X2e+j2e+"]");function DJ(e){return K2e.test(e)}function Z2e(e){return e.split("")}var PJ="\\ud800-\\udfff",q2e="\\u0300-\\u036f",J2e="\\ufe20-\\ufe2f",Q2e="\\u20d0-\\u20ff",eCe=q2e+J2e+Q2e,tCe="\\ufe0e\\ufe0f",rCe="["+PJ+"]",p3="["+eCe+"]",g3="\\ud83c[\\udffb-\\udfff]",nCe="(?:"+p3+"|"+g3+")",RJ="[^"+PJ+"]",LJ="(?:\\ud83c[\\udde6-\\uddff]){2}",IJ="[\\ud800-\\udbff][\\udc00-\\udfff]",iCe="\\u200d",kJ=nCe+"?",OJ="["+tCe+"]?",aCe="(?:"+iCe+"(?:"+[RJ,LJ,IJ].join("|")+")"+OJ+kJ+")*",oCe=OJ+kJ+aCe,sCe="(?:"+[RJ+p3+"?",p3,LJ,IJ,rCe].join("|")+")",lCe=RegExp(g3+"(?="+g3+")|"+sCe+oCe,"g");function uCe(e){return e.match(lCe)||[]}function cCe(e){return DJ(e)?uCe(e):Z2e(e)}function fCe(e){return function(t){t=uE(t);var r=DJ(t)?cCe(t):void 0,n=r?r[0]:t.charAt(0),i=r?V2e(r,1).join(""):t.slice(1);return n[e]()+i}}var dCe=fCe("toUpperCase");function hCe(e,t,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)r=t(r,e[i],i,e);return r}function vCe(e){return function(t){return e?.[t]}}var pCe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},gCe=vCe(pCe),mCe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yCe="\\u0300-\\u036f",xCe="\\ufe20-\\ufe2f",_Ce="\\u20d0-\\u20ff",bCe=yCe+xCe+_Ce,wCe="["+bCe+"]",SCe=RegExp(wCe,"g");function CCe(e){return e=uE(e),e&&e.replace(mCe,gCe).replace(SCe,"")}var TCe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ACe(e){return e.match(TCe)||[]}var ECe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function MCe(e){return ECe.test(e)}var FJ="\\ud800-\\udfff",DCe="\\u0300-\\u036f",PCe="\\ufe20-\\ufe2f",RCe="\\u20d0-\\u20ff",LCe=DCe+PCe+RCe,NJ="\\u2700-\\u27bf",BJ="a-z\\xdf-\\xf6\\xf8-\\xff",ICe="\\xac\\xb1\\xd7\\xf7",kCe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",OCe="\\u2000-\\u206f",FCe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zJ="A-Z\\xc0-\\xd6\\xd8-\\xde",NCe="\\ufe0e\\ufe0f",HJ=ICe+kCe+OCe+FCe,VJ="['’]",KH="["+HJ+"]",BCe="["+LCe+"]",$J="\\d+",zCe="["+NJ+"]",GJ="["+BJ+"]",UJ="[^"+FJ+HJ+$J+NJ+BJ+zJ+"]",HCe="\\ud83c[\\udffb-\\udfff]",VCe="(?:"+BCe+"|"+HCe+")",$Ce="[^"+FJ+"]",WJ="(?:\\ud83c[\\udde6-\\uddff]){2}",XJ="[\\ud800-\\udbff][\\udc00-\\udfff]",Sg="["+zJ+"]",GCe="\\u200d",ZH="(?:"+GJ+"|"+UJ+")",UCe="(?:"+Sg+"|"+UJ+")",qH="(?:"+VJ+"(?:d|ll|m|re|s|t|ve))?",JH="(?:"+VJ+"(?:D|LL|M|RE|S|T|VE))?",jJ=VCe+"?",YJ="["+NCe+"]?",WCe="(?:"+GCe+"(?:"+[$Ce,WJ,XJ].join("|")+")"+YJ+jJ+")*",XCe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jCe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",YCe=YJ+jJ+WCe,KCe="(?:"+[zCe,WJ,XJ].join("|")+")"+YCe,ZCe=RegExp([Sg+"?"+GJ+"+"+qH+"(?="+[KH,Sg,"$"].join("|")+")",UCe+"+"+JH+"(?="+[KH,Sg+ZH,"$"].join("|")+")",Sg+"?"+ZH+"+"+qH,Sg+"+"+JH,jCe,XCe,$J,KCe].join("|"),"g");function qCe(e){return e.match(ZCe)||[]}function JCe(e,t,r){return e=uE(e),t=t,t===void 0?MCe(e)?qCe(e):ACe(e):e.match(t)||[]}var QCe="['’]",eTe=RegExp(QCe,"g");function tTe(e){return function(t){return hCe(JCe(CCe(t).replace(eTe,"")),e,"")}}function rTe(){this.__data__=new Yf,this.size=0}function nTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function iTe(e){return this.__data__.get(e)}function aTe(e){return this.__data__.has(e)}var oTe=200;function sTe(e,t){var r=this.__data__;if(r instanceof Yf){var n=r.__data__;if(!s_||n.length<oTe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Kf(n)}return r.set(e,t),this.size=r.size,this}function mc(e){var t=this.__data__=new Yf(e);this.size=t.size}mc.prototype.clear=rTe;mc.prototype.delete=nTe;mc.prototype.get=iTe;mc.prototype.has=aTe;mc.prototype.set=sTe;var KJ=typeof zs=="object"&&zs&&!zs.nodeType&&zs,QH=KJ&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,lTe=QH&&QH.exports===KJ,e7=lTe?Du.Buffer:void 0;e7&&e7.allocUnsafe;function uTe(e,t){return e.slice()}function cTe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function fTe(){return[]}var dTe=Object.prototype,hTe=dTe.propertyIsEnumerable,t7=Object.getOwnPropertySymbols,vTe=t7?function(e){return e==null?[]:(e=Object(e),cTe(t7(e),function(t){return hTe.call(e,t)}))}:fTe;function pTe(e,t,r){var n=t(e);return Nl(e)?n:I2e(n,r(e))}function r7(e){return pTe(e,h5,vTe)}var m3=Yp(Du,"DataView"),y3=Yp(Du,"Promise"),x3=Yp(Du,"Set"),n7="[object Map]",gTe="[object Object]",i7="[object Promise]",a7="[object Set]",o7="[object WeakMap]",s7="[object DataView]",mTe=jp(m3),yTe=jp(s_),xTe=jp(y3),_Te=jp(x3),bTe=jp(h3),Hd=Xp;(m3&&Hd(new m3(new ArrayBuffer(1)))!=s7||s_&&Hd(new s_)!=n7||y3&&Hd(y3.resolve())!=i7||x3&&Hd(new x3)!=a7||h3&&Hd(new h3)!=o7)&&(Hd=function(e){var t=Xp(e),r=t==gTe?e.constructor:void 0,n=r?jp(r):"";if(n)switch(n){case mTe:return s7;case yTe:return n7;case xTe:return i7;case _Te:return a7;case bTe:return o7}return t});var QC=Du.Uint8Array;function wTe(e){var t=new e.constructor(e.byteLength);return new QC(t).set(new QC(e)),t}function STe(e,t){var r=wTe(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function CTe(e){return typeof e.constructor=="function"&&!f5(e)?Gwe(EJ(e)):{}}var TTe="__lodash_hash_undefined__";function ATe(e){return this.__data__.set(e,TTe),this}function ETe(e){return this.__data__.has(e)}function eT(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kf;++t<r;)this.add(e[t])}eT.prototype.add=eT.prototype.push=ATe;eT.prototype.has=ETe;function MTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function DTe(e,t){return e.has(t)}var PTe=1,RTe=2;function ZJ(e,t,r,n,i,a){var o=r&PTe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=r&RTe?new eT:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var v=e[f],p=t[f];if(n)var g=o?n(p,v,f,t,e,a):n(v,p,f,e,t,a);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!MTe(t,function(m,y){if(!DTe(h,y)&&(v===m||i(v,m,r,n,a)))return h.push(y)})){d=!1;break}}else if(!(v===p||i(v,p,r,n,a))){d=!1;break}}return a.delete(e),a.delete(t),d}function LTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function ITe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var kTe=1,OTe=2,FTe="[object Boolean]",NTe="[object Date]",BTe="[object Error]",zTe="[object Map]",HTe="[object Number]",VTe="[object RegExp]",$Te="[object Set]",GTe="[object String]",UTe="[object Symbol]",WTe="[object ArrayBuffer]",XTe="[object DataView]",l7=ph?ph.prototype:void 0,oP=l7?l7.valueOf:void 0;function jTe(e,t,r,n,i,a,o){switch(r){case XTe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case WTe:return!(e.byteLength!=t.byteLength||!a(new QC(e),new QC(t)));case FTe:case NTe:case HTe:return cb(+e,+t);case BTe:return e.name==t.name&&e.message==t.message;case VTe:case GTe:return e==t+"";case zTe:var s=LTe;case $Te:var l=n&kTe;if(s||(s=ITe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=OTe,o.set(e,t);var c=ZJ(s(e),s(t),n,i,a,o);return o.delete(e),c;case UTe:if(oP)return oP.call(e)==oP.call(t)}return!1}var YTe=1,KTe=Object.prototype,ZTe=KTe.hasOwnProperty;function qTe(e,t,r,n,i,a){var o=r&YTe,s=r7(e),l=s.length,u=r7(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:ZTe.call(t,d)))return!1}var h=a.get(e),v=a.get(t);if(h&&v)return h==t&&v==e;var p=!0;a.set(e,t),a.set(t,e);for(var g=o;++f<l;){d=s[f];var m=e[d],y=t[d];if(n)var x=o?n(y,m,d,t,e,a):n(m,y,d,e,t,a);if(!(x===void 0?m===y||i(m,y,r,n,a):x)){p=!1;break}g||(g=d=="constructor")}if(p&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(p=!1)}return a.delete(e),a.delete(t),p}var JTe=1,u7="[object Arguments]",c7="[object Array]",rS="[object Object]",QTe=Object.prototype,f7=QTe.hasOwnProperty;function eAe(e,t,r,n,i,a){var o=Nl(e),s=Nl(t),l=o?c7:Hd(e),u=s?c7:Hd(t);l=l==u7?rS:l,u=u==u7?rS:u;var c=l==rS,f=u==rS,d=l==u;if(d&&JC(e)){if(!JC(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new mc),o||d5(e)?ZJ(e,t,r,n,i,a):jTe(e,t,l,r,n,i,a);if(!(r&JTe)){var h=c&&f7.call(e,"__wrapped__"),v=f&&f7.call(t,"__wrapped__");if(h||v){var p=h?e.value():e,g=v?t.value():t;return a||(a=new mc),i(p,g,r,n,a)}}return d?(a||(a=new mc),qTe(e,t,r,n,i,a)):!1}function g5(e,t,r,n,i){return e===t?!0:e==null||t==null||!gh(e)&&!gh(t)?e!==e&&t!==t:eAe(e,t,r,n,g5,i)}var tAe=1,rAe=2;function nAe(e,t,r,n){var i=r.length,a=i;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var s=o[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new mc,f;if(!(f===void 0?g5(u,l,tAe|rAe,n,c):f))return!1}}return!0}function qJ(e){return e===e&&!Bl(e)}function iAe(e){for(var t=h5(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,qJ(i)]}return t}function JJ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function aAe(e){var t=iAe(e);return t.length==1&&t[0][2]?JJ(t[0][0],t[0][1]):function(r){return r===e||nAe(r,e,t)}}function oAe(e,t){return e!=null&&t in Object(e)}function sAe(e,t,r){t=TJ(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=cE(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&c5(i)&&l5(o,i)&&(Nl(e)||qC(e)))}function lAe(e,t){return e!=null&&sAe(e,t,oAe)}var uAe=1,cAe=2;function fAe(e,t){return v5(e)&&qJ(t)?JJ(cE(e),t):function(r){var n=v3(r,e);return n===void 0&&n===t?lAe(r,e):g5(t,n,uAe|cAe)}}function dAe(e){return function(t){return t?.[e]}}function hAe(e){return function(t){return AJ(t,e)}}function vAe(e){return v5(e)?dAe(cE(e)):hAe(e)}function pAe(e){return typeof e=="function"?e:e==null?o5:typeof e=="object"?Nl(e)?fAe(e[0],e[1]):aAe(e):vAe(e)}function gAe(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return t}}var QJ=gAe();function mAe(e,t){return e&&QJ(e,t,h5)}function yAe(e,t){return function(r,n){if(r==null)return r;if(!Hm(r))return e(r,n);for(var i=r.length,a=-1,o=Object(r);++a<i&&n(o[a],a,o)!==!1;);return r}}var xAe=yAe(mAe),sP=function(){return Du.Date.now()},_Ae="Expected a function",bAe=Math.max,wAe=Math.min;function SAe(e,t,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(_Ae);t=HH(t)||0,Bl(r)&&(c=!!r.leading,f="maxWait"in r,a=f?bAe(HH(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d);function h(S){var C=n,E=i;return n=i=void 0,u=S,o=e.apply(E,C),o}function v(S){return u=S,s=setTimeout(m,t),c?h(S):o}function p(S){var C=S-l,E=S-u,A=t-C;return f?wAe(A,a-E):A}function g(S){var C=S-l,E=S-u;return l===void 0||C>=t||C<0||f&&E>=a}function m(){var S=sP();if(g(S))return y(S);s=setTimeout(m,p(S))}function y(S){return s=void 0,d&&n?h(S):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:y(sP())}function w(){var S=sP(),C=g(S);if(n=arguments,i=this,l=S,C){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(m,t),h(l)}return s===void 0&&(s=setTimeout(m,t)),o}return w.cancel=x,w.flush=b,w}function _3(e,t,r){(r!==void 0&&!cb(e[t],r)||r===void 0&&!(t in e))&&u5(e,t,r)}function CAe(e){return gh(e)&&Hm(e)}function b3(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function TAe(e){return iSe(e,CJ(e))}function AAe(e,t,r,n,i,a,o){var s=b3(e,r),l=b3(t,r),u=o.get(l);if(u){_3(e,r,u);return}var c=a?a(s,l,r+"",e,t,o):void 0,f=c===void 0;if(f){var d=Nl(l),h=!d&&JC(l),v=!d&&!h&&d5(l);c=l,d||h||v?Nl(s)?c=s:CAe(s)?c=Wwe(s):h?(f=!1,c=uTe(l)):v?(f=!1,c=STe(l)):c=[]:z2e(l)||qC(l)?(c=s,qC(s)?c=TAe(s):(!Bl(s)||s5(s))&&(c=CTe(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),_3(e,r,c)}function eQ(e,t,r,n,i){e!==t&&QJ(t,function(a,o){if(i||(i=new mc),Bl(a))AAe(e,t,o,r,eQ,n,i);else{var s=n?n(b3(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),_3(e,o,s)}},CJ)}function EAe(e,t){var r=-1,n=Hm(e)?Array(e.length):[];return xAe(e,function(i,a,o){n[++r]=t(i,a,o)}),n}function MAe(e,t){var r=Nl(e)?mJ:EAe;return r(e,pAe(t))}var DAe=tTe(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),z1=uSe(function(e,t,r){eQ(e,t,r)}),PAe="Expected a function";function lP(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(PAe);return Bl(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),SAe(e,t,{leading:n,maxWait:t,trailing:i})}function Vm(e){const{mergedLocaleRef:t,mergedDateLocaleRef:r}=rr(wu,null)||{},n=me(()=>{var a,o;return(o=(a=t?.value)===null||a===void 0?void 0:a[e])!==null&&o!==void 0?o:j_e[e]});return{dateLocaleRef:me(()=>{var a;return(a=r?.value)!==null&&a!==void 0?a:swe}),localeRef:n}}const um="naive-ui-style";function Eo(e,t,r){if(!t)return;const n=Eh(),i=me(()=>{const{value:s}=t;if(!s)return;const l=s[e];if(l)return l}),a=rr(wu,null),o=()=>{eo(()=>{const{value:s}=r,l=`${s}${e}Rtl`;if(dxe(l,n))return;const{value:u}=i;u&&u.style.mount({id:l,head:!0,anchorMetaName:um,props:{bPrefix:s?`.${s}-`:void 0},ssr:n,parent:a?.styleMountTarget})})};return n?o():Xf(o),i}const Dh={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:RAe,fontFamily:LAe,lineHeight:IAe}=Dh,tQ=we("body",`
 margin: 0;
 font-size: ${RAe};
 font-family: ${LAe};
 line-height: ${IAe};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[we("input",`
 font-family: inherit;
 font-size: inherit;
 `)]);function Kp(e,t,r){if(!t)return;const n=Eh(),i=rr(wu,null),a=()=>{const o=r.value;t.mount({id:o===void 0?e:o+e,head:!0,anchorMetaName:um,props:{bPrefix:o?`.${o}-`:void 0},ssr:n,parent:i?.styleMountTarget}),i?.preflightStyleDisabled||tQ.mount({id:"n-global",head:!0,anchorMetaName:um,ssr:n,parent:i?.styleMountTarget})};n?a():Xf(a)}function nr(e,t,r,n,i,a){const o=Eh(),s=rr(wu,null);if(r){const u=()=>{const c=a?.value;r.mount({id:c===void 0?t:c+t,head:!0,props:{bPrefix:c?`.${c}-`:void 0},anchorMetaName:um,ssr:o,parent:s?.styleMountTarget}),s?.preflightStyleDisabled||tQ.mount({id:"n-global",head:!0,anchorMetaName:um,ssr:o,parent:s?.styleMountTarget})};o?u():Xf(u)}return me(()=>{var u;const{theme:{common:c,self:f,peers:d={}}={},themeOverrides:h={},builtinThemeOverrides:v={}}=i,{common:p,peers:g}=h,{common:m=void 0,[e]:{common:y=void 0,self:x=void 0,peers:b={}}={}}=s?.mergedThemeRef.value||{},{common:w=void 0,[e]:S={}}=s?.mergedThemeOverridesRef.value||{},{common:C,peers:E={}}=S,A=z1({},c||y||m||n.common,w,C,p),M=z1((u=f||x||n.self)===null||u===void 0?void 0:u(A),v,S,h);return{common:A,self:M,peers:z1({},n.peers,b,d),peerOverrides:z1({},v.peers,E,g)}})}nr.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const kAe=ie("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
`,[we("svg",`
 height: 1em;
 width: 1em;
 `)]),Yr=lt({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(e){Kp("-base-icon",kAe,rt(e,"clsPrefix"))},render(){return I("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),Zp=lt({name:"BaseIconSwitchTransition",setup(e,{slots:t}){const r=zm();return()=>I(vs,{name:"icon-switch-transition",appear:r.value},t)}}),rQ=lt({name:"Add",render(){return I("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),OAe=lt({name:"ArrowDown",render(){return I("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}});function Qo(e,t){const r=lt({render(){return t()}});return lt({name:dCe(e),setup(){var n;const i=(n=rr(wu,null))===null||n===void 0?void 0:n.mergedIconsRef;return()=>{var a;const o=(a=i?.value)===null||a===void 0?void 0:a[e];return o?o():I(r,null)}}})}const FAe=Qo("attach",()=>I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),d7=lt({name:"Backward",render(){return I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),NAe=Qo("cancel",()=>I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),BAe=lt({name:"Checkmark",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},I("g",{fill:"none"},I("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),nQ=lt({name:"ChevronDown",render(){return I("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),iQ=lt({name:"ChevronRight",render(){return I("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),zAe=Qo("clear",()=>I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),HAe=Qo("close",()=>I("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),aQ=Qo("download",()=>I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),VAe=lt({name:"Empty",render(){return I("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),I("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),fE=Qo("error",()=>I("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),oQ=lt({name:"Eye",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),I("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),$Ae=lt({name:"EyeOff",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),I("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),I("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),I("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),I("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),h7=lt({name:"FastBackward",render(){return I("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),v7=lt({name:"FastForward",render(){return I("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),GAe=lt({name:"Filter",render(){return I("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M17,19 C17.5522847,19 18,19.4477153 18,20 C18,20.5522847 17.5522847,21 17,21 L11,21 C10.4477153,21 10,20.5522847 10,20 C10,19.4477153 10.4477153,19 11,19 L17,19 Z M21,13 C21.5522847,13 22,13.4477153 22,14 C22,14.5522847 21.5522847,15 21,15 L7,15 C6.44771525,15 6,14.5522847 6,14 C6,13.4477153 6.44771525,13 7,13 L21,13 Z M24,7 C24.5522847,7 25,7.44771525 25,8 C25,8.55228475 24.5522847,9 24,9 L4,9 C3.44771525,9 3,8.55228475 3,8 C3,7.44771525 3.44771525,7 4,7 L24,7 Z"}))))}}),p7=lt({name:"Forward",render(){return I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),l_=Qo("info",()=>I("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),g7=lt({name:"More",render(){return I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}}),UAe=lt({name:"ResizeSmall",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},I("g",{fill:"none"},I("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),WAe=Qo("retry",()=>I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),I("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),XAe=Qo("rotateClockwise",()=>I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),I("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),jAe=Qo("rotateClockwise",()=>I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),I("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),dE=Qo("success",()=>I("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),YAe=Qo("trash",()=>I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),I("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),I("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),I("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),hE=Qo("warning",()=>I("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),KAe=Qo("zoomIn",()=>I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),I("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),ZAe=Qo("zoomOut",()=>I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),I("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),{cubicBezierEaseInOut:qAe}=Dh;function Cl({originalTransform:e="",left:t=0,top:r=0,transition:n=`all .3s ${qAe} !important`}={}){return[we("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:`${e} scale(0.75)`,left:t,top:r,opacity:0}),we("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${e}`,left:t,top:r,opacity:1}),we("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:t,top:r,transition:n})]}const JAe=ie("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[we(">",[Me("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[we("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),we("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),Me("placeholder",`
 display: flex;
 `),Me("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Cl({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),w3=lt({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return Kp("-base-clear",JAe,rt(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return I("div",{class:`${e}-base-clear`},I(Zp,null,{default:()=>{var t,r;return this.show?I("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},Vs(this.$slots.icon,()=>[I(Yr,{clsPrefix:e},{default:()=>I(zAe,null)})])):I("div",{key:"icon",class:`${e}-base-clear__placeholder`},(r=(t=this.$slots).placeholder)===null||r===void 0?void 0:r.call(t))}}))}}),QAe=ie("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[Ce("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),we("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),zn("disabled",[we("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),we("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),we("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),we("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),we("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),Ce("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),Ce("round",[we("&::before",`
 border-radius: 50%;
 `)])]),fb=lt({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(e){return Kp("-base-close",QAe,rt(e,"clsPrefix")),()=>{const{clsPrefix:t,disabled:r,absolute:n,round:i,isButtonTag:a}=e;return I(a?"button":"div",{type:a?"button":void 0,tabindex:r||!e.focusable?-1:0,"aria-disabled":r,"aria-label":"close",role:a?void 0:"button",disabled:r,class:[`${t}-base-close`,n&&`${t}-base-close--absolute`,r&&`${t}-base-close--disabled`,i&&`${t}-base-close--round`],onMousedown:s=>{e.focusable||s.preventDefault()},onClick:e.onClick},I(Yr,{clsPrefix:t},{default:()=>I(HAe,null)}))}}}),vE=lt({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(e,{slots:t}){function r(s){e.width?s.style.maxWidth=`${s.offsetWidth}px`:s.style.maxHeight=`${s.offsetHeight}px`,s.offsetWidth}function n(s){e.width?s.style.maxWidth="0":s.style.maxHeight="0",s.offsetWidth;const{onLeave:l}=e;l&&l()}function i(s){e.width?s.style.maxWidth="":s.style.maxHeight="";const{onAfterLeave:l}=e;l&&l()}function a(s){if(s.style.transition="none",e.width){const l=s.offsetWidth;s.style.maxWidth="0",s.offsetWidth,s.style.transition="",s.style.maxWidth=`${l}px`}else if(e.reverse)s.style.maxHeight=`${s.offsetHeight}px`,s.offsetHeight,s.style.transition="",s.style.maxHeight="0";else{const l=s.offsetHeight;s.style.maxHeight="0",s.offsetWidth,s.style.transition="",s.style.maxHeight=`${l}px`}s.offsetWidth}function o(s){var l;e.width?s.style.maxWidth="":e.reverse||(s.style.maxHeight=""),(l=e.onAfterEnter)===null||l===void 0||l.call(e)}return()=>{const{group:s,width:l,appear:u,mode:c}=e,f=s?Mq:vs,d={name:l?"fade-in-width-expand-transition":"fade-in-height-expand-transition",appear:u,onEnter:a,onAfterEnter:o,onBeforeLeave:r,onLeave:n,onAfterLeave:i};return s||(d.mode=c),I(f,d,t)}}}),eEe=lt({props:{onFocus:Function,onBlur:Function},setup(e){return()=>I("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}}),tEe=we([we("@keyframes rotator",`
 0% {
 -webkit-transform: rotate(0deg);
 transform: rotate(0deg);
 }
 100% {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }`),ie("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[Me("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[Cl()]),Me("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Cl({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),Me("container",`
 animation: rotator 3s linear infinite both;
 `,[Me("icon",`
 height: 1em;
 width: 1em;
 `)])])]),uP="1.6s",rEe={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},$m=lt({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},rEe),setup(e){Kp("-base-loading",tEe,rt(e,"clsPrefix"))},render(){const{clsPrefix:e,radius:t,strokeWidth:r,stroke:n,scale:i}=this,a=t/i;return I("div",{class:`${e}-base-loading`,role:"img","aria-label":"loading"},I(Zp,null,{default:()=>this.show?I("div",{key:"icon",class:`${e}-base-loading__transition-wrapper`},I("div",{class:`${e}-base-loading__container`},I("svg",{class:`${e}-base-loading__icon`,viewBox:`0 0 ${2*a} ${2*a}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},I("g",null,I("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${a} ${a};270 ${a} ${a}`,begin:"0s",dur:uP,fill:"freeze",repeatCount:"indefinite"}),I("circle",{class:`${e}-base-loading__icon`,fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:a,cy:a,r:t-r/2,"stroke-dasharray":5.67*t,"stroke-dashoffset":18.48*t},I("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${a} ${a};135 ${a} ${a};450 ${a} ${a}`,begin:"0s",dur:uP,fill:"freeze",repeatCount:"indefinite"}),I("animate",{attributeName:"stroke-dashoffset",values:`${5.67*t};${1.42*t};${5.67*t}`,begin:"0s",dur:uP,fill:"freeze",repeatCount:"indefinite"})))))):I("div",{key:"placeholder",class:`${e}-base-loading__placeholder`},this.$slots)}))}}),{cubicBezierEaseInOut:m7}=Dh;function tT({name:e="fade-in",enterDuration:t="0.2s",leaveDuration:r="0.2s",enterCubicBezier:n=m7,leaveCubicBezier:i=m7}={}){return[we(`&.${e}-transition-enter-active`,{transition:`all ${t} ${n}!important`}),we(`&.${e}-transition-leave-active`,{transition:`all ${r} ${i}!important`}),we(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),we(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const Zt={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},nEe=If(Zt.neutralBase),sQ=If(Zt.neutralInvertBase),iEe=`rgba(${sQ.slice(0,3).join(", ")}, `;function yn(e){return`${iEe+String(e)})`}function aEe(e){const t=Array.from(sQ);return t[3]=Number(e),tr(nEe,t)}const Ct=Object.assign(Object.assign({name:"common"},Dh),{baseColor:Zt.neutralBase,primaryColor:Zt.primaryDefault,primaryColorHover:Zt.primaryHover,primaryColorPressed:Zt.primaryActive,primaryColorSuppl:Zt.primarySuppl,infoColor:Zt.infoDefault,infoColorHover:Zt.infoHover,infoColorPressed:Zt.infoActive,infoColorSuppl:Zt.infoSuppl,successColor:Zt.successDefault,successColorHover:Zt.successHover,successColorPressed:Zt.successActive,successColorSuppl:Zt.successSuppl,warningColor:Zt.warningDefault,warningColorHover:Zt.warningHover,warningColorPressed:Zt.warningActive,warningColorSuppl:Zt.warningSuppl,errorColor:Zt.errorDefault,errorColorHover:Zt.errorHover,errorColorPressed:Zt.errorActive,errorColorSuppl:Zt.errorSuppl,textColorBase:Zt.neutralTextBase,textColor1:yn(Zt.alpha1),textColor2:yn(Zt.alpha2),textColor3:yn(Zt.alpha3),textColorDisabled:yn(Zt.alpha4),placeholderColor:yn(Zt.alpha4),placeholderColorDisabled:yn(Zt.alpha5),iconColor:yn(Zt.alpha4),iconColorDisabled:yn(Zt.alpha5),iconColorHover:yn(Number(Zt.alpha4)*1.25),iconColorPressed:yn(Number(Zt.alpha4)*.8),opacity1:Zt.alpha1,opacity2:Zt.alpha2,opacity3:Zt.alpha3,opacity4:Zt.alpha4,opacity5:Zt.alpha5,dividerColor:yn(Zt.alphaDivider),borderColor:yn(Zt.alphaBorder),closeIconColorHover:yn(Number(Zt.alphaClose)),closeIconColor:yn(Number(Zt.alphaClose)),closeIconColorPressed:yn(Number(Zt.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:yn(Zt.alpha4),clearColorHover:Hi(yn(Zt.alpha4),{alpha:1.25}),clearColorPressed:Hi(yn(Zt.alpha4),{alpha:.8}),scrollbarColor:yn(Zt.alphaScrollbar),scrollbarColorHover:yn(Zt.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:yn(Zt.alphaProgressRail),railColor:yn(Zt.alphaRail),popoverColor:Zt.neutralPopover,tableColor:Zt.neutralCard,cardColor:Zt.neutralCard,modalColor:Zt.neutralModal,bodyColor:Zt.neutralBody,tagColor:aEe(Zt.alphaTag),avatarColor:yn(Zt.alphaAvatar),invertedColor:Zt.neutralBase,inputColor:yn(Zt.alphaInput),codeColor:yn(Zt.alphaCode),tabColor:yn(Zt.alphaTab),actionColor:yn(Zt.alphaAction),tableHeaderColor:yn(Zt.alphaAction),hoverColor:yn(Zt.alphaPending),tableColorHover:yn(Zt.alphaTablePending),tableColorStriped:yn(Zt.alphaTableStriped),pressedColor:yn(Zt.alphaPressed),opacityDisabled:Zt.alphaDisabled,inputColorDisabled:yn(Zt.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),fr={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaAvatar:"0.2",alphaProgressRail:".08",alphaInput:"0",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},oEe=If(fr.neutralBase),lQ=If(fr.neutralInvertBase),sEe=`rgba(${lQ.slice(0,3).join(", ")}, `;function y7(e){return`${sEe+String(e)})`}function oo(e){const t=Array.from(lQ);return t[3]=Number(e),tr(oEe,t)}const $n=Object.assign(Object.assign({name:"common"},Dh),{baseColor:fr.neutralBase,primaryColor:fr.primaryDefault,primaryColorHover:fr.primaryHover,primaryColorPressed:fr.primaryActive,primaryColorSuppl:fr.primarySuppl,infoColor:fr.infoDefault,infoColorHover:fr.infoHover,infoColorPressed:fr.infoActive,infoColorSuppl:fr.infoSuppl,successColor:fr.successDefault,successColorHover:fr.successHover,successColorPressed:fr.successActive,successColorSuppl:fr.successSuppl,warningColor:fr.warningDefault,warningColorHover:fr.warningHover,warningColorPressed:fr.warningActive,warningColorSuppl:fr.warningSuppl,errorColor:fr.errorDefault,errorColorHover:fr.errorHover,errorColorPressed:fr.errorActive,errorColorSuppl:fr.errorSuppl,textColorBase:fr.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:oo(fr.alpha4),placeholderColor:oo(fr.alpha4),placeholderColorDisabled:oo(fr.alpha5),iconColor:oo(fr.alpha4),iconColorHover:Hi(oo(fr.alpha4),{lightness:.75}),iconColorPressed:Hi(oo(fr.alpha4),{lightness:.9}),iconColorDisabled:oo(fr.alpha5),opacity1:fr.alpha1,opacity2:fr.alpha2,opacity3:fr.alpha3,opacity4:fr.alpha4,opacity5:fr.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:oo(Number(fr.alphaClose)),closeIconColorHover:oo(Number(fr.alphaClose)),closeIconColorPressed:oo(Number(fr.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:oo(fr.alpha4),clearColorHover:Hi(oo(fr.alpha4),{lightness:.75}),clearColorPressed:Hi(oo(fr.alpha4),{lightness:.9}),scrollbarColor:y7(fr.alphaScrollbar),scrollbarColorHover:y7(fr.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:oo(fr.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:fr.neutralPopover,tableColor:fr.neutralCard,cardColor:fr.neutralCard,modalColor:fr.neutralModal,bodyColor:fr.neutralBody,tagColor:"#eee",avatarColor:oo(fr.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:oo(fr.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:fr.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),lEe={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function uQ(e){const{scrollbarColor:t,scrollbarColorHover:r,scrollbarHeight:n,scrollbarWidth:i,scrollbarBorderRadius:a}=e;return Object.assign(Object.assign({},lEe),{height:n,width:i,borderRadius:a,color:t,colorHover:r})}const pE={name:"Scrollbar",common:$n,self:uQ},_s={name:"Scrollbar",common:Ct,self:uQ},uEe=ie("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[we(">",[ie("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[we("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),we(">",[ie("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),we(">, +",[ie("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[Ce("horizontal",`
 height: var(--n-scrollbar-height);
 `,[we(">",[Me("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),Ce("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),Ce("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),Ce("vertical",`
 width: var(--n-scrollbar-width);
 `,[we(">",[Me("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),Ce("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),Ce("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),Ce("disabled",[we(">",[Me("scrollbar","pointer-events: none;")])]),we(">",[Me("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[tT(),we("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),cEe=Object.assign(Object.assign({},nr.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Gm=lt({name:"Scrollbar",props:cEe,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedRtlRef:n}=tn(e),i=Eo("Scrollbar",n,t),a=xe(null),o=xe(null),s=xe(null),l=xe(null),u=xe(null),c=xe(null),f=xe(null),d=xe(null),h=xe(null),v=xe(null),p=xe(null),g=xe(0),m=xe(0),y=xe(!1),x=xe(!1);let b=!1,w=!1,S,C,E=0,A=0,M=0,D=0;const R=$xe(),L=nr("Scrollbar","-scrollbar",uEe,pE,e,t),k=me(()=>{const{value:ue}=d,{value:Pe}=c,{value:Je}=v;return ue===null||Pe===null||Je===null?0:Math.min(ue,Je*ue/Pe+hu(L.value.self.width)*1.5)}),O=me(()=>`${k.value}px`),F=me(()=>{const{value:ue}=h,{value:Pe}=f,{value:Je}=p;return ue===null||Pe===null||Je===null?0:Je*ue/Pe+hu(L.value.self.height)*1.5}),H=me(()=>`${F.value}px`),V=me(()=>{const{value:ue}=d,{value:Pe}=g,{value:Je}=c,{value:bt}=v;if(ue===null||Je===null||bt===null)return 0;{const Tt=Je-ue;return Tt?Pe/Tt*(bt-k.value):0}}),U=me(()=>`${V.value}px`),K=me(()=>{const{value:ue}=h,{value:Pe}=m,{value:Je}=f,{value:bt}=p;if(ue===null||Je===null||bt===null)return 0;{const Tt=Je-ue;return Tt?Pe/Tt*(bt-F.value):0}}),q=me(()=>`${K.value}px`),N=me(()=>{const{value:ue}=d,{value:Pe}=c;return ue!==null&&Pe!==null&&Pe>ue}),W=me(()=>{const{value:ue}=h,{value:Pe}=f;return ue!==null&&Pe!==null&&Pe>ue}),j=me(()=>{const{trigger:ue}=e;return ue==="none"||y.value}),Z=me(()=>{const{trigger:ue}=e;return ue==="none"||x.value}),ve=me(()=>{const{container:ue}=e;return ue?ue():o.value}),Te=me(()=>{const{content:ue}=e;return ue?ue():s.value}),Se=(ue,Pe)=>{if(!e.scrollable)return;if(typeof ue=="number"){J(ue,Pe??0,0,!1,"auto");return}const{left:Je,top:bt,index:Tt,elSize:Bt,position:Gt,behavior:Jt,el:Gr,debounce:mn=!0}=ue;(Je!==void 0||bt!==void 0)&&J(Je??0,bt??0,0,!1,Jt),Gr!==void 0?J(0,Gr.offsetTop,Gr.offsetHeight,mn,Jt):Tt!==void 0&&Bt!==void 0?J(0,Tt*Bt,Bt,mn,Jt):Gt==="bottom"?J(0,Number.MAX_SAFE_INTEGER,0,!1,Jt):Gt==="top"&&J(0,0,0,!1,Jt)},te=Yxe(()=>{e.container||Se({top:g.value,left:m.value})}),pe=()=>{te.isDeactivated||Xe()},Re=ue=>{if(te.isDeactivated)return;const{onResize:Pe}=e;Pe&&Pe(ue),Xe()},z=(ue,Pe)=>{if(!e.scrollable)return;const{value:Je}=ve;Je&&(typeof ue=="object"?Je.scrollBy(ue):Je.scrollBy(ue,Pe||0))};function J(ue,Pe,Je,bt,Tt){const{value:Bt}=ve;if(Bt){if(bt){const{scrollTop:Gt,offsetHeight:Jt}=Bt;if(Pe>Gt){Pe+Je<=Gt+Jt||Bt.scrollTo({left:ue,top:Pe+Je-Jt,behavior:Tt});return}}Bt.scrollTo({left:ue,top:Pe,behavior:Tt})}}function se(){Le(),fe(),Xe()}function he(){_e()}function _e(){ge(),$e()}function ge(){C!==void 0&&window.clearTimeout(C),C=window.setTimeout(()=>{x.value=!1},e.duration)}function $e(){S!==void 0&&window.clearTimeout(S),S=window.setTimeout(()=>{y.value=!1},e.duration)}function Le(){S!==void 0&&window.clearTimeout(S),y.value=!0}function fe(){C!==void 0&&window.clearTimeout(C),x.value=!0}function de(ue){const{onScroll:Pe}=e;Pe&&Pe(ue),Ve()}function Ve(){const{value:ue}=ve;ue&&(g.value=ue.scrollTop,m.value=ue.scrollLeft*(i?.value?-1:1))}function Ge(){const{value:ue}=Te;ue&&(c.value=ue.offsetHeight,f.value=ue.offsetWidth);const{value:Pe}=ve;Pe&&(d.value=Pe.offsetHeight,h.value=Pe.offsetWidth);const{value:Je}=u,{value:bt}=l;Je&&(p.value=Je.offsetWidth),bt&&(v.value=bt.offsetHeight)}function ke(){const{value:ue}=ve;ue&&(g.value=ue.scrollTop,m.value=ue.scrollLeft*(i?.value?-1:1),d.value=ue.offsetHeight,h.value=ue.offsetWidth,c.value=ue.scrollHeight,f.value=ue.scrollWidth);const{value:Pe}=u,{value:Je}=l;Pe&&(p.value=Pe.offsetWidth),Je&&(v.value=Je.offsetHeight)}function Xe(){e.scrollable&&(e.useUnifiedContainer?ke():(Ge(),Ve()))}function gt(ue){var Pe;return!(!((Pe=a.value)===null||Pe===void 0)&&Pe.contains(sm(ue)))}function Kt(ue){ue.preventDefault(),ue.stopPropagation(),w=!0,fn("mousemove",window,Nt,!0),fn("mouseup",window,Sr,!0),A=m.value,M=i?.value?window.innerWidth-ue.clientX:ue.clientX}function Nt(ue){if(!w)return;S!==void 0&&window.clearTimeout(S),C!==void 0&&window.clearTimeout(C);const{value:Pe}=h,{value:Je}=f,{value:bt}=F;if(Pe===null||Je===null)return;const Bt=(i?.value?window.innerWidth-ue.clientX-M:ue.clientX-M)*(Je-Pe)/(Pe-bt),Gt=Je-Pe;let Jt=A+Bt;Jt=Math.min(Gt,Jt),Jt=Math.max(Jt,0);const{value:Gr}=ve;if(Gr){Gr.scrollLeft=Jt*(i?.value?-1:1);const{internalOnUpdateScrollLeft:mn}=e;mn&&mn(Jt)}}function Sr(ue){ue.preventDefault(),ue.stopPropagation(),an("mousemove",window,Nt,!0),an("mouseup",window,Sr,!0),w=!1,Xe(),gt(ue)&&_e()}function Lt(ue){ue.preventDefault(),ue.stopPropagation(),b=!0,fn("mousemove",window,er,!0),fn("mouseup",window,yr,!0),E=g.value,D=ue.clientY}function er(ue){if(!b)return;S!==void 0&&window.clearTimeout(S),C!==void 0&&window.clearTimeout(C);const{value:Pe}=d,{value:Je}=c,{value:bt}=k;if(Pe===null||Je===null)return;const Bt=(ue.clientY-D)*(Je-Pe)/(Pe-bt),Gt=Je-Pe;let Jt=E+Bt;Jt=Math.min(Gt,Jt),Jt=Math.max(Jt,0);const{value:Gr}=ve;Gr&&(Gr.scrollTop=Jt)}function yr(ue){ue.preventDefault(),ue.stopPropagation(),an("mousemove",window,er,!0),an("mouseup",window,yr,!0),b=!1,Xe(),gt(ue)&&_e()}eo(()=>{const{value:ue}=W,{value:Pe}=N,{value:Je}=t,{value:bt}=u,{value:Tt}=l;bt&&(ue?bt.classList.remove(`${Je}-scrollbar-rail--disabled`):bt.classList.add(`${Je}-scrollbar-rail--disabled`)),Tt&&(Pe?Tt.classList.remove(`${Je}-scrollbar-rail--disabled`):Tt.classList.add(`${Je}-scrollbar-rail--disabled`))}),Vn(()=>{e.container||Xe()}),Li(()=>{S!==void 0&&window.clearTimeout(S),C!==void 0&&window.clearTimeout(C),an("mousemove",window,er,!0),an("mouseup",window,yr,!0)});const ar=me(()=>{const{common:{cubicBezierEaseInOut:ue},self:{color:Pe,colorHover:Je,height:bt,width:Tt,borderRadius:Bt,railInsetHorizontalTop:Gt,railInsetHorizontalBottom:Jt,railInsetVerticalRight:Gr,railInsetVerticalLeft:mn,railColor:Jr}}=L.value,{top:di,right:Oi,bottom:Fi,left:Ki}=Ha(Gt),{top:xi,right:Zi,bottom:qi,left:Ie}=Ha(Jt),{top:et,right:X,bottom:oe,left:ee}=Ha(i?.value?DH(Gr):Gr),{top:re,right:le,bottom:ce,left:Ne}=Ha(i?.value?DH(mn):mn);return{"--n-scrollbar-bezier":ue,"--n-scrollbar-color":Pe,"--n-scrollbar-color-hover":Je,"--n-scrollbar-border-radius":Bt,"--n-scrollbar-width":Tt,"--n-scrollbar-height":bt,"--n-scrollbar-rail-top-horizontal-top":di,"--n-scrollbar-rail-right-horizontal-top":Oi,"--n-scrollbar-rail-bottom-horizontal-top":Fi,"--n-scrollbar-rail-left-horizontal-top":Ki,"--n-scrollbar-rail-top-horizontal-bottom":xi,"--n-scrollbar-rail-right-horizontal-bottom":Zi,"--n-scrollbar-rail-bottom-horizontal-bottom":qi,"--n-scrollbar-rail-left-horizontal-bottom":Ie,"--n-scrollbar-rail-top-vertical-right":et,"--n-scrollbar-rail-right-vertical-right":X,"--n-scrollbar-rail-bottom-vertical-right":oe,"--n-scrollbar-rail-left-vertical-right":ee,"--n-scrollbar-rail-top-vertical-left":re,"--n-scrollbar-rail-right-vertical-left":le,"--n-scrollbar-rail-bottom-vertical-left":ce,"--n-scrollbar-rail-left-vertical-left":Ne,"--n-scrollbar-rail-color":Jr}}),_t=r?ti("scrollbar",void 0,ar,e):void 0;return Object.assign(Object.assign({},{scrollTo:Se,scrollBy:z,sync:Xe,syncUnifiedContainer:ke,handleMouseEnterWrapper:se,handleMouseLeaveWrapper:he}),{mergedClsPrefix:t,rtlEnabled:i,containerScrollTop:g,wrapperRef:a,containerRef:o,contentRef:s,yRailRef:l,xRailRef:u,needYBar:N,needXBar:W,yBarSizePx:O,xBarSizePx:H,yBarTopPx:U,xBarLeftPx:q,isShowXBar:j,isShowYBar:Z,isIos:R,handleScroll:de,handleContentResize:pe,handleContainerResize:Re,handleYScrollMouseDown:Lt,handleXScrollMouseDown:Kt,cssVars:r?void 0:ar,themeClass:_t?.themeClass,onRender:_t?.onRender})},render(){var e;const{$slots:t,mergedClsPrefix:r,triggerDisplayManually:n,rtlEnabled:i,internalHoistYRail:a,yPlacement:o,xPlacement:s,xScrollable:l}=this;if(!this.scrollable)return(e=t.default)===null||e===void 0?void 0:e.call(t);const u=this.trigger==="none",c=(h,v)=>I("div",{ref:"yRailRef",class:[`${r}-scrollbar-rail`,`${r}-scrollbar-rail--vertical`,`${r}-scrollbar-rail--vertical--${o}`,h],"data-scrollbar-rail":!0,style:[v||"",this.verticalRailStyle],"aria-hidden":!0},I(u?d3:vs,u?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?I("div",{class:`${r}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),f=()=>{var h,v;return(h=this.onRender)===null||h===void 0||h.call(this),I("div",Us(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${r}-scrollbar`,this.themeClass,i&&`${r}-scrollbar--rtl`],style:this.cssVars,onMouseenter:n?void 0:this.handleMouseEnterWrapper,onMouseleave:n?void 0:this.handleMouseLeaveWrapper}),[this.container?(v=t.default)===null||v===void 0?void 0:v.call(t):I("div",{role:"none",ref:"containerRef",class:[`${r}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},I(bf,{onResize:this.handleContentResize},{default:()=>I("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${r}-scrollbar-content`,this.contentClass]},t)})),a?null:c(void 0,void 0),l&&I("div",{ref:"xRailRef",class:[`${r}-scrollbar-rail`,`${r}-scrollbar-rail--horizontal`,`${r}-scrollbar-rail--horizontal--${s}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},I(u?d3:vs,u?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?I("div",{class:`${r}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:i?this.xBarLeftPx:void 0,left:i?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},d=this.container?f():I(bf,{onResize:this.handleContainerResize},{default:f});return a?I(Dr,null,d,c(this.themeClass,this.cssVars)):d}}),cQ=Gm;function x7(e){return Array.isArray(e)?e:[e]}const S3={STOP:"STOP"};function fQ(e,t){const r=t(e);e.children!==void 0&&r!==S3.STOP&&e.children.forEach(n=>fQ(n,t))}function fEe(e,t={}){const{preserveGroup:r=!1}=t,n=[],i=r?o=>{o.isLeaf||(n.push(o.key),a(o.children))}:o=>{o.isLeaf||(o.isGroup||n.push(o.key),a(o.children))};function a(o){o.forEach(i)}return a(e),n}function dEe(e,t){const{isLeaf:r}=e;return r!==void 0?r:!t(e)}function hEe(e){return e.children}function vEe(e){return e.key}function pEe(){return!1}function gEe(e,t){const{isLeaf:r}=e;return!(r===!1&&!Array.isArray(t(e)))}function mEe(e){return e.disabled===!0}function yEe(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function cP(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function fP(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function xEe(e,t){const r=new Set(e);return t.forEach(n=>{r.has(n)||r.add(n)}),Array.from(r)}function _Ee(e,t){const r=new Set(e);return t.forEach(n=>{r.has(n)&&r.delete(n)}),Array.from(r)}function bEe(e){return e?.type==="group"}function wEe(e){const t=new Map;return e.forEach((r,n)=>{t.set(r.key,n)}),r=>{var n;return(n=t.get(r))!==null&&n!==void 0?n:null}}class SEe extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function CEe(e,t,r,n){return rT(t.concat(e),r,n,!1)}function TEe(e,t){const r=new Set;return e.forEach(n=>{const i=t.treeNodeMap.get(n);if(i!==void 0){let a=i.parent;for(;a!==null&&!(a.disabled||r.has(a.key));)r.add(a.key),a=a.parent}}),r}function AEe(e,t,r,n){const i=rT(t,r,n,!1),a=rT(e,r,n,!0),o=TEe(e,r),s=[];return i.forEach(l=>{(a.has(l)||o.has(l))&&s.push(l)}),s.forEach(l=>i.delete(l)),i}function dP(e,t){const{checkedKeys:r,keysToCheck:n,keysToUncheck:i,indeterminateKeys:a,cascade:o,leafOnly:s,checkStrategy:l,allowNotLoaded:u}=e;if(!o)return n!==void 0?{checkedKeys:xEe(r,n),indeterminateKeys:Array.from(a)}:i!==void 0?{checkedKeys:_Ee(r,i),indeterminateKeys:Array.from(a)}:{checkedKeys:Array.from(r),indeterminateKeys:Array.from(a)};const{levelTreeNodeMap:c}=t;let f;i!==void 0?f=AEe(i,r,t,u):n!==void 0?f=CEe(n,r,t,u):f=rT(r,t,u,!1);const d=l==="parent",h=l==="child"||s,v=f,p=new Set,g=Math.max.apply(null,Array.from(c.keys()));for(let m=g;m>=0;m-=1){const y=m===0,x=c.get(m);for(const b of x){if(b.isLeaf)continue;const{key:w,shallowLoaded:S}=b;if(h&&S&&b.children.forEach(M=>{!M.disabled&&!M.isLeaf&&M.shallowLoaded&&v.has(M.key)&&v.delete(M.key)}),b.disabled||!S)continue;let C=!0,E=!1,A=!0;for(const M of b.children){const D=M.key;if(!M.disabled){if(A&&(A=!1),v.has(D))E=!0;else if(p.has(D)){E=!0,C=!1;break}else if(C=!1,E)break}}C&&!A?(d&&b.children.forEach(M=>{!M.disabled&&v.has(M.key)&&v.delete(M.key)}),v.add(w)):E&&p.add(w),y&&h&&v.has(w)&&v.delete(w)}}return{checkedKeys:Array.from(v),indeterminateKeys:Array.from(p)}}function rT(e,t,r,n){const{treeNodeMap:i,getChildren:a}=t,o=new Set,s=new Set(e);return e.forEach(l=>{const u=i.get(l);u!==void 0&&fQ(u,c=>{if(c.disabled)return S3.STOP;const{key:f}=c;if(!o.has(f)&&(o.add(f),s.add(f),yEe(c.rawNode,a))){if(n)return S3.STOP;if(!r)throw new SEe}})}),s}function EEe(e,{includeGroup:t=!1,includeSelf:r=!0},n){var i;const a=n.treeNodeMap;let o=e==null?null:(i=a.get(e))!==null&&i!==void 0?i:null;const s={keyPath:[],treeNodePath:[],treeNode:o};if(o?.ignored)return s.treeNode=null,s;for(;o;)!o.ignored&&(t||!o.isGroup)&&s.treeNodePath.push(o),o=o.parent;return s.treeNodePath.reverse(),r||s.treeNodePath.pop(),s.keyPath=s.treeNodePath.map(l=>l.key),s}function MEe(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function DEe(e,t){const r=e.siblings,n=r.length,{index:i}=e;return t?r[(i+1)%n]:i===r.length-1?null:r[i+1]}function _7(e,t,{loop:r=!1,includeDisabled:n=!1}={}){const i=t==="prev"?PEe:DEe,a={reverse:t==="prev"};let o=!1,s=null;function l(u){if(u!==null){if(u===e){if(!o)o=!0;else if(!e.disabled&&!e.isGroup){s=e;return}}else if((!u.disabled||n)&&!u.ignored&&!u.isGroup){s=u;return}if(u.isGroup){const c=m5(u,a);c!==null?s=c:l(i(u,r))}else{const c=i(u,!1);if(c!==null)l(c);else{const f=REe(u);f?.isGroup?l(i(f,r)):r&&l(i(u,!0))}}}}return l(e),s}function PEe(e,t){const r=e.siblings,n=r.length,{index:i}=e;return t?r[(i-1+n)%n]:i===0?null:r[i-1]}function REe(e){return e.parent}function m5(e,t={}){const{reverse:r=!1}=t,{children:n}=e;if(n){const{length:i}=n,a=r?i-1:0,o=r?-1:i,s=r?-1:1;for(let l=a;l!==o;l+=s){const u=n[l];if(!u.disabled&&!u.ignored)if(u.isGroup){const c=m5(u,t);if(c!==null)return c}else return u}}return null}const LEe={getChild(){return this.ignored?null:m5(this)},getParent(){const{parent:e}=this;return e?.isGroup?e.getParent():e},getNext(e={}){return _7(this,"next",e)},getPrev(e={}){return _7(this,"prev",e)}};function IEe(e,t){const r=t?new Set(t):void 0,n=[];function i(a){a.forEach(o=>{n.push(o),!(o.isLeaf||!o.children||o.ignored)&&(o.isGroup||r===void 0||r.has(o.key))&&i(o.children)})}return i(e),n}function kEe(e,t){const r=e.key;for(;t;){if(t.key===r)return!0;t=t.parent}return!1}function dQ(e,t,r,n,i,a=null,o=0){const s=[];return e.forEach((l,u)=>{var c;const f=Object.create(n);if(f.rawNode=l,f.siblings=s,f.level=o,f.index=u,f.isFirstChild=u===0,f.isLastChild=u+1===e.length,f.parent=a,!f.ignored){const d=i(l);Array.isArray(d)&&(f.children=dQ(d,t,r,n,i,f,o+1))}s.push(f),t.set(f.key,f),r.has(o)||r.set(o,[]),(c=r.get(o))===null||c===void 0||c.push(f)}),s}function gE(e,t={}){var r;const n=new Map,i=new Map,{getDisabled:a=mEe,getIgnored:o=pEe,getIsGroup:s=bEe,getKey:l=vEe}=t,u=(r=t.getChildren)!==null&&r!==void 0?r:hEe,c=t.ignoreEmptyChildren?b=>{const w=u(b);return Array.isArray(w)?w.length?w:null:w}:u,f=Object.assign({get key(){return l(this.rawNode)},get disabled(){return a(this.rawNode)},get isGroup(){return s(this.rawNode)},get isLeaf(){return dEe(this.rawNode,c)},get shallowLoaded(){return gEe(this.rawNode,c)},get ignored(){return o(this.rawNode)},contains(b){return kEe(this,b)}},LEe),d=dQ(e,n,i,f,c);function h(b){if(b==null)return null;const w=n.get(b);return w&&!w.isGroup&&!w.ignored?w:null}function v(b){if(b==null)return null;const w=n.get(b);return w&&!w.ignored?w:null}function p(b,w){const S=v(b);return S?S.getPrev(w):null}function g(b,w){const S=v(b);return S?S.getNext(w):null}function m(b){const w=v(b);return w?w.getParent():null}function y(b){const w=v(b);return w?w.getChild():null}const x={treeNodes:d,treeNodeMap:n,levelTreeNodeMap:i,maxLevel:Math.max(...i.keys()),getChildren:c,getFlattenedNodes(b){return IEe(d,b)},getNode:h,getPrev:p,getNext:g,getParent:m,getChild:y,getFirstAvailableNode(){return MEe(d)},getPath(b,w={}){return EEe(b,w,x)},getCheckedKeys(b,w={}){const{cascade:S=!0,leafOnly:C=!1,checkStrategy:E="all",allowNotLoaded:A=!1}=w;return dP({checkedKeys:cP(b),indeterminateKeys:fP(b),cascade:S,leafOnly:C,checkStrategy:E,allowNotLoaded:A},x)},check(b,w,S={}){const{cascade:C=!0,leafOnly:E=!1,checkStrategy:A="all",allowNotLoaded:M=!1}=S;return dP({checkedKeys:cP(w),indeterminateKeys:fP(w),keysToCheck:b==null?[]:x7(b),cascade:C,leafOnly:E,checkStrategy:A,allowNotLoaded:M},x)},uncheck(b,w,S={}){const{cascade:C=!0,leafOnly:E=!1,checkStrategy:A="all",allowNotLoaded:M=!1}=S;return dP({checkedKeys:cP(w),indeterminateKeys:fP(w),keysToUncheck:b==null?[]:x7(b),cascade:C,leafOnly:E,checkStrategy:A,allowNotLoaded:M},x)},getNonLeafKeys(b={}){return fEe(d,b)}};return x}const OEe={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function hQ(e){const{textColorDisabled:t,iconColor:r,textColor2:n,fontSizeTiny:i,fontSizeSmall:a,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:l}=e;return Object.assign(Object.assign({},OEe),{fontSizeTiny:i,fontSizeSmall:a,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:l,textColor:t,iconColor:r,extraTextColor:n})}const mE={name:"Empty",common:$n,self:hQ},qp={name:"Empty",common:Ct,self:hQ},FEe=ie("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[Me("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[we("+",[Me("description",`
 margin-top: 8px;
 `)])]),Me("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),Me("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),NEe=Object.assign(Object.assign({},nr.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),vQ=lt({name:"Empty",props:NEe,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedComponentPropsRef:n}=tn(e),i=nr("Empty","-empty",FEe,mE,e,t),{localeRef:a}=Vm("Empty"),o=me(()=>{var c,f,d;return(c=e.description)!==null&&c!==void 0?c:(d=(f=n?.value)===null||f===void 0?void 0:f.Empty)===null||d===void 0?void 0:d.description}),s=me(()=>{var c,f;return((f=(c=n?.value)===null||c===void 0?void 0:c.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>I(VAe,null))}),l=me(()=>{const{size:c}=e,{common:{cubicBezierEaseInOut:f},self:{[tt("iconSize",c)]:d,[tt("fontSize",c)]:h,textColor:v,iconColor:p,extraTextColor:g}}=i.value;return{"--n-icon-size":d,"--n-font-size":h,"--n-bezier":f,"--n-text-color":v,"--n-icon-color":p,"--n-extra-text-color":g}}),u=r?ti("empty",me(()=>{let c="";const{size:f}=e;return c+=f[0],c}),l,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:s,localizedDescription:me(()=>o.value||a.value.description),cssVars:r?void 0:l,themeClass:u?.themeClass,onRender:u?.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:r}=this;return r?.(),I("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?I("div",{class:`${t}-empty__icon`},e.icon?e.icon():I(Yr,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?I("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?I("div",{class:`${t}-empty__extra`},e.extra()):null)}}),BEe={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function pQ(e){const{borderRadius:t,popoverColor:r,textColor3:n,dividerColor:i,textColor2:a,primaryColorPressed:o,textColorDisabled:s,primaryColor:l,opacityDisabled:u,hoverColor:c,fontSizeTiny:f,fontSizeSmall:d,fontSizeMedium:h,fontSizeLarge:v,fontSizeHuge:p,heightTiny:g,heightSmall:m,heightMedium:y,heightLarge:x,heightHuge:b}=e;return Object.assign(Object.assign({},BEe),{optionFontSizeTiny:f,optionFontSizeSmall:d,optionFontSizeMedium:h,optionFontSizeLarge:v,optionFontSizeHuge:p,optionHeightTiny:g,optionHeightSmall:m,optionHeightMedium:y,optionHeightLarge:x,optionHeightHuge:b,borderRadius:t,color:r,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:a,optionTextColorPressed:o,optionTextColorDisabled:s,optionTextColorActive:l,optionOpacityDisabled:u,optionCheckColor:l,optionColorPending:c,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:c,actionTextColor:a,loadingColor:l})}const y5={name:"InternalSelectMenu",common:$n,peers:{Scrollbar:pE,Empty:mE},self:pQ},db={name:"InternalSelectMenu",common:Ct,peers:{Scrollbar:_s,Empty:qp},self:pQ},b7=lt({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:r,nodePropsRef:n}=rr(qO);return{labelField:r,nodeProps:n,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:r,nodeProps:n,tmNode:{rawNode:i}}=this,a=n?.(i),o=t?t(i,!1):Ba(i[this.labelField],i,!1),s=I("div",Object.assign({},a,{class:[`${e}-base-select-group-header`,a?.class]}),o);return i.render?i.render({node:s,option:i}):r?r({node:s,option:i,selected:!1}):s}});function zEe(e,t){return I(vs,{name:"fade-in-scale-up-transition"},{default:()=>e?I(Yr,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>I(BAe)}):null})}const w7=lt({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:r,multipleRef:n,valueSetRef:i,renderLabelRef:a,renderOptionRef:o,labelFieldRef:s,valueFieldRef:l,showCheckmarkRef:u,nodePropsRef:c,handleOptionClick:f,handleOptionMouseEnter:d}=rr(qO),h=Tn(()=>{const{value:m}=r;return m?e.tmNode.key===m.key:!1});function v(m){const{tmNode:y}=e;y.disabled||f(m,y)}function p(m){const{tmNode:y}=e;y.disabled||d(m,y)}function g(m){const{tmNode:y}=e,{value:x}=h;y.disabled||x||d(m,y)}return{multiple:n,isGrouped:Tn(()=>{const{tmNode:m}=e,{parent:y}=m;return y&&y.rawNode.type==="group"}),showCheckmark:u,nodeProps:c,isPending:h,isSelected:Tn(()=>{const{value:m}=t,{value:y}=n;if(m===null)return!1;const x=e.tmNode.rawNode[l.value];if(y){const{value:b}=i;return b.has(x)}else return m===x}),labelField:s,renderLabel:a,renderOption:o,handleMouseMove:g,handleMouseEnter:p,handleClick:v}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:r,isPending:n,isGrouped:i,showCheckmark:a,nodeProps:o,renderOption:s,renderLabel:l,handleClick:u,handleMouseEnter:c,handleMouseMove:f}=this,d=zEe(r,e),h=l?[l(t,r),a&&d]:[Ba(t[this.labelField],t,r),a&&d],v=o?.(t),p=I("div",Object.assign({},v,{class:[`${e}-base-select-option`,t.class,v?.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:r,[`${e}-base-select-option--grouped`]:i,[`${e}-base-select-option--pending`]:n,[`${e}-base-select-option--show-checkmark`]:a}],style:[v?.style||"",t.style||""],onClick:xx([u,v?.onClick]),onMouseenter:xx([c,v?.onMouseenter]),onMousemove:xx([f,v?.onMousemove])}),I("div",{class:`${e}-base-select-option__content`},h));return t.render?t.render({node:p,option:t,selected:r}):s?s({node:p,option:t,selected:r}):p}}),{cubicBezierEaseIn:S7,cubicBezierEaseOut:C7}=Dh;function Um({transformOrigin:e="inherit",duration:t=".2s",enterScale:r=".9",originalTransform:n="",originalTransition:i=""}={}){return[we("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${t} ${S7}, transform ${t} ${S7} ${i&&`,${i}`}`}),we("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${t} ${C7}, transform ${t} ${C7} ${i&&`,${i}`}`}),we("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${n} scale(${r})`}),we("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${n} scale(1)`})]}const HEe=ie("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[ie("scrollbar",`
 max-height: var(--n-height);
 `),ie("virtual-list",`
 max-height: var(--n-height);
 `),ie("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[Me("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),ie("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),ie("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),Me("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),Me("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),Me("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),Me("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),ie("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),ie("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[Ce("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),we("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),we("&:active",`
 color: var(--n-option-text-color-pressed);
 `),Ce("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),Ce("pending",[we("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),Ce("selected",`
 color: var(--n-option-text-color-active);
 `,[we("&::before",`
 background-color: var(--n-option-color-active);
 `),Ce("pending",[we("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),Ce("disabled",`
 cursor: not-allowed;
 `,[zn("selected",`
 color: var(--n-option-text-color-disabled);
 `),Ce("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),Me("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Um({enterScale:"0.5"})])])]),gQ=lt({name:"InternalSelectMenu",props:Object.assign(Object.assign({},nr.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=tn(e),n=Eo("InternalSelectMenu",r,t),i=nr("InternalSelectMenu","-internal-select-menu",HEe,y5,e,rt(e,"clsPrefix")),a=xe(null),o=xe(null),s=xe(null),l=me(()=>e.treeMate.getFlattenedNodes()),u=me(()=>wEe(l.value)),c=xe(null);function f(){const{treeMate:N}=e;let W=null;const{value:j}=e;j===null?W=N.getFirstAvailableNode():(e.multiple?W=N.getNode((j||[])[(j||[]).length-1]):W=N.getNode(j),(!W||W.disabled)&&(W=N.getFirstAvailableNode())),k(W||null)}function d(){const{value:N}=c;N&&!e.treeMate.getNode(N.key)&&(c.value=null)}let h;hn(()=>e.show,N=>{N?h=hn(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?f():d(),Sa(O)):d()},{immediate:!0}):h?.()},{immediate:!0}),Li(()=>{h?.()});const v=me(()=>hu(i.value.self[tt("optionHeight",e.size)])),p=me(()=>Ha(i.value.self[tt("padding",e.size)])),g=me(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),m=me(()=>{const N=l.value;return N&&N.length===0});function y(N){const{onToggle:W}=e;W&&W(N)}function x(N){const{onScroll:W}=e;W&&W(N)}function b(N){var W;(W=s.value)===null||W===void 0||W.sync(),x(N)}function w(){var N;(N=s.value)===null||N===void 0||N.sync()}function S(){const{value:N}=c;return N||null}function C(N,W){W.disabled||k(W,!1)}function E(N,W){W.disabled||y(W)}function A(N){var W;Rl(N,"action")||(W=e.onKeyup)===null||W===void 0||W.call(e,N)}function M(N){var W;Rl(N,"action")||(W=e.onKeydown)===null||W===void 0||W.call(e,N)}function D(N){var W;(W=e.onMousedown)===null||W===void 0||W.call(e,N),!e.focusable&&N.preventDefault()}function R(){const{value:N}=c;N&&k(N.getNext({loop:!0}),!0)}function L(){const{value:N}=c;N&&k(N.getPrev({loop:!0}),!0)}function k(N,W=!1){c.value=N,W&&O()}function O(){var N,W;const j=c.value;if(!j)return;const Z=u.value(j.key);Z!==null&&(e.virtualScroll?(N=o.value)===null||N===void 0||N.scrollTo({index:Z}):(W=s.value)===null||W===void 0||W.scrollTo({index:Z,elSize:v.value}))}function F(N){var W,j;!((W=a.value)===null||W===void 0)&&W.contains(N.target)&&((j=e.onFocus)===null||j===void 0||j.call(e,N))}function H(N){var W,j;!((W=a.value)===null||W===void 0)&&W.contains(N.relatedTarget)||(j=e.onBlur)===null||j===void 0||j.call(e,N)}wn(qO,{handleOptionMouseEnter:C,handleOptionClick:E,valueSetRef:g,pendingTmNodeRef:c,nodePropsRef:rt(e,"nodeProps"),showCheckmarkRef:rt(e,"showCheckmark"),multipleRef:rt(e,"multiple"),valueRef:rt(e,"value"),renderLabelRef:rt(e,"renderLabel"),renderOptionRef:rt(e,"renderOption"),labelFieldRef:rt(e,"labelField"),valueFieldRef:rt(e,"valueField")}),wn(Uq,a),Vn(()=>{const{value:N}=s;N&&N.sync()});const V=me(()=>{const{size:N}=e,{common:{cubicBezierEaseInOut:W},self:{height:j,borderRadius:Z,color:ve,groupHeaderTextColor:Te,actionDividerColor:Se,optionTextColorPressed:te,optionTextColor:pe,optionTextColorDisabled:Re,optionTextColorActive:z,optionOpacityDisabled:J,optionCheckColor:se,actionTextColor:he,optionColorPending:_e,optionColorActive:ge,loadingColor:$e,loadingSize:Le,optionColorActivePending:fe,[tt("optionFontSize",N)]:de,[tt("optionHeight",N)]:Ve,[tt("optionPadding",N)]:Ge}}=i.value;return{"--n-height":j,"--n-action-divider-color":Se,"--n-action-text-color":he,"--n-bezier":W,"--n-border-radius":Z,"--n-color":ve,"--n-option-font-size":de,"--n-group-header-text-color":Te,"--n-option-check-color":se,"--n-option-color-pending":_e,"--n-option-color-active":ge,"--n-option-color-active-pending":fe,"--n-option-height":Ve,"--n-option-opacity-disabled":J,"--n-option-text-color":pe,"--n-option-text-color-active":z,"--n-option-text-color-disabled":Re,"--n-option-text-color-pressed":te,"--n-option-padding":Ge,"--n-option-padding-left":Ha(Ge,"left"),"--n-option-padding-right":Ha(Ge,"right"),"--n-loading-color":$e,"--n-loading-size":Le}}),{inlineThemeDisabled:U}=e,K=U?ti("internal-select-menu",me(()=>e.size[0]),V,e):void 0,q={selfRef:a,next:R,prev:L,getPendingTmNode:S};return uJ(a,e.onResize),Object.assign({mergedTheme:i,mergedClsPrefix:t,rtlEnabled:n,virtualListRef:o,scrollbarRef:s,itemSize:v,padding:p,flattenedNodes:l,empty:m,virtualListContainer(){const{value:N}=o;return N?.listElRef},virtualListContent(){const{value:N}=o;return N?.itemsElRef},doScroll:x,handleFocusin:F,handleFocusout:H,handleKeyUp:A,handleKeyDown:M,handleMouseDown:D,handleVirtualListResize:w,handleVirtualListScroll:b,cssVars:U?void 0:V,themeClass:K?.themeClass,onRender:K?.onRender},q)},render(){const{$slots:e,virtualScroll:t,clsPrefix:r,mergedTheme:n,themeClass:i,onRender:a}=this;return a?.(),I("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${r}-base-select-menu`,this.rtlEnabled&&`${r}-base-select-menu--rtl`,i,this.multiple&&`${r}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Jn(e.header,o=>o&&I("div",{class:`${r}-base-select-menu__header`,"data-header":!0,key:"header"},o)),this.loading?I("div",{class:`${r}-base-select-menu__loading`},I($m,{clsPrefix:r,strokeWidth:20})):this.empty?I("div",{class:`${r}-base-select-menu__empty`,"data-empty":!0},Vs(e.empty,()=>[I(vQ,{theme:n.peers.Empty,themeOverrides:n.peerOverrides.Empty,size:this.size})])):I(Gm,{ref:"scrollbarRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?I(i5,{ref:"virtualListRef",class:`${r}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:o})=>o.isGroup?I(b7,{key:o.key,clsPrefix:r,tmNode:o}):o.ignored?null:I(w7,{clsPrefix:r,key:o.key,tmNode:o})}):I("div",{class:`${r}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(o=>o.isGroup?I(b7,{key:o.key,clsPrefix:r,tmNode:o}):I(w7,{clsPrefix:r,key:o.key,tmNode:o})))}),Jn(e.action,o=>o&&[I("div",{class:`${r}-base-select-menu__action`,"data-action":!0,key:"action"},o),I(eEe,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),VEe={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function mQ(e){const{boxShadow2:t,popoverColor:r,textColor2:n,borderRadius:i,fontSize:a,dividerColor:o}=e;return Object.assign(Object.assign({},VEe),{fontSize:a,borderRadius:i,color:r,dividerColor:o,textColor:n,boxShadow:t})}const Wm={name:"Popover",common:$n,self:mQ},Jp={name:"Popover",common:Ct,self:mQ},hP={top:"bottom",bottom:"top",left:"right",right:"left"},ha="var(--n-arrow-height) * 1.414",$Ee=we([ie("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[we(">",[ie("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),zn("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[zn("scrollable",[zn("show-header-or-footer","padding: var(--n-padding);")])]),Me("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),Me("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),Ce("scrollable, show-header-or-footer",[Me("content",`
 padding: var(--n-padding);
 `)])]),ie("popover-shared",`
 transform-origin: inherit;
 `,[ie("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[ie("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${ha});
 height: calc(${ha});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),we("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),we("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),we("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),we("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),ol("top-start",`
 top: calc(${ha} / -2);
 left: calc(${ef("top-start")} - var(--v-offset-left));
 `),ol("top",`
 top: calc(${ha} / -2);
 transform: translateX(calc(${ha} / -2)) rotate(45deg);
 left: 50%;
 `),ol("top-end",`
 top: calc(${ha} / -2);
 right: calc(${ef("top-end")} + var(--v-offset-left));
 `),ol("bottom-start",`
 bottom: calc(${ha} / -2);
 left: calc(${ef("bottom-start")} - var(--v-offset-left));
 `),ol("bottom",`
 bottom: calc(${ha} / -2);
 transform: translateX(calc(${ha} / -2)) rotate(45deg);
 left: 50%;
 `),ol("bottom-end",`
 bottom: calc(${ha} / -2);
 right: calc(${ef("bottom-end")} + var(--v-offset-left));
 `),ol("left-start",`
 left: calc(${ha} / -2);
 top: calc(${ef("left-start")} - var(--v-offset-top));
 `),ol("left",`
 left: calc(${ha} / -2);
 transform: translateY(calc(${ha} / -2)) rotate(45deg);
 top: 50%;
 `),ol("left-end",`
 left: calc(${ha} / -2);
 bottom: calc(${ef("left-end")} + var(--v-offset-top));
 `),ol("right-start",`
 right: calc(${ha} / -2);
 top: calc(${ef("right-start")} - var(--v-offset-top));
 `),ol("right",`
 right: calc(${ha} / -2);
 transform: translateY(calc(${ha} / -2)) rotate(45deg);
 top: 50%;
 `),ol("right-end",`
 right: calc(${ha} / -2);
 bottom: calc(${ef("right-end")} + var(--v-offset-top));
 `),...MAe({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const r=["right","left"].includes(t),n=r?"width":"height";return e.map(i=>{const a=i.split("-")[1]==="end",s=`calc((${`var(--v-target-${n}, 0px)`} - ${ha}) / 2)`,l=ef(i);return we(`[v-placement="${i}"] >`,[ie("popover-shared",[Ce("center-arrow",[ie("popover-arrow",`${t}: calc(max(${s}, ${l}) ${a?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function ef(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function ol(e,t){const r=e.split("-")[0],n=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return we(`[v-placement="${e}"] >`,[ie("popover-shared",`
 margin-${hP[r]}: var(--n-space);
 `,[Ce("show-arrow",`
 margin-${hP[r]}: var(--n-space-arrow);
 `),Ce("overlap",`
 margin: 0;
 `),gxe("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${hP[r]}: auto;
 ${n}
 `,[ie("popover-arrow",t)])])])}const yQ=Object.assign(Object.assign({},nr.props),{to:Ac.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function xQ({arrowClass:e,arrowStyle:t,arrowWrapperClass:r,arrowWrapperStyle:n,clsPrefix:i}){return I("div",{key:"__popover-arrow__",style:n,class:[`${i}-popover-arrow-wrapper`,r]},I("div",{class:[`${i}-popover-arrow`,e],style:t}))}const GEe=lt({name:"PopoverBody",inheritAttrs:!1,props:yQ,setup(e,{slots:t,attrs:r}){const{namespaceRef:n,mergedClsPrefixRef:i,inlineThemeDisabled:a}=tn(e),o=nr("Popover","-popover",$Ee,Wm,e,i),s=xe(null),l=rr("NPopover"),u=xe(null),c=xe(e.show),f=xe(!1);eo(()=>{const{show:C}=e;C&&!V_e()&&!e.internalDeactivateImmediately&&(f.value=!0)});const d=me(()=>{const{trigger:C,onClickoutside:E}=e,A=[],{positionManuallyRef:{value:M}}=l;return M||(C==="click"&&!E&&A.push([i_,b,void 0,{capture:!0}]),C==="hover"&&A.push([qxe,x])),E&&A.push([i_,b,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&f.value)&&A.push([om,e.show]),A}),h=me(()=>{const{common:{cubicBezierEaseInOut:C,cubicBezierEaseIn:E,cubicBezierEaseOut:A},self:{space:M,spaceArrow:D,padding:R,fontSize:L,textColor:k,dividerColor:O,color:F,boxShadow:H,borderRadius:V,arrowHeight:U,arrowOffset:K,arrowOffsetVertical:q}}=o.value;return{"--n-box-shadow":H,"--n-bezier":C,"--n-bezier-ease-in":E,"--n-bezier-ease-out":A,"--n-font-size":L,"--n-text-color":k,"--n-color":F,"--n-divider-color":O,"--n-border-radius":V,"--n-arrow-height":U,"--n-arrow-offset":K,"--n-arrow-offset-vertical":q,"--n-padding":R,"--n-space":M,"--n-space-arrow":D}}),v=me(()=>{const C=e.width==="trigger"?void 0:gi(e.width),E=[];C&&E.push({width:C});const{maxWidth:A,minWidth:M}=e;return A&&E.push({maxWidth:gi(A)}),M&&E.push({maxWidth:gi(M)}),a||E.push(h.value),E}),p=a?ti("popover",void 0,h,e):void 0;l.setBodyInstance({syncPosition:g}),Li(()=>{l.setBodyInstance(null)}),hn(rt(e,"show"),C=>{e.animated||(C?c.value=!0:c.value=!1)});function g(){var C;(C=s.value)===null||C===void 0||C.syncPosition()}function m(C){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(C)}function y(C){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(C)}function x(C){e.trigger==="hover"&&!w().contains(sm(C))&&l.handleMouseMoveOutside(C)}function b(C){(e.trigger==="click"&&!w().contains(sm(C))||e.onClickoutside)&&l.handleClickOutside(C)}function w(){return l.getTriggerElement()}wn(ub,u),wn(eE,null),wn(tE,null);function S(){if(p?.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&f.value))return null;let E;const A=l.internalRenderBodyRef.value,{value:M}=i;if(A)E=A([`${M}-popover-shared`,p?.themeClass.value,e.overlap&&`${M}-popover-shared--overlap`,e.showArrow&&`${M}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${M}-popover-shared--center-arrow`],u,v.value,m,y);else{const{value:D}=l.extraClassRef,{internalTrapFocus:R}=e,L=!f3(t.header)||!f3(t.footer),k=()=>{var O,F;const H=L?I(Dr,null,Jn(t.header,K=>K?I("div",{class:[`${M}-popover__header`,e.headerClass],style:e.headerStyle},K):null),Jn(t.default,K=>K?I("div",{class:[`${M}-popover__content`,e.contentClass],style:e.contentStyle},t):null),Jn(t.footer,K=>K?I("div",{class:[`${M}-popover__footer`,e.footerClass],style:e.footerStyle},K):null)):e.scrollable?(O=t.default)===null||O===void 0?void 0:O.call(t):I("div",{class:[`${M}-popover__content`,e.contentClass],style:e.contentStyle},t),V=e.scrollable?I(cQ,{contentClass:L?void 0:`${M}-popover__content ${(F=e.contentClass)!==null&&F!==void 0?F:""}`,contentStyle:L?void 0:e.contentStyle},{default:()=>H}):H,U=e.showArrow?xQ({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:M}):null;return[V,U]};E=I("div",Us({class:[`${M}-popover`,`${M}-popover-shared`,p?.themeClass.value,D.map(O=>`${M}-${O}`),{[`${M}-popover--scrollable`]:e.scrollable,[`${M}-popover--show-header-or-footer`]:L,[`${M}-popover--raw`]:e.raw,[`${M}-popover-shared--overlap`]:e.overlap,[`${M}-popover-shared--show-arrow`]:e.showArrow,[`${M}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:u,style:v.value,onKeydown:l.handleKeydown,onMouseenter:m,onMouseleave:y},r),R?I(lJ,{active:e.show,autoFocus:!0},{default:k}):k())}return _u(E,d.value)}return{displayed:f,namespace:n,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:Ac(e),followerEnabled:c,renderContentNode:S}},render(){return I(r5,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===Ac.tdkey},{default:()=>this.animated?I(vs,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),UEe=Object.keys(yQ),WEe={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function XEe(e,t,r){WEe[t].forEach(n=>{e.props?e.props=Object.assign({},e.props):e.props={};const i=e.props[n],a=r[n];i?e.props[n]=(...o)=>{i(...o),a(...o)}:e.props[n]=a})}const cm={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Ac.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},jEe=Object.assign(Object.assign(Object.assign({},nr.props),cm),{internalOnAfterLeave:Function,internalRenderBody:Function}),hb=lt({name:"Popover",inheritAttrs:!1,props:jEe,slots:Object,__popover__:!0,setup(e){const t=zm(),r=xe(null),n=me(()=>e.show),i=xe(e.defaultShow),a=bo(n,i),o=Tn(()=>e.disabled?!1:a.value),s=()=>{if(e.disabled)return!0;const{getDisabled:O}=e;return!!O?.()},l=()=>s()?!1:a.value,u=jC(e,["arrow","showArrow"]),c=me(()=>e.overlap?!1:u.value);let f=null;const d=xe(null),h=xe(null),v=Tn(()=>e.x!==void 0&&e.y!==void 0);function p(O){const{"onUpdate:show":F,onUpdateShow:H,onShow:V,onHide:U}=e;i.value=O,F&&ht(F,O),H&&ht(H,O),O&&V&&ht(V,!0),O&&U&&ht(U,!1)}function g(){f&&f.syncPosition()}function m(){const{value:O}=d;O&&(window.clearTimeout(O),d.value=null)}function y(){const{value:O}=h;O&&(window.clearTimeout(O),h.value=null)}function x(){const O=s();if(e.trigger==="focus"&&!O){if(l())return;p(!0)}}function b(){const O=s();if(e.trigger==="focus"&&!O){if(!l())return;p(!1)}}function w(){const O=s();if(e.trigger==="hover"&&!O){if(y(),d.value!==null||l())return;const F=()=>{p(!0),d.value=null},{delay:H}=e;H===0?F():d.value=window.setTimeout(F,H)}}function S(){const O=s();if(e.trigger==="hover"&&!O){if(m(),h.value!==null||!l())return;const F=()=>{p(!1),h.value=null},{duration:H}=e;H===0?F():h.value=window.setTimeout(F,H)}}function C(){S()}function E(O){var F;l()&&(e.trigger==="click"&&(m(),y(),p(!1)),(F=e.onClickoutside)===null||F===void 0||F.call(e,O))}function A(){if(e.trigger==="click"&&!s()){m(),y();const O=!l();p(O)}}function M(O){e.internalTrapFocus&&O.key==="Escape"&&(m(),y(),p(!1))}function D(O){i.value=O}function R(){var O;return(O=r.value)===null||O===void 0?void 0:O.targetRef}function L(O){f=O}return wn("NPopover",{getTriggerElement:R,handleKeydown:M,handleMouseEnter:w,handleMouseLeave:S,handleClickOutside:E,handleMouseMoveOutside:C,setBodyInstance:L,positionManuallyRef:v,isMountedRef:t,zIndexRef:rt(e,"zIndex"),extraClassRef:rt(e,"internalExtraClass"),internalRenderBodyRef:rt(e,"internalRenderBody")}),eo(()=>{a.value&&s()&&p(!1)}),{binderInstRef:r,positionManually:v,mergedShowConsideringDisabledProp:o,uncontrolledShow:i,mergedShowArrow:c,getMergedShow:l,setShow:D,handleClick:A,handleMouseEnter:w,handleMouseLeave:S,handleFocus:x,handleBlur:b,syncPosition:g}},render(){var e;const{positionManually:t,$slots:r}=this;let n,i=!1;if(!t&&(n=U_e(r,"trigger"),n)){n=bu(n),n=n.type===sb?I("span",[n]):n;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=n.type)===null||e===void 0)&&e.__popover__)i=!0,n.props||(n.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),n.props.internalSyncTargetWithParent=!0,n.props.internalInheritedEventHandlers?n.props.internalInheritedEventHandlers=[a,...n.props.internalInheritedEventHandlers]:n.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:o}=this,s=[a,...o],l={onBlur:u=>{s.forEach(c=>{c.onBlur(u)})},onFocus:u=>{s.forEach(c=>{c.onFocus(u)})},onClick:u=>{s.forEach(c=>{c.onClick(u)})},onMouseenter:u=>{s.forEach(c=>{c.onMouseenter(u)})},onMouseleave:u=>{s.forEach(c=>{c.onMouseleave(u)})}};XEe(n,o?"nested":t?"manual":this.trigger,l)}}return I(QO,{ref:"binderInstRef",syncTarget:!i,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?_u(I("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[rE,{enabled:a,zIndex:this.zIndex}]]):null,t?null:I(e5,null,{default:()=>n}),I(GEe,lm(this.$props,UEe,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var o,s;return(s=(o=this.$slots).default)===null||s===void 0?void 0:s.call(o)},header:()=>{var o,s;return(s=(o=this.$slots).header)===null||s===void 0?void 0:s.call(o)},footer:()=>{var o,s;return(s=(o=this.$slots).footer)===null||s===void 0?void 0:s.call(o)}})]}})}}),_Q={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"},bQ={name:"Tag",common:Ct,self(e){const{textColor2:t,primaryColorHover:r,primaryColorPressed:n,primaryColor:i,infoColor:a,successColor:o,warningColor:s,errorColor:l,baseColor:u,borderColor:c,tagColor:f,opacityDisabled:d,closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:p,closeColorHover:g,closeColorPressed:m,borderRadiusSmall:y,fontSizeMini:x,fontSizeTiny:b,fontSizeSmall:w,fontSizeMedium:S,heightMini:C,heightTiny:E,heightSmall:A,heightMedium:M,buttonColor2Hover:D,buttonColor2Pressed:R,fontWeightStrong:L}=e;return Object.assign(Object.assign({},_Q),{closeBorderRadius:y,heightTiny:C,heightSmall:E,heightMedium:A,heightLarge:M,borderRadius:y,opacityDisabled:d,fontSizeTiny:x,fontSizeSmall:b,fontSizeMedium:w,fontSizeLarge:S,fontWeightStrong:L,textColorCheckable:t,textColorHoverCheckable:t,textColorPressedCheckable:t,textColorChecked:u,colorCheckable:"#0000",colorHoverCheckable:D,colorPressedCheckable:R,colorChecked:i,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${c}`,textColor:t,color:f,colorBordered:"#0000",closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:p,closeColorHover:g,closeColorPressed:m,borderPrimary:`1px solid ${ut(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:ut(i,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:Hi(i,{lightness:.7}),closeIconColorHoverPrimary:Hi(i,{lightness:.7}),closeIconColorPressedPrimary:Hi(i,{lightness:.7}),closeColorHoverPrimary:ut(i,{alpha:.16}),closeColorPressedPrimary:ut(i,{alpha:.12}),borderInfo:`1px solid ${ut(a,{alpha:.3})}`,textColorInfo:a,colorInfo:ut(a,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:Hi(a,{alpha:.7}),closeIconColorHoverInfo:Hi(a,{alpha:.7}),closeIconColorPressedInfo:Hi(a,{alpha:.7}),closeColorHoverInfo:ut(a,{alpha:.16}),closeColorPressedInfo:ut(a,{alpha:.12}),borderSuccess:`1px solid ${ut(o,{alpha:.3})}`,textColorSuccess:o,colorSuccess:ut(o,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:Hi(o,{alpha:.7}),closeIconColorHoverSuccess:Hi(o,{alpha:.7}),closeIconColorPressedSuccess:Hi(o,{alpha:.7}),closeColorHoverSuccess:ut(o,{alpha:.16}),closeColorPressedSuccess:ut(o,{alpha:.12}),borderWarning:`1px solid ${ut(s,{alpha:.3})}`,textColorWarning:s,colorWarning:ut(s,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:Hi(s,{alpha:.7}),closeIconColorHoverWarning:Hi(s,{alpha:.7}),closeIconColorPressedWarning:Hi(s,{alpha:.7}),closeColorHoverWarning:ut(s,{alpha:.16}),closeColorPressedWarning:ut(s,{alpha:.11}),borderError:`1px solid ${ut(l,{alpha:.3})}`,textColorError:l,colorError:ut(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:Hi(l,{alpha:.7}),closeIconColorHoverError:Hi(l,{alpha:.7}),closeIconColorPressedError:Hi(l,{alpha:.7}),closeColorHoverError:ut(l,{alpha:.16}),closeColorPressedError:ut(l,{alpha:.12})})}};function YEe(e){const{textColor2:t,primaryColorHover:r,primaryColorPressed:n,primaryColor:i,infoColor:a,successColor:o,warningColor:s,errorColor:l,baseColor:u,borderColor:c,opacityDisabled:f,tagColor:d,closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:p,borderRadiusSmall:g,fontSizeMini:m,fontSizeTiny:y,fontSizeSmall:x,fontSizeMedium:b,heightMini:w,heightTiny:S,heightSmall:C,heightMedium:E,closeColorHover:A,closeColorPressed:M,buttonColor2Hover:D,buttonColor2Pressed:R,fontWeightStrong:L}=e;return Object.assign(Object.assign({},_Q),{closeBorderRadius:g,heightTiny:w,heightSmall:S,heightMedium:C,heightLarge:E,borderRadius:g,opacityDisabled:f,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:x,fontSizeLarge:b,fontWeightStrong:L,textColorCheckable:t,textColorHoverCheckable:t,textColorPressedCheckable:t,textColorChecked:u,colorCheckable:"#0000",colorHoverCheckable:D,colorPressedCheckable:R,colorChecked:i,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${c}`,textColor:t,color:d,colorBordered:"rgb(250, 250, 252)",closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:p,closeColorHover:A,closeColorPressed:M,borderPrimary:`1px solid ${ut(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:ut(i,{alpha:.12}),colorBorderedPrimary:ut(i,{alpha:.1}),closeIconColorPrimary:i,closeIconColorHoverPrimary:i,closeIconColorPressedPrimary:i,closeColorHoverPrimary:ut(i,{alpha:.12}),closeColorPressedPrimary:ut(i,{alpha:.18}),borderInfo:`1px solid ${ut(a,{alpha:.3})}`,textColorInfo:a,colorInfo:ut(a,{alpha:.12}),colorBorderedInfo:ut(a,{alpha:.1}),closeIconColorInfo:a,closeIconColorHoverInfo:a,closeIconColorPressedInfo:a,closeColorHoverInfo:ut(a,{alpha:.12}),closeColorPressedInfo:ut(a,{alpha:.18}),borderSuccess:`1px solid ${ut(o,{alpha:.3})}`,textColorSuccess:o,colorSuccess:ut(o,{alpha:.12}),colorBorderedSuccess:ut(o,{alpha:.1}),closeIconColorSuccess:o,closeIconColorHoverSuccess:o,closeIconColorPressedSuccess:o,closeColorHoverSuccess:ut(o,{alpha:.12}),closeColorPressedSuccess:ut(o,{alpha:.18}),borderWarning:`1px solid ${ut(s,{alpha:.35})}`,textColorWarning:s,colorWarning:ut(s,{alpha:.15}),colorBorderedWarning:ut(s,{alpha:.12}),closeIconColorWarning:s,closeIconColorHoverWarning:s,closeIconColorPressedWarning:s,closeColorHoverWarning:ut(s,{alpha:.12}),closeColorPressedWarning:ut(s,{alpha:.18}),borderError:`1px solid ${ut(l,{alpha:.23})}`,textColorError:l,colorError:ut(l,{alpha:.1}),colorBorderedError:ut(l,{alpha:.08}),closeIconColorError:l,closeIconColorHoverError:l,closeIconColorPressedError:l,closeColorHoverError:ut(l,{alpha:.12}),closeColorPressedError:ut(l,{alpha:.18})})}const KEe={common:$n,self:YEe},ZEe={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},qEe=ie("tag",`
 --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[Ce("strong",`
 font-weight: var(--n-font-weight-strong);
 `),Me("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),Me("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),Me("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),Me("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),Ce("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[Me("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),Me("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),Ce("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),Ce("icon, avatar",[Ce("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),Ce("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),Ce("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[zn("disabled",[we("&:hover","background-color: var(--n-color-hover-checkable);",[zn("checked","color: var(--n-text-color-hover-checkable);")]),we("&:active","background-color: var(--n-color-pressed-checkable);",[zn("checked","color: var(--n-text-color-pressed-checkable);")])]),Ce("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[zn("disabled",[we("&:hover","background-color: var(--n-color-checked-hover);"),we("&:active","background-color: var(--n-color-checked-pressed);")])])])]),JEe=Object.assign(Object.assign(Object.assign({},nr.props),ZEe),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),QEe="n-tag",vP=lt({name:"Tag",props:JEe,slots:Object,setup(e){const t=xe(null),{mergedBorderedRef:r,mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:a}=tn(e),o=nr("Tag","-tag",qEe,KEe,e,n);wn(QEe,{roundRef:rt(e,"round")});function s(){if(!e.disabled&&e.checkable){const{checked:h,onCheckedChange:v,onUpdateChecked:p,"onUpdate:checked":g}=e;p&&p(!h),g&&g(!h),v&&v(!h)}}function l(h){if(e.triggerClickOnClose||h.stopPropagation(),!e.disabled){const{onClose:v}=e;v&&ht(v,h)}}const u={setTextContent(h){const{value:v}=t;v&&(v.textContent=h)}},c=Eo("Tag",a,n),f=me(()=>{const{type:h,size:v,color:{color:p,textColor:g}={}}=e,{common:{cubicBezierEaseInOut:m},self:{padding:y,closeMargin:x,borderRadius:b,opacityDisabled:w,textColorCheckable:S,textColorHoverCheckable:C,textColorPressedCheckable:E,textColorChecked:A,colorCheckable:M,colorHoverCheckable:D,colorPressedCheckable:R,colorChecked:L,colorCheckedHover:k,colorCheckedPressed:O,closeBorderRadius:F,fontWeightStrong:H,[tt("colorBordered",h)]:V,[tt("closeSize",v)]:U,[tt("closeIconSize",v)]:K,[tt("fontSize",v)]:q,[tt("height",v)]:N,[tt("color",h)]:W,[tt("textColor",h)]:j,[tt("border",h)]:Z,[tt("closeIconColor",h)]:ve,[tt("closeIconColorHover",h)]:Te,[tt("closeIconColorPressed",h)]:Se,[tt("closeColorHover",h)]:te,[tt("closeColorPressed",h)]:pe}}=o.value,Re=Ha(x);return{"--n-font-weight-strong":H,"--n-avatar-size-override":`calc(${N} - 8px)`,"--n-bezier":m,"--n-border-radius":b,"--n-border":Z,"--n-close-icon-size":K,"--n-close-color-pressed":pe,"--n-close-color-hover":te,"--n-close-border-radius":F,"--n-close-icon-color":ve,"--n-close-icon-color-hover":Te,"--n-close-icon-color-pressed":Se,"--n-close-icon-color-disabled":ve,"--n-close-margin-top":Re.top,"--n-close-margin-right":Re.right,"--n-close-margin-bottom":Re.bottom,"--n-close-margin-left":Re.left,"--n-close-size":U,"--n-color":p||(r.value?V:W),"--n-color-checkable":M,"--n-color-checked":L,"--n-color-checked-hover":k,"--n-color-checked-pressed":O,"--n-color-hover-checkable":D,"--n-color-pressed-checkable":R,"--n-font-size":q,"--n-height":N,"--n-opacity-disabled":w,"--n-padding":y,"--n-text-color":g||j,"--n-text-color-checkable":S,"--n-text-color-checked":A,"--n-text-color-hover-checkable":C,"--n-text-color-pressed-checkable":E}}),d=i?ti("tag",me(()=>{let h="";const{type:v,size:p,color:{color:g,textColor:m}={}}=e;return h+=v[0],h+=p[0],g&&(h+=`a${YC(g)}`),m&&(h+=`b${YC(m)}`),r.value&&(h+="c"),h}),f,e):void 0;return Object.assign(Object.assign({},u),{rtlEnabled:c,mergedClsPrefix:n,contentRef:t,mergedBordered:r,handleClick:s,handleCloseClick:l,cssVars:i?void 0:f,themeClass:d?.themeClass,onRender:d?.onRender})},render(){var e,t;const{mergedClsPrefix:r,rtlEnabled:n,closable:i,color:{borderColor:a}={},round:o,onRender:s,$slots:l}=this;s?.();const u=Jn(l.avatar,f=>f&&I("div",{class:`${r}-tag__avatar`},f)),c=Jn(l.icon,f=>f&&I("div",{class:`${r}-tag__icon`},f));return I("div",{class:[`${r}-tag`,this.themeClass,{[`${r}-tag--rtl`]:n,[`${r}-tag--strong`]:this.strong,[`${r}-tag--disabled`]:this.disabled,[`${r}-tag--checkable`]:this.checkable,[`${r}-tag--checked`]:this.checkable&&this.checked,[`${r}-tag--round`]:o,[`${r}-tag--avatar`]:u,[`${r}-tag--icon`]:c,[`${r}-tag--closable`]:i}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},c||u,I("span",{class:`${r}-tag__content`,ref:"contentRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)),!this.checkable&&i?I(fb,{clsPrefix:r,class:`${r}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:o,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?I("div",{class:`${r}-tag__border`,style:{borderColor:a}}):null)}}),wQ=lt({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:r}=e;return I($m,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?I(w3,{clsPrefix:r,show:e.showClear,onClear:e.onClear},{placeholder:()=>I(Yr,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>Vs(t.default,()=>[I(nQ,null)])})}):null})}}}),SQ={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},x5={name:"InternalSelection",common:Ct,peers:{Popover:Jp},self(e){const{borderRadius:t,textColor2:r,textColorDisabled:n,inputColor:i,inputColorDisabled:a,primaryColor:o,primaryColorHover:s,warningColor:l,warningColorHover:u,errorColor:c,errorColorHover:f,iconColor:d,iconColorDisabled:h,clearColor:v,clearColorHover:p,clearColorPressed:g,placeholderColor:m,placeholderColorDisabled:y,fontSizeTiny:x,fontSizeSmall:b,fontSizeMedium:w,fontSizeLarge:S,heightTiny:C,heightSmall:E,heightMedium:A,heightLarge:M,fontWeight:D}=e;return Object.assign(Object.assign({},SQ),{fontWeight:D,fontSizeTiny:x,fontSizeSmall:b,fontSizeMedium:w,fontSizeLarge:S,heightTiny:C,heightSmall:E,heightMedium:A,heightLarge:M,borderRadius:t,textColor:r,textColorDisabled:n,placeholderColor:m,placeholderColorDisabled:y,color:i,colorDisabled:a,colorActive:ut(o,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${s}`,borderActive:`1px solid ${o}`,borderFocus:`1px solid ${s}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${ut(o,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${ut(o,{alpha:.4})}`,caretColor:o,arrowColor:d,arrowColorDisabled:h,loadingColor:o,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${u}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${u}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${ut(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${ut(l,{alpha:.4})}`,colorActiveWarning:ut(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${f}`,borderActiveError:`1px solid ${c}`,borderFocusError:`1px solid ${f}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${ut(c,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${ut(c,{alpha:.4})}`,colorActiveError:ut(c,{alpha:.1}),caretColorError:c,clearColor:v,clearColorHover:p,clearColorPressed:g})}};function eMe(e){const{borderRadius:t,textColor2:r,textColorDisabled:n,inputColor:i,inputColorDisabled:a,primaryColor:o,primaryColorHover:s,warningColor:l,warningColorHover:u,errorColor:c,errorColorHover:f,borderColor:d,iconColor:h,iconColorDisabled:v,clearColor:p,clearColorHover:g,clearColorPressed:m,placeholderColor:y,placeholderColorDisabled:x,fontSizeTiny:b,fontSizeSmall:w,fontSizeMedium:S,fontSizeLarge:C,heightTiny:E,heightSmall:A,heightMedium:M,heightLarge:D,fontWeight:R}=e;return Object.assign(Object.assign({},SQ),{fontSizeTiny:b,fontSizeSmall:w,fontSizeMedium:S,fontSizeLarge:C,heightTiny:E,heightSmall:A,heightMedium:M,heightLarge:D,borderRadius:t,fontWeight:R,textColor:r,textColorDisabled:n,placeholderColor:y,placeholderColorDisabled:x,color:i,colorDisabled:a,colorActive:i,border:`1px solid ${d}`,borderHover:`1px solid ${s}`,borderActive:`1px solid ${o}`,borderFocus:`1px solid ${s}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${ut(o,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${ut(o,{alpha:.2})}`,caretColor:o,arrowColor:h,arrowColorDisabled:v,loadingColor:o,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${u}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${u}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${ut(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${ut(l,{alpha:.2})}`,colorActiveWarning:i,caretColorWarning:l,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${f}`,borderActiveError:`1px solid ${c}`,borderFocusError:`1px solid ${f}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${ut(c,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${ut(c,{alpha:.2})}`,colorActiveError:i,caretColorError:c,clearColor:p,clearColorHover:g,clearColorPressed:m})}const CQ={name:"InternalSelection",common:$n,peers:{Popover:Wm},self:eMe},tMe=we([ie("base-selection",`
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[ie("base-loading",`
 color: var(--n-loading-color);
 `),ie("base-selection-tags","min-height: var(--n-height);"),Me("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),Me("state-border",`
 z-index: 1;
 border-color: #0000;
 `),ie("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[Me("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),ie("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[Me("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),ie("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[Me("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),ie("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),ie("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[ie("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[Me("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),Me("render-label",`
 color: var(--n-text-color);
 `)]),zn("disabled",[we("&:hover",[Me("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),Ce("focus",[Me("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),Ce("active",[Me("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),ie("base-selection-label","background-color: var(--n-color-active);"),ie("base-selection-tags","background-color: var(--n-color-active);")])]),Ce("disabled","cursor: not-allowed;",[Me("arrow",`
 color: var(--n-arrow-color-disabled);
 `),ie("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[ie("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),Me("render-label",`
 color: var(--n-text-color-disabled);
 `)]),ie("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),ie("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),ie("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[Me("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),Me("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>Ce(`${e}-status`,[Me("state-border",`border: var(--n-border-${e});`),zn("disabled",[we("&:hover",[Me("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),Ce("active",[Me("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),ie("base-selection-label",`background-color: var(--n-color-active-${e});`),ie("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),Ce("focus",[Me("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),ie("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),ie("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[we("&:last-child","padding-right: 0;"),ie("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[Me("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),rMe=lt({name:"InternalSelection",props:Object.assign(Object.assign({},nr.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=tn(e),n=Eo("InternalSelection",r,t),i=xe(null),a=xe(null),o=xe(null),s=xe(null),l=xe(null),u=xe(null),c=xe(null),f=xe(null),d=xe(null),h=xe(null),v=xe(!1),p=xe(!1),g=xe(!1),m=nr("InternalSelection","-internal-selection",tMe,CQ,e,rt(e,"clsPrefix")),y=me(()=>e.clearable&&!e.disabled&&(g.value||e.active)),x=me(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):Ba(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),b=me(()=>{const ke=e.selectedOption;if(ke)return ke[e.labelField]}),w=me(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function S(){var ke;const{value:Xe}=i;if(Xe){const{value:gt}=a;gt&&(gt.style.width=`${Xe.offsetWidth}px`,e.maxTagCount!=="responsive"&&((ke=d.value)===null||ke===void 0||ke.sync({showAllItemsBeforeCalculate:!1})))}}function C(){const{value:ke}=h;ke&&(ke.style.display="none")}function E(){const{value:ke}=h;ke&&(ke.style.display="inline-block")}hn(rt(e,"active"),ke=>{ke||C()}),hn(rt(e,"pattern"),()=>{e.multiple&&Sa(S)});function A(ke){const{onFocus:Xe}=e;Xe&&Xe(ke)}function M(ke){const{onBlur:Xe}=e;Xe&&Xe(ke)}function D(ke){const{onDeleteOption:Xe}=e;Xe&&Xe(ke)}function R(ke){const{onClear:Xe}=e;Xe&&Xe(ke)}function L(ke){const{onPatternInput:Xe}=e;Xe&&Xe(ke)}function k(ke){var Xe;(!ke.relatedTarget||!(!((Xe=o.value)===null||Xe===void 0)&&Xe.contains(ke.relatedTarget)))&&A(ke)}function O(ke){var Xe;!((Xe=o.value)===null||Xe===void 0)&&Xe.contains(ke.relatedTarget)||M(ke)}function F(ke){R(ke)}function H(){g.value=!0}function V(){g.value=!1}function U(ke){!e.active||!e.filterable||ke.target!==a.value&&ke.preventDefault()}function K(ke){D(ke)}const q=xe(!1);function N(ke){if(ke.key==="Backspace"&&!q.value&&!e.pattern.length){const{selectedOptions:Xe}=e;Xe?.length&&K(Xe[Xe.length-1])}}let W=null;function j(ke){const{value:Xe}=i;if(Xe){const gt=ke.target.value;Xe.textContent=gt,S()}e.ignoreComposition&&q.value?W=ke:L(ke)}function Z(){q.value=!0}function ve(){q.value=!1,e.ignoreComposition&&L(W),W=null}function Te(ke){var Xe;p.value=!0,(Xe=e.onPatternFocus)===null||Xe===void 0||Xe.call(e,ke)}function Se(ke){var Xe;p.value=!1,(Xe=e.onPatternBlur)===null||Xe===void 0||Xe.call(e,ke)}function te(){var ke,Xe;if(e.filterable)p.value=!1,(ke=u.value)===null||ke===void 0||ke.blur(),(Xe=a.value)===null||Xe===void 0||Xe.blur();else if(e.multiple){const{value:gt}=s;gt?.blur()}else{const{value:gt}=l;gt?.blur()}}function pe(){var ke,Xe,gt;e.filterable?(p.value=!1,(ke=u.value)===null||ke===void 0||ke.focus()):e.multiple?(Xe=s.value)===null||Xe===void 0||Xe.focus():(gt=l.value)===null||gt===void 0||gt.focus()}function Re(){const{value:ke}=a;ke&&(E(),ke.focus())}function z(){const{value:ke}=a;ke&&ke.blur()}function J(ke){const{value:Xe}=c;Xe&&Xe.setTextContent(`+${ke}`)}function se(){const{value:ke}=f;return ke}function he(){return a.value}let _e=null;function ge(){_e!==null&&window.clearTimeout(_e)}function $e(){e.active||(ge(),_e=window.setTimeout(()=>{w.value&&(v.value=!0)},100))}function Le(){ge()}function fe(ke){ke||(ge(),v.value=!1)}hn(w,ke=>{ke||(v.value=!1)}),Vn(()=>{eo(()=>{const ke=u.value;ke&&(e.disabled?ke.removeAttribute("tabindex"):ke.tabIndex=p.value?-1:0)})}),uJ(o,e.onResize);const{inlineThemeDisabled:de}=e,Ve=me(()=>{const{size:ke}=e,{common:{cubicBezierEaseInOut:Xe},self:{fontWeight:gt,borderRadius:Kt,color:Nt,placeholderColor:Sr,textColor:Lt,paddingSingle:er,paddingMultiple:yr,caretColor:ar,colorDisabled:_t,textColorDisabled:Ot,placeholderColorDisabled:ue,colorActive:Pe,boxShadowFocus:Je,boxShadowActive:bt,boxShadowHover:Tt,border:Bt,borderFocus:Gt,borderHover:Jt,borderActive:Gr,arrowColor:mn,arrowColorDisabled:Jr,loadingColor:di,colorActiveWarning:Oi,boxShadowFocusWarning:Fi,boxShadowActiveWarning:Ki,boxShadowHoverWarning:xi,borderWarning:Zi,borderFocusWarning:qi,borderHoverWarning:Ie,borderActiveWarning:et,colorActiveError:X,boxShadowFocusError:oe,boxShadowActiveError:ee,boxShadowHoverError:re,borderError:le,borderFocusError:ce,borderHoverError:Ne,borderActiveError:Ze,clearColor:Be,clearColorHover:ze,clearColorPressed:Ue,clearSize:dt,arrowSize:Mt,[tt("height",ke)]:Ft,[tt("fontSize",ke)]:yt}}=m.value,Dt=Ha(er),cr=Ha(yr);return{"--n-bezier":Xe,"--n-border":Bt,"--n-border-active":Gr,"--n-border-focus":Gt,"--n-border-hover":Jt,"--n-border-radius":Kt,"--n-box-shadow-active":bt,"--n-box-shadow-focus":Je,"--n-box-shadow-hover":Tt,"--n-caret-color":ar,"--n-color":Nt,"--n-color-active":Pe,"--n-color-disabled":_t,"--n-font-size":yt,"--n-height":Ft,"--n-padding-single-top":Dt.top,"--n-padding-multiple-top":cr.top,"--n-padding-single-right":Dt.right,"--n-padding-multiple-right":cr.right,"--n-padding-single-left":Dt.left,"--n-padding-multiple-left":cr.left,"--n-padding-single-bottom":Dt.bottom,"--n-padding-multiple-bottom":cr.bottom,"--n-placeholder-color":Sr,"--n-placeholder-color-disabled":ue,"--n-text-color":Lt,"--n-text-color-disabled":Ot,"--n-arrow-color":mn,"--n-arrow-color-disabled":Jr,"--n-loading-color":di,"--n-color-active-warning":Oi,"--n-box-shadow-focus-warning":Fi,"--n-box-shadow-active-warning":Ki,"--n-box-shadow-hover-warning":xi,"--n-border-warning":Zi,"--n-border-focus-warning":qi,"--n-border-hover-warning":Ie,"--n-border-active-warning":et,"--n-color-active-error":X,"--n-box-shadow-focus-error":oe,"--n-box-shadow-active-error":ee,"--n-box-shadow-hover-error":re,"--n-border-error":le,"--n-border-focus-error":ce,"--n-border-hover-error":Ne,"--n-border-active-error":Ze,"--n-clear-size":dt,"--n-clear-color":Be,"--n-clear-color-hover":ze,"--n-clear-color-pressed":Ue,"--n-arrow-size":Mt,"--n-font-weight":gt}}),Ge=de?ti("internal-selection",me(()=>e.size[0]),Ve,e):void 0;return{mergedTheme:m,mergedClearable:y,mergedClsPrefix:t,rtlEnabled:n,patternInputFocused:p,filterablePlaceholder:x,label:b,selected:w,showTagsPanel:v,isComposing:q,counterRef:c,counterWrapperRef:f,patternInputMirrorRef:i,patternInputRef:a,selfRef:o,multipleElRef:s,singleElRef:l,patternInputWrapperRef:u,overflowRef:d,inputTagElRef:h,handleMouseDown:U,handleFocusin:k,handleClear:F,handleMouseEnter:H,handleMouseLeave:V,handleDeleteOption:K,handlePatternKeyDown:N,handlePatternInputInput:j,handlePatternInputBlur:Se,handlePatternInputFocus:Te,handleMouseEnterCounter:$e,handleMouseLeaveCounter:Le,handleFocusout:O,handleCompositionEnd:ve,handleCompositionStart:Z,onPopoverUpdateShow:fe,focus:pe,focusInput:Re,blur:te,blurInput:z,updateCounter:J,getCounter:se,getTail:he,renderLabel:e.renderLabel,cssVars:de?void 0:Ve,themeClass:Ge?.themeClass,onRender:Ge?.onRender}},render(){const{status:e,multiple:t,size:r,disabled:n,filterable:i,maxTagCount:a,bordered:o,clsPrefix:s,ellipsisTagPopoverProps:l,onRender:u,renderTag:c,renderLabel:f}=this;u?.();const d=a==="responsive",h=typeof a=="number",v=d||h,p=I(d3,null,{default:()=>I(wQ,{clsPrefix:s,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var m,y;return(y=(m=this.$slots).arrow)===null||y===void 0?void 0:y.call(m)}})});let g;if(t){const{labelField:m}=this,y=L=>I("div",{class:`${s}-base-selection-tag-wrapper`,key:L.value},c?c({option:L,handleClose:()=>{this.handleDeleteOption(L)}}):I(vP,{size:r,closable:!L.disabled,disabled:n,onClose:()=>{this.handleDeleteOption(L)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>f?f(L,!0):Ba(L[m],L,!0)})),x=()=>(h?this.selectedOptions.slice(0,a):this.selectedOptions).map(y),b=i?I("div",{class:`${s}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},I("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:n,value:this.pattern,autofocus:this.autofocus,class:`${s}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),I("span",{ref:"patternInputMirrorRef",class:`${s}-base-selection-input-tag__mirror`},this.pattern)):null,w=d?()=>I("div",{class:`${s}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},I(vP,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:n})):void 0;let S;if(h){const L=this.selectedOptions.length-a;L>0&&(S=I("div",{class:`${s}-base-selection-tag-wrapper`,key:"__counter__"},I(vP,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:n},{default:()=>`+${L}`})))}const C=d?i?I(EH,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:x,counter:w,tail:()=>b}):I(EH,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:x,counter:w}):h&&S?x().concat(S):x(),E=v?()=>I("div",{class:`${s}-base-selection-popover`},d?x():this.selectedOptions.map(y)):void 0,A=v?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},l):null,D=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?I("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`},I("div",{class:`${s}-base-selection-placeholder__inner`},this.placeholder)):null,R=i?I("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-tags`},C,d?null:b,p):I("div",{ref:"multipleElRef",class:`${s}-base-selection-tags`,tabindex:n?void 0:0},C,p);g=I(Dr,null,v?I(hb,Object.assign({},A,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>R,default:E}):R,D)}else if(i){const m=this.pattern||this.isComposing,y=this.active?!m:!this.selected,x=this.active?!1:this.selected;g=I("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-label`,title:this.patternInputFocused?void 0:PH(this.label)},I("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${s}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:n,disabled:n,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),x?I("div",{class:`${s}-base-selection-label__render-label ${s}-base-selection-overlay`,key:"input"},I("div",{class:`${s}-base-selection-overlay__wrapper`},c?c({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):Ba(this.label,this.selectedOption,!0))):null,y?I("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},I("div",{class:`${s}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,p)}else g=I("div",{ref:"singleElRef",class:`${s}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?I("div",{class:`${s}-base-selection-input`,title:PH(this.label),key:"input"},I("div",{class:`${s}-base-selection-input__content`},c?c({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):Ba(this.label,this.selectedOption,!0))):I("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},I("div",{class:`${s}-base-selection-placeholder__inner`},this.placeholder)),p);return I("div",{ref:"selfRef",class:[`${s}-base-selection`,this.rtlEnabled&&`${s}-base-selection--rtl`,this.themeClass,e&&`${s}-base-selection--${e}-status`,{[`${s}-base-selection--active`]:this.active,[`${s}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${s}-base-selection--disabled`]:this.disabled,[`${s}-base-selection--multiple`]:this.multiple,[`${s}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},g,o?I("div",{class:`${s}-base-selection__border`}):null,o?I("div",{class:`${s}-base-selection__state-border`}):null)}}),{cubicBezierEaseInOut:xd}=Dh;function nMe({duration:e=".2s",delay:t=".1s"}={}){return[we("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),we("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),we("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${xd},
 max-width ${e} ${xd} ${t},
 margin-left ${e} ${xd} ${t},
 margin-right ${e} ${xd} ${t};
 `),we("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${xd} ${t},
 max-width ${e} ${xd},
 margin-left ${e} ${xd},
 margin-right ${e} ${xd};
 `)]}const iMe=ie("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),aMe=lt({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(e){Kp("-base-wave",iMe,rt(e,"clsPrefix"));const t=xe(null),r=xe(!1);let n=null;return Li(()=>{n!==null&&window.clearTimeout(n)}),{active:r,selfRef:t,play(){n!==null&&(window.clearTimeout(n),r.value=!1,n=null),Sa(()=>{var i;(i=t.value)===null||i===void 0||i.offsetHeight,r.value=!0,n=window.setTimeout(()=>{r.value=!1,n=null},1e3)})}}},render(){const{clsPrefix:e}=this;return I("div",{ref:"selfRef","aria-hidden":!0,class:[`${e}-base-wave`,this.active&&`${e}-base-wave--active`]})}}),oMe={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},sMe={name:"Alert",common:Ct,self(e){const{lineHeight:t,borderRadius:r,fontWeightStrong:n,dividerColor:i,inputColor:a,textColor1:o,textColor2:s,closeColorHover:l,closeColorPressed:u,closeIconColor:c,closeIconColorHover:f,closeIconColorPressed:d,infoColorSuppl:h,successColorSuppl:v,warningColorSuppl:p,errorColorSuppl:g,fontSize:m}=e;return Object.assign(Object.assign({},oMe),{fontSize:m,lineHeight:t,titleFontWeight:n,borderRadius:r,border:`1px solid ${i}`,color:a,titleTextColor:o,iconColor:s,contentTextColor:s,closeBorderRadius:r,closeColorHover:l,closeColorPressed:u,closeIconColor:c,closeIconColorHover:f,closeIconColorPressed:d,borderInfo:`1px solid ${ut(h,{alpha:.35})}`,colorInfo:ut(h,{alpha:.25}),titleTextColorInfo:o,iconColorInfo:h,contentTextColorInfo:s,closeColorHoverInfo:l,closeColorPressedInfo:u,closeIconColorInfo:c,closeIconColorHoverInfo:f,closeIconColorPressedInfo:d,borderSuccess:`1px solid ${ut(v,{alpha:.35})}`,colorSuccess:ut(v,{alpha:.25}),titleTextColorSuccess:o,iconColorSuccess:v,contentTextColorSuccess:s,closeColorHoverSuccess:l,closeColorPressedSuccess:u,closeIconColorSuccess:c,closeIconColorHoverSuccess:f,closeIconColorPressedSuccess:d,borderWarning:`1px solid ${ut(p,{alpha:.35})}`,colorWarning:ut(p,{alpha:.25}),titleTextColorWarning:o,iconColorWarning:p,contentTextColorWarning:s,closeColorHoverWarning:l,closeColorPressedWarning:u,closeIconColorWarning:c,closeIconColorHoverWarning:f,closeIconColorPressedWarning:d,borderError:`1px solid ${ut(g,{alpha:.35})}`,colorError:ut(g,{alpha:.25}),titleTextColorError:o,iconColorError:g,contentTextColorError:s,closeColorHoverError:l,closeColorPressedError:u,closeIconColorError:c,closeIconColorHoverError:f,closeIconColorPressedError:d})}},{cubicBezierEaseInOut:zu,cubicBezierEaseOut:lMe,cubicBezierEaseIn:uMe}=Dh;function C3({overflow:e="hidden",duration:t=".3s",originalTransition:r="",leavingDelay:n="0s",foldPadding:i=!1,enterToProps:a=void 0,leaveToProps:o=void 0,reverse:s=!1}={}){const l=s?"leave":"enter",u=s?"enter":"leave";return[we(`&.fade-in-height-expand-transition-${u}-from,
 &.fade-in-height-expand-transition-${l}-to`,Object.assign(Object.assign({},a),{opacity:1})),we(`&.fade-in-height-expand-transition-${u}-to,
 &.fade-in-height-expand-transition-${l}-from`,Object.assign(Object.assign({},o),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:i?"0 !important":void 0,paddingBottom:i?"0 !important":void 0})),we(`&.fade-in-height-expand-transition-${u}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${zu} ${n},
 opacity ${t} ${lMe} ${n},
 margin-top ${t} ${zu} ${n},
 margin-bottom ${t} ${zu} ${n},
 padding-top ${t} ${zu} ${n},
 padding-bottom ${t} ${zu} ${n}
 ${r?`,${r}`:""}
 `),we(`&.fade-in-height-expand-transition-${l}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${zu},
 opacity ${t} ${uMe},
 margin-top ${t} ${zu},
 margin-bottom ${t} ${zu},
 padding-top ${t} ${zu},
 padding-bottom ${t} ${zu}
 ${r?`,${r}`:""}
 `)]}const cMe={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"};function fMe(e){const{borderRadius:t,railColor:r,primaryColor:n,primaryColorHover:i,primaryColorPressed:a,textColor2:o}=e;return Object.assign(Object.assign({},cMe),{borderRadius:t,railColor:r,railColorActive:n,linkColor:ut(n,{alpha:.15}),linkTextColor:o,linkTextColorHover:i,linkTextColorPressed:a,linkTextColorActive:n})}const dMe={name:"Anchor",common:Ct,self:fMe},hMe=jf&&"chrome"in window;jf&&navigator.userAgent.includes("Firefox");const TQ=jf&&navigator.userAgent.includes("Safari")&&!hMe,AQ={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},Xs={name:"Input",common:Ct,self(e){const{textColor2:t,textColor3:r,textColorDisabled:n,primaryColor:i,primaryColorHover:a,inputColor:o,inputColorDisabled:s,warningColor:l,warningColorHover:u,errorColor:c,errorColorHover:f,borderRadius:d,lineHeight:h,fontSizeTiny:v,fontSizeSmall:p,fontSizeMedium:g,fontSizeLarge:m,heightTiny:y,heightSmall:x,heightMedium:b,heightLarge:w,clearColor:S,clearColorHover:C,clearColorPressed:E,placeholderColor:A,placeholderColorDisabled:M,iconColor:D,iconColorDisabled:R,iconColorHover:L,iconColorPressed:k,fontWeight:O}=e;return Object.assign(Object.assign({},AQ),{fontWeight:O,countTextColorDisabled:n,countTextColor:r,heightTiny:y,heightSmall:x,heightMedium:b,heightLarge:w,fontSizeTiny:v,fontSizeSmall:p,fontSizeMedium:g,fontSizeLarge:m,lineHeight:h,lineHeightTextarea:h,borderRadius:d,iconSize:"16px",groupLabelColor:o,textColor:t,textColorDisabled:n,textDecorationColor:t,groupLabelTextColor:t,caretColor:i,placeholderColor:A,placeholderColorDisabled:M,color:o,colorDisabled:s,colorFocus:ut(i,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${a}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${a}`,boxShadowFocus:`0 0 8px 0 ${ut(i,{alpha:.3})}`,loadingColor:i,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${u}`,colorFocusWarning:ut(l,{alpha:.1}),borderFocusWarning:`1px solid ${u}`,boxShadowFocusWarning:`0 0 8px 0 ${ut(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:c,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${f}`,colorFocusError:ut(c,{alpha:.1}),borderFocusError:`1px solid ${f}`,boxShadowFocusError:`0 0 8px 0 ${ut(c,{alpha:.3})}`,caretColorError:c,clearColor:S,clearColorHover:C,clearColorPressed:E,iconColor:D,iconColorDisabled:R,iconColorHover:L,iconColorPressed:k,suffixTextColor:t})}};function vMe(e){const{textColor2:t,textColor3:r,textColorDisabled:n,primaryColor:i,primaryColorHover:a,inputColor:o,inputColorDisabled:s,borderColor:l,warningColor:u,warningColorHover:c,errorColor:f,errorColorHover:d,borderRadius:h,lineHeight:v,fontSizeTiny:p,fontSizeSmall:g,fontSizeMedium:m,fontSizeLarge:y,heightTiny:x,heightSmall:b,heightMedium:w,heightLarge:S,actionColor:C,clearColor:E,clearColorHover:A,clearColorPressed:M,placeholderColor:D,placeholderColorDisabled:R,iconColor:L,iconColorDisabled:k,iconColorHover:O,iconColorPressed:F,fontWeight:H}=e;return Object.assign(Object.assign({},AQ),{fontWeight:H,countTextColorDisabled:n,countTextColor:r,heightTiny:x,heightSmall:b,heightMedium:w,heightLarge:S,fontSizeTiny:p,fontSizeSmall:g,fontSizeMedium:m,fontSizeLarge:y,lineHeight:v,lineHeightTextarea:v,borderRadius:h,iconSize:"16px",groupLabelColor:C,groupLabelTextColor:t,textColor:t,textColorDisabled:n,textDecorationColor:t,caretColor:i,placeholderColor:D,placeholderColorDisabled:R,color:o,colorDisabled:s,colorFocus:o,groupLabelBorder:`1px solid ${l}`,border:`1px solid ${l}`,borderHover:`1px solid ${a}`,borderDisabled:`1px solid ${l}`,borderFocus:`1px solid ${a}`,boxShadowFocus:`0 0 0 2px ${ut(i,{alpha:.2})}`,loadingColor:i,loadingColorWarning:u,borderWarning:`1px solid ${u}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:o,borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 0 2px ${ut(u,{alpha:.2})}`,caretColorWarning:u,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${d}`,colorFocusError:o,borderFocusError:`1px solid ${d}`,boxShadowFocusError:`0 0 0 2px ${ut(f,{alpha:.2})}`,caretColorError:f,clearColor:E,clearColorHover:A,clearColorPressed:M,iconColor:L,iconColorDisabled:k,iconColorHover:O,iconColorPressed:F,suffixTextColor:t})}const EQ={name:"Input",common:$n,self:vMe},MQ="n-input",pMe=ie("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[Me("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),Me("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),Me("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[we("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),we("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),we("&:-webkit-autofill ~",[Me("placeholder","display: none;")])]),Ce("round",[zn("textarea","border-radius: calc(var(--n-height) / 2);")]),Me("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[we("span",`
 width: 100%;
 display: inline-block;
 `)]),Ce("textarea",[Me("placeholder","overflow: visible;")]),zn("autosize","width: 100%;"),Ce("autosize",[Me("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),ie("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),Me("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),Me("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[we("&[type=password]::-ms-reveal","display: none;"),we("+",[Me("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),zn("textarea",[Me("placeholder","white-space: nowrap;")]),Me("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),Ce("textarea","width: 100%;",[ie("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),Ce("resizable",[ie("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),Me("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 scroll-padding-block-end: var(--n-padding-vertical);
 `),Me("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),Ce("pair",[Me("input-el, placeholder","text-align: center;"),Me("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[ie("icon",`
 color: var(--n-icon-color);
 `),ie("base-icon",`
 color: var(--n-icon-color);
 `)])]),Ce("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[Me("border","border: var(--n-border-disabled);"),Me("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),Me("placeholder","color: var(--n-placeholder-color-disabled);"),Me("separator","color: var(--n-text-color-disabled);",[ie("icon",`
 color: var(--n-icon-color-disabled);
 `),ie("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),ie("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),Me("suffix, prefix","color: var(--n-text-color-disabled);",[ie("icon",`
 color: var(--n-icon-color-disabled);
 `),ie("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),zn("disabled",[Me("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[we("&:hover",`
 color: var(--n-icon-color-hover);
 `),we("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),we("&:hover",[Me("state-border","border: var(--n-border-hover);")]),Ce("focus","background-color: var(--n-color-focus);",[Me("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),Me("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),Me("state-border",`
 border-color: #0000;
 z-index: 1;
 `),Me("prefix","margin-right: 4px;"),Me("suffix",`
 margin-left: 4px;
 `),Me("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[ie("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),ie("base-clear",`
 font-size: var(--n-icon-size);
 `,[Me("placeholder",[ie("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),we(">",[ie("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),ie("base-icon",`
 font-size: var(--n-icon-size);
 `)]),ie("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>Ce(`${e}-status`,[zn("disabled",[ie("base-loading",`
 color: var(--n-loading-color-${e})
 `),Me("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),Me("state-border",`
 border: var(--n-border-${e});
 `),we("&:hover",[Me("state-border",`
 border: var(--n-border-hover-${e});
 `)]),we("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[Me("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),Ce("focus",`
 background-color: var(--n-color-focus-${e});
 `,[Me("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),gMe=ie("input",[Ce("disabled",[Me("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]);function mMe(e){let t=0;for(const r of e)t++;return t}function nS(e){return e===""||e==null}function yMe(e){const t=xe(null);function r(){const{value:a}=e;if(!a?.focus){i();return}const{selectionStart:o,selectionEnd:s,value:l}=a;if(o==null||s==null){i();return}t.value={start:o,end:s,beforeText:l.slice(0,o),afterText:l.slice(s)}}function n(){var a;const{value:o}=t,{value:s}=e;if(!o||!s)return;const{value:l}=s,{start:u,beforeText:c,afterText:f}=o;let d=l.length;if(l.endsWith(f))d=l.length-f.length;else if(l.startsWith(c))d=c.length;else{const h=c[u-1],v=l.indexOf(h,u-1);v!==-1&&(d=v+1)}(a=s.setSelectionRange)===null||a===void 0||a.call(s,d,d)}function i(){t.value=null}return hn(e,i),{recordCursor:r,restoreCursor:n}}const T7=lt({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:r,maxlengthRef:n,mergedClsPrefixRef:i,countGraphemesRef:a}=rr(MQ),o=me(()=>{const{value:s}=r;return s===null||Array.isArray(s)?0:(a.value||mMe)(s)});return()=>{const{value:s}=n,{value:l}=r;return I("span",{class:`${i.value}-input-word-count`},X_e(t.default,{value:l===null||Array.isArray(l)?"":l},()=>[s===void 0?o.value:`${o.value} / ${s}`]))}}}),xMe=Object.assign(Object.assign({},nr.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),A7=lt({name:"Input",props:xMe,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:n,mergedRtlRef:i}=tn(e),a=nr("Input","-input",pMe,EQ,e,t);TQ&&Kp("-input-safari",gMe,t);const o=xe(null),s=xe(null),l=xe(null),u=xe(null),c=xe(null),f=xe(null),d=xe(null),h=yMe(d),v=xe(null),{localeRef:p}=Vm("Input"),g=xe(e.defaultValue),m=rt(e,"value"),y=bo(m,g),x=Mh(e),{mergedSizeRef:b,mergedDisabledRef:w,mergedStatusRef:S}=x,C=xe(!1),E=xe(!1),A=xe(!1),M=xe(!1);let D=null;const R=me(()=>{const{placeholder:Ie,pair:et}=e;return et?Array.isArray(Ie)?Ie:Ie===void 0?["",""]:[Ie,Ie]:Ie===void 0?[p.value.placeholder]:[Ie]}),L=me(()=>{const{value:Ie}=A,{value:et}=y,{value:X}=R;return!Ie&&(nS(et)||Array.isArray(et)&&nS(et[0]))&&X[0]}),k=me(()=>{const{value:Ie}=A,{value:et}=y,{value:X}=R;return!Ie&&X[1]&&(nS(et)||Array.isArray(et)&&nS(et[1]))}),O=Tn(()=>e.internalForceFocus||C.value),F=Tn(()=>{if(w.value||e.readonly||!e.clearable||!O.value&&!E.value)return!1;const{value:Ie}=y,{value:et}=O;return e.pair?!!(Array.isArray(Ie)&&(Ie[0]||Ie[1]))&&(E.value||et):!!Ie&&(E.value||et)}),H=me(()=>{const{showPasswordOn:Ie}=e;if(Ie)return Ie;if(e.showPasswordToggle)return"click"}),V=xe(!1),U=me(()=>{const{textDecoration:Ie}=e;return Ie?Array.isArray(Ie)?Ie.map(et=>({textDecoration:et})):[{textDecoration:Ie}]:["",""]}),K=xe(void 0),q=()=>{var Ie,et;if(e.type==="textarea"){const{autosize:X}=e;if(X&&(K.value=(et=(Ie=v.value)===null||Ie===void 0?void 0:Ie.$el)===null||et===void 0?void 0:et.offsetWidth),!s.value||typeof X=="boolean")return;const{paddingTop:oe,paddingBottom:ee,lineHeight:re}=window.getComputedStyle(s.value),le=Number(oe.slice(0,-2)),ce=Number(ee.slice(0,-2)),Ne=Number(re.slice(0,-2)),{value:Ze}=l;if(!Ze)return;if(X.minRows){const Be=Math.max(X.minRows,1),ze=`${le+ce+Ne*Be}px`;Ze.style.minHeight=ze}if(X.maxRows){const Be=`${le+ce+Ne*X.maxRows}px`;Ze.style.maxHeight=Be}}},N=me(()=>{const{maxlength:Ie}=e;return Ie===void 0?void 0:Number(Ie)});Vn(()=>{const{value:Ie}=y;Array.isArray(Ie)||Gr(Ie)});const W=Ah().proxy;function j(Ie,et){const{onUpdateValue:X,"onUpdate:value":oe,onInput:ee}=e,{nTriggerFormInput:re}=x;X&&ht(X,Ie,et),oe&&ht(oe,Ie,et),ee&&ht(ee,Ie,et),g.value=Ie,re()}function Z(Ie,et){const{onChange:X}=e,{nTriggerFormChange:oe}=x;X&&ht(X,Ie,et),g.value=Ie,oe()}function ve(Ie){const{onBlur:et}=e,{nTriggerFormBlur:X}=x;et&&ht(et,Ie),X()}function Te(Ie){const{onFocus:et}=e,{nTriggerFormFocus:X}=x;et&&ht(et,Ie),X()}function Se(Ie){const{onClear:et}=e;et&&ht(et,Ie)}function te(Ie){const{onInputBlur:et}=e;et&&ht(et,Ie)}function pe(Ie){const{onInputFocus:et}=e;et&&ht(et,Ie)}function Re(){const{onDeactivate:Ie}=e;Ie&&ht(Ie)}function z(){const{onActivate:Ie}=e;Ie&&ht(Ie)}function J(Ie){const{onClick:et}=e;et&&ht(et,Ie)}function se(Ie){const{onWrapperFocus:et}=e;et&&ht(et,Ie)}function he(Ie){const{onWrapperBlur:et}=e;et&&ht(et,Ie)}function _e(){A.value=!0}function ge(Ie){A.value=!1,Ie.target===f.value?$e(Ie,1):$e(Ie,0)}function $e(Ie,et=0,X="input"){const oe=Ie.target.value;if(Gr(oe),Ie instanceof InputEvent&&!Ie.isComposing&&(A.value=!1),e.type==="textarea"){const{value:re}=v;re&&re.syncUnifiedContainer()}if(D=oe,A.value)return;h.recordCursor();const ee=Le(oe);if(ee)if(!e.pair)X==="input"?j(oe,{source:et}):Z(oe,{source:et});else{let{value:re}=y;Array.isArray(re)?re=[re[0],re[1]]:re=["",""],re[et]=oe,X==="input"?j(re,{source:et}):Z(re,{source:et})}W.$forceUpdate(),ee||Sa(h.restoreCursor)}function Le(Ie){const{countGraphemes:et,maxlength:X,minlength:oe}=e;if(et){let re;if(X!==void 0&&(re===void 0&&(re=et(Ie)),re>Number(X))||oe!==void 0&&(re===void 0&&(re=et(Ie)),re<Number(X)))return!1}const{allowInput:ee}=e;return typeof ee=="function"?ee(Ie):!0}function fe(Ie){te(Ie),Ie.relatedTarget===o.value&&Re(),Ie.relatedTarget!==null&&(Ie.relatedTarget===c.value||Ie.relatedTarget===f.value||Ie.relatedTarget===s.value)||(M.value=!1),ke(Ie,"blur"),d.value=null}function de(Ie,et){pe(Ie),C.value=!0,M.value=!0,z(),ke(Ie,"focus"),et===0?d.value=c.value:et===1?d.value=f.value:et===2&&(d.value=s.value)}function Ve(Ie){e.passivelyActivated&&(he(Ie),ke(Ie,"blur"))}function Ge(Ie){e.passivelyActivated&&(C.value=!0,se(Ie),ke(Ie,"focus"))}function ke(Ie,et){Ie.relatedTarget!==null&&(Ie.relatedTarget===c.value||Ie.relatedTarget===f.value||Ie.relatedTarget===s.value||Ie.relatedTarget===o.value)||(et==="focus"?(Te(Ie),C.value=!0):et==="blur"&&(ve(Ie),C.value=!1))}function Xe(Ie,et){$e(Ie,et,"change")}function gt(Ie){J(Ie)}function Kt(Ie){Se(Ie),Nt()}function Nt(){e.pair?(j(["",""],{source:"clear"}),Z(["",""],{source:"clear"})):(j("",{source:"clear"}),Z("",{source:"clear"}))}function Sr(Ie){const{onMousedown:et}=e;et&&et(Ie);const{tagName:X}=Ie.target;if(X!=="INPUT"&&X!=="TEXTAREA"){if(e.resizable){const{value:oe}=o;if(oe){const{left:ee,top:re,width:le,height:ce}=oe.getBoundingClientRect(),Ne=14;if(ee+le-Ne<Ie.clientX&&Ie.clientX<ee+le&&re+ce-Ne<Ie.clientY&&Ie.clientY<re+ce)return}}Ie.preventDefault(),C.value||Je()}}function Lt(){var Ie;E.value=!0,e.type==="textarea"&&((Ie=v.value)===null||Ie===void 0||Ie.handleMouseEnterWrapper())}function er(){var Ie;E.value=!1,e.type==="textarea"&&((Ie=v.value)===null||Ie===void 0||Ie.handleMouseLeaveWrapper())}function yr(){w.value||H.value==="click"&&(V.value=!V.value)}function ar(Ie){if(w.value)return;Ie.preventDefault();const et=oe=>{oe.preventDefault(),an("mouseup",document,et)};if(fn("mouseup",document,et),H.value!=="mousedown")return;V.value=!0;const X=()=>{V.value=!1,an("mouseup",document,X)};fn("mouseup",document,X)}function _t(Ie){e.onKeyup&&ht(e.onKeyup,Ie)}function Ot(Ie){switch(e.onKeydown&&ht(e.onKeydown,Ie),Ie.key){case"Escape":Pe();break;case"Enter":ue(Ie);break}}function ue(Ie){var et,X;if(e.passivelyActivated){const{value:oe}=M;if(oe){e.internalDeactivateOnEnter&&Pe();return}Ie.preventDefault(),e.type==="textarea"?(et=s.value)===null||et===void 0||et.focus():(X=c.value)===null||X===void 0||X.focus()}}function Pe(){e.passivelyActivated&&(M.value=!1,Sa(()=>{var Ie;(Ie=o.value)===null||Ie===void 0||Ie.focus()}))}function Je(){var Ie,et,X;w.value||(e.passivelyActivated?(Ie=o.value)===null||Ie===void 0||Ie.focus():((et=s.value)===null||et===void 0||et.focus(),(X=c.value)===null||X===void 0||X.focus()))}function bt(){var Ie;!((Ie=o.value)===null||Ie===void 0)&&Ie.contains(document.activeElement)&&document.activeElement.blur()}function Tt(){var Ie,et;(Ie=s.value)===null||Ie===void 0||Ie.select(),(et=c.value)===null||et===void 0||et.select()}function Bt(){w.value||(s.value?s.value.focus():c.value&&c.value.focus())}function Gt(){const{value:Ie}=o;Ie?.contains(document.activeElement)&&Ie!==document.activeElement&&Pe()}function Jt(Ie){if(e.type==="textarea"){const{value:et}=s;et?.scrollTo(Ie)}else{const{value:et}=c;et?.scrollTo(Ie)}}function Gr(Ie){const{type:et,pair:X,autosize:oe}=e;if(!X&&oe)if(et==="textarea"){const{value:ee}=l;ee&&(ee.textContent=`${Ie??""}\r
`)}else{const{value:ee}=u;ee&&(Ie?ee.textContent=Ie:ee.innerHTML="&nbsp;")}}function mn(){q()}const Jr=xe({top:"0"});function di(Ie){var et;const{scrollTop:X}=Ie.target;Jr.value.top=`${-X}px`,(et=v.value)===null||et===void 0||et.syncUnifiedContainer()}let Oi=null;eo(()=>{const{autosize:Ie,type:et}=e;Ie&&et==="textarea"?Oi=hn(y,X=>{!Array.isArray(X)&&X!==D&&Gr(X)}):Oi?.()});let Fi=null;eo(()=>{e.type==="textarea"?Fi=hn(y,Ie=>{var et;!Array.isArray(Ie)&&Ie!==D&&((et=v.value)===null||et===void 0||et.syncUnifiedContainer())}):Fi?.()}),wn(MQ,{mergedValueRef:y,maxlengthRef:N,mergedClsPrefixRef:t,countGraphemesRef:rt(e,"countGraphemes")});const Ki={wrapperElRef:o,inputElRef:c,textareaElRef:s,isCompositing:A,clear:Nt,focus:Je,blur:bt,select:Tt,deactivate:Gt,activate:Bt,scrollTo:Jt},xi=Eo("Input",i,t),Zi=me(()=>{const{value:Ie}=b,{common:{cubicBezierEaseInOut:et},self:{color:X,borderRadius:oe,textColor:ee,caretColor:re,caretColorError:le,caretColorWarning:ce,textDecorationColor:Ne,border:Ze,borderDisabled:Be,borderHover:ze,borderFocus:Ue,placeholderColor:dt,placeholderColorDisabled:Mt,lineHeightTextarea:Ft,colorDisabled:yt,colorFocus:Dt,textColorDisabled:cr,boxShadowFocus:On,iconSize:Fn,colorFocusWarning:hi,boxShadowFocusWarning:Ks,borderWarning:Zs,borderFocusWarning:Ul,borderHoverWarning:ws,colorFocusError:$c,boxShadowFocusError:Do,borderError:y0,borderFocusError:x0,borderHoverError:Xb,clearSize:Cy,clearColor:EM,clearColorHover:jb,clearColorPressed:_0,iconColor:Yb,iconColorDisabled:MM,suffixTextColor:Kb,countTextColor:Zb,countTextColorDisabled:Ty,iconColorHover:DM,iconColorPressed:qb,loadingColor:Ay,loadingColorError:Ey,loadingColorWarning:sd,fontWeight:Jb,[tt("padding",Ie)]:Qb,[tt("fontSize",Ie)]:PM,[tt("height",Ie)]:ew}}=a.value,{left:tw,right:rw}=Ha(Qb);return{"--n-bezier":et,"--n-count-text-color":Zb,"--n-count-text-color-disabled":Ty,"--n-color":X,"--n-font-size":PM,"--n-font-weight":Jb,"--n-border-radius":oe,"--n-height":ew,"--n-padding-left":tw,"--n-padding-right":rw,"--n-text-color":ee,"--n-caret-color":re,"--n-text-decoration-color":Ne,"--n-border":Ze,"--n-border-disabled":Be,"--n-border-hover":ze,"--n-border-focus":Ue,"--n-placeholder-color":dt,"--n-placeholder-color-disabled":Mt,"--n-icon-size":Fn,"--n-line-height-textarea":Ft,"--n-color-disabled":yt,"--n-color-focus":Dt,"--n-text-color-disabled":cr,"--n-box-shadow-focus":On,"--n-loading-color":Ay,"--n-caret-color-warning":ce,"--n-color-focus-warning":hi,"--n-box-shadow-focus-warning":Ks,"--n-border-warning":Zs,"--n-border-focus-warning":Ul,"--n-border-hover-warning":ws,"--n-loading-color-warning":sd,"--n-caret-color-error":le,"--n-color-focus-error":$c,"--n-box-shadow-focus-error":Do,"--n-border-error":y0,"--n-border-focus-error":x0,"--n-border-hover-error":Xb,"--n-loading-color-error":Ey,"--n-clear-color":EM,"--n-clear-size":Cy,"--n-clear-color-hover":jb,"--n-clear-color-pressed":_0,"--n-icon-color":Yb,"--n-icon-color-hover":DM,"--n-icon-color-pressed":qb,"--n-icon-color-disabled":MM,"--n-suffix-text-color":Kb}}),qi=n?ti("input",me(()=>{const{value:Ie}=b;return Ie[0]}),Zi,e):void 0;return Object.assign(Object.assign({},Ki),{wrapperElRef:o,inputElRef:c,inputMirrorElRef:u,inputEl2Ref:f,textareaElRef:s,textareaMirrorElRef:l,textareaScrollbarInstRef:v,rtlEnabled:xi,uncontrolledValue:g,mergedValue:y,passwordVisible:V,mergedPlaceholder:R,showPlaceholder1:L,showPlaceholder2:k,mergedFocus:O,isComposing:A,activated:M,showClearButton:F,mergedSize:b,mergedDisabled:w,textDecorationStyle:U,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:H,placeholderStyle:Jr,mergedStatus:S,textAreaScrollContainerWidth:K,handleTextAreaScroll:di,handleCompositionStart:_e,handleCompositionEnd:ge,handleInput:$e,handleInputBlur:fe,handleInputFocus:de,handleWrapperBlur:Ve,handleWrapperFocus:Ge,handleMouseEnter:Lt,handleMouseLeave:er,handleMouseDown:Sr,handleChange:Xe,handleClick:gt,handleClear:Kt,handlePasswordToggleClick:yr,handlePasswordToggleMousedown:ar,handleWrapperKeydown:Ot,handleWrapperKeyup:_t,handleTextAreaMirrorResize:mn,getTextareaScrollContainer:()=>s.value,mergedTheme:a,cssVars:n?void 0:Zi,themeClass:qi?.themeClass,onRender:qi?.onRender})},render(){var e,t;const{mergedClsPrefix:r,mergedStatus:n,themeClass:i,type:a,countGraphemes:o,onRender:s}=this,l=this.$slots;return s?.(),I("div",{ref:"wrapperElRef",class:[`${r}-input`,i,n&&`${r}-input--${n}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:a==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&a!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},I("div",{class:`${r}-input-wrapper`},Jn(l.prefix,u=>u&&I("div",{class:`${r}-input__prefix`},u)),a==="textarea"?I(Gm,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var u,c;const{textAreaScrollContainerWidth:f}=this,d={width:this.autosize&&f&&`${f}px`};return I(Dr,null,I("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(u=this.inputProps)===null||u===void 0?void 0:u.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:o?void 0:this.maxlength,minlength:o?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(c=this.inputProps)===null||c===void 0?void 0:c.style,d],onBlur:this.handleInputBlur,onFocus:h=>{this.handleInputFocus(h,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?I("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,d],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?I(bf,{onResize:this.handleTextAreaMirrorResize},{default:()=>I("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):I("div",{class:`${r}-input__input`},I("input",Object.assign({type:a==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":a},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:o?void 0:this.maxlength,minlength:o?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:u=>{this.handleInputFocus(u,0)},onInput:u=>{this.handleInput(u,0)},onChange:u=>{this.handleChange(u,0)}})),this.showPlaceholder1?I("div",{class:`${r}-input__placeholder`},I("span",null,this.mergedPlaceholder[0])):null,this.autosize?I("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&Jn(l.suffix,u=>u||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?I("div",{class:`${r}-input__suffix`},[Jn(l["clear-icon-placeholder"],c=>(this.clearable||c)&&I(w3,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>c,icon:()=>{var f,d;return(d=(f=this.$slots)["clear-icon"])===null||d===void 0?void 0:d.call(f)}})),this.internalLoadingBeforeSuffix?null:u,this.loading!==void 0?I(wQ,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?u:null,this.showCount&&this.type!=="textarea"?I(T7,null,{default:c=>{var f;const{renderCount:d}=this;return d?d(c):(f=l.count)===null||f===void 0?void 0:f.call(l,c)}}):null,this.mergedShowPasswordOn&&this.type==="password"?I("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?Vs(l["password-visible-icon"],()=>[I(Yr,{clsPrefix:r},{default:()=>I(oQ,null)})]):Vs(l["password-invisible-icon"],()=>[I(Yr,{clsPrefix:r},{default:()=>I($Ae,null)})])):null]):null)),this.pair?I("span",{class:`${r}-input__separator`},Vs(l.separator,()=>[this.separator])):null,this.pair?I("div",{class:`${r}-input-wrapper`},I("div",{class:`${r}-input__input`},I("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:o?void 0:this.maxlength,minlength:o?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:u=>{this.handleInputFocus(u,1)},onInput:u=>{this.handleInput(u,1)},onChange:u=>{this.handleChange(u,1)}}),this.showPlaceholder2?I("div",{class:`${r}-input__placeholder`},I("span",null,this.mergedPlaceholder[1])):null),Jn(l.suffix,u=>(this.clearable||u)&&I("div",{class:`${r}-input__suffix`},[this.clearable&&I(w3,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var c;return(c=l["clear-icon"])===null||c===void 0?void 0:c.call(l)},placeholder:()=>{var c;return(c=l["clear-icon-placeholder"])===null||c===void 0?void 0:c.call(l)}}),u]))):null,this.mergedBordered?I("div",{class:`${r}-input__border`}):null,this.mergedBordered?I("div",{class:`${r}-input__state-border`}):null,this.showCount&&a==="textarea"?I(T7,null,{default:u=>{var c;const{renderCount:f}=this;return f?f(u):(c=l.count)===null||c===void 0?void 0:c.call(l,u)}}):null)}});function nT(e){return e.type==="group"}function DQ(e){return e.type==="ignored"}function pP(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function PQ(e,t){return{getIsGroup:nT,getIgnored:DQ,getKey(n){return nT(n)?n.name||n.key||"key-required":n[e]},getChildren(n){return n[t]}}}function _Me(e,t,r,n){if(!t)return e;function i(a){if(!Array.isArray(a))return[];const o=[];for(const s of a)if(nT(s)){const l=i(s[n]);l.length&&o.push(Object.assign({},s,{[n]:l}))}else{if(DQ(s))continue;t(r,s)&&o.push(s)}return o}return i(e)}function bMe(e,t,r){const n=new Map;return e.forEach(i=>{nT(i)?i[r].forEach(a=>{n.set(a[t],a)}):n.set(i[t],i)}),n}function wMe(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const SMe={name:"AutoComplete",common:Ct,peers:{InternalSelectMenu:db,Input:Xs},self:wMe},CMe=jf&&"loading"in document.createElement("img");function TMe(e={}){var t;const{root:r=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof r=="string"?document.querySelector(r):r)||document.documentElement})}}const gP=new WeakMap,mP=new WeakMap,yP=new WeakMap,AMe=(e,t,r)=>{if(!e)return()=>{};const n=TMe(t),{root:i}=n.options;let a;const o=gP.get(i);o?a=o:(a=new Map,gP.set(i,a));let s,l;a.has(n.hash)?(l=a.get(n.hash),l[1].has(e)||(s=l[0],l[1].add(e),s.observe(e))):(s=new IntersectionObserver(f=>{f.forEach(d=>{if(d.isIntersecting){const h=mP.get(d.target),v=yP.get(d.target);h&&h(),v&&(v.value=!0)}})},n.options),s.observe(e),l=[s,new Set([e])],a.set(n.hash,l));let u=!1;const c=()=>{u||(mP.delete(e),yP.delete(e),u=!0,l[1].has(e)&&(l[0].unobserve(e),l[1].delete(e)),l[1].size<=0&&a.delete(n.hash),a.size||gP.delete(i))};return mP.set(e,c),yP.set(e,r),c};function EMe(e){const{borderRadius:t,avatarColor:r,cardColor:n,fontSize:i,heightTiny:a,heightSmall:o,heightMedium:s,heightLarge:l,heightHuge:u,modalColor:c,popoverColor:f}=e;return{borderRadius:t,fontSize:i,border:`2px solid ${n}`,heightTiny:a,heightSmall:o,heightMedium:s,heightLarge:l,heightHuge:u,color:tr(n,r),colorModal:tr(c,r),colorPopover:tr(f,r)}}const RQ={name:"Avatar",common:Ct,self:EMe};function MMe(){return{gap:"-12px"}}const DMe={name:"AvatarGroup",common:Ct,peers:{Avatar:RQ},self:MMe},PMe={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},RMe={name:"BackTop",common:Ct,self(e){const{popoverColor:t,textColor2:r,primaryColorHover:n,primaryColorPressed:i}=e;return Object.assign(Object.assign({},PMe),{color:t,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},LMe={name:"Badge",common:Ct,self(e){const{errorColorSuppl:t,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:i,fontFamily:a}=e;return{color:t,colorInfo:r,colorSuccess:n,colorError:t,colorWarning:i,fontSize:"12px",fontFamily:a}}},IMe={fontWeightActive:"400"};function kMe(e){const{fontSize:t,textColor3:r,textColor2:n,borderRadius:i,buttonColor2Hover:a,buttonColor2Pressed:o}=e;return Object.assign(Object.assign({},IMe),{fontSize:t,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:i,itemColorHover:a,itemColorPressed:o,separatorColor:r})}const OMe={name:"Breadcrumb",common:Ct,self:kMe};function Qh(e){return tr(e,[255,255,255,.16])}function iS(e){return tr(e,[0,0,0,.12])}const FMe="n-button-group",NMe={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"};function LQ(e){const{heightTiny:t,heightSmall:r,heightMedium:n,heightLarge:i,borderRadius:a,fontSizeTiny:o,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,opacityDisabled:c,textColor2:f,textColor3:d,primaryColorHover:h,primaryColorPressed:v,borderColor:p,primaryColor:g,baseColor:m,infoColor:y,infoColorHover:x,infoColorPressed:b,successColor:w,successColorHover:S,successColorPressed:C,warningColor:E,warningColorHover:A,warningColorPressed:M,errorColor:D,errorColorHover:R,errorColorPressed:L,fontWeight:k,buttonColor2:O,buttonColor2Hover:F,buttonColor2Pressed:H,fontWeightStrong:V}=e;return Object.assign(Object.assign({},NMe),{heightTiny:t,heightSmall:r,heightMedium:n,heightLarge:i,borderRadiusTiny:a,borderRadiusSmall:a,borderRadiusMedium:a,borderRadiusLarge:a,fontSizeTiny:o,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,opacityDisabled:c,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:O,colorSecondaryHover:F,colorSecondaryPressed:H,colorTertiary:O,colorTertiaryHover:F,colorTertiaryPressed:H,colorQuaternary:"#0000",colorQuaternaryHover:F,colorQuaternaryPressed:H,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:f,textColorTertiary:d,textColorHover:h,textColorPressed:v,textColorFocus:h,textColorDisabled:f,textColorText:f,textColorTextHover:h,textColorTextPressed:v,textColorTextFocus:h,textColorTextDisabled:f,textColorGhost:f,textColorGhostHover:h,textColorGhostPressed:v,textColorGhostFocus:h,textColorGhostDisabled:f,border:`1px solid ${p}`,borderHover:`1px solid ${h}`,borderPressed:`1px solid ${v}`,borderFocus:`1px solid ${h}`,borderDisabled:`1px solid ${p}`,rippleColor:g,colorPrimary:g,colorHoverPrimary:h,colorPressedPrimary:v,colorFocusPrimary:h,colorDisabledPrimary:g,textColorPrimary:m,textColorHoverPrimary:m,textColorPressedPrimary:m,textColorFocusPrimary:m,textColorDisabledPrimary:m,textColorTextPrimary:g,textColorTextHoverPrimary:h,textColorTextPressedPrimary:v,textColorTextFocusPrimary:h,textColorTextDisabledPrimary:f,textColorGhostPrimary:g,textColorGhostHoverPrimary:h,textColorGhostPressedPrimary:v,textColorGhostFocusPrimary:h,textColorGhostDisabledPrimary:g,borderPrimary:`1px solid ${g}`,borderHoverPrimary:`1px solid ${h}`,borderPressedPrimary:`1px solid ${v}`,borderFocusPrimary:`1px solid ${h}`,borderDisabledPrimary:`1px solid ${g}`,rippleColorPrimary:g,colorInfo:y,colorHoverInfo:x,colorPressedInfo:b,colorFocusInfo:x,colorDisabledInfo:y,textColorInfo:m,textColorHoverInfo:m,textColorPressedInfo:m,textColorFocusInfo:m,textColorDisabledInfo:m,textColorTextInfo:y,textColorTextHoverInfo:x,textColorTextPressedInfo:b,textColorTextFocusInfo:x,textColorTextDisabledInfo:f,textColorGhostInfo:y,textColorGhostHoverInfo:x,textColorGhostPressedInfo:b,textColorGhostFocusInfo:x,textColorGhostDisabledInfo:y,borderInfo:`1px solid ${y}`,borderHoverInfo:`1px solid ${x}`,borderPressedInfo:`1px solid ${b}`,borderFocusInfo:`1px solid ${x}`,borderDisabledInfo:`1px solid ${y}`,rippleColorInfo:y,colorSuccess:w,colorHoverSuccess:S,colorPressedSuccess:C,colorFocusSuccess:S,colorDisabledSuccess:w,textColorSuccess:m,textColorHoverSuccess:m,textColorPressedSuccess:m,textColorFocusSuccess:m,textColorDisabledSuccess:m,textColorTextSuccess:w,textColorTextHoverSuccess:S,textColorTextPressedSuccess:C,textColorTextFocusSuccess:S,textColorTextDisabledSuccess:f,textColorGhostSuccess:w,textColorGhostHoverSuccess:S,textColorGhostPressedSuccess:C,textColorGhostFocusSuccess:S,textColorGhostDisabledSuccess:w,borderSuccess:`1px solid ${w}`,borderHoverSuccess:`1px solid ${S}`,borderPressedSuccess:`1px solid ${C}`,borderFocusSuccess:`1px solid ${S}`,borderDisabledSuccess:`1px solid ${w}`,rippleColorSuccess:w,colorWarning:E,colorHoverWarning:A,colorPressedWarning:M,colorFocusWarning:A,colorDisabledWarning:E,textColorWarning:m,textColorHoverWarning:m,textColorPressedWarning:m,textColorFocusWarning:m,textColorDisabledWarning:m,textColorTextWarning:E,textColorTextHoverWarning:A,textColorTextPressedWarning:M,textColorTextFocusWarning:A,textColorTextDisabledWarning:f,textColorGhostWarning:E,textColorGhostHoverWarning:A,textColorGhostPressedWarning:M,textColorGhostFocusWarning:A,textColorGhostDisabledWarning:E,borderWarning:`1px solid ${E}`,borderHoverWarning:`1px solid ${A}`,borderPressedWarning:`1px solid ${M}`,borderFocusWarning:`1px solid ${A}`,borderDisabledWarning:`1px solid ${E}`,rippleColorWarning:E,colorError:D,colorHoverError:R,colorPressedError:L,colorFocusError:R,colorDisabledError:D,textColorError:m,textColorHoverError:m,textColorPressedError:m,textColorFocusError:m,textColorDisabledError:m,textColorTextError:D,textColorTextHoverError:R,textColorTextPressedError:L,textColorTextFocusError:R,textColorTextDisabledError:f,textColorGhostError:D,textColorGhostHoverError:R,textColorGhostPressedError:L,textColorGhostFocusError:R,textColorGhostDisabledError:D,borderError:`1px solid ${D}`,borderHoverError:`1px solid ${R}`,borderPressedError:`1px solid ${L}`,borderFocusError:`1px solid ${R}`,borderDisabledError:`1px solid ${D}`,rippleColorError:D,waveOpacity:"0.6",fontWeight:k,fontWeightStrong:V})}const yE={name:"Button",common:$n,self:LQ},bs={name:"Button",common:Ct,self(e){const t=LQ(e);return t.waveOpacity="0.8",t.colorOpacitySecondary="0.16",t.colorOpacitySecondaryHover="0.2",t.colorOpacitySecondaryPressed="0.12",t}},BMe=we([ie("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Ce("color",[Me("border",{borderColor:"var(--n-border-color)"}),Ce("disabled",[Me("border",{borderColor:"var(--n-border-color-disabled)"})]),zn("disabled",[we("&:focus",[Me("state-border",{borderColor:"var(--n-border-color-focus)"})]),we("&:hover",[Me("state-border",{borderColor:"var(--n-border-color-hover)"})]),we("&:active",[Me("state-border",{borderColor:"var(--n-border-color-pressed)"})]),Ce("pressed",[Me("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),Ce("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[Me("border",{border:"var(--n-border-disabled)"})]),zn("disabled",[we("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[Me("state-border",{border:"var(--n-border-focus)"})]),we("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[Me("state-border",{border:"var(--n-border-hover)"})]),we("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Me("state-border",{border:"var(--n-border-pressed)"})]),Ce("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Me("state-border",{border:"var(--n-border-pressed)"})])]),Ce("loading","cursor: wait;"),ie("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[Ce("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),jf&&"MozBoxSizing"in document.createElement("div").style?we("&::moz-focus-inner",{border:0}):null,Me("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),Me("border",{border:"var(--n-border)"}),Me("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),Me("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[ie("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Cl({top:"50%",originalTransform:"translateY(-50%)"})]),nMe()]),Me("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[we("~",[Me("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),Ce("block",`
 display: flex;
 width: 100%;
 `),Ce("dashed",[Me("border, state-border",{borderStyle:"dashed !important"})]),Ce("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),we("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),we("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),zMe=Object.assign(Object.assign({},nr.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!TQ}}),lu=lt({name:"Button",props:zMe,slots:Object,setup(e){const t=xe(null),r=xe(null),n=xe(!1),i=Tn(()=>!e.quaternary&&!e.tertiary&&!e.secondary&&!e.text&&(!e.color||e.ghost||e.dashed)&&e.bordered),a=rr(FMe,{}),{mergedSizeRef:o}=Mh({},{defaultSize:"medium",mergedSize:b=>{const{size:w}=e;if(w)return w;const{size:S}=a;if(S)return S;const{mergedSize:C}=b||{};return C?C.value:"medium"}}),s=me(()=>e.focusable&&!e.disabled),l=b=>{var w;s.value||b.preventDefault(),!e.nativeFocusBehavior&&(b.preventDefault(),!e.disabled&&s.value&&((w=t.value)===null||w===void 0||w.focus({preventScroll:!0})))},u=b=>{var w;if(!e.disabled&&!e.loading){const{onClick:S}=e;S&&ht(S,b),e.text||(w=r.value)===null||w===void 0||w.play()}},c=b=>{switch(b.key){case"Enter":if(!e.keyboard)return;n.value=!1}},f=b=>{switch(b.key){case"Enter":if(!e.keyboard||e.loading){b.preventDefault();return}n.value=!0}},d=()=>{n.value=!1},{inlineThemeDisabled:h,mergedClsPrefixRef:v,mergedRtlRef:p}=tn(e),g=nr("Button","-button",BMe,yE,e,v),m=Eo("Button",p,v),y=me(()=>{const b=g.value,{common:{cubicBezierEaseInOut:w,cubicBezierEaseOut:S},self:C}=b,{rippleDuration:E,opacityDisabled:A,fontWeight:M,fontWeightStrong:D}=C,R=o.value,{dashed:L,type:k,ghost:O,text:F,color:H,round:V,circle:U,textColor:K,secondary:q,tertiary:N,quaternary:W,strong:j}=e,Z={"--n-font-weight":j?D:M};let ve={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const Te=k==="tertiary",Se=k==="default",te=Te?"default":k;if(F){const fe=K||H;ve={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":fe||C[tt("textColorText",te)],"--n-text-color-hover":fe?Qh(fe):C[tt("textColorTextHover",te)],"--n-text-color-pressed":fe?iS(fe):C[tt("textColorTextPressed",te)],"--n-text-color-focus":fe?Qh(fe):C[tt("textColorTextHover",te)],"--n-text-color-disabled":fe||C[tt("textColorTextDisabled",te)]}}else if(O||L){const fe=K||H;ve={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":H||C[tt("rippleColor",te)],"--n-text-color":fe||C[tt("textColorGhost",te)],"--n-text-color-hover":fe?Qh(fe):C[tt("textColorGhostHover",te)],"--n-text-color-pressed":fe?iS(fe):C[tt("textColorGhostPressed",te)],"--n-text-color-focus":fe?Qh(fe):C[tt("textColorGhostHover",te)],"--n-text-color-disabled":fe||C[tt("textColorGhostDisabled",te)]}}else if(q){const fe=Se?C.textColor:Te?C.textColorTertiary:C[tt("color",te)],de=H||fe,Ve=k!=="default"&&k!=="tertiary";ve={"--n-color":Ve?ut(de,{alpha:Number(C.colorOpacitySecondary)}):C.colorSecondary,"--n-color-hover":Ve?ut(de,{alpha:Number(C.colorOpacitySecondaryHover)}):C.colorSecondaryHover,"--n-color-pressed":Ve?ut(de,{alpha:Number(C.colorOpacitySecondaryPressed)}):C.colorSecondaryPressed,"--n-color-focus":Ve?ut(de,{alpha:Number(C.colorOpacitySecondaryHover)}):C.colorSecondaryHover,"--n-color-disabled":C.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":de,"--n-text-color-hover":de,"--n-text-color-pressed":de,"--n-text-color-focus":de,"--n-text-color-disabled":de}}else if(N||W){const fe=Se?C.textColor:Te?C.textColorTertiary:C[tt("color",te)],de=H||fe;N?(ve["--n-color"]=C.colorTertiary,ve["--n-color-hover"]=C.colorTertiaryHover,ve["--n-color-pressed"]=C.colorTertiaryPressed,ve["--n-color-focus"]=C.colorSecondaryHover,ve["--n-color-disabled"]=C.colorTertiary):(ve["--n-color"]=C.colorQuaternary,ve["--n-color-hover"]=C.colorQuaternaryHover,ve["--n-color-pressed"]=C.colorQuaternaryPressed,ve["--n-color-focus"]=C.colorQuaternaryHover,ve["--n-color-disabled"]=C.colorQuaternary),ve["--n-ripple-color"]="#0000",ve["--n-text-color"]=de,ve["--n-text-color-hover"]=de,ve["--n-text-color-pressed"]=de,ve["--n-text-color-focus"]=de,ve["--n-text-color-disabled"]=de}else ve={"--n-color":H||C[tt("color",te)],"--n-color-hover":H?Qh(H):C[tt("colorHover",te)],"--n-color-pressed":H?iS(H):C[tt("colorPressed",te)],"--n-color-focus":H?Qh(H):C[tt("colorFocus",te)],"--n-color-disabled":H||C[tt("colorDisabled",te)],"--n-ripple-color":H||C[tt("rippleColor",te)],"--n-text-color":K||(H?C.textColorPrimary:Te?C.textColorTertiary:C[tt("textColor",te)]),"--n-text-color-hover":K||(H?C.textColorHoverPrimary:C[tt("textColorHover",te)]),"--n-text-color-pressed":K||(H?C.textColorPressedPrimary:C[tt("textColorPressed",te)]),"--n-text-color-focus":K||(H?C.textColorFocusPrimary:C[tt("textColorFocus",te)]),"--n-text-color-disabled":K||(H?C.textColorDisabledPrimary:C[tt("textColorDisabled",te)])};let pe={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};F?pe={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:pe={"--n-border":C[tt("border",te)],"--n-border-hover":C[tt("borderHover",te)],"--n-border-pressed":C[tt("borderPressed",te)],"--n-border-focus":C[tt("borderFocus",te)],"--n-border-disabled":C[tt("borderDisabled",te)]};const{[tt("height",R)]:Re,[tt("fontSize",R)]:z,[tt("padding",R)]:J,[tt("paddingRound",R)]:se,[tt("iconSize",R)]:he,[tt("borderRadius",R)]:_e,[tt("iconMargin",R)]:ge,waveOpacity:$e}=C,Le={"--n-width":U&&!F?Re:"initial","--n-height":F?"initial":Re,"--n-font-size":z,"--n-padding":U||F?"initial":V?se:J,"--n-icon-size":he,"--n-icon-margin":ge,"--n-border-radius":F?"initial":U||V?Re:_e};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":w,"--n-bezier-ease-out":S,"--n-ripple-duration":E,"--n-opacity-disabled":A,"--n-wave-opacity":$e},Z),ve),pe),Le)}),x=h?ti("button",me(()=>{let b="";const{dashed:w,type:S,ghost:C,text:E,color:A,round:M,circle:D,textColor:R,secondary:L,tertiary:k,quaternary:O,strong:F}=e;w&&(b+="a"),C&&(b+="b"),E&&(b+="c"),M&&(b+="d"),D&&(b+="e"),L&&(b+="f"),k&&(b+="g"),O&&(b+="h"),F&&(b+="i"),A&&(b+=`j${YC(A)}`),R&&(b+=`k${YC(R)}`);const{value:H}=o;return b+=`l${H[0]}`,b+=`m${S[0]}`,b}),y,e):void 0;return{selfElRef:t,waveElRef:r,mergedClsPrefix:v,mergedFocusable:s,mergedSize:o,showBorder:i,enterPressed:n,rtlEnabled:m,handleMousedown:l,handleKeydown:f,handleBlur:d,handleKeyup:c,handleClick:u,customColorCssVars:me(()=>{const{color:b}=e;if(!b)return null;const w=Qh(b);return{"--n-border-color":b,"--n-border-color-hover":w,"--n-border-color-pressed":iS(b),"--n-border-color-focus":w,"--n-border-color-disabled":b}}),cssVars:h?void 0:y,themeClass:x?.themeClass,onRender:x?.onRender}},render(){const{mergedClsPrefix:e,tag:t,onRender:r}=this;r?.();const n=Jn(this.$slots.default,i=>i&&I("span",{class:`${e}-button__content`},i));return I(t,{ref:"selfElRef",class:[this.themeClass,`${e}-button`,`${e}-button--${this.type}-type`,`${e}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${e}-button--rtl`,this.disabled&&`${e}-button--disabled`,this.block&&`${e}-button--block`,this.enterPressed&&`${e}-button--pressed`,!this.text&&this.dashed&&`${e}-button--dashed`,this.color&&`${e}-button--color`,this.secondary&&`${e}-button--secondary`,this.loading&&`${e}-button--loading`,this.ghost&&`${e}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&n,I(vE,{width:!0},{default:()=>Jn(this.$slots.icon,i=>(this.loading||this.renderIcon||i)&&I("span",{class:`${e}-button__icon`,style:{margin:f3(this.$slots.default)?"0":""}},I(Zp,null,{default:()=>this.loading?I($m,{clsPrefix:e,key:"loading",class:`${e}-icon-slot`,strokeWidth:20}):I("div",{key:"icon",class:`${e}-icon-slot`,role:"none"},this.renderIcon?this.renderIcon():i)})))}),this.iconPlacement==="left"&&n,this.text?null:I(aMe,{ref:"waveElRef",clsPrefix:e}),this.showBorder?I("div",{"aria-hidden":!0,class:`${e}-button__border`,style:this.customColorCssVars}):null,this.showBorder?I("div",{"aria-hidden":!0,class:`${e}-button__state-border`,style:this.customColorCssVars}):null)}}),HMe={titleFontSize:"22px"};function VMe(e){const{borderRadius:t,fontSize:r,lineHeight:n,textColor2:i,textColor1:a,textColorDisabled:o,dividerColor:s,fontWeightStrong:l,primaryColor:u,baseColor:c,hoverColor:f,cardColor:d,modalColor:h,popoverColor:v}=e;return Object.assign(Object.assign({},HMe),{borderRadius:t,borderColor:tr(d,s),borderColorModal:tr(h,s),borderColorPopover:tr(v,s),textColor:i,titleFontWeight:l,titleTextColor:a,dayTextColor:o,fontSize:r,lineHeight:n,dateColorCurrent:u,dateTextColorCurrent:c,cellColorHover:tr(d,f),cellColorHoverModal:tr(h,f),cellColorHoverPopover:tr(v,f),cellColor:d,cellColorModal:h,cellColorPopover:v,barColor:u})}const $Me={name:"Calendar",common:Ct,peers:{Button:bs},self:VMe},GMe={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"};function IQ(e){const{primaryColor:t,borderRadius:r,lineHeight:n,fontSize:i,cardColor:a,textColor2:o,textColor1:s,dividerColor:l,fontWeightStrong:u,closeIconColor:c,closeIconColorHover:f,closeIconColorPressed:d,closeColorHover:h,closeColorPressed:v,modalColor:p,boxShadow1:g,popoverColor:m,actionColor:y}=e;return Object.assign(Object.assign({},GMe),{lineHeight:n,color:a,colorModal:p,colorPopover:m,colorTarget:t,colorEmbedded:y,colorEmbeddedModal:y,colorEmbeddedPopover:y,textColor:o,titleTextColor:s,borderColor:l,actionColor:y,titleFontWeight:u,closeColorHover:h,closeColorPressed:v,closeBorderRadius:r,closeIconColor:c,closeIconColorHover:f,closeIconColorPressed:d,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:g,borderRadius:r})}const kQ={name:"Card",common:$n,self:IQ},OQ={name:"Card",common:Ct,self(e){const t=IQ(e),{cardColor:r,modalColor:n,popoverColor:i}=e;return t.colorEmbedded=r,t.colorEmbeddedModal=n,t.colorEmbeddedPopover=i,t}},UMe=we([ie("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Oq({background:"var(--n-color-modal)"}),Ce("hoverable",[we("&:hover","box-shadow: var(--n-box-shadow);")]),Ce("content-segmented",[we(">",[Me("content",{paddingTop:"var(--n-padding-bottom)"})])]),Ce("content-soft-segmented",[we(">",[Me("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),Ce("footer-segmented",[we(">",[Me("footer",{paddingTop:"var(--n-padding-bottom)"})])]),Ce("footer-soft-segmented",[we(">",[Me("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),we(">",[ie("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[Me("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),Me("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),Me("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),Me("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),Me("content","flex: 1; min-width: 0;"),Me("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[we("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),Me("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),ie("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[we("img",`
 display: block;
 width: 100%;
 `)]),Ce("bordered",`
 border: 1px solid var(--n-border-color);
 `,[we("&:target","border-color: var(--n-color-target);")]),Ce("action-segmented",[we(">",[Me("action",[we("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),Ce("content-segmented, content-soft-segmented",[we(">",[Me("content",{transition:"border-color 0.3s var(--n-bezier)"},[we("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),Ce("footer-segmented, footer-soft-segmented",[we(">",[Me("footer",{transition:"border-color 0.3s var(--n-bezier)"},[we("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),Ce("embedded",`
 background-color: var(--n-color-embedded);
 `)]),QA(ie("card",`
 background: var(--n-color-modal);
 `,[Ce("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),YO(ie("card",`
 background: var(--n-color-popover);
 `,[Ce("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),_5={title:[String,Function],contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"},cover:Function,content:[String,Function],footer:Function,action:Function,headerExtra:Function},WMe=iE(_5),XMe=Object.assign(Object.assign({},nr.props),_5),Nc=lt({name:"Card",props:XMe,slots:Object,setup(e){const t=()=>{const{onClose:u}=e;u&&ht(u)},{inlineThemeDisabled:r,mergedClsPrefixRef:n,mergedRtlRef:i}=tn(e),a=nr("Card","-card",UMe,kQ,e,n),o=Eo("Card",i,n),s=me(()=>{const{size:u}=e,{self:{color:c,colorModal:f,colorTarget:d,textColor:h,titleTextColor:v,titleFontWeight:p,borderColor:g,actionColor:m,borderRadius:y,lineHeight:x,closeIconColor:b,closeIconColorHover:w,closeIconColorPressed:S,closeColorHover:C,closeColorPressed:E,closeBorderRadius:A,closeIconSize:M,closeSize:D,boxShadow:R,colorPopover:L,colorEmbedded:k,colorEmbeddedModal:O,colorEmbeddedPopover:F,[tt("padding",u)]:H,[tt("fontSize",u)]:V,[tt("titleFontSize",u)]:U},common:{cubicBezierEaseInOut:K}}=a.value,{top:q,left:N,bottom:W}=Ha(H);return{"--n-bezier":K,"--n-border-radius":y,"--n-color":c,"--n-color-modal":f,"--n-color-popover":L,"--n-color-embedded":k,"--n-color-embedded-modal":O,"--n-color-embedded-popover":F,"--n-color-target":d,"--n-text-color":h,"--n-line-height":x,"--n-action-color":m,"--n-title-text-color":v,"--n-title-font-weight":p,"--n-close-icon-color":b,"--n-close-icon-color-hover":w,"--n-close-icon-color-pressed":S,"--n-close-color-hover":C,"--n-close-color-pressed":E,"--n-border-color":g,"--n-box-shadow":R,"--n-padding-top":q,"--n-padding-bottom":W,"--n-padding-left":N,"--n-font-size":V,"--n-title-font-size":U,"--n-close-size":D,"--n-close-icon-size":M,"--n-close-border-radius":A}}),l=r?ti("card",me(()=>e.size[0]),s,e):void 0;return{rtlEnabled:o,mergedClsPrefix:n,mergedTheme:a,handleCloseClick:t,cssVars:r?void 0:s,themeClass:l?.themeClass,onRender:l?.onRender}},render(){const{segmented:e,bordered:t,hoverable:r,mergedClsPrefix:n,rtlEnabled:i,onRender:a,embedded:o,tag:s,$slots:l}=this;return a?.(),I(s,{class:[`${n}-card`,this.themeClass,o&&`${n}-card--embedded`,{[`${n}-card--rtl`]:i,[`${n}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${n}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${n}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${n}-card--bordered`]:t,[`${n}-card--hoverable`]:r}],style:this.cssVars,role:this.role},Jn(l.cover,u=>{const c=this.cover?ou([this.cover()]):u;return c&&I("div",{class:`${n}-card-cover`,role:"none"},c)}),Jn(l.header,u=>{const{title:c}=this,f=c?ou(typeof c=="function"?[c()]:[c]):u;return f||this.closable?I("div",{class:[`${n}-card-header`,this.headerClass],style:this.headerStyle,role:"heading"},I("div",{class:`${n}-card-header__main`,role:"heading"},f),Jn(l["header-extra"],d=>{const h=this.headerExtra?ou([this.headerExtra()]):d;return h&&I("div",{class:[`${n}-card-header__extra`,this.headerExtraClass],style:this.headerExtraStyle},h)}),this.closable&&I(fb,{clsPrefix:n,class:`${n}-card-header__close`,onClick:this.handleCloseClick,absolute:!0})):null}),Jn(l.default,u=>{const{content:c}=this,f=c?ou(typeof c=="function"?[c()]:[c]):u;return f&&I("div",{class:[`${n}-card__content`,this.contentClass],style:this.contentStyle,role:"none"},f)}),Jn(l.footer,u=>{const c=this.footer?ou([this.footer()]):u;return c&&I("div",{class:[`${n}-card__footer`,this.footerClass],style:this.footerStyle,role:"none"},c)}),Jn(l.action,u=>{const c=this.action?ou([this.action()]):u;return c&&I("div",{class:`${n}-card__action`,role:"none"},c)}))}});function jMe(){return{dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}}const YMe={name:"Carousel",common:Ct,self:jMe},KMe={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"};function FQ(e){const{baseColor:t,inputColorDisabled:r,cardColor:n,modalColor:i,popoverColor:a,textColorDisabled:o,borderColor:s,primaryColor:l,textColor2:u,fontSizeSmall:c,fontSizeMedium:f,fontSizeLarge:d,borderRadiusSmall:h,lineHeight:v}=e;return Object.assign(Object.assign({},KMe),{labelLineHeight:v,fontSizeSmall:c,fontSizeMedium:f,fontSizeLarge:d,borderRadius:h,color:t,colorChecked:l,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:i,colorTableHeaderPopover:a,checkMarkColor:t,checkMarkColorDisabled:o,checkMarkColorDisabledChecked:o,border:`1px solid ${s}`,borderDisabled:`1px solid ${s}`,borderDisabledChecked:`1px solid ${s}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${ut(l,{alpha:.3})}`,textColor:u,textColorDisabled:o})}const NQ={name:"Checkbox",common:$n,self:FQ},Xm={name:"Checkbox",common:Ct,self(e){const{cardColor:t}=e,r=FQ(e);return r.color="#0000",r.checkMarkColor=t,r}};function ZMe(e){const{borderRadius:t,boxShadow2:r,popoverColor:n,textColor2:i,textColor3:a,primaryColor:o,textColorDisabled:s,dividerColor:l,hoverColor:u,fontSizeMedium:c,heightMedium:f}=e;return{menuBorderRadius:t,menuColor:n,menuBoxShadow:r,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:a,optionHeight:f,optionFontSize:c,optionColorHover:u,optionTextColor:i,optionTextColorActive:o,optionTextColorDisabled:s,optionCheckMarkColor:o,loadingColor:o,columnWidth:"180px"}}const qMe={name:"Cascader",common:Ct,peers:{InternalSelectMenu:db,InternalSelection:x5,Scrollbar:_s,Checkbox:Xm,Empty:mE},self:ZMe},BQ="n-checkbox-group",JMe={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]},QMe=lt({name:"CheckboxGroup",props:JMe,setup(e){const{mergedClsPrefixRef:t}=tn(e),r=Mh(e),{mergedSizeRef:n,mergedDisabledRef:i}=r,a=xe(e.defaultValue),o=me(()=>e.value),s=bo(o,a),l=me(()=>{var f;return((f=s.value)===null||f===void 0?void 0:f.length)||0}),u=me(()=>Array.isArray(s.value)?new Set(s.value):new Set);function c(f,d){const{nTriggerFormInput:h,nTriggerFormChange:v}=r,{onChange:p,"onUpdate:value":g,onUpdateValue:m}=e;if(Array.isArray(s.value)){const y=Array.from(s.value),x=y.findIndex(b=>b===d);f?~x||(y.push(d),m&&ht(m,y,{actionType:"check",value:d}),g&&ht(g,y,{actionType:"check",value:d}),h(),v(),a.value=y,p&&ht(p,y)):~x&&(y.splice(x,1),m&&ht(m,y,{actionType:"uncheck",value:d}),g&&ht(g,y,{actionType:"uncheck",value:d}),p&&ht(p,y),a.value=y,h(),v())}else f?(m&&ht(m,[d],{actionType:"check",value:d}),g&&ht(g,[d],{actionType:"check",value:d}),p&&ht(p,[d]),a.value=[d],h(),v()):(m&&ht(m,[],{actionType:"uncheck",value:d}),g&&ht(g,[],{actionType:"uncheck",value:d}),p&&ht(p,[]),a.value=[],h(),v())}return wn(BQ,{checkedCountRef:l,maxRef:rt(e,"max"),minRef:rt(e,"min"),valueSetRef:u,disabledRef:i,mergedSizeRef:n,toggleCheckbox:c}),{mergedClsPrefix:t}},render(){return I("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}}),eDe=()=>I("svg",{viewBox:"0 0 64 64",class:"check-icon"},I("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),tDe=()=>I("svg",{viewBox:"0 0 100 100",class:"line-icon"},I("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"})),rDe=we([ie("checkbox",`
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 line-height: var(--n-size);
 --n-merged-color-table: var(--n-color-table);
 `,[Ce("show-label","line-height: var(--n-label-line-height);"),we("&:hover",[ie("checkbox-box",[Me("border","border: var(--n-border-checked);")])]),we("&:focus:not(:active)",[ie("checkbox-box",[Me("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),Ce("inside-table",[ie("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),Ce("checked",[ie("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[ie("checkbox-icon",[we(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),Ce("indeterminate",[ie("checkbox-box",[ie("checkbox-icon",[we(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),we(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),Ce("checked, indeterminate",[we("&:focus:not(:active)",[ie("checkbox-box",[Me("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),ie("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[Me("border",{border:"var(--n-border-checked)"})])]),Ce("disabled",{cursor:"not-allowed"},[Ce("checked",[ie("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[Me("border",{border:"var(--n-border-disabled-checked)"}),ie("checkbox-icon",[we(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),ie("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[Me("border",`
 border: var(--n-border-disabled);
 `),ie("checkbox-icon",[we(".check-icon, .line-icon",`
 fill: var(--n-check-mark-color-disabled);
 `)])]),Me("label",`
 color: var(--n-text-color-disabled);
 `)]),ie("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 user-select: none;
 -webkit-user-select: none;
 `),ie("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[Me("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),ie("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[we(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),Cl({left:"1px",top:"1px"})])]),Me("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 `,[we("&:empty",{display:"none"})])]),QA(ie("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),YO(ie("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]),nDe=Object.assign(Object.assign({},nr.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]}),b5=lt({name:"Checkbox",props:nDe,setup(e){const t=rr(BQ,null),r=xe(null),{mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:a}=tn(e),o=xe(e.defaultChecked),s=rt(e,"checked"),l=bo(s,o),u=Tn(()=>{if(t){const S=t.valueSetRef.value;return S&&e.value!==void 0?S.has(e.value):!1}else return l.value===e.checkedValue}),c=Mh(e,{mergedSize(S){const{size:C}=e;if(C!==void 0)return C;if(t){const{value:E}=t.mergedSizeRef;if(E!==void 0)return E}if(S){const{mergedSize:E}=S;if(E!==void 0)return E.value}return"medium"},mergedDisabled(S){const{disabled:C}=e;if(C!==void 0)return C;if(t){if(t.disabledRef.value)return!0;const{maxRef:{value:E},checkedCountRef:A}=t;if(E!==void 0&&A.value>=E&&!u.value)return!0;const{minRef:{value:M}}=t;if(M!==void 0&&A.value<=M&&u.value)return!0}return S?S.disabled.value:!1}}),{mergedDisabledRef:f,mergedSizeRef:d}=c,h=nr("Checkbox","-checkbox",rDe,NQ,e,n);function v(S){if(t&&e.value!==void 0)t.toggleCheckbox(!u.value,e.value);else{const{onChange:C,"onUpdate:checked":E,onUpdateChecked:A}=e,{nTriggerFormInput:M,nTriggerFormChange:D}=c,R=u.value?e.uncheckedValue:e.checkedValue;E&&ht(E,R,S),A&&ht(A,R,S),C&&ht(C,R,S),M(),D(),o.value=R}}function p(S){f.value||v(S)}function g(S){if(!f.value)switch(S.key){case" ":case"Enter":v(S)}}function m(S){switch(S.key){case" ":S.preventDefault()}}const y={focus:()=>{var S;(S=r.value)===null||S===void 0||S.focus()},blur:()=>{var S;(S=r.value)===null||S===void 0||S.blur()}},x=Eo("Checkbox",a,n),b=me(()=>{const{value:S}=d,{common:{cubicBezierEaseInOut:C},self:{borderRadius:E,color:A,colorChecked:M,colorDisabled:D,colorTableHeader:R,colorTableHeaderModal:L,colorTableHeaderPopover:k,checkMarkColor:O,checkMarkColorDisabled:F,border:H,borderFocus:V,borderDisabled:U,borderChecked:K,boxShadowFocus:q,textColor:N,textColorDisabled:W,checkMarkColorDisabledChecked:j,colorDisabledChecked:Z,borderDisabledChecked:ve,labelPadding:Te,labelLineHeight:Se,labelFontWeight:te,[tt("fontSize",S)]:pe,[tt("size",S)]:Re}}=h.value;return{"--n-label-line-height":Se,"--n-label-font-weight":te,"--n-size":Re,"--n-bezier":C,"--n-border-radius":E,"--n-border":H,"--n-border-checked":K,"--n-border-focus":V,"--n-border-disabled":U,"--n-border-disabled-checked":ve,"--n-box-shadow-focus":q,"--n-color":A,"--n-color-checked":M,"--n-color-table":R,"--n-color-table-modal":L,"--n-color-table-popover":k,"--n-color-disabled":D,"--n-color-disabled-checked":Z,"--n-text-color":N,"--n-text-color-disabled":W,"--n-check-mark-color":O,"--n-check-mark-color-disabled":F,"--n-check-mark-color-disabled-checked":j,"--n-font-size":pe,"--n-label-padding":Te}}),w=i?ti("checkbox",me(()=>d.value[0]),b,e):void 0;return Object.assign(c,y,{rtlEnabled:x,selfRef:r,mergedClsPrefix:n,mergedDisabled:f,renderedChecked:u,mergedTheme:h,labelId:Cp(),handleClick:p,handleKeyUp:g,handleKeyDown:m,cssVars:i?void 0:b,themeClass:w?.themeClass,onRender:w?.onRender})},render(){var e;const{$slots:t,renderedChecked:r,mergedDisabled:n,indeterminate:i,privateInsideTable:a,cssVars:o,labelId:s,label:l,mergedClsPrefix:u,focusable:c,handleKeyUp:f,handleKeyDown:d,handleClick:h}=this;(e=this.onRender)===null||e===void 0||e.call(this);const v=Jn(t.default,p=>l||p?I("span",{class:`${u}-checkbox__label`,id:s},l||p):null);return I("div",{ref:"selfRef",class:[`${u}-checkbox`,this.themeClass,this.rtlEnabled&&`${u}-checkbox--rtl`,r&&`${u}-checkbox--checked`,n&&`${u}-checkbox--disabled`,i&&`${u}-checkbox--indeterminate`,a&&`${u}-checkbox--inside-table`,v&&`${u}-checkbox--show-label`],tabindex:n||!c?void 0:0,role:"checkbox","aria-checked":i?"mixed":r,"aria-labelledby":s,style:o,onKeyup:f,onKeydown:d,onClick:h,onMousedown:()=>{fn("selectstart",window,p=>{p.preventDefault()},{once:!0})}},I("div",{class:`${u}-checkbox-box-wrapper`}," ",I("div",{class:`${u}-checkbox-box`},I(Zp,null,{default:()=>this.indeterminate?I("div",{key:"indeterminate",class:`${u}-checkbox-icon`},tDe()):I("div",{key:"check",class:`${u}-checkbox-icon`},eDe())}),I("div",{class:`${u}-checkbox-box__border`}))),v)}}),zQ={name:"Code",common:Ct,self(e){const{textColor2:t,fontSize:r,fontWeightStrong:n,textColor3:i}=e;return{textColor:t,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:i}}};function iDe(e){const{fontWeight:t,textColor1:r,textColor2:n,textColorDisabled:i,dividerColor:a,fontSize:o}=e;return{titleFontSize:o,titleFontWeight:t,dividerColor:a,titleTextColor:r,titleTextColorDisabled:i,fontSize:o,textColor:n,arrowColor:n,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}}const aDe={name:"Collapse",common:Ct,self:iDe};function oDe(e){const{cubicBezierEaseInOut:t}=e;return{bezier:t}}const sDe={name:"CollapseTransition",common:Ct,self:oDe};function lDe(e){const{fontSize:t,boxShadow2:r,popoverColor:n,textColor2:i,borderRadius:a,borderColor:o,heightSmall:s,heightMedium:l,heightLarge:u,fontSizeSmall:c,fontSizeMedium:f,fontSizeLarge:d,dividerColor:h}=e;return{panelFontSize:t,boxShadow:r,color:n,textColor:i,borderRadius:a,border:`1px solid ${o}`,heightSmall:s,heightMedium:l,heightLarge:u,fontSizeSmall:c,fontSizeMedium:f,fontSizeLarge:d,dividerColor:h}}const uDe={name:"ColorPicker",common:Ct,peers:{Input:Xs,Button:bs},self:lDe},cDe={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,katex:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,styleMountTarget:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(Ec("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},fDe=lt({name:"ConfigProvider",alias:["App"],props:cDe,setup(e){const t=rr(wu,null),r=me(()=>{const{theme:p}=e;if(p===null)return;const g=t?.mergedThemeRef.value;return p===void 0?g:g===void 0?p:Object.assign({},g,p)}),n=me(()=>{const{themeOverrides:p}=e;if(p!==null){if(p===void 0)return t?.mergedThemeOverridesRef.value;{const g=t?.mergedThemeOverridesRef.value;return g===void 0?p:z1({},g,p)}}}),i=Tn(()=>{const{namespace:p}=e;return p===void 0?t?.mergedNamespaceRef.value:p}),a=Tn(()=>{const{bordered:p}=e;return p===void 0?t?.mergedBorderedRef.value:p}),o=me(()=>{const{icons:p}=e;return p===void 0?t?.mergedIconsRef.value:p}),s=me(()=>{const{componentOptions:p}=e;return p!==void 0?p:t?.mergedComponentPropsRef.value}),l=me(()=>{const{clsPrefix:p}=e;return p!==void 0?p:t?t.mergedClsPrefixRef.value:KC}),u=me(()=>{var p;const{rtl:g}=e;if(g===void 0)return t?.mergedRtlRef.value;const m={};for(const y of g)m[y.name]=qI(y),(p=y.peers)===null||p===void 0||p.forEach(x=>{x.name in m||(m[x.name]=qI(x))});return m}),c=me(()=>e.breakpoints||t?.mergedBreakpointsRef.value),f=e.inlineThemeDisabled||t?.inlineThemeDisabled,d=e.preflightStyleDisabled||t?.preflightStyleDisabled,h=e.styleMountTarget||t?.styleMountTarget,v=me(()=>{const{value:p}=r,{value:g}=n,m=g&&Object.keys(g).length!==0,y=p?.name;return y?m?`${y}-${t_(JSON.stringify(n.value))}`:y:m?t_(JSON.stringify(n.value)):""});return wn(wu,{mergedThemeHashRef:v,mergedBreakpointsRef:c,mergedRtlRef:u,mergedIconsRef:o,mergedComponentPropsRef:s,mergedBorderedRef:a,mergedNamespaceRef:i,mergedClsPrefixRef:l,mergedLocaleRef:me(()=>{const{locale:p}=e;if(p!==null)return p===void 0?t?.mergedLocaleRef.value:p}),mergedDateLocaleRef:me(()=>{const{dateLocale:p}=e;if(p!==null)return p===void 0?t?.mergedDateLocaleRef.value:p}),mergedHljsRef:me(()=>{const{hljs:p}=e;return p===void 0?t?.mergedHljsRef.value:p}),mergedKatexRef:me(()=>{const{katex:p}=e;return p===void 0?t?.mergedKatexRef.value:p}),mergedThemeRef:r,mergedThemeOverridesRef:n,inlineThemeDisabled:f||!1,preflightStyleDisabled:d||!1,styleMountTarget:h}),{mergedClsPrefix:l,mergedBordered:a,mergedNamespace:i,mergedTheme:r,mergedThemeOverrides:n}},render(){var e,t,r,n;return this.abstract?(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r):I(this.as||this.tag,{class:`${this.mergedClsPrefix||KC}-config-provider`},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),HQ={name:"Popselect",common:Ct,peers:{Popover:Jp,InternalSelectMenu:db}};function dDe(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const w5={name:"Popselect",common:$n,peers:{Popover:Wm,InternalSelectMenu:y5},self:dDe},VQ="n-popselect",hDe=ie("popselect-menu",`
 box-shadow: var(--n-menu-box-shadow);
`),S5={multiple:Boolean,value:{type:[String,Number,Array],default:null},cancelable:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:"medium"},scrollable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onMouseenter:Function,onMouseleave:Function,renderLabel:Function,showCheckmark:{type:Boolean,default:void 0},nodeProps:Function,virtualScroll:Boolean,onChange:[Function,Array]},E7=iE(S5),vDe=lt({name:"PopselectPanel",props:S5,setup(e){const t=rr(VQ),{mergedClsPrefixRef:r,inlineThemeDisabled:n}=tn(e),i=nr("Popselect","-pop-select",hDe,w5,t.props,r),a=me(()=>gE(e.options,PQ("value","children")));function o(d,h){const{onUpdateValue:v,"onUpdate:value":p,onChange:g}=e;v&&ht(v,d,h),p&&ht(p,d,h),g&&ht(g,d,h)}function s(d){u(d.key)}function l(d){!Rl(d,"action")&&!Rl(d,"empty")&&!Rl(d,"header")&&d.preventDefault()}function u(d){const{value:{getNode:h}}=a;if(e.multiple)if(Array.isArray(e.value)){const v=[],p=[];let g=!0;e.value.forEach(m=>{if(m===d){g=!1;return}const y=h(m);y&&(v.push(y.key),p.push(y.rawNode))}),g&&(v.push(d),p.push(h(d).rawNode)),o(v,p)}else{const v=h(d);v&&o([d],[v.rawNode])}else if(e.value===d&&e.cancelable)o(null,null);else{const v=h(d);v&&o(d,v.rawNode);const{"onUpdate:show":p,onUpdateShow:g}=t.props;p&&ht(p,!1),g&&ht(g,!1),t.setShow(!1)}Sa(()=>{t.syncPosition()})}hn(rt(e,"options"),()=>{Sa(()=>{t.syncPosition()})});const c=me(()=>{const{self:{menuBoxShadow:d}}=i.value;return{"--n-menu-box-shadow":d}}),f=n?ti("select",void 0,c,t.props):void 0;return{mergedTheme:t.mergedThemeRef,mergedClsPrefix:r,treeMate:a,handleToggle:s,handleMenuMousedown:l,cssVars:n?void 0:c,themeClass:f?.themeClass,onRender:f?.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),I(gQ,{clsPrefix:this.mergedClsPrefix,focusable:!0,nodeProps:this.nodeProps,class:[`${this.mergedClsPrefix}-popselect-menu`,this.themeClass],style:this.cssVars,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,multiple:this.multiple,treeMate:this.treeMate,size:this.size,value:this.value,virtualScroll:this.virtualScroll,scrollable:this.scrollable,renderLabel:this.renderLabel,onToggle:this.handleToggle,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseenter,onMousedown:this.handleMenuMousedown,showCheckmark:this.showCheckmark},{header:()=>{var t,r;return((r=(t=this.$slots).header)===null||r===void 0?void 0:r.call(t))||[]},action:()=>{var t,r;return((r=(t=this.$slots).action)===null||r===void 0?void 0:r.call(t))||[]},empty:()=>{var t,r;return((r=(t=this.$slots).empty)===null||r===void 0?void 0:r.call(t))||[]}})}}),pDe=Object.assign(Object.assign(Object.assign(Object.assign({},nr.props),aE(cm,["showArrow","arrow"])),{placement:Object.assign(Object.assign({},cm.placement),{default:"bottom"}),trigger:{type:String,default:"hover"}}),S5),gDe=lt({name:"Popselect",props:pDe,slots:Object,inheritAttrs:!1,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=tn(e),r=nr("Popselect","-popselect",void 0,w5,e,t),n=xe(null);function i(){var s;(s=n.value)===null||s===void 0||s.syncPosition()}function a(s){var l;(l=n.value)===null||l===void 0||l.setShow(s)}return wn(VQ,{props:e,mergedThemeRef:r,syncPosition:i,setShow:a}),Object.assign(Object.assign({},{syncPosition:i,setShow:a}),{popoverInstRef:n,mergedTheme:r})},render(){const{mergedTheme:e}=this,t={theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:{padding:"0"},ref:"popoverInstRef",internalRenderBody:(r,n,i,a,o)=>{const{$attrs:s}=this;return I(vDe,Object.assign({},s,{class:[s.class,r],style:[s.style,...i]},lm(this.$props,E7),{ref:fJ(n),onMouseenter:xx([a,s.onMouseenter]),onMouseleave:xx([o,s.onMouseleave])}),{header:()=>{var l,u;return(u=(l=this.$slots).header)===null||u===void 0?void 0:u.call(l)},action:()=>{var l,u;return(u=(l=this.$slots).action)===null||u===void 0?void 0:u.call(l)},empty:()=>{var l,u;return(u=(l=this.$slots).empty)===null||u===void 0?void 0:u.call(l)}})}};return I(hb,Object.assign({},aE(this.$props,E7),t,{internalDeactivateImmediately:!0}),{trigger:()=>{var r,n;return(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r)}})}});function $Q(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const GQ={name:"Select",common:$n,peers:{InternalSelection:CQ,InternalSelectMenu:y5},self:$Q},UQ={name:"Select",common:Ct,peers:{InternalSelection:x5,InternalSelectMenu:db},self:$Q},mDe=we([ie("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 font-weight: var(--n-font-weight);
 `),ie("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Um({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),yDe=Object.assign(Object.assign({},nr.props),{to:Ac.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),xDe=lt({name:"Select",props:yDe,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,namespaceRef:n,inlineThemeDisabled:i}=tn(e),a=nr("Select","-select",mDe,GQ,e,t),o=xe(e.defaultValue),s=rt(e,"value"),l=bo(s,o),u=xe(!1),c=xe(""),f=jC(e,["items","options"]),d=xe([]),h=xe([]),v=me(()=>h.value.concat(d.value).concat(f.value)),p=me(()=>{const{filter:ue}=e;if(ue)return ue;const{labelField:Pe,valueField:Je}=e;return(bt,Tt)=>{if(!Tt)return!1;const Bt=Tt[Pe];if(typeof Bt=="string")return pP(bt,Bt);const Gt=Tt[Je];return typeof Gt=="string"?pP(bt,Gt):typeof Gt=="number"?pP(bt,String(Gt)):!1}}),g=me(()=>{if(e.remote)return f.value;{const{value:ue}=v,{value:Pe}=c;return!Pe.length||!e.filterable?ue:_Me(ue,p.value,Pe,e.childrenField)}}),m=me(()=>{const{valueField:ue,childrenField:Pe}=e,Je=PQ(ue,Pe);return gE(g.value,Je)}),y=me(()=>bMe(v.value,e.valueField,e.childrenField)),x=xe(!1),b=bo(rt(e,"show"),x),w=xe(null),S=xe(null),C=xe(null),{localeRef:E}=Vm("Select"),A=me(()=>{var ue;return(ue=e.placeholder)!==null&&ue!==void 0?ue:E.value.placeholder}),M=[],D=xe(new Map),R=me(()=>{const{fallbackOption:ue}=e;if(ue===void 0){const{labelField:Pe,valueField:Je}=e;return bt=>({[Pe]:String(bt),[Je]:bt})}return ue===!1?!1:Pe=>Object.assign(ue(Pe),{value:Pe})});function L(ue){const Pe=e.remote,{value:Je}=D,{value:bt}=y,{value:Tt}=R,Bt=[];return ue.forEach(Gt=>{if(bt.has(Gt))Bt.push(bt.get(Gt));else if(Pe&&Je.has(Gt))Bt.push(Je.get(Gt));else if(Tt){const Jt=Tt(Gt);Jt&&Bt.push(Jt)}}),Bt}const k=me(()=>{if(e.multiple){const{value:ue}=l;return Array.isArray(ue)?L(ue):[]}return null}),O=me(()=>{const{value:ue}=l;return!e.multiple&&!Array.isArray(ue)?ue===null?null:L([ue])[0]||null:null}),F=Mh(e),{mergedSizeRef:H,mergedDisabledRef:V,mergedStatusRef:U}=F;function K(ue,Pe){const{onChange:Je,"onUpdate:value":bt,onUpdateValue:Tt}=e,{nTriggerFormChange:Bt,nTriggerFormInput:Gt}=F;Je&&ht(Je,ue,Pe),Tt&&ht(Tt,ue,Pe),bt&&ht(bt,ue,Pe),o.value=ue,Bt(),Gt()}function q(ue){const{onBlur:Pe}=e,{nTriggerFormBlur:Je}=F;Pe&&ht(Pe,ue),Je()}function N(){const{onClear:ue}=e;ue&&ht(ue)}function W(ue){const{onFocus:Pe,showOnFocus:Je}=e,{nTriggerFormFocus:bt}=F;Pe&&ht(Pe,ue),bt(),Je&&Se()}function j(ue){const{onSearch:Pe}=e;Pe&&ht(Pe,ue)}function Z(ue){const{onScroll:Pe}=e;Pe&&ht(Pe,ue)}function ve(){var ue;const{remote:Pe,multiple:Je}=e;if(Pe){const{value:bt}=D;if(Je){const{valueField:Tt}=e;(ue=k.value)===null||ue===void 0||ue.forEach(Bt=>{bt.set(Bt[Tt],Bt)})}else{const Tt=O.value;Tt&&bt.set(Tt[e.valueField],Tt)}}}function Te(ue){const{onUpdateShow:Pe,"onUpdate:show":Je}=e;Pe&&ht(Pe,ue),Je&&ht(Je,ue),x.value=ue}function Se(){V.value||(Te(!0),x.value=!0,e.filterable&&er())}function te(){Te(!1)}function pe(){c.value="",h.value=M}const Re=xe(!1);function z(){e.filterable&&(Re.value=!0)}function J(){e.filterable&&(Re.value=!1,b.value||pe())}function se(){V.value||(b.value?e.filterable?er():te():Se())}function he(ue){var Pe,Je;!((Je=(Pe=C.value)===null||Pe===void 0?void 0:Pe.selfRef)===null||Je===void 0)&&Je.contains(ue.relatedTarget)||(u.value=!1,q(ue),te())}function _e(ue){W(ue),u.value=!0}function ge(){u.value=!0}function $e(ue){var Pe;!((Pe=w.value)===null||Pe===void 0)&&Pe.$el.contains(ue.relatedTarget)||(u.value=!1,q(ue),te())}function Le(){var ue;(ue=w.value)===null||ue===void 0||ue.focus(),te()}function fe(ue){var Pe;b.value&&(!((Pe=w.value)===null||Pe===void 0)&&Pe.$el.contains(sm(ue))||te())}function de(ue){if(!Array.isArray(ue))return[];if(R.value)return Array.from(ue);{const{remote:Pe}=e,{value:Je}=y;if(Pe){const{value:bt}=D;return ue.filter(Tt=>Je.has(Tt)||bt.has(Tt))}else return ue.filter(bt=>Je.has(bt))}}function Ve(ue){Ge(ue.rawNode)}function Ge(ue){if(V.value)return;const{tag:Pe,remote:Je,clearFilterAfterSelect:bt,valueField:Tt}=e;if(Pe&&!Je){const{value:Bt}=h,Gt=Bt[0]||null;if(Gt){const Jt=d.value;Jt.length?Jt.push(Gt):d.value=[Gt],h.value=M}}if(Je&&D.value.set(ue[Tt],ue),e.multiple){const Bt=de(l.value),Gt=Bt.findIndex(Jt=>Jt===ue[Tt]);if(~Gt){if(Bt.splice(Gt,1),Pe&&!Je){const Jt=ke(ue[Tt]);~Jt&&(d.value.splice(Jt,1),bt&&(c.value=""))}}else Bt.push(ue[Tt]),bt&&(c.value="");K(Bt,L(Bt))}else{if(Pe&&!Je){const Bt=ke(ue[Tt]);~Bt?d.value=[d.value[Bt]]:d.value=M}Lt(),te(),K(ue[Tt],ue)}}function ke(ue){return d.value.findIndex(Je=>Je[e.valueField]===ue)}function Xe(ue){b.value||Se();const{value:Pe}=ue.target;c.value=Pe;const{tag:Je,remote:bt}=e;if(j(Pe),Je&&!bt){if(!Pe){h.value=M;return}const{onCreate:Tt}=e,Bt=Tt?Tt(Pe):{[e.labelField]:Pe,[e.valueField]:Pe},{valueField:Gt,labelField:Jt}=e;f.value.some(Gr=>Gr[Gt]===Bt[Gt]||Gr[Jt]===Bt[Jt])||d.value.some(Gr=>Gr[Gt]===Bt[Gt]||Gr[Jt]===Bt[Jt])?h.value=M:h.value=[Bt]}}function gt(ue){ue.stopPropagation();const{multiple:Pe}=e;!Pe&&e.filterable&&te(),N(),Pe?K([],[]):K(null,null)}function Kt(ue){!Rl(ue,"action")&&!Rl(ue,"empty")&&!Rl(ue,"header")&&ue.preventDefault()}function Nt(ue){Z(ue)}function Sr(ue){var Pe,Je,bt,Tt,Bt;if(!e.keyboard){ue.preventDefault();return}switch(ue.key){case" ":if(e.filterable)break;ue.preventDefault();case"Enter":if(!(!((Pe=w.value)===null||Pe===void 0)&&Pe.isComposing)){if(b.value){const Gt=(Je=C.value)===null||Je===void 0?void 0:Je.getPendingTmNode();Gt?Ve(Gt):e.filterable||(te(),Lt())}else if(Se(),e.tag&&Re.value){const Gt=h.value[0];if(Gt){const Jt=Gt[e.valueField],{value:Gr}=l;e.multiple&&Array.isArray(Gr)&&Gr.includes(Jt)||Ge(Gt)}}}ue.preventDefault();break;case"ArrowUp":if(ue.preventDefault(),e.loading)return;b.value&&((bt=C.value)===null||bt===void 0||bt.prev());break;case"ArrowDown":if(ue.preventDefault(),e.loading)return;b.value?(Tt=C.value)===null||Tt===void 0||Tt.next():Se();break;case"Escape":b.value&&($_e(ue),te()),(Bt=w.value)===null||Bt===void 0||Bt.focus();break}}function Lt(){var ue;(ue=w.value)===null||ue===void 0||ue.focus()}function er(){var ue;(ue=w.value)===null||ue===void 0||ue.focusInput()}function yr(){var ue;b.value&&((ue=S.value)===null||ue===void 0||ue.syncPosition())}ve(),hn(rt(e,"options"),ve);const ar={focus:()=>{var ue;(ue=w.value)===null||ue===void 0||ue.focus()},focusInput:()=>{var ue;(ue=w.value)===null||ue===void 0||ue.focusInput()},blur:()=>{var ue;(ue=w.value)===null||ue===void 0||ue.blur()},blurInput:()=>{var ue;(ue=w.value)===null||ue===void 0||ue.blurInput()}},_t=me(()=>{const{self:{menuBoxShadow:ue}}=a.value;return{"--n-menu-box-shadow":ue}}),Ot=i?ti("select",void 0,_t,e):void 0;return Object.assign(Object.assign({},ar),{mergedStatus:U,mergedClsPrefix:t,mergedBordered:r,namespace:n,treeMate:m,isMounted:zm(),triggerRef:w,menuRef:C,pattern:c,uncontrolledShow:x,mergedShow:b,adjustedTo:Ac(e),uncontrolledValue:o,mergedValue:l,followerRef:S,localizedPlaceholder:A,selectedOption:O,selectedOptions:k,mergedSize:H,mergedDisabled:V,focused:u,activeWithoutMenuOpen:Re,inlineThemeDisabled:i,onTriggerInputFocus:z,onTriggerInputBlur:J,handleTriggerOrMenuResize:yr,handleMenuFocus:ge,handleMenuBlur:$e,handleMenuTabOut:Le,handleTriggerClick:se,handleToggle:Ve,handleDeleteOption:Ge,handlePatternInput:Xe,handleClear:gt,handleTriggerBlur:he,handleTriggerFocus:_e,handleKeydown:Sr,handleMenuAfterLeave:pe,handleMenuClickOutside:fe,handleMenuScroll:Nt,handleMenuKeydown:Sr,handleMenuMousedown:Kt,mergedTheme:a,cssVars:i?void 0:_t,themeClass:Ot?.themeClass,onRender:Ot?.onRender})},render(){return I("div",{class:`${this.mergedClsPrefix}-select`},I(QO,null,{default:()=>[I(e5,null,{default:()=>I(rMe,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),I(r5,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Ac.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>I(vs,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,r;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),_u(I(gQ,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(r=this.menuProps)===null||r===void 0?void 0:r.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var n,i;return[(i=(n=this.$slots).empty)===null||i===void 0?void 0:i.call(n)]},header:()=>{var n,i;return[(i=(n=this.$slots).header)===null||i===void 0?void 0:i.call(n)]},action:()=>{var n,i;return[(i=(n=this.$slots).action)===null||i===void 0?void 0:i.call(n)]}}),this.displayDirective==="show"?[[om,this.mergedShow],[i_,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[i_,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),_De={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"};function WQ(e){const{textColor2:t,primaryColor:r,primaryColorHover:n,primaryColorPressed:i,inputColorDisabled:a,textColorDisabled:o,borderColor:s,borderRadius:l,fontSizeTiny:u,fontSizeSmall:c,fontSizeMedium:f,heightTiny:d,heightSmall:h,heightMedium:v}=e;return Object.assign(Object.assign({},_De),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${s}`,buttonBorderHover:`1px solid ${s}`,buttonBorderPressed:`1px solid ${s}`,buttonIconColor:t,buttonIconColorHover:t,buttonIconColorPressed:t,itemTextColor:t,itemTextColorHover:n,itemTextColorPressed:i,itemTextColorActive:r,itemTextColorDisabled:o,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:a,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${s}`,itemBorderRadius:l,itemSizeSmall:d,itemSizeMedium:h,itemSizeLarge:v,itemFontSizeSmall:u,itemFontSizeMedium:c,itemFontSizeLarge:f,jumperFontSizeSmall:u,jumperFontSizeMedium:c,jumperFontSizeLarge:f,jumperTextColor:t,jumperTextColorDisabled:o})}const XQ={name:"Pagination",common:$n,peers:{Select:GQ,Input:EQ,Popselect:w5},self:WQ},jQ={name:"Pagination",common:Ct,peers:{Select:UQ,Input:Xs,Popselect:HQ},self(e){const{primaryColor:t,opacity3:r}=e,n=ut(t,{alpha:Number(r)}),i=WQ(e);return i.itemBorderActive=`1px solid ${n}`,i.itemBorderDisabled="1px solid #0000",i}},M7=`
 background: var(--n-item-color-hover);
 color: var(--n-item-text-color-hover);
 border: var(--n-item-border-hover);
`,D7=[Ce("button",`
 background: var(--n-button-color-hover);
 border: var(--n-button-border-hover);
 color: var(--n-button-icon-color-hover);
 `)],bDe=ie("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[ie("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),ie("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),we("> *:not(:first-child)",`
 margin: var(--n-item-margin);
 `),ie("select",`
 width: var(--n-select-width);
 `),we("&.transition-disabled",[ie("pagination-item","transition: none!important;")]),ie("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumper-font-size);
 `,[ie("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),ie("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[Ce("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 padding: 0;
 `,[ie("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),zn("disabled",[Ce("hover",M7,D7),we("&:hover",M7,D7),we("&:active",`
 background: var(--n-item-color-pressed);
 color: var(--n-item-text-color-pressed);
 border: var(--n-item-border-pressed);
 `,[Ce("button",`
 background: var(--n-button-color-pressed);
 border: var(--n-button-border-pressed);
 color: var(--n-button-icon-color-pressed);
 `)]),Ce("active",`
 background: var(--n-item-color-active);
 color: var(--n-item-text-color-active);
 border: var(--n-item-border-active);
 `,[we("&:hover",`
 background: var(--n-item-color-active-hover);
 `)])]),Ce("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[Ce("active, button",`
 background-color: var(--n-item-color-disabled);
 border: var(--n-item-border-disabled);
 `)])]),Ce("disabled",`
 cursor: not-allowed;
 `,[ie("pagination-quick-jumper",`
 color: var(--n-jumper-text-color-disabled);
 `)]),Ce("simple",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[ie("pagination-quick-jumper",[ie("input",`
 margin: 0;
 `)])])]);function YQ(e){var t;if(!e)return 10;const{defaultPageSize:r}=e;if(r!==void 0)return r;const n=(t=e.pageSizes)===null||t===void 0?void 0:t[0];return typeof n=="number"?n:n?.value||10}function wDe(e,t,r,n){let i=!1,a=!1,o=1,s=t;if(t===1)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:s,fastBackwardTo:o,items:[{type:"page",label:1,active:e===1,mayBeFastBackward:!1,mayBeFastForward:!1}]};if(t===2)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:s,fastBackwardTo:o,items:[{type:"page",label:1,active:e===1,mayBeFastBackward:!1,mayBeFastForward:!1},{type:"page",label:2,active:e===2,mayBeFastBackward:!0,mayBeFastForward:!1}]};const l=1,u=t;let c=e,f=e;const d=(r-5)/2;f+=Math.ceil(d),f=Math.min(Math.max(f,l+r-3),u-2),c-=Math.floor(d),c=Math.max(Math.min(c,u-r+3),l+2);let h=!1,v=!1;c>l+2&&(h=!0),f<u-2&&(v=!0);const p=[];p.push({type:"page",label:1,active:e===1,mayBeFastBackward:!1,mayBeFastForward:!1}),h?(i=!0,o=c-1,p.push({type:"fast-backward",active:!1,label:void 0,options:n?P7(l+1,c-1):null})):u>=l+1&&p.push({type:"page",label:l+1,mayBeFastBackward:!0,mayBeFastForward:!1,active:e===l+1});for(let g=c;g<=f;++g)p.push({type:"page",label:g,mayBeFastBackward:!1,mayBeFastForward:!1,active:e===g});return v?(a=!0,s=f+1,p.push({type:"fast-forward",active:!1,label:void 0,options:n?P7(f+1,u-1):null})):f===u-2&&p[p.length-1].label!==u-1&&p.push({type:"page",mayBeFastForward:!0,mayBeFastBackward:!1,label:u-1,active:e===u-1}),p[p.length-1].label!==u&&p.push({type:"page",mayBeFastForward:!1,mayBeFastBackward:!1,label:u,active:e===u}),{hasFastBackward:i,hasFastForward:a,fastBackwardTo:o,fastForwardTo:s,items:p}}function P7(e,t){const r=[];for(let n=e;n<=t;++n)r.push({label:`${n}`,value:n});return r}const SDe=Object.assign(Object.assign({},nr.props),{simple:Boolean,page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:Number,pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,size:{type:String,default:"medium"},disabled:Boolean,pageSlot:{type:Number,default:9},selectProps:Object,prev:Function,next:Function,goto:Function,prefix:Function,suffix:Function,label:Function,displayOrder:{type:Array,default:["pages","size-picker","quick-jumper"]},to:Ac.propTo,showQuickJumpDropdown:{type:Boolean,default:!0},"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]}),CDe=lt({name:"Pagination",props:SDe,slots:Object,setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:n,mergedRtlRef:i}=tn(e),a=nr("Pagination","-pagination",bDe,XQ,e,r),{localeRef:o}=Vm("Pagination"),s=xe(null),l=xe(e.defaultPage),u=xe(YQ(e)),c=bo(rt(e,"page"),l),f=bo(rt(e,"pageSize"),u),d=me(()=>{const{itemCount:te}=e;if(te!==void 0)return Math.max(1,Math.ceil(te/f.value));const{pageCount:pe}=e;return pe!==void 0?Math.max(pe,1):1}),h=xe("");eo(()=>{e.simple,h.value=String(c.value)});const v=xe(!1),p=xe(!1),g=xe(!1),m=xe(!1),y=()=>{e.disabled||(v.value=!0,O())},x=()=>{e.disabled||(v.value=!1,O())},b=()=>{p.value=!0,O()},w=()=>{p.value=!1,O()},S=te=>{F(te)},C=me(()=>wDe(c.value,d.value,e.pageSlot,e.showQuickJumpDropdown));eo(()=>{C.value.hasFastBackward?C.value.hasFastForward||(v.value=!1,g.value=!1):(p.value=!1,m.value=!1)});const E=me(()=>{const te=o.value.selectionSuffix;return e.pageSizes.map(pe=>typeof pe=="number"?{label:`${pe} / ${te}`,value:pe}:pe)}),A=me(()=>{var te,pe;return((pe=(te=t?.value)===null||te===void 0?void 0:te.Pagination)===null||pe===void 0?void 0:pe.inputSize)||RH(e.size)}),M=me(()=>{var te,pe;return((pe=(te=t?.value)===null||te===void 0?void 0:te.Pagination)===null||pe===void 0?void 0:pe.selectSize)||RH(e.size)}),D=me(()=>(c.value-1)*f.value),R=me(()=>{const te=c.value*f.value-1,{itemCount:pe}=e;return pe!==void 0&&te>pe-1?pe-1:te}),L=me(()=>{const{itemCount:te}=e;return te!==void 0?te:(e.pageCount||1)*f.value}),k=Eo("Pagination",i,r);function O(){Sa(()=>{var te;const{value:pe}=s;pe&&(pe.classList.add("transition-disabled"),(te=s.value)===null||te===void 0||te.offsetWidth,pe.classList.remove("transition-disabled"))})}function F(te){if(te===c.value)return;const{"onUpdate:page":pe,onUpdatePage:Re,onChange:z,simple:J}=e;pe&&ht(pe,te),Re&&ht(Re,te),z&&ht(z,te),l.value=te,J&&(h.value=String(te))}function H(te){if(te===f.value)return;const{"onUpdate:pageSize":pe,onUpdatePageSize:Re,onPageSizeChange:z}=e;pe&&ht(pe,te),Re&&ht(Re,te),z&&ht(z,te),u.value=te,d.value<c.value&&F(d.value)}function V(){if(e.disabled)return;const te=Math.min(c.value+1,d.value);F(te)}function U(){if(e.disabled)return;const te=Math.max(c.value-1,1);F(te)}function K(){if(e.disabled)return;const te=Math.min(C.value.fastForwardTo,d.value);F(te)}function q(){if(e.disabled)return;const te=Math.max(C.value.fastBackwardTo,1);F(te)}function N(te){H(te)}function W(){const te=Number.parseInt(h.value);Number.isNaN(te)||(F(Math.max(1,Math.min(te,d.value))),e.simple||(h.value=""))}function j(){W()}function Z(te){if(!e.disabled)switch(te.type){case"page":F(te.label);break;case"fast-backward":q();break;case"fast-forward":K();break}}function ve(te){h.value=te.replace(/\D+/g,"")}eo(()=>{c.value,f.value,O()});const Te=me(()=>{const{size:te}=e,{self:{buttonBorder:pe,buttonBorderHover:Re,buttonBorderPressed:z,buttonIconColor:J,buttonIconColorHover:se,buttonIconColorPressed:he,itemTextColor:_e,itemTextColorHover:ge,itemTextColorPressed:$e,itemTextColorActive:Le,itemTextColorDisabled:fe,itemColor:de,itemColorHover:Ve,itemColorPressed:Ge,itemColorActive:ke,itemColorActiveHover:Xe,itemColorDisabled:gt,itemBorder:Kt,itemBorderHover:Nt,itemBorderPressed:Sr,itemBorderActive:Lt,itemBorderDisabled:er,itemBorderRadius:yr,jumperTextColor:ar,jumperTextColorDisabled:_t,buttonColor:Ot,buttonColorHover:ue,buttonColorPressed:Pe,[tt("itemPadding",te)]:Je,[tt("itemMargin",te)]:bt,[tt("inputWidth",te)]:Tt,[tt("selectWidth",te)]:Bt,[tt("inputMargin",te)]:Gt,[tt("selectMargin",te)]:Jt,[tt("jumperFontSize",te)]:Gr,[tt("prefixMargin",te)]:mn,[tt("suffixMargin",te)]:Jr,[tt("itemSize",te)]:di,[tt("buttonIconSize",te)]:Oi,[tt("itemFontSize",te)]:Fi,[`${tt("itemMargin",te)}Rtl`]:Ki,[`${tt("inputMargin",te)}Rtl`]:xi},common:{cubicBezierEaseInOut:Zi}}=a.value;return{"--n-prefix-margin":mn,"--n-suffix-margin":Jr,"--n-item-font-size":Fi,"--n-select-width":Bt,"--n-select-margin":Jt,"--n-input-width":Tt,"--n-input-margin":Gt,"--n-input-margin-rtl":xi,"--n-item-size":di,"--n-item-text-color":_e,"--n-item-text-color-disabled":fe,"--n-item-text-color-hover":ge,"--n-item-text-color-active":Le,"--n-item-text-color-pressed":$e,"--n-item-color":de,"--n-item-color-hover":Ve,"--n-item-color-disabled":gt,"--n-item-color-active":ke,"--n-item-color-active-hover":Xe,"--n-item-color-pressed":Ge,"--n-item-border":Kt,"--n-item-border-hover":Nt,"--n-item-border-disabled":er,"--n-item-border-active":Lt,"--n-item-border-pressed":Sr,"--n-item-padding":Je,"--n-item-border-radius":yr,"--n-bezier":Zi,"--n-jumper-font-size":Gr,"--n-jumper-text-color":ar,"--n-jumper-text-color-disabled":_t,"--n-item-margin":bt,"--n-item-margin-rtl":Ki,"--n-button-icon-size":Oi,"--n-button-icon-color":J,"--n-button-icon-color-hover":se,"--n-button-icon-color-pressed":he,"--n-button-color-hover":ue,"--n-button-color":Ot,"--n-button-color-pressed":Pe,"--n-button-border":pe,"--n-button-border-hover":Re,"--n-button-border-pressed":z}}),Se=n?ti("pagination",me(()=>{let te="";const{size:pe}=e;return te+=pe[0],te}),Te,e):void 0;return{rtlEnabled:k,mergedClsPrefix:r,locale:o,selfRef:s,mergedPage:c,pageItems:me(()=>C.value.items),mergedItemCount:L,jumperValue:h,pageSizeOptions:E,mergedPageSize:f,inputSize:A,selectSize:M,mergedTheme:a,mergedPageCount:d,startIndex:D,endIndex:R,showFastForwardMenu:g,showFastBackwardMenu:m,fastForwardActive:v,fastBackwardActive:p,handleMenuSelect:S,handleFastForwardMouseenter:y,handleFastForwardMouseleave:x,handleFastBackwardMouseenter:b,handleFastBackwardMouseleave:w,handleJumperInput:ve,handleBackwardClick:U,handleForwardClick:V,handlePageItemClick:Z,handleSizePickerChange:N,handleQuickJumperChange:j,cssVars:n?void 0:Te,themeClass:Se?.themeClass,onRender:Se?.onRender}},render(){const{$slots:e,mergedClsPrefix:t,disabled:r,cssVars:n,mergedPage:i,mergedPageCount:a,pageItems:o,showSizePicker:s,showQuickJumper:l,mergedTheme:u,locale:c,inputSize:f,selectSize:d,mergedPageSize:h,pageSizeOptions:v,jumperValue:p,simple:g,prev:m,next:y,prefix:x,suffix:b,label:w,goto:S,handleJumperInput:C,handleSizePickerChange:E,handleBackwardClick:A,handlePageItemClick:M,handleForwardClick:D,handleQuickJumperChange:R,onRender:L}=this;L?.();const k=x||e.prefix,O=b||e.suffix,F=m||e.prev,H=y||e.next,V=w||e.label;return I("div",{ref:"selfRef",class:[`${t}-pagination`,this.themeClass,this.rtlEnabled&&`${t}-pagination--rtl`,r&&`${t}-pagination--disabled`,g&&`${t}-pagination--simple`],style:n},k?I("div",{class:`${t}-pagination-prefix`},k({page:i,pageSize:h,pageCount:a,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,this.displayOrder.map(U=>{switch(U){case"pages":return I(Dr,null,I("div",{class:[`${t}-pagination-item`,!F&&`${t}-pagination-item--button`,(i<=1||i>a||r)&&`${t}-pagination-item--disabled`],onClick:A},F?F({page:i,pageSize:h,pageCount:a,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):I(Yr,{clsPrefix:t},{default:()=>this.rtlEnabled?I(p7,null):I(d7,null)})),g?I(Dr,null,I("div",{class:`${t}-pagination-quick-jumper`},I(A7,{value:p,onUpdateValue:C,size:f,placeholder:"",disabled:r,theme:u.peers.Input,themeOverrides:u.peerOverrides.Input,onChange:R}))," /"," ",a):o.map((K,q)=>{let N,W,j;const{type:Z}=K;switch(Z){case"page":const Te=K.label;V?N=V({type:"page",node:Te,active:K.active}):N=Te;break;case"fast-forward":const Se=this.fastForwardActive?I(Yr,{clsPrefix:t},{default:()=>this.rtlEnabled?I(h7,null):I(v7,null)}):I(Yr,{clsPrefix:t},{default:()=>I(g7,null)});V?N=V({type:"fast-forward",node:Se,active:this.fastForwardActive||this.showFastForwardMenu}):N=Se,W=this.handleFastForwardMouseenter,j=this.handleFastForwardMouseleave;break;case"fast-backward":const te=this.fastBackwardActive?I(Yr,{clsPrefix:t},{default:()=>this.rtlEnabled?I(v7,null):I(h7,null)}):I(Yr,{clsPrefix:t},{default:()=>I(g7,null)});V?N=V({type:"fast-backward",node:te,active:this.fastBackwardActive||this.showFastBackwardMenu}):N=te,W=this.handleFastBackwardMouseenter,j=this.handleFastBackwardMouseleave;break}const ve=I("div",{key:q,class:[`${t}-pagination-item`,K.active&&`${t}-pagination-item--active`,Z!=="page"&&(Z==="fast-backward"&&this.showFastBackwardMenu||Z==="fast-forward"&&this.showFastForwardMenu)&&`${t}-pagination-item--hover`,r&&`${t}-pagination-item--disabled`,Z==="page"&&`${t}-pagination-item--clickable`],onClick:()=>{M(K)},onMouseenter:W,onMouseleave:j},N);if(Z==="page"&&!K.mayBeFastBackward&&!K.mayBeFastForward)return ve;{const Te=K.type==="page"?K.mayBeFastBackward?"fast-backward":"fast-forward":K.type;return K.type!=="page"&&!K.options?ve:I(gDe,{to:this.to,key:Te,disabled:r,trigger:"hover",virtualScroll:!0,style:{width:"60px"},theme:u.peers.Popselect,themeOverrides:u.peerOverrides.Popselect,builtinThemeOverrides:{peers:{InternalSelectMenu:{height:"calc(var(--n-option-height) * 4.6)"}}},nodeProps:()=>({style:{justifyContent:"center"}}),show:Z==="page"?!1:Z==="fast-backward"?this.showFastBackwardMenu:this.showFastForwardMenu,onUpdateShow:Se=>{Z!=="page"&&(Se?Z==="fast-backward"?this.showFastBackwardMenu=Se:this.showFastForwardMenu=Se:(this.showFastBackwardMenu=!1,this.showFastForwardMenu=!1))},options:K.type!=="page"&&K.options?K.options:[],onUpdateValue:this.handleMenuSelect,scrollable:!0,showCheckmark:!1},{default:()=>ve})}}),I("div",{class:[`${t}-pagination-item`,!H&&`${t}-pagination-item--button`,{[`${t}-pagination-item--disabled`]:i<1||i>=a||r}],onClick:D},H?H({page:i,pageSize:h,pageCount:a,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):I(Yr,{clsPrefix:t},{default:()=>this.rtlEnabled?I(d7,null):I(p7,null)})));case"size-picker":return!g&&s?I(xDe,Object.assign({consistentMenuWidth:!1,placeholder:"",showCheckmark:!1,to:this.to},this.selectProps,{size:d,options:v,value:h,disabled:r,theme:u.peers.Select,themeOverrides:u.peerOverrides.Select,onUpdateValue:E})):null;case"quick-jumper":return!g&&l?I("div",{class:`${t}-pagination-quick-jumper`},S?S():Vs(this.$slots.goto,()=>[c.goto]),I(A7,{value:p,onUpdateValue:C,size:f,placeholder:"",disabled:r,theme:u.peers.Input,themeOverrides:u.peerOverrides.Input,onChange:R})):null;default:return null}}),O?I("div",{class:`${t}-pagination-suffix`},O({page:i,pageSize:h,pageCount:a,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}}),TDe={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"};function KQ(e){const{primaryColor:t,textColor2:r,dividerColor:n,hoverColor:i,popoverColor:a,invertedColor:o,borderRadius:s,fontSizeSmall:l,fontSizeMedium:u,fontSizeLarge:c,fontSizeHuge:f,heightSmall:d,heightMedium:h,heightLarge:v,heightHuge:p,textColor3:g,opacityDisabled:m}=e;return Object.assign(Object.assign({},TDe),{optionHeightSmall:d,optionHeightMedium:h,optionHeightLarge:v,optionHeightHuge:p,borderRadius:s,fontSizeSmall:l,fontSizeMedium:u,fontSizeLarge:c,fontSizeHuge:f,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:t,optionTextColorChildActive:t,color:a,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:i,optionColorActive:ut(t,{alpha:.1}),groupHeaderTextColor:g,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:o,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:t,optionColorActiveInverted:t,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:m})}const ZQ={name:"Dropdown",common:$n,peers:{Popover:Wm},self:KQ},C5={name:"Dropdown",common:Ct,peers:{Popover:Jp},self(e){const{primaryColorSuppl:t,primaryColor:r,popoverColor:n}=e,i=KQ(e);return i.colorInverted=n,i.optionColorActive=ut(r,{alpha:.15}),i.optionColorActiveInverted=t,i.optionColorHoverInverted=t,i}},qQ={padding:"8px 14px"},xE={name:"Tooltip",common:Ct,peers:{Popover:Jp},self(e){const{borderRadius:t,boxShadow2:r,popoverColor:n,textColor2:i}=e;return Object.assign(Object.assign({},qQ),{borderRadius:t,boxShadow:r,color:n,textColor:i})}};function ADe(e){const{borderRadius:t,boxShadow2:r,baseColor:n}=e;return Object.assign(Object.assign({},qQ),{borderRadius:t,boxShadow:r,color:tr(n,"rgba(0, 0, 0, .85)"),textColor:n})}const T5={name:"Tooltip",common:$n,peers:{Popover:Wm},self:ADe},JQ={name:"Ellipsis",common:Ct,peers:{Tooltip:xE}},QQ={name:"Ellipsis",common:$n,peers:{Tooltip:T5}},eee={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},tee={name:"Radio",common:Ct,self(e){const{borderColor:t,primaryColor:r,baseColor:n,textColorDisabled:i,inputColorDisabled:a,textColor2:o,opacityDisabled:s,borderRadius:l,fontSizeSmall:u,fontSizeMedium:c,fontSizeLarge:f,heightSmall:d,heightMedium:h,heightLarge:v,lineHeight:p}=e;return Object.assign(Object.assign({},eee),{labelLineHeight:p,buttonHeightSmall:d,buttonHeightMedium:h,buttonHeightLarge:v,fontSizeSmall:u,fontSizeMedium:c,fontSizeLarge:f,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${ut(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:"#0000",colorDisabled:a,colorActive:"#0000",textColor:o,textColorDisabled:i,dotColorActive:r,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:o,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:s,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${ut(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}};function EDe(e){const{borderColor:t,primaryColor:r,baseColor:n,textColorDisabled:i,inputColorDisabled:a,textColor2:o,opacityDisabled:s,borderRadius:l,fontSizeSmall:u,fontSizeMedium:c,fontSizeLarge:f,heightSmall:d,heightMedium:h,heightLarge:v,lineHeight:p}=e;return Object.assign(Object.assign({},eee),{labelLineHeight:p,buttonHeightSmall:d,buttonHeightMedium:h,buttonHeightLarge:v,fontSizeSmall:u,fontSizeMedium:c,fontSizeLarge:f,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${ut(r,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:n,colorDisabled:a,colorActive:"#0000",textColor:o,textColorDisabled:i,dotColorActive:r,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:r,buttonBorderColorHover:t,buttonColor:n,buttonColorActive:n,buttonTextColor:o,buttonTextColorActive:r,buttonTextColorHover:r,opacityDisabled:s,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${ut(r,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}const A5={name:"Radio",common:$n,self:EDe},MDe={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"};function ree(e){const{cardColor:t,modalColor:r,popoverColor:n,textColor2:i,textColor1:a,tableHeaderColor:o,tableColorHover:s,iconColor:l,primaryColor:u,fontWeightStrong:c,borderRadius:f,lineHeight:d,fontSizeSmall:h,fontSizeMedium:v,fontSizeLarge:p,dividerColor:g,heightSmall:m,opacityDisabled:y,tableColorStriped:x}=e;return Object.assign(Object.assign({},MDe),{actionDividerColor:g,lineHeight:d,borderRadius:f,fontSizeSmall:h,fontSizeMedium:v,fontSizeLarge:p,borderColor:tr(t,g),tdColorHover:tr(t,s),tdColorSorting:tr(t,s),tdColorStriped:tr(t,x),thColor:tr(t,o),thColorHover:tr(tr(t,o),s),thColorSorting:tr(tr(t,o),s),tdColor:t,tdTextColor:i,thTextColor:a,thFontWeight:c,thButtonColorHover:s,thIconColor:l,thIconColorActive:u,borderColorModal:tr(r,g),tdColorHoverModal:tr(r,s),tdColorSortingModal:tr(r,s),tdColorStripedModal:tr(r,x),thColorModal:tr(r,o),thColorHoverModal:tr(tr(r,o),s),thColorSortingModal:tr(tr(r,o),s),tdColorModal:r,borderColorPopover:tr(n,g),tdColorHoverPopover:tr(n,s),tdColorSortingPopover:tr(n,s),tdColorStripedPopover:tr(n,x),thColorPopover:tr(n,o),thColorHoverPopover:tr(tr(n,o),s),thColorSortingPopover:tr(tr(n,o),s),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:u,loadingSize:m,opacityLoading:y})}const DDe={name:"DataTable",common:$n,peers:{Button:yE,Checkbox:NQ,Radio:A5,Pagination:XQ,Scrollbar:pE,Empty:mE,Popover:Wm,Ellipsis:QQ,Dropdown:ZQ},self:ree},PDe={name:"DataTable",common:Ct,peers:{Button:bs,Checkbox:Xm,Radio:tee,Pagination:jQ,Scrollbar:_s,Empty:qp,Popover:Jp,Ellipsis:JQ,Dropdown:C5},self(e){const t=ree(e);return t.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",t.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",t}},RDe=Object.assign(Object.assign({},nr.props),{onUnstableColumnResize:Function,pagination:{type:[Object,Boolean],default:!1},paginateSinglePage:{type:Boolean,default:!0},minHeight:[Number,String],maxHeight:[Number,String],columns:{type:Array,default:()=>[]},rowClassName:[String,Function],rowProps:Function,rowKey:Function,summary:[Function],data:{type:Array,default:()=>[]},loading:Boolean,bordered:{type:Boolean,default:void 0},bottomBordered:{type:Boolean,default:void 0},striped:Boolean,scrollX:[Number,String],defaultCheckedRowKeys:{type:Array,default:()=>[]},checkedRowKeys:Array,singleLine:{type:Boolean,default:!0},singleColumn:Boolean,size:{type:String,default:"medium"},remote:Boolean,defaultExpandedRowKeys:{type:Array,default:[]},defaultExpandAll:Boolean,expandedRowKeys:Array,stickyExpandedRows:Boolean,virtualScroll:Boolean,virtualScrollX:Boolean,virtualScrollHeader:Boolean,headerHeight:{type:Number,default:28},heightForRow:Function,minRowHeight:{type:Number,default:28},tableLayout:{type:String,default:"auto"},allowCheckingNotLoaded:Boolean,cascade:{type:Boolean,default:!0},childrenKey:{type:String,default:"children"},indent:{type:Number,default:16},flexHeight:Boolean,summaryPlacement:{type:String,default:"bottom"},paginationBehaviorOnFilter:{type:String,default:"current"},filterIconPopoverProps:Object,scrollbarProps:Object,renderCell:Function,renderExpandIcon:Function,spinProps:{type:Object,default:{}},getCsvCell:Function,getCsvHeader:Function,onLoad:Function,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],"onUpdate:sorter":[Function,Array],onUpdateSorter:[Function,Array],"onUpdate:filters":[Function,Array],onUpdateFilters:[Function,Array],"onUpdate:checkedRowKeys":[Function,Array],onUpdateCheckedRowKeys:[Function,Array],"onUpdate:expandedRowKeys":[Function,Array],onUpdateExpandedRowKeys:[Function,Array],onScroll:Function,onPageChange:[Function,Array],onPageSizeChange:[Function,Array],onSorterChange:[Function,Array],onFiltersChange:[Function,Array],onCheckedRowKeysChange:[Function,Array]}),Pu="n-data-table",nee=40,iee=40;function R7(e){if(e.type==="selection")return e.width===void 0?nee:hu(e.width);if(e.type==="expand")return e.width===void 0?iee:hu(e.width);if(!("children"in e))return typeof e.width=="string"?hu(e.width):e.width}function LDe(e){var t,r;if(e.type==="selection")return gi((t=e.width)!==null&&t!==void 0?t:nee);if(e.type==="expand")return gi((r=e.width)!==null&&r!==void 0?r:iee);if(!("children"in e))return gi(e.width)}function iu(e){return e.type==="selection"?"__n_selection__":e.type==="expand"?"__n_expand__":e.key}function L7(e){return e&&(typeof e=="object"?Object.assign({},e):e)}function IDe(e){return e==="ascend"?1:e==="descend"?-1:0}function kDe(e,t,r){return r!==void 0&&(e=Math.min(e,typeof r=="number"?r:Number.parseFloat(r))),t!==void 0&&(e=Math.max(e,typeof t=="number"?t:Number.parseFloat(t))),e}function ODe(e,t){if(t!==void 0)return{width:t,minWidth:t,maxWidth:t};const r=LDe(e),{minWidth:n,maxWidth:i}=e;return{width:r,minWidth:gi(n)||r,maxWidth:gi(i)}}function FDe(e,t,r){return typeof r=="function"?r(e,t):r||""}function xP(e){return e.filterOptionValues!==void 0||e.filterOptionValue===void 0&&e.defaultFilterOptionValues!==void 0}function _P(e){return"children"in e?!1:!!e.sorter}function aee(e){return"children"in e&&e.children.length?!1:!!e.resizable}function I7(e){return"children"in e?!1:!!e.filter&&(!!e.filterOptions||!!e.renderFilterMenu)}function k7(e){if(e){if(e==="descend")return"ascend"}else return"descend";return!1}function NDe(e,t){return e.sorter===void 0?null:t===null||t.columnKey!==e.key?{columnKey:e.key,sorter:e.sorter,order:k7(!1)}:Object.assign(Object.assign({},t),{order:k7(t.order)})}function oee(e,t){return t.find(r=>r.columnKey===e.key&&r.order)!==void 0}function BDe(e){return typeof e=="string"?e.replace(/,/g,"\\,"):e==null?"":`${e}`.replace(/,/g,"\\,")}function zDe(e,t,r,n){const i=e.filter(s=>s.type!=="expand"&&s.type!=="selection"&&s.allowExport!==!1),a=i.map(s=>n?n(s):s.title).join(","),o=t.map(s=>i.map(l=>r?r(s[l.key],s,l):BDe(s[l.key])).join(","));return[a,...o].join(`
`)}const HDe=lt({name:"DataTableBodyCheckbox",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(e){const{mergedCheckedRowKeySetRef:t,mergedInderminateRowKeySetRef:r}=rr(Pu);return()=>{const{rowKey:n}=e;return I(b5,{privateInsideTable:!0,disabled:e.disabled,indeterminate:r.value.has(n),checked:t.value.has(n),onUpdateChecked:e.onUpdateChecked})}}}),VDe=ie("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[Ce("checked",[Me("dot",`
 background-color: var(--n-color-active);
 `)]),Me("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),ie("radio-input",`
 position: absolute;
 border: 0;
 width: 0;
 height: 0;
 opacity: 0;
 margin: 0;
 `),Me("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[we("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),Ce("checked",{boxShadow:"var(--n-box-shadow-active)"},[we("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),Me("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),zn("disabled",`
 cursor: pointer;
 `,[we("&:hover",[Me("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),Ce("focus",[we("&:not(:active)",[Me("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),Ce("disabled",`
 cursor: not-allowed;
 `,[Me("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[we("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),Ce("checked",`
 opacity: 1;
 `)]),Me("label",{color:"var(--n-text-color-disabled)"}),ie("radio-input",`
 cursor: not-allowed;
 `)])]),$De={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},see="n-radio-group";function GDe(e){const t=rr(see,null),r=Mh(e,{mergedSize(y){const{size:x}=e;if(x!==void 0)return x;if(t){const{mergedSizeRef:{value:b}}=t;if(b!==void 0)return b}return y?y.mergedSize.value:"medium"},mergedDisabled(y){return!!(e.disabled||t?.disabledRef.value||y?.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:i}=r,a=xe(null),o=xe(null),s=xe(e.defaultChecked),l=rt(e,"checked"),u=bo(l,s),c=Tn(()=>t?t.valueRef.value===e.value:u.value),f=Tn(()=>{const{name:y}=e;if(y!==void 0)return y;if(t)return t.nameRef.value}),d=xe(!1);function h(){if(t){const{doUpdateValue:y}=t,{value:x}=e;ht(y,x)}else{const{onUpdateChecked:y,"onUpdate:checked":x}=e,{nTriggerFormInput:b,nTriggerFormChange:w}=r;y&&ht(y,!0),x&&ht(x,!0),b(),w(),s.value=!0}}function v(){i.value||c.value||h()}function p(){v(),a.value&&(a.value.checked=c.value)}function g(){d.value=!1}function m(){d.value=!0}return{mergedClsPrefix:t?t.mergedClsPrefixRef:tn(e).mergedClsPrefixRef,inputRef:a,labelRef:o,mergedName:f,mergedDisabled:i,renderSafeChecked:c,focus:d,mergedSize:n,handleRadioInputChange:p,handleRadioInputBlur:g,handleRadioInputFocus:m}}const UDe=Object.assign(Object.assign({},nr.props),$De),lee=lt({name:"Radio",props:UDe,setup(e){const t=GDe(e),r=nr("Radio","-radio",VDe,A5,e,t.mergedClsPrefix),n=me(()=>{const{mergedSize:{value:u}}=t,{common:{cubicBezierEaseInOut:c},self:{boxShadow:f,boxShadowActive:d,boxShadowDisabled:h,boxShadowFocus:v,boxShadowHover:p,color:g,colorDisabled:m,colorActive:y,textColor:x,textColorDisabled:b,dotColorActive:w,dotColorDisabled:S,labelPadding:C,labelLineHeight:E,labelFontWeight:A,[tt("fontSize",u)]:M,[tt("radioSize",u)]:D}}=r.value;return{"--n-bezier":c,"--n-label-line-height":E,"--n-label-font-weight":A,"--n-box-shadow":f,"--n-box-shadow-active":d,"--n-box-shadow-disabled":h,"--n-box-shadow-focus":v,"--n-box-shadow-hover":p,"--n-color":g,"--n-color-active":y,"--n-color-disabled":m,"--n-dot-color-active":w,"--n-dot-color-disabled":S,"--n-font-size":M,"--n-radio-size":D,"--n-text-color":x,"--n-text-color-disabled":b,"--n-label-padding":C}}),{inlineThemeDisabled:i,mergedClsPrefixRef:a,mergedRtlRef:o}=tn(e),s=Eo("Radio",o,a),l=i?ti("radio",me(()=>t.mergedSize.value[0]),n,e):void 0;return Object.assign(t,{rtlEnabled:s,cssVars:i?void 0:n,themeClass:l?.themeClass,onRender:l?.onRender})},render(){const{$slots:e,mergedClsPrefix:t,onRender:r,label:n}=this;return r?.(),I("label",{class:[`${t}-radio`,this.themeClass,this.rtlEnabled&&`${t}-radio--rtl`,this.mergedDisabled&&`${t}-radio--disabled`,this.renderSafeChecked&&`${t}-radio--checked`,this.focus&&`${t}-radio--focus`],style:this.cssVars},I("div",{class:`${t}-radio__dot-wrapper`}," ",I("div",{class:[`${t}-radio__dot`,this.renderSafeChecked&&`${t}-radio__dot--checked`]}),I("input",{ref:"inputRef",type:"radio",class:`${t}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur})),Jn(e.default,i=>!i&&!n?null:I("div",{ref:"labelRef",class:`${t}-radio__label`},i||n)))}}),WDe=ie("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[Me("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[Ce("checked",{backgroundColor:"var(--n-button-border-color-active)"}),Ce("disabled",{opacity:"var(--n-opacity-disabled)"})]),Ce("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[ie("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),Me("splitor",{height:"var(--n-height)"})]),ie("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background: var(--n-button-color);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[ie("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),Me("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),we("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[Me("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),we("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[Me("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),zn("disabled",`
 cursor: pointer;
 `,[we("&:hover",[Me("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),zn("checked",{color:"var(--n-button-text-color-hover)"})]),Ce("focus",[we("&:not(:active)",[Me("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),Ce("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),Ce("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function XDe(e,t,r){var n;const i=[];let a=!1;for(let o=0;o<e.length;++o){const s=e[o],l=(n=s.type)===null||n===void 0?void 0:n.name;l==="RadioButton"&&(a=!0);const u=s.props;if(l!=="RadioButton"){i.push(s);continue}if(o===0)i.push(s);else{const c=i[i.length-1].props,f=t===c.value,d=c.disabled,h=t===u.value,v=u.disabled,p=(f?2:0)+(d?0:1),g=(h?2:0)+(v?0:1),m={[`${r}-radio-group__splitor--disabled`]:d,[`${r}-radio-group__splitor--checked`]:f},y={[`${r}-radio-group__splitor--disabled`]:v,[`${r}-radio-group__splitor--checked`]:h},x=p<g?y:m;i.push(I("div",{class:[`${r}-radio-group__splitor`,x]}),s)}}return{children:i,isButtonGroup:a}}const jDe=Object.assign(Object.assign({},nr.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),YDe=lt({name:"RadioGroup",props:jDe,setup(e){const t=xe(null),{mergedSizeRef:r,mergedDisabledRef:n,nTriggerFormChange:i,nTriggerFormInput:a,nTriggerFormBlur:o,nTriggerFormFocus:s}=Mh(e),{mergedClsPrefixRef:l,inlineThemeDisabled:u,mergedRtlRef:c}=tn(e),f=nr("Radio","-radio-group",WDe,A5,e,l),d=xe(e.defaultValue),h=rt(e,"value"),v=bo(h,d);function p(w){const{onUpdateValue:S,"onUpdate:value":C}=e;S&&ht(S,w),C&&ht(C,w),d.value=w,i(),a()}function g(w){const{value:S}=t;S&&(S.contains(w.relatedTarget)||s())}function m(w){const{value:S}=t;S&&(S.contains(w.relatedTarget)||o())}wn(see,{mergedClsPrefixRef:l,nameRef:rt(e,"name"),valueRef:v,disabledRef:n,mergedSizeRef:r,doUpdateValue:p});const y=Eo("Radio",c,l),x=me(()=>{const{value:w}=r,{common:{cubicBezierEaseInOut:S},self:{buttonBorderColor:C,buttonBorderColorActive:E,buttonBorderRadius:A,buttonBoxShadow:M,buttonBoxShadowFocus:D,buttonBoxShadowHover:R,buttonColor:L,buttonColorActive:k,buttonTextColor:O,buttonTextColorActive:F,buttonTextColorHover:H,opacityDisabled:V,[tt("buttonHeight",w)]:U,[tt("fontSize",w)]:K}}=f.value;return{"--n-font-size":K,"--n-bezier":S,"--n-button-border-color":C,"--n-button-border-color-active":E,"--n-button-border-radius":A,"--n-button-box-shadow":M,"--n-button-box-shadow-focus":D,"--n-button-box-shadow-hover":R,"--n-button-color":L,"--n-button-color-active":k,"--n-button-text-color":O,"--n-button-text-color-hover":H,"--n-button-text-color-active":F,"--n-height":U,"--n-opacity-disabled":V}}),b=u?ti("radio-group",me(()=>r.value[0]),x,e):void 0;return{selfElRef:t,rtlEnabled:y,mergedClsPrefix:l,mergedValue:v,handleFocusout:m,handleFocusin:g,cssVars:u?void 0:x,themeClass:b?.themeClass,onRender:b?.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:r,handleFocusin:n,handleFocusout:i}=this,{children:a,isButtonGroup:o}=XDe(wf(dJ(this)),t,r);return(e=this.onRender)===null||e===void 0||e.call(this),I("div",{onFocusin:n,onFocusout:i,ref:"selfElRef",class:[`${r}-radio-group`,this.rtlEnabled&&`${r}-radio-group--rtl`,this.themeClass,o&&`${r}-radio-group--button-group`],style:this.cssVars},a)}}),KDe=lt({name:"DataTableBodyRadio",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(e){const{mergedCheckedRowKeySetRef:t,componentId:r}=rr(Pu);return()=>{const{rowKey:n}=e;return I(lee,{name:r,disabled:e.disabled,checked:t.value.has(n),onUpdateChecked:e.onUpdateChecked})}}}),ZDe=Object.assign(Object.assign({},cm),nr.props),uee=lt({name:"Tooltip",props:ZDe,slots:Object,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=tn(e),r=nr("Tooltip","-tooltip",void 0,T5,e,t),n=xe(null);return Object.assign(Object.assign({},{syncPosition(){n.value.syncPosition()},setShow(a){n.value.setShow(a)}}),{popoverRef:n,mergedTheme:r,popoverThemeOverrides:me(()=>r.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return I(hb,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),cee=ie("ellipsis",{overflow:"hidden"},[zn("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),Ce("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),Ce("cursor-pointer",`
 cursor: pointer;
 `)]);function T3(e){return`${e}-ellipsis--line-clamp`}function A3(e,t){return`${e}-ellipsis--cursor-${t}`}const fee=Object.assign(Object.assign({},nr.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),E5=lt({name:"Ellipsis",inheritAttrs:!1,props:fee,slots:Object,setup(e,{slots:t,attrs:r}){const n=hJ(),i=nr("Ellipsis","-ellipsis",cee,QQ,e,n),a=xe(null),o=xe(null),s=xe(null),l=xe(!1),u=me(()=>{const{lineClamp:g}=e,{value:m}=l;return g!==void 0?{textOverflow:"","-webkit-line-clamp":m?"":g}:{textOverflow:m?"":"ellipsis","-webkit-line-clamp":""}});function c(){let g=!1;const{value:m}=l;if(m)return!0;const{value:y}=a;if(y){const{lineClamp:x}=e;if(h(y),x!==void 0)g=y.scrollHeight<=y.offsetHeight;else{const{value:b}=o;b&&(g=b.getBoundingClientRect().width<=y.getBoundingClientRect().width)}v(y,g)}return g}const f=me(()=>e.expandTrigger==="click"?()=>{var g;const{value:m}=l;m&&((g=s.value)===null||g===void 0||g.setShow(!1)),l.value=!m}:void 0);jA(()=>{var g;e.tooltip&&((g=s.value)===null||g===void 0||g.setShow(!1))});const d=()=>I("span",Object.assign({},Us(r,{class:[`${n.value}-ellipsis`,e.lineClamp!==void 0?T3(n.value):void 0,e.expandTrigger==="click"?A3(n.value,"pointer"):void 0],style:u.value}),{ref:"triggerRef",onClick:f.value,onMouseenter:e.expandTrigger==="click"?c:void 0}),e.lineClamp?t:I("span",{ref:"triggerInnerRef"},t));function h(g){if(!g)return;const m=u.value,y=T3(n.value);e.lineClamp!==void 0?p(g,y,"add"):p(g,y,"remove");for(const x in m)g.style[x]!==m[x]&&(g.style[x]=m[x])}function v(g,m){const y=A3(n.value,"pointer");e.expandTrigger==="click"&&!m?p(g,y,"add"):p(g,y,"remove")}function p(g,m,y){y==="add"?g.classList.contains(m)||g.classList.add(m):g.classList.contains(m)&&g.classList.remove(m)}return{mergedTheme:i,triggerRef:a,triggerInnerRef:o,tooltipRef:s,handleClick:f,renderTrigger:d,getTooltipDisabled:c}},render(){var e;const{tooltip:t,renderTrigger:r,$slots:n}=this;if(t){const{mergedTheme:i}=this;return I(uee,Object.assign({ref:"tooltipRef",placement:"top"},t,{getDisabled:this.getTooltipDisabled,theme:i.peers.Tooltip,themeOverrides:i.peerOverrides.Tooltip}),{trigger:r,default:(e=n.tooltip)!==null&&e!==void 0?e:n.default})}else return r()}}),qDe=lt({name:"PerformantEllipsis",props:fee,inheritAttrs:!1,setup(e,{attrs:t,slots:r}){const n=xe(!1),i=hJ();return Kp("-ellipsis",cee,i),{mouseEntered:n,renderTrigger:()=>{const{lineClamp:o}=e,s=i.value;return I("span",Object.assign({},Us(t,{class:[`${s}-ellipsis`,o!==void 0?T3(s):void 0,e.expandTrigger==="click"?A3(s,"pointer"):void 0],style:o===void 0?{textOverflow:"ellipsis"}:{"-webkit-line-clamp":o}}),{onMouseenter:()=>{n.value=!0}}),o?r:I("span",null,r))}}},render(){return this.mouseEntered?I(E5,Us({},this.$attrs,this.$props),this.$slots):this.renderTrigger()}}),JDe=lt({name:"DataTableCell",props:{clsPrefix:{type:String,required:!0},row:{type:Object,required:!0},index:{type:Number,required:!0},column:{type:Object,required:!0},isSummary:Boolean,mergedTheme:{type:Object,required:!0},renderCell:Function},render(){var e;const{isSummary:t,column:r,row:n,renderCell:i}=this;let a;const{render:o,key:s,ellipsis:l}=r;if(o&&!t?a=o(n,this.index):t?a=(e=n[s])===null||e===void 0?void 0:e.value:a=i?i(v3(n,s),n,r):v3(n,s),l)if(typeof l=="object"){const{mergedTheme:u}=this;return r.ellipsisComponent==="performant-ellipsis"?I(qDe,Object.assign({},l,{theme:u.peers.Ellipsis,themeOverrides:u.peerOverrides.Ellipsis}),{default:()=>a}):I(E5,Object.assign({},l,{theme:u.peers.Ellipsis,themeOverrides:u.peerOverrides.Ellipsis}),{default:()=>a})}else return I("span",{class:`${this.clsPrefix}-data-table-td__ellipsis`},a);return a}}),O7=lt({name:"DataTableExpandTrigger",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,loading:Boolean,onClick:{type:Function,required:!0},renderExpandIcon:{type:Function},rowData:{type:Object,required:!0}},render(){const{clsPrefix:e}=this;return I("div",{class:[`${e}-data-table-expand-trigger`,this.expanded&&`${e}-data-table-expand-trigger--expanded`],onClick:this.onClick,onMousedown:t=>{t.preventDefault()}},I(Zp,null,{default:()=>this.loading?I($m,{key:"loading",clsPrefix:this.clsPrefix,radius:85,strokeWidth:15,scale:.88}):this.renderExpandIcon?this.renderExpandIcon({expanded:this.expanded,rowData:this.rowData}):I(Yr,{clsPrefix:e,key:"base-icon"},{default:()=>I(iQ,null)})}))}}),QDe=lt({name:"DataTableFilterMenu",props:{column:{type:Object,required:!0},radioGroupName:{type:String,required:!0},multiple:{type:Boolean,required:!0},value:{type:[Array,String,Number],default:null},options:{type:Array,required:!0},onConfirm:{type:Function,required:!0},onClear:{type:Function,required:!0},onChange:{type:Function,required:!0}},setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=tn(e),n=Eo("DataTable",r,t),{mergedClsPrefixRef:i,mergedThemeRef:a,localeRef:o}=rr(Pu),s=xe(e.value),l=me(()=>{const{value:v}=s;return Array.isArray(v)?v:null}),u=me(()=>{const{value:v}=s;return xP(e.column)?Array.isArray(v)&&v.length&&v[0]||null:Array.isArray(v)?null:v});function c(v){e.onChange(v)}function f(v){e.multiple&&Array.isArray(v)?s.value=v:xP(e.column)&&!Array.isArray(v)?s.value=[v]:s.value=v}function d(){c(s.value),e.onConfirm()}function h(){e.multiple||xP(e.column)?c([]):c(null),e.onClear()}return{mergedClsPrefix:i,rtlEnabled:n,mergedTheme:a,locale:o,checkboxGroupValue:l,radioGroupValue:u,handleChange:f,handleConfirmClick:d,handleClearClick:h}},render(){const{mergedTheme:e,locale:t,mergedClsPrefix:r}=this;return I("div",{class:[`${r}-data-table-filter-menu`,this.rtlEnabled&&`${r}-data-table-filter-menu--rtl`]},I(Gm,null,{default:()=>{const{checkboxGroupValue:n,handleChange:i}=this;return this.multiple?I(QMe,{value:n,class:`${r}-data-table-filter-menu__group`,onUpdateValue:i},{default:()=>this.options.map(a=>I(b5,{key:a.value,theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,value:a.value},{default:()=>a.label}))}):I(YDe,{name:this.radioGroupName,class:`${r}-data-table-filter-menu__group`,value:this.radioGroupValue,onUpdateValue:this.handleChange},{default:()=>this.options.map(a=>I(lee,{key:a.value,value:a.value,theme:e.peers.Radio,themeOverrides:e.peerOverrides.Radio},{default:()=>a.label}))})}}),I("div",{class:`${r}-data-table-filter-menu__action`},I(lu,{size:"tiny",theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,onClick:this.handleClearClick},{default:()=>t.clear}),I(lu,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,type:"primary",size:"tiny",onClick:this.handleConfirmClick},{default:()=>t.confirm})))}}),ePe=lt({name:"DataTableRenderFilter",props:{render:{type:Function,required:!0},active:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},render(){const{render:e,active:t,show:r}=this;return e({active:t,show:r})}});function tPe(e,t,r){const n=Object.assign({},e);return n[t]=r,n}const rPe=lt({name:"DataTableFilterButton",props:{column:{type:Object,required:!0},options:{type:Array,default:()=>[]}},setup(e){const{mergedComponentPropsRef:t}=tn(),{mergedThemeRef:r,mergedClsPrefixRef:n,mergedFilterStateRef:i,filterMenuCssVarsRef:a,paginationBehaviorOnFilterRef:o,doUpdatePage:s,doUpdateFilters:l,filterIconPopoverPropsRef:u}=rr(Pu),c=xe(!1),f=i,d=me(()=>e.column.filterMultiple!==!1),h=me(()=>{const x=f.value[e.column.key];if(x===void 0){const{value:b}=d;return b?[]:null}return x}),v=me(()=>{const{value:x}=h;return Array.isArray(x)?x.length>0:x!==null}),p=me(()=>{var x,b;return((b=(x=t?.value)===null||x===void 0?void 0:x.DataTable)===null||b===void 0?void 0:b.renderFilter)||e.column.renderFilter});function g(x){const b=tPe(f.value,e.column.key,x);l(b,e.column),o.value==="first"&&s(1)}function m(){c.value=!1}function y(){c.value=!1}return{mergedTheme:r,mergedClsPrefix:n,active:v,showPopover:c,mergedRenderFilter:p,filterIconPopoverProps:u,filterMultiple:d,mergedFilterValue:h,filterMenuCssVars:a,handleFilterChange:g,handleFilterMenuConfirm:y,handleFilterMenuCancel:m}},render(){const{mergedTheme:e,mergedClsPrefix:t,handleFilterMenuCancel:r,filterIconPopoverProps:n}=this;return I(hb,Object.assign({show:this.showPopover,onUpdateShow:i=>this.showPopover=i,trigger:"click",theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,placement:"bottom"},n,{style:{padding:0}}),{trigger:()=>{const{mergedRenderFilter:i}=this;if(i)return I(ePe,{"data-data-table-filter":!0,render:i,active:this.active,show:this.showPopover});const{renderFilterIcon:a}=this.column;return I("div",{"data-data-table-filter":!0,class:[`${t}-data-table-filter`,{[`${t}-data-table-filter--active`]:this.active,[`${t}-data-table-filter--show`]:this.showPopover}]},a?a({active:this.active,show:this.showPopover}):I(Yr,{clsPrefix:t},{default:()=>I(GAe,null)}))},default:()=>{const{renderFilterMenu:i}=this.column;return i?i({hide:r}):I(QDe,{style:this.filterMenuCssVars,radioGroupName:String(this.column.key),multiple:this.filterMultiple,value:this.mergedFilterValue,options:this.options,column:this.column,onChange:this.handleFilterChange,onClear:this.handleFilterMenuCancel,onConfirm:this.handleFilterMenuConfirm})}})}}),nPe=lt({name:"ColumnResizeButton",props:{onResizeStart:Function,onResize:Function,onResizeEnd:Function},setup(e){const{mergedClsPrefixRef:t}=rr(Pu),r=xe(!1);let n=0;function i(l){return l.clientX}function a(l){var u;l.preventDefault();const c=r.value;n=i(l),r.value=!0,c||(fn("mousemove",window,o),fn("mouseup",window,s),(u=e.onResizeStart)===null||u===void 0||u.call(e))}function o(l){var u;(u=e.onResize)===null||u===void 0||u.call(e,i(l)-n)}function s(){var l;r.value=!1,(l=e.onResizeEnd)===null||l===void 0||l.call(e),an("mousemove",window,o),an("mouseup",window,s)}return Li(()=>{an("mousemove",window,o),an("mouseup",window,s)}),{mergedClsPrefix:t,active:r,handleMousedown:a}},render(){const{mergedClsPrefix:e}=this;return I("span",{"data-data-table-resizable":!0,class:[`${e}-data-table-resize-button`,this.active&&`${e}-data-table-resize-button--active`],onMousedown:this.handleMousedown})}}),iPe=lt({name:"DataTableRenderSorter",props:{render:{type:Function,required:!0},order:{type:[String,Boolean],default:!1}},render(){const{render:e,order:t}=this;return e({order:t})}}),aPe=lt({name:"SortIcon",props:{column:{type:Object,required:!0}},setup(e){const{mergedComponentPropsRef:t}=tn(),{mergedSortStateRef:r,mergedClsPrefixRef:n}=rr(Pu),i=me(()=>r.value.find(l=>l.columnKey===e.column.key)),a=me(()=>i.value!==void 0),o=me(()=>{const{value:l}=i;return l&&a.value?l.order:!1}),s=me(()=>{var l,u;return((u=(l=t?.value)===null||l===void 0?void 0:l.DataTable)===null||u===void 0?void 0:u.renderSorter)||e.column.renderSorter});return{mergedClsPrefix:n,active:a,mergedSortOrder:o,mergedRenderSorter:s}},render(){const{mergedRenderSorter:e,mergedSortOrder:t,mergedClsPrefix:r}=this,{renderSorterIcon:n}=this.column;return e?I(iPe,{render:e,order:t}):I("span",{class:[`${r}-data-table-sorter`,t==="ascend"&&`${r}-data-table-sorter--asc`,t==="descend"&&`${r}-data-table-sorter--desc`]},n?n({order:t}):I(Yr,{clsPrefix:r},{default:()=>I(OAe,null)}))}}),M5="n-dropdown-menu",_E="n-dropdown",F7="n-dropdown-option",dee=lt({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return I("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),oPe=lt({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:t}=rr(M5),{renderLabelRef:r,labelFieldRef:n,nodePropsRef:i,renderOptionRef:a}=rr(_E);return{labelField:n,showIcon:e,hasSubmenu:t,renderLabel:r,nodeProps:i,renderOption:a}},render(){var e;const{clsPrefix:t,hasSubmenu:r,showIcon:n,nodeProps:i,renderLabel:a,renderOption:o}=this,{rawNode:s}=this.tmNode,l=I("div",Object.assign({class:`${t}-dropdown-option`},i?.(s)),I("div",{class:`${t}-dropdown-option-body ${t}-dropdown-option-body--group`},I("div",{"data-dropdown-option":!0,class:[`${t}-dropdown-option-body__prefix`,n&&`${t}-dropdown-option-body__prefix--show-icon`]},Ba(s.icon)),I("div",{class:`${t}-dropdown-option-body__label`,"data-dropdown-option":!0},a?a(s):Ba((e=s.title)!==null&&e!==void 0?e:s[this.labelField])),I("div",{class:[`${t}-dropdown-option-body__suffix`,r&&`${t}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return o?o({node:l,option:s}):l}});function hee(e){const{textColorBase:t,opacity1:r,opacity2:n,opacity3:i,opacity4:a,opacity5:o}=e;return{color:t,opacity1Depth:r,opacity2Depth:n,opacity3Depth:i,opacity4Depth:a,opacity5Depth:o}}const sPe={common:$n,self:hee},lPe={name:"Icon",common:Ct,self:hee},uPe=ie("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
`,[Ce("color-transition",{transition:"color .3s var(--n-bezier)"}),Ce("depth",{color:"var(--n-color)"},[we("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),we("svg",{height:"1em",width:"1em"})]),cPe=Object.assign(Object.assign({},nr.props),{depth:[String,Number],size:[Number,String],color:String,component:[Object,Function]}),fPe=lt({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:cPe,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=tn(e),n=nr("Icon","-icon",uPe,sPe,e,t),i=me(()=>{const{depth:o}=e,{common:{cubicBezierEaseInOut:s},self:l}=n.value;if(o!==void 0){const{color:u,[`opacity${o}Depth`]:c}=l;return{"--n-bezier":s,"--n-color":u,"--n-opacity":c}}return{"--n-bezier":s,"--n-color":"","--n-opacity":""}}),a=r?ti("icon",me(()=>`${e.depth||"d"}`),i,e):void 0;return{mergedClsPrefix:t,mergedStyle:me(()=>{const{size:o,color:s}=e;return{fontSize:gi(o),color:s}}),cssVars:r?void 0:i,themeClass:a?.themeClass,onRender:a?.onRender}},render(){var e;const{$parent:t,depth:r,mergedClsPrefix:n,component:i,onRender:a,themeClass:o}=this;return!((e=t?.$options)===null||e===void 0)&&e._n_icon__&&Ec("icon","don't wrap `n-icon` inside `n-icon`"),a?.(),I("i",Us(this.$attrs,{role:"img",class:[`${n}-icon`,o,{[`${n}-icon--depth`]:r,[`${n}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?I(i):this.$slots)}});function E3(e,t){return e.type==="submenu"||e.type===void 0&&e[t]!==void 0}function dPe(e){return e.type==="group"}function vee(e){return e.type==="divider"}function hPe(e){return e.type==="render"}const pee=lt({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const t=rr(_E),{hoverKeyRef:r,keyboardKeyRef:n,lastToggledSubmenuKeyRef:i,pendingKeyPathRef:a,activeKeyPathRef:o,animatedRef:s,mergedShowRef:l,renderLabelRef:u,renderIconRef:c,labelFieldRef:f,childrenFieldRef:d,renderOptionRef:h,nodePropsRef:v,menuPropsRef:p}=t,g=rr(F7,null),m=rr(M5),y=rr(ub),x=me(()=>e.tmNode.rawNode),b=me(()=>{const{value:H}=d;return E3(e.tmNode.rawNode,H)}),w=me(()=>{const{disabled:H}=e.tmNode;return H}),S=me(()=>{if(!b.value)return!1;const{key:H,disabled:V}=e.tmNode;if(V)return!1;const{value:U}=r,{value:K}=n,{value:q}=i,{value:N}=a;return U!==null?N.includes(H):K!==null?N.includes(H)&&N[N.length-1]!==H:q!==null?N.includes(H):!1}),C=me(()=>n.value===null&&!s.value),E=Wxe(S,300,C),A=me(()=>!!g?.enteringSubmenuRef.value),M=xe(!1);wn(F7,{enteringSubmenuRef:M});function D(){M.value=!0}function R(){M.value=!1}function L(){const{parentKey:H,tmNode:V}=e;V.disabled||l.value&&(i.value=H,n.value=null,r.value=V.key)}function k(){const{tmNode:H}=e;H.disabled||l.value&&r.value!==H.key&&L()}function O(H){if(e.tmNode.disabled||!l.value)return;const{relatedTarget:V}=H;V&&!Rl({target:V},"dropdownOption")&&!Rl({target:V},"scrollbarRail")&&(r.value=null)}function F(){const{value:H}=b,{tmNode:V}=e;l.value&&!H&&!V.disabled&&(t.doSelect(V.key,V.rawNode),t.doUpdateShow(!1))}return{labelField:f,renderLabel:u,renderIcon:c,siblingHasIcon:m.showIconRef,siblingHasSubmenu:m.hasSubmenuRef,menuProps:p,popoverBody:y,animated:s,mergedShowSubmenu:me(()=>E.value&&!A.value),rawNode:x,hasSubmenu:b,pending:Tn(()=>{const{value:H}=a,{key:V}=e.tmNode;return H.includes(V)}),childActive:Tn(()=>{const{value:H}=o,{key:V}=e.tmNode,U=H.findIndex(K=>V===K);return U===-1?!1:U<H.length-1}),active:Tn(()=>{const{value:H}=o,{key:V}=e.tmNode,U=H.findIndex(K=>V===K);return U===-1?!1:U===H.length-1}),mergedDisabled:w,renderOption:h,nodeProps:v,handleClick:F,handleMouseMove:k,handleMouseEnter:L,handleMouseLeave:O,handleSubmenuBeforeEnter:D,handleSubmenuAfterEnter:R}},render(){var e,t;const{animated:r,rawNode:n,mergedShowSubmenu:i,clsPrefix:a,siblingHasIcon:o,siblingHasSubmenu:s,renderLabel:l,renderIcon:u,renderOption:c,nodeProps:f,props:d,scrollable:h}=this;let v=null;if(i){const y=(e=this.menuProps)===null||e===void 0?void 0:e.call(this,n,n.children);v=I(gee,Object.assign({},y,{clsPrefix:a,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const p={class:[`${a}-dropdown-option-body`,this.pending&&`${a}-dropdown-option-body--pending`,this.active&&`${a}-dropdown-option-body--active`,this.childActive&&`${a}-dropdown-option-body--child-active`,this.mergedDisabled&&`${a}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},g=f?.(n),m=I("div",Object.assign({class:[`${a}-dropdown-option`,g?.class],"data-dropdown-option":!0},g),I("div",Us(p,d),[I("div",{class:[`${a}-dropdown-option-body__prefix`,o&&`${a}-dropdown-option-body__prefix--show-icon`]},[u?u(n):Ba(n.icon)]),I("div",{"data-dropdown-option":!0,class:`${a}-dropdown-option-body__label`},l?l(n):Ba((t=n[this.labelField])!==null&&t!==void 0?t:n.title)),I("div",{"data-dropdown-option":!0,class:[`${a}-dropdown-option-body__suffix`,s&&`${a}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?I(fPe,null,{default:()=>I(iQ,null)}):null)]),this.hasSubmenu?I(QO,null,{default:()=>[I(e5,null,{default:()=>I("div",{class:`${a}-dropdown-offset-container`},I(r5,{show:this.mergedShowSubmenu,placement:this.placement,to:h&&this.popoverBody||void 0,teleportDisabled:!h},{default:()=>I("div",{class:`${a}-dropdown-menu-wrapper`},r?I(vs,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>v}):v)}))})]}):null);return c?c({node:m,option:n}):m}}),vPe=lt({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:t,clsPrefix:r}=this,{children:n}=e;return I(Dr,null,I(oPe,{clsPrefix:r,tmNode:e,key:e.key}),n?.map(i=>{const{rawNode:a}=i;return a.show===!1?null:vee(a)?I(dee,{clsPrefix:r,key:i.key}):i.isGroup?(Ec("dropdown","`group` node is not allowed to be put in `group` node."),null):I(pee,{clsPrefix:r,tmNode:i,parentKey:t,key:i.key})}))}}),pPe=lt({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:t}}=this.tmNode;return I("div",t,[e?.()])}}),gee=lt({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:t,childrenFieldRef:r}=rr(_E);wn(M5,{showIconRef:me(()=>{const i=t.value;return e.tmNodes.some(a=>{var o;if(a.isGroup)return(o=a.children)===null||o===void 0?void 0:o.some(({rawNode:l})=>i?i(l):l.icon);const{rawNode:s}=a;return i?i(s):s.icon})}),hasSubmenuRef:me(()=>{const{value:i}=r;return e.tmNodes.some(a=>{var o;if(a.isGroup)return(o=a.children)===null||o===void 0?void 0:o.some(({rawNode:l})=>E3(l,i));const{rawNode:s}=a;return E3(s,i)})})});const n=xe(null);return wn(tE,null),wn(eE,null),wn(ub,n),{bodyRef:n}},render(){const{parentKey:e,clsPrefix:t,scrollable:r}=this,n=this.tmNodes.map(i=>{const{rawNode:a}=i;return a.show===!1?null:hPe(a)?I(pPe,{tmNode:i,key:i.key}):vee(a)?I(dee,{clsPrefix:t,key:i.key}):dPe(a)?I(vPe,{clsPrefix:t,tmNode:i,parentKey:e,key:i.key}):I(pee,{clsPrefix:t,tmNode:i,parentKey:e,key:i.key,props:a.props,scrollable:r})});return I("div",{class:[`${t}-dropdown-menu`,r&&`${t}-dropdown-menu--scrollable`],ref:"bodyRef"},r?I(cQ,{contentClass:`${t}-dropdown-menu__content`},{default:()=>n}):n,this.showArrow?xQ({clsPrefix:t,arrowStyle:this.arrowStyle,arrowClass:void 0,arrowWrapperClass:void 0,arrowWrapperStyle:void 0}):null)}}),gPe=ie("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[Um(),ie("dropdown-option",`
 position: relative;
 `,[we("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[we("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),ie("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[we("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),zn("disabled",[Ce("pending",`
 color: var(--n-option-text-color-hover);
 `,[Me("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),we("&::before","background-color: var(--n-option-color-hover);")]),Ce("active",`
 color: var(--n-option-text-color-active);
 `,[Me("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),we("&::before","background-color: var(--n-option-color-active);")]),Ce("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[Me("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),Ce("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),Ce("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[Me("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[Ce("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),Me("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[Ce("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),ie("icon",`
 font-size: var(--n-option-icon-size);
 `)]),Me("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),Me("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[Ce("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),ie("icon",`
 font-size: var(--n-option-icon-size);
 `)]),ie("dropdown-menu","pointer-events: all;")]),ie("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),ie("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),ie("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),we(">",[ie("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),zn("scrollable",`
 padding: var(--n-padding);
 `),Ce("scrollable",[Me("content",`
 padding: var(--n-padding);
 `)])]),mPe={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},yPe=Object.keys(cm),xPe=Object.assign(Object.assign(Object.assign({},cm),mPe),nr.props),_Pe=lt({name:"Dropdown",inheritAttrs:!1,props:xPe,setup(e){const t=xe(!1),r=bo(rt(e,"show"),t),n=me(()=>{const{keyField:R,childrenField:L}=e;return gE(e.options,{getKey(k){return k[R]},getDisabled(k){return k.disabled===!0},getIgnored(k){return k.type==="divider"||k.type==="render"},getChildren(k){return k[L]}})}),i=me(()=>n.value.treeNodes),a=xe(null),o=xe(null),s=xe(null),l=me(()=>{var R,L,k;return(k=(L=(R=a.value)!==null&&R!==void 0?R:o.value)!==null&&L!==void 0?L:s.value)!==null&&k!==void 0?k:null}),u=me(()=>n.value.getPath(l.value).keyPath),c=me(()=>n.value.getPath(e.value).keyPath),f=Tn(()=>e.keyboard&&r.value);Gxe({keydown:{ArrowUp:{prevent:!0,handler:w},ArrowRight:{prevent:!0,handler:b},ArrowDown:{prevent:!0,handler:S},ArrowLeft:{prevent:!0,handler:x},Enter:{prevent:!0,handler:C},Escape:y}},f);const{mergedClsPrefixRef:d,inlineThemeDisabled:h}=tn(e),v=nr("Dropdown","-dropdown",gPe,ZQ,e,d);wn(_E,{labelFieldRef:rt(e,"labelField"),childrenFieldRef:rt(e,"childrenField"),renderLabelRef:rt(e,"renderLabel"),renderIconRef:rt(e,"renderIcon"),hoverKeyRef:a,keyboardKeyRef:o,lastToggledSubmenuKeyRef:s,pendingKeyPathRef:u,activeKeyPathRef:c,animatedRef:rt(e,"animated"),mergedShowRef:r,nodePropsRef:rt(e,"nodeProps"),renderOptionRef:rt(e,"renderOption"),menuPropsRef:rt(e,"menuProps"),doSelect:p,doUpdateShow:g}),hn(r,R=>{!e.animated&&!R&&m()});function p(R,L){const{onSelect:k}=e;k&&ht(k,R,L)}function g(R){const{"onUpdate:show":L,onUpdateShow:k}=e;L&&ht(L,R),k&&ht(k,R),t.value=R}function m(){a.value=null,o.value=null,s.value=null}function y(){g(!1)}function x(){A("left")}function b(){A("right")}function w(){A("up")}function S(){A("down")}function C(){const R=E();R?.isLeaf&&r.value&&(p(R.key,R.rawNode),g(!1))}function E(){var R;const{value:L}=n,{value:k}=l;return!L||k===null?null:(R=L.getNode(k))!==null&&R!==void 0?R:null}function A(R){const{value:L}=l,{value:{getFirstAvailableNode:k}}=n;let O=null;if(L===null){const F=k();F!==null&&(O=F.key)}else{const F=E();if(F){let H;switch(R){case"down":H=F.getNext();break;case"up":H=F.getPrev();break;case"right":H=F.getChild();break;case"left":H=F.getParent();break}H&&(O=H.key)}}O!==null&&(a.value=null,o.value=O)}const M=me(()=>{const{size:R,inverted:L}=e,{common:{cubicBezierEaseInOut:k},self:O}=v.value,{padding:F,dividerColor:H,borderRadius:V,optionOpacityDisabled:U,[tt("optionIconSuffixWidth",R)]:K,[tt("optionSuffixWidth",R)]:q,[tt("optionIconPrefixWidth",R)]:N,[tt("optionPrefixWidth",R)]:W,[tt("fontSize",R)]:j,[tt("optionHeight",R)]:Z,[tt("optionIconSize",R)]:ve}=O,Te={"--n-bezier":k,"--n-font-size":j,"--n-padding":F,"--n-border-radius":V,"--n-option-height":Z,"--n-option-prefix-width":W,"--n-option-icon-prefix-width":N,"--n-option-suffix-width":q,"--n-option-icon-suffix-width":K,"--n-option-icon-size":ve,"--n-divider-color":H,"--n-option-opacity-disabled":U};return L?(Te["--n-color"]=O.colorInverted,Te["--n-option-color-hover"]=O.optionColorHoverInverted,Te["--n-option-color-active"]=O.optionColorActiveInverted,Te["--n-option-text-color"]=O.optionTextColorInverted,Te["--n-option-text-color-hover"]=O.optionTextColorHoverInverted,Te["--n-option-text-color-active"]=O.optionTextColorActiveInverted,Te["--n-option-text-color-child-active"]=O.optionTextColorChildActiveInverted,Te["--n-prefix-color"]=O.prefixColorInverted,Te["--n-suffix-color"]=O.suffixColorInverted,Te["--n-group-header-text-color"]=O.groupHeaderTextColorInverted):(Te["--n-color"]=O.color,Te["--n-option-color-hover"]=O.optionColorHover,Te["--n-option-color-active"]=O.optionColorActive,Te["--n-option-text-color"]=O.optionTextColor,Te["--n-option-text-color-hover"]=O.optionTextColorHover,Te["--n-option-text-color-active"]=O.optionTextColorActive,Te["--n-option-text-color-child-active"]=O.optionTextColorChildActive,Te["--n-prefix-color"]=O.prefixColor,Te["--n-suffix-color"]=O.suffixColor,Te["--n-group-header-text-color"]=O.groupHeaderTextColor),Te}),D=h?ti("dropdown",me(()=>`${e.size[0]}${e.inverted?"i":""}`),M,e):void 0;return{mergedClsPrefix:d,mergedTheme:v,tmNodes:i,mergedShow:r,handleAfterLeave:()=>{e.animated&&m()},doUpdateShow:g,cssVars:h?void 0:M,themeClass:D?.themeClass,onRender:D?.onRender}},render(){const e=(n,i,a,o,s)=>{var l;const{mergedClsPrefix:u,menuProps:c}=this;(l=this.onRender)===null||l===void 0||l.call(this);const f=c?.(void 0,this.tmNodes.map(h=>h.rawNode))||{},d={ref:fJ(i),class:[n,`${u}-dropdown`,this.themeClass],clsPrefix:u,tmNodes:this.tmNodes,style:[...a,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:o,onMouseleave:s};return I(gee,Us(this.$attrs,d,f))},{mergedTheme:t}=this,r={show:this.mergedShow,theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:e,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return I(hb,Object.assign({},lm(this.$props,yPe),r),{trigger:()=>{var n,i;return(i=(n=this.$slots).default)===null||i===void 0?void 0:i.call(n)}})}}),mee="_n_all__",yee="_n_none__";function bPe(e,t,r,n){return e?i=>{for(const a of e)switch(i){case mee:r(!0);return;case yee:n(!0);return;default:if(typeof a=="object"&&a.key===i){a.onSelect(t.value);return}}}:()=>{}}function wPe(e,t){return e?e.map(r=>{switch(r){case"all":return{label:t.checkTableAll,key:mee};case"none":return{label:t.uncheckTableAll,key:yee};default:return r}}):[]}const SPe=lt({name:"DataTableSelectionMenu",props:{clsPrefix:{type:String,required:!0}},setup(e){const{props:t,localeRef:r,checkOptionsRef:n,rawPaginatedDataRef:i,doCheckAll:a,doUncheckAll:o}=rr(Pu),s=me(()=>bPe(n.value,i,a,o)),l=me(()=>wPe(n.value,r.value));return()=>{var u,c,f,d;const{clsPrefix:h}=e;return I(_Pe,{theme:(c=(u=t.theme)===null||u===void 0?void 0:u.peers)===null||c===void 0?void 0:c.Dropdown,themeOverrides:(d=(f=t.themeOverrides)===null||f===void 0?void 0:f.peers)===null||d===void 0?void 0:d.Dropdown,options:l.value,onSelect:s.value},{default:()=>I(Yr,{clsPrefix:h,class:`${h}-data-table-check-extra`},{default:()=>I(nQ,null)})})}}});function bP(e){return typeof e.title=="function"?e.title(e):e.title}const CPe=lt({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},width:String},render(){const{clsPrefix:e,id:t,cols:r,width:n}=this;return I("table",{style:{tableLayout:"fixed",width:n},class:`${e}-data-table-table`},I("colgroup",null,r.map(i=>I("col",{key:i.key,style:i.style}))),I("thead",{"data-n-id":t,class:`${e}-data-table-thead`},this.$slots))}}),xee=lt({name:"DataTableHeader",props:{discrete:{type:Boolean,default:!0}},setup(){const{mergedClsPrefixRef:e,scrollXRef:t,fixedColumnLeftMapRef:r,fixedColumnRightMapRef:n,mergedCurrentPageRef:i,allRowsCheckedRef:a,someRowsCheckedRef:o,rowsRef:s,colsRef:l,mergedThemeRef:u,checkOptionsRef:c,mergedSortStateRef:f,componentId:d,mergedTableLayoutRef:h,headerCheckboxDisabledRef:v,virtualScrollHeaderRef:p,headerHeightRef:g,onUnstableColumnResize:m,doUpdateResizableWidth:y,handleTableHeaderScroll:x,deriveNextSorter:b,doUncheckAll:w,doCheckAll:S}=rr(Pu),C=xe(),E=xe({});function A(O){const F=E.value[O];return F?.getBoundingClientRect().width}function M(){a.value?w():S()}function D(O,F){if(Rl(O,"dataTableFilter")||Rl(O,"dataTableResizable")||!_P(F))return;const H=f.value.find(U=>U.columnKey===F.key)||null,V=NDe(F,H);b(V)}const R=new Map;function L(O){R.set(O.key,A(O.key))}function k(O,F){const H=R.get(O.key);if(H===void 0)return;const V=H+F,U=kDe(V,O.minWidth,O.maxWidth);m(V,U,O,A),y(O,U)}return{cellElsRef:E,componentId:d,mergedSortState:f,mergedClsPrefix:e,scrollX:t,fixedColumnLeftMap:r,fixedColumnRightMap:n,currentPage:i,allRowsChecked:a,someRowsChecked:o,rows:s,cols:l,mergedTheme:u,checkOptions:c,mergedTableLayout:h,headerCheckboxDisabled:v,headerHeight:g,virtualScrollHeader:p,virtualListRef:C,handleCheckboxUpdateChecked:M,handleColHeaderClick:D,handleTableHeaderScroll:x,handleColumnResizeStart:L,handleColumnResize:k}},render(){const{cellElsRef:e,mergedClsPrefix:t,fixedColumnLeftMap:r,fixedColumnRightMap:n,currentPage:i,allRowsChecked:a,someRowsChecked:o,rows:s,cols:l,mergedTheme:u,checkOptions:c,componentId:f,discrete:d,mergedTableLayout:h,headerCheckboxDisabled:v,mergedSortState:p,virtualScrollHeader:g,handleColHeaderClick:m,handleCheckboxUpdateChecked:y,handleColumnResizeStart:x,handleColumnResize:b}=this,w=(A,M,D)=>A.map(({column:R,colIndex:L,colSpan:k,rowSpan:O,isLast:F})=>{var H,V;const U=iu(R),{ellipsis:K}=R,q=()=>R.type==="selection"?R.multiple!==!1?I(Dr,null,I(b5,{key:i,privateInsideTable:!0,checked:a,indeterminate:o,disabled:v,onUpdateChecked:y}),c?I(SPe,{clsPrefix:t}):null):null:I(Dr,null,I("div",{class:`${t}-data-table-th__title-wrapper`},I("div",{class:`${t}-data-table-th__title`},K===!0||K&&!K.tooltip?I("div",{class:`${t}-data-table-th__ellipsis`},bP(R)):K&&typeof K=="object"?I(E5,Object.assign({},K,{theme:u.peers.Ellipsis,themeOverrides:u.peerOverrides.Ellipsis}),{default:()=>bP(R)}):bP(R)),_P(R)?I(aPe,{column:R}):null),I7(R)?I(rPe,{column:R,options:R.filterOptions}):null,aee(R)?I(nPe,{onResizeStart:()=>{x(R)},onResize:Z=>{b(R,Z)}}):null),N=U in r,W=U in n,j=M&&!R.fixed?"div":"th";return I(j,{ref:Z=>e[U]=Z,key:U,style:[M&&!R.fixed?{position:"absolute",left:ma(M(L)),top:0,bottom:0}:{left:ma((H=r[U])===null||H===void 0?void 0:H.start),right:ma((V=n[U])===null||V===void 0?void 0:V.start)},{width:ma(R.width),textAlign:R.titleAlign||R.align,height:D}],colspan:k,rowspan:O,"data-col-key":U,class:[`${t}-data-table-th`,(N||W)&&`${t}-data-table-th--fixed-${N?"left":"right"}`,{[`${t}-data-table-th--sorting`]:oee(R,p),[`${t}-data-table-th--filterable`]:I7(R),[`${t}-data-table-th--sortable`]:_P(R),[`${t}-data-table-th--selection`]:R.type==="selection",[`${t}-data-table-th--last`]:F},R.className],onClick:R.type!=="selection"&&R.type!=="expand"&&!("children"in R)?Z=>{m(Z,R)}:void 0},q())});if(g){const{headerHeight:A}=this;let M=0,D=0;return l.forEach(R=>{R.column.fixed==="left"?M++:R.column.fixed==="right"&&D++}),I(i5,{ref:"virtualListRef",class:`${t}-data-table-base-table-header`,style:{height:ma(A)},onScroll:this.handleTableHeaderScroll,columns:l,itemSize:A,showScrollbar:!1,items:[{}],itemResizable:!1,visibleItemsTag:CPe,visibleItemsProps:{clsPrefix:t,id:f,cols:l,width:gi(this.scrollX)},renderItemWithCols:({startColIndex:R,endColIndex:L,getLeft:k})=>{const O=l.map((H,V)=>({column:H.column,isLast:V===l.length-1,colIndex:H.index,colSpan:1,rowSpan:1})).filter(({column:H},V)=>!!(R<=V&&V<=L||H.fixed)),F=w(O,k,ma(A));return F.splice(M,0,I("th",{colspan:l.length-M-D,style:{pointerEvents:"none",visibility:"hidden",height:0}})),I("tr",{style:{position:"relative"}},F)}},{default:({renderedItemWithCols:R})=>R})}const S=I("thead",{class:`${t}-data-table-thead`,"data-n-id":f},s.map(A=>I("tr",{class:`${t}-data-table-tr`},w(A,null,void 0))));if(!d)return S;const{handleTableHeaderScroll:C,scrollX:E}=this;return I("div",{class:`${t}-data-table-base-table-header`,onScroll:C},I("table",{class:`${t}-data-table-table`,style:{minWidth:gi(E),tableLayout:h}},I("colgroup",null,l.map(A=>I("col",{key:A.key,style:A.style}))),S))}});function TPe(e,t){const r=[];function n(i,a){i.forEach(o=>{o.children&&t.has(o.key)?(r.push({tmNode:o,striped:!1,key:o.key,index:a}),n(o.children,a)):r.push({key:o.key,tmNode:o,striped:!1,index:a})})}return e.forEach(i=>{r.push(i);const{children:a}=i.tmNode;a&&t.has(i.key)&&n(a,i.index)}),r}const APe=lt({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},onMouseenter:Function,onMouseleave:Function},render(){const{clsPrefix:e,id:t,cols:r,onMouseenter:n,onMouseleave:i}=this;return I("table",{style:{tableLayout:"fixed"},class:`${e}-data-table-table`,onMouseenter:n,onMouseleave:i},I("colgroup",null,r.map(a=>I("col",{key:a.key,style:a.style}))),I("tbody",{"data-n-id":t,class:`${e}-data-table-tbody`},this.$slots))}}),EPe=lt({name:"DataTableBody",props:{onResize:Function,showHeader:Boolean,flexHeight:Boolean,bodyStyle:Object},setup(e){const{slots:t,bodyWidthRef:r,mergedExpandedRowKeysRef:n,mergedClsPrefixRef:i,mergedThemeRef:a,scrollXRef:o,colsRef:s,paginatedDataRef:l,rawPaginatedDataRef:u,fixedColumnLeftMapRef:c,fixedColumnRightMapRef:f,mergedCurrentPageRef:d,rowClassNameRef:h,leftActiveFixedColKeyRef:v,leftActiveFixedChildrenColKeysRef:p,rightActiveFixedColKeyRef:g,rightActiveFixedChildrenColKeysRef:m,renderExpandRef:y,hoverKeyRef:x,summaryRef:b,mergedSortStateRef:w,virtualScrollRef:S,virtualScrollXRef:C,heightForRowRef:E,minRowHeightRef:A,componentId:M,mergedTableLayoutRef:D,childTriggerColIndexRef:R,indentRef:L,rowPropsRef:k,maxHeightRef:O,stripedRef:F,loadingRef:H,onLoadRef:V,loadingKeySetRef:U,expandableRef:K,stickyExpandedRowsRef:q,renderExpandIconRef:N,summaryPlacementRef:W,treeMateRef:j,scrollbarPropsRef:Z,setHeaderScrollLeft:ve,doUpdateExpandedRowKeys:Te,handleTableBodyScroll:Se,doCheck:te,doUncheck:pe,renderCell:Re}=rr(Pu),z=rr(wu),J=xe(null),se=xe(null),he=xe(null),_e=Tn(()=>l.value.length===0),ge=Tn(()=>e.showHeader||!_e.value),$e=Tn(()=>e.showHeader||_e.value);let Le="";const fe=me(()=>new Set(n.value));function de(_t){var Ot;return(Ot=j.value.getNode(_t))===null||Ot===void 0?void 0:Ot.rawNode}function Ve(_t,Ot,ue){const Pe=de(_t.key);if(!Pe){Ec("data-table",`fail to get row data with key ${_t.key}`);return}if(ue){const Je=l.value.findIndex(bt=>bt.key===Le);if(Je!==-1){const bt=l.value.findIndex(Jt=>Jt.key===_t.key),Tt=Math.min(Je,bt),Bt=Math.max(Je,bt),Gt=[];l.value.slice(Tt,Bt+1).forEach(Jt=>{Jt.disabled||Gt.push(Jt.key)}),Ot?te(Gt,!1,Pe):pe(Gt,Pe),Le=_t.key;return}}Ot?te(_t.key,!1,Pe):pe(_t.key,Pe),Le=_t.key}function Ge(_t){const Ot=de(_t.key);if(!Ot){Ec("data-table",`fail to get row data with key ${_t.key}`);return}te(_t.key,!0,Ot)}function ke(){if(!ge.value){const{value:Ot}=he;return Ot||null}if(S.value)return Kt();const{value:_t}=J;return _t?_t.containerRef:null}function Xe(_t,Ot){var ue;if(U.value.has(_t))return;const{value:Pe}=n,Je=Pe.indexOf(_t),bt=Array.from(Pe);~Je?(bt.splice(Je,1),Te(bt)):Ot&&!Ot.isLeaf&&!Ot.shallowLoaded?(U.value.add(_t),(ue=V.value)===null||ue===void 0||ue.call(V,Ot.rawNode).then(()=>{const{value:Tt}=n,Bt=Array.from(Tt);~Bt.indexOf(_t)||Bt.push(_t),Te(Bt)}).finally(()=>{U.value.delete(_t)})):(bt.push(_t),Te(bt))}function gt(){x.value=null}function Kt(){const{value:_t}=se;return _t?.listElRef||null}function Nt(){const{value:_t}=se;return _t?.itemsElRef||null}function Sr(_t){var Ot;Se(_t),(Ot=J.value)===null||Ot===void 0||Ot.sync()}function Lt(_t){var Ot;const{onResize:ue}=e;ue&&ue(_t),(Ot=J.value)===null||Ot===void 0||Ot.sync()}const er={getScrollContainer:ke,scrollTo(_t,Ot){var ue,Pe;S.value?(ue=se.value)===null||ue===void 0||ue.scrollTo(_t,Ot):(Pe=J.value)===null||Pe===void 0||Pe.scrollTo(_t,Ot)}},yr=we([({props:_t})=>{const Ot=Pe=>Pe===null?null:we(`[data-n-id="${_t.componentId}"] [data-col-key="${Pe}"]::after`,{boxShadow:"var(--n-box-shadow-after)"}),ue=Pe=>Pe===null?null:we(`[data-n-id="${_t.componentId}"] [data-col-key="${Pe}"]::before`,{boxShadow:"var(--n-box-shadow-before)"});return we([Ot(_t.leftActiveFixedColKey),ue(_t.rightActiveFixedColKey),_t.leftActiveFixedChildrenColKeys.map(Pe=>Ot(Pe)),_t.rightActiveFixedChildrenColKeys.map(Pe=>ue(Pe))])}]);let ar=!1;return eo(()=>{const{value:_t}=v,{value:Ot}=p,{value:ue}=g,{value:Pe}=m;if(!ar&&_t===null&&ue===null)return;const Je={leftActiveFixedColKey:_t,leftActiveFixedChildrenColKeys:Ot,rightActiveFixedColKey:ue,rightActiveFixedChildrenColKeys:Pe,componentId:M};yr.mount({id:`n-${M}`,force:!0,props:Je,anchorMetaName:um,parent:z?.styleMountTarget}),ar=!0}),KA(()=>{yr.unmount({id:`n-${M}`,parent:z?.styleMountTarget})}),Object.assign({bodyWidth:r,summaryPlacement:W,dataTableSlots:t,componentId:M,scrollbarInstRef:J,virtualListRef:se,emptyElRef:he,summary:b,mergedClsPrefix:i,mergedTheme:a,scrollX:o,cols:s,loading:H,bodyShowHeaderOnly:$e,shouldDisplaySomeTablePart:ge,empty:_e,paginatedDataAndInfo:me(()=>{const{value:_t}=F;let Ot=!1;return{data:l.value.map(_t?(Pe,Je)=>(Pe.isLeaf||(Ot=!0),{tmNode:Pe,key:Pe.key,striped:Je%2===1,index:Je}):(Pe,Je)=>(Pe.isLeaf||(Ot=!0),{tmNode:Pe,key:Pe.key,striped:!1,index:Je})),hasChildren:Ot}}),rawPaginatedData:u,fixedColumnLeftMap:c,fixedColumnRightMap:f,currentPage:d,rowClassName:h,renderExpand:y,mergedExpandedRowKeySet:fe,hoverKey:x,mergedSortState:w,virtualScroll:S,virtualScrollX:C,heightForRow:E,minRowHeight:A,mergedTableLayout:D,childTriggerColIndex:R,indent:L,rowProps:k,maxHeight:O,loadingKeySet:U,expandable:K,stickyExpandedRows:q,renderExpandIcon:N,scrollbarProps:Z,setHeaderScrollLeft:ve,handleVirtualListScroll:Sr,handleVirtualListResize:Lt,handleMouseleaveTable:gt,virtualListContainer:Kt,virtualListContent:Nt,handleTableBodyScroll:Se,handleCheckboxUpdateChecked:Ve,handleRadioUpdateChecked:Ge,handleUpdateExpanded:Xe,renderCell:Re},er)},render(){const{mergedTheme:e,scrollX:t,mergedClsPrefix:r,virtualScroll:n,maxHeight:i,mergedTableLayout:a,flexHeight:o,loadingKeySet:s,onResize:l,setHeaderScrollLeft:u}=this,c=t!==void 0||i!==void 0||o,f=!c&&a==="auto",d=t!==void 0||f,h={minWidth:gi(t)||"100%"};t&&(h.width="100%");const v=I(Gm,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",scrollable:c||f,class:`${r}-data-table-base-table-body`,style:this.empty?void 0:this.bodyStyle,theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,contentStyle:h,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,horizontalRailStyle:{zIndex:3},verticalRailStyle:{zIndex:3},xScrollable:d,onScroll:n?void 0:this.handleTableBodyScroll,internalOnUpdateScrollLeft:u,onResize:l}),{default:()=>{const p={},g={},{cols:m,paginatedDataAndInfo:y,mergedTheme:x,fixedColumnLeftMap:b,fixedColumnRightMap:w,currentPage:S,rowClassName:C,mergedSortState:E,mergedExpandedRowKeySet:A,stickyExpandedRows:M,componentId:D,childTriggerColIndex:R,expandable:L,rowProps:k,handleMouseleaveTable:O,renderExpand:F,summary:H,handleCheckboxUpdateChecked:V,handleRadioUpdateChecked:U,handleUpdateExpanded:K,heightForRow:q,minRowHeight:N,virtualScrollX:W}=this,{length:j}=m;let Z;const{data:ve,hasChildren:Te}=y,Se=Te?TPe(ve,A):ve;if(H){const Le=H(this.rawPaginatedData);if(Array.isArray(Le)){const fe=Le.map((de,Ve)=>({isSummaryRow:!0,key:`__n_summary__${Ve}`,tmNode:{rawNode:de,disabled:!0},index:-1}));Z=this.summaryPlacement==="top"?[...fe,...Se]:[...Se,...fe]}else{const fe={isSummaryRow:!0,key:"__n_summary__",tmNode:{rawNode:Le,disabled:!0},index:-1};Z=this.summaryPlacement==="top"?[fe,...Se]:[...Se,fe]}}else Z=Se;const te=Te?{width:ma(this.indent)}:void 0,pe=[];Z.forEach(Le=>{F&&A.has(Le.key)&&(!L||L(Le.tmNode.rawNode))?pe.push(Le,{isExpandedRow:!0,key:`${Le.key}-expand`,tmNode:Le.tmNode,index:Le.index}):pe.push(Le)});const{length:Re}=pe,z={};ve.forEach(({tmNode:Le},fe)=>{z[fe]=Le.key});const J=M?this.bodyWidth:null,se=J===null?void 0:`${J}px`,he=this.virtualScrollX?"div":"td";let _e=0,ge=0;W&&m.forEach(Le=>{Le.column.fixed==="left"?_e++:Le.column.fixed==="right"&&ge++});const $e=({rowInfo:Le,displayedRowIndex:fe,isVirtual:de,isVirtualX:Ve,startColIndex:Ge,endColIndex:ke,getLeft:Xe})=>{const{index:gt}=Le;if("isExpandedRow"in Le){const{tmNode:{key:bt,rawNode:Tt}}=Le;return I("tr",{class:`${r}-data-table-tr ${r}-data-table-tr--expanded`,key:`${bt}__expand`},I("td",{class:[`${r}-data-table-td`,`${r}-data-table-td--last-col`,fe+1===Re&&`${r}-data-table-td--last-row`],colspan:j},M?I("div",{class:`${r}-data-table-expand`,style:{width:se}},F(Tt,gt)):F(Tt,gt)))}const Kt="isSummaryRow"in Le,Nt=!Kt&&Le.striped,{tmNode:Sr,key:Lt}=Le,{rawNode:er}=Sr,yr=A.has(Lt),ar=k?k(er,gt):void 0,_t=typeof C=="string"?C:FDe(er,gt,C),Ot=Ve?m.filter((bt,Tt)=>!!(Ge<=Tt&&Tt<=ke||bt.column.fixed)):m,ue=Ve?ma(q?.(er,gt)||N):void 0,Pe=Ot.map(bt=>{var Tt,Bt,Gt,Jt,Gr;const mn=bt.index;if(fe in p){const le=p[fe],ce=le.indexOf(mn);if(~ce)return le.splice(ce,1),null}const{column:Jr}=bt,di=iu(bt),{rowSpan:Oi,colSpan:Fi}=Jr,Ki=Kt?((Tt=Le.tmNode.rawNode[di])===null||Tt===void 0?void 0:Tt.colSpan)||1:Fi?Fi(er,gt):1,xi=Kt?((Bt=Le.tmNode.rawNode[di])===null||Bt===void 0?void 0:Bt.rowSpan)||1:Oi?Oi(er,gt):1,Zi=mn+Ki===j,qi=fe+xi===Re,Ie=xi>1;if(Ie&&(g[fe]={[mn]:[]}),Ki>1||Ie)for(let le=fe;le<fe+xi;++le){Ie&&g[fe][mn].push(z[le]);for(let ce=mn;ce<mn+Ki;++ce)le===fe&&ce===mn||(le in p?p[le].push(ce):p[le]=[ce])}const et=Ie?this.hoverKey:null,{cellProps:X}=Jr,oe=X?.(er,gt),ee={"--indent-offset":""},re=Jr.fixed?"td":he;return I(re,Object.assign({},oe,{key:di,style:[{textAlign:Jr.align||void 0,width:ma(Jr.width)},Ve&&{height:ue},Ve&&!Jr.fixed?{position:"absolute",left:ma(Xe(mn)),top:0,bottom:0}:{left:ma((Gt=b[di])===null||Gt===void 0?void 0:Gt.start),right:ma((Jt=w[di])===null||Jt===void 0?void 0:Jt.start)},ee,oe?.style||""],colspan:Ki,rowspan:de?void 0:xi,"data-col-key":di,class:[`${r}-data-table-td`,Jr.className,oe?.class,Kt&&`${r}-data-table-td--summary`,et!==null&&g[fe][mn].includes(et)&&`${r}-data-table-td--hover`,oee(Jr,E)&&`${r}-data-table-td--sorting`,Jr.fixed&&`${r}-data-table-td--fixed-${Jr.fixed}`,Jr.align&&`${r}-data-table-td--${Jr.align}-align`,Jr.type==="selection"&&`${r}-data-table-td--selection`,Jr.type==="expand"&&`${r}-data-table-td--expand`,Zi&&`${r}-data-table-td--last-col`,qi&&`${r}-data-table-td--last-row`]}),Te&&mn===R?[Vq(ee["--indent-offset"]=Kt?0:Le.tmNode.level,I("div",{class:`${r}-data-table-indent`,style:te})),Kt||Le.tmNode.isLeaf?I("div",{class:`${r}-data-table-expand-placeholder`}):I(O7,{class:`${r}-data-table-expand-trigger`,clsPrefix:r,expanded:yr,rowData:er,renderExpandIcon:this.renderExpandIcon,loading:s.has(Le.key),onClick:()=>{K(Lt,Le.tmNode)}})]:null,Jr.type==="selection"?Kt?null:Jr.multiple===!1?I(KDe,{key:S,rowKey:Lt,disabled:Le.tmNode.disabled,onUpdateChecked:()=>{U(Le.tmNode)}}):I(HDe,{key:S,rowKey:Lt,disabled:Le.tmNode.disabled,onUpdateChecked:(le,ce)=>{V(Le.tmNode,le,ce.shiftKey)}}):Jr.type==="expand"?Kt?null:!Jr.expandable||!((Gr=Jr.expandable)===null||Gr===void 0)&&Gr.call(Jr,er)?I(O7,{clsPrefix:r,rowData:er,expanded:yr,renderExpandIcon:this.renderExpandIcon,onClick:()=>{K(Lt,null)}}):null:I(JDe,{clsPrefix:r,index:gt,row:er,column:Jr,isSummary:Kt,mergedTheme:x,renderCell:this.renderCell}))});return Ve&&_e&&ge&&Pe.splice(_e,0,I("td",{colspan:m.length-_e-ge,style:{pointerEvents:"none",visibility:"hidden",height:0}})),I("tr",Object.assign({},ar,{onMouseenter:bt=>{var Tt;this.hoverKey=Lt,(Tt=ar?.onMouseenter)===null||Tt===void 0||Tt.call(ar,bt)},key:Lt,class:[`${r}-data-table-tr`,Kt&&`${r}-data-table-tr--summary`,Nt&&`${r}-data-table-tr--striped`,yr&&`${r}-data-table-tr--expanded`,_t,ar?.class],style:[ar?.style,Ve&&{height:ue}]}),Pe)};return n?I(i5,{ref:"virtualListRef",items:pe,itemSize:this.minRowHeight,visibleItemsTag:APe,visibleItemsProps:{clsPrefix:r,id:D,cols:m,onMouseleave:O},showScrollbar:!1,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemsStyle:h,itemResizable:!W,columns:m,renderItemWithCols:W?({itemIndex:Le,item:fe,startColIndex:de,endColIndex:Ve,getLeft:Ge})=>$e({displayedRowIndex:Le,isVirtual:!0,isVirtualX:!0,rowInfo:fe,startColIndex:de,endColIndex:Ve,getLeft:Ge}):void 0},{default:({item:Le,index:fe,renderedItemWithCols:de})=>de||$e({rowInfo:Le,displayedRowIndex:fe,isVirtual:!0,isVirtualX:!1,startColIndex:0,endColIndex:0,getLeft(Ve){return 0}})}):I("table",{class:`${r}-data-table-table`,onMouseleave:O,style:{tableLayout:this.mergedTableLayout}},I("colgroup",null,m.map(Le=>I("col",{key:Le.key,style:Le.style}))),this.showHeader?I(xee,{discrete:!1}):null,this.empty?null:I("tbody",{"data-n-id":D,class:`${r}-data-table-tbody`},pe.map((Le,fe)=>$e({rowInfo:Le,displayedRowIndex:fe,isVirtual:!1,isVirtualX:!1,startColIndex:-1,endColIndex:-1,getLeft(de){return-1}}))))}});if(this.empty){const p=()=>I("div",{class:[`${r}-data-table-empty`,this.loading&&`${r}-data-table-empty--hide`],style:this.bodyStyle,ref:"emptyElRef"},Vs(this.dataTableSlots.empty,()=>[I(vQ,{theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]));return this.shouldDisplaySomeTablePart?I(Dr,null,v,p()):I(bf,{onResize:this.onResize},{default:p})}return v}}),MPe=lt({name:"MainTable",setup(){const{mergedClsPrefixRef:e,rightFixedColumnsRef:t,leftFixedColumnsRef:r,bodyWidthRef:n,maxHeightRef:i,minHeightRef:a,flexHeightRef:o,virtualScrollHeaderRef:s,syncScrollState:l}=rr(Pu),u=xe(null),c=xe(null),f=xe(null),d=xe(!(r.value.length||t.value.length)),h=me(()=>({maxHeight:gi(i.value),minHeight:gi(a.value)}));function v(y){n.value=y.contentRect.width,l(),d.value||(d.value=!0)}function p(){var y;const{value:x}=u;return x?s.value?((y=x.virtualListRef)===null||y===void 0?void 0:y.listElRef)||null:x.$el:null}function g(){const{value:y}=c;return y?y.getScrollContainer():null}const m={getBodyElement:g,getHeaderElement:p,scrollTo(y,x){var b;(b=c.value)===null||b===void 0||b.scrollTo(y,x)}};return eo(()=>{const{value:y}=f;if(!y)return;const x=`${e.value}-data-table-base-table--transition-disabled`;d.value?setTimeout(()=>{y.classList.remove(x)},0):y.classList.add(x)}),Object.assign({maxHeight:i,mergedClsPrefix:e,selfElRef:f,headerInstRef:u,bodyInstRef:c,bodyStyle:h,flexHeight:o,handleBodyResize:v},m)},render(){const{mergedClsPrefix:e,maxHeight:t,flexHeight:r}=this,n=t===void 0&&!r;return I("div",{class:`${e}-data-table-base-table`,ref:"selfElRef"},n?null:I(xee,{ref:"headerInstRef"}),I(EPe,{ref:"bodyInstRef",bodyStyle:this.bodyStyle,showHeader:n,flexHeight:r,onResize:this.handleBodyResize}))}}),N7=PPe(),DPe=we([ie("data-table",`
 width: 100%;
 font-size: var(--n-font-size);
 display: flex;
 flex-direction: column;
 position: relative;
 --n-merged-th-color: var(--n-th-color);
 --n-merged-td-color: var(--n-td-color);
 --n-merged-border-color: var(--n-border-color);
 --n-merged-th-color-hover: var(--n-th-color-hover);
 --n-merged-th-color-sorting: var(--n-th-color-sorting);
 --n-merged-td-color-hover: var(--n-td-color-hover);
 --n-merged-td-color-sorting: var(--n-td-color-sorting);
 --n-merged-td-color-striped: var(--n-td-color-striped);
 `,[ie("data-table-wrapper",`
 flex-grow: 1;
 display: flex;
 flex-direction: column;
 `),Ce("flex-height",[we(">",[ie("data-table-wrapper",[we(">",[ie("data-table-base-table",`
 display: flex;
 flex-direction: column;
 flex-grow: 1;
 `,[we(">",[ie("data-table-base-table-body","flex-basis: 0;",[we("&:last-child","flex-grow: 1;")])])])])])])]),we(">",[ie("data-table-loading-wrapper",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Um({originalTransform:"translateX(-50%) translateY(-50%)"})])]),ie("data-table-expand-placeholder",`
 margin-right: 8px;
 display: inline-block;
 width: 16px;
 height: 1px;
 `),ie("data-table-indent",`
 display: inline-block;
 height: 1px;
 `),ie("data-table-expand-trigger",`
 display: inline-flex;
 margin-right: 8px;
 cursor: pointer;
 font-size: 16px;
 vertical-align: -0.2em;
 position: relative;
 width: 16px;
 height: 16px;
 color: var(--n-td-text-color);
 transition: color .3s var(--n-bezier);
 `,[Ce("expanded",[ie("icon","transform: rotate(90deg);",[Cl({originalTransform:"rotate(90deg)"})]),ie("base-icon","transform: rotate(90deg);",[Cl({originalTransform:"rotate(90deg)"})])]),ie("base-loading",`
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[Cl()]),ie("icon",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[Cl()]),ie("base-icon",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[Cl()])]),ie("data-table-thead",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-merged-th-color);
 `),ie("data-table-tr",`
 position: relative;
 box-sizing: border-box;
 background-clip: padding-box;
 transition: background-color .3s var(--n-bezier);
 `,[ie("data-table-expand",`
 position: sticky;
 left: 0;
 overflow: hidden;
 margin: calc(var(--n-th-padding) * -1);
 padding: var(--n-th-padding);
 box-sizing: border-box;
 `),Ce("striped","background-color: var(--n-merged-td-color-striped);",[ie("data-table-td","background-color: var(--n-merged-td-color-striped);")]),zn("summary",[we("&:hover","background-color: var(--n-merged-td-color-hover);",[we(">",[ie("data-table-td","background-color: var(--n-merged-td-color-hover);")])])])]),ie("data-table-th",`
 padding: var(--n-th-padding);
 position: relative;
 text-align: start;
 box-sizing: border-box;
 background-color: var(--n-merged-th-color);
 border-color: var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 color: var(--n-th-text-color);
 transition:
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 font-weight: var(--n-th-font-weight);
 `,[Ce("filterable",`
 padding-right: 36px;
 `,[Ce("sortable",`
 padding-right: calc(var(--n-th-padding) + 36px);
 `)]),N7,Ce("selection",`
 padding: 0;
 text-align: center;
 line-height: 0;
 z-index: 3;
 `),Me("title-wrapper",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 max-width: 100%;
 `,[Me("title",`
 flex: 1;
 min-width: 0;
 `)]),Me("ellipsis",`
 display: inline-block;
 vertical-align: bottom;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 `),Ce("hover",`
 background-color: var(--n-merged-th-color-hover);
 `),Ce("sorting",`
 background-color: var(--n-merged-th-color-sorting);
 `),Ce("sortable",`
 cursor: pointer;
 `,[Me("ellipsis",`
 max-width: calc(100% - 18px);
 `),we("&:hover",`
 background-color: var(--n-merged-th-color-hover);
 `)]),ie("data-table-sorter",`
 height: var(--n-sorter-size);
 width: var(--n-sorter-size);
 margin-left: 4px;
 position: relative;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 vertical-align: -0.2em;
 color: var(--n-th-icon-color);
 transition: color .3s var(--n-bezier);
 `,[ie("base-icon","transition: transform .3s var(--n-bezier)"),Ce("desc",[ie("base-icon",`
 transform: rotate(0deg);
 `)]),Ce("asc",[ie("base-icon",`
 transform: rotate(-180deg);
 `)]),Ce("asc, desc",`
 color: var(--n-th-icon-color-active);
 `)]),ie("data-table-resize-button",`
 width: var(--n-resizable-container-size);
 position: absolute;
 top: 0;
 right: calc(var(--n-resizable-container-size) / 2);
 bottom: 0;
 cursor: col-resize;
 user-select: none;
 `,[we("&::after",`
 width: var(--n-resizable-size);
 height: 50%;
 position: absolute;
 top: 50%;
 left: calc(var(--n-resizable-container-size) / 2);
 bottom: 0;
 background-color: var(--n-merged-border-color);
 transform: translateY(-50%);
 transition: background-color .3s var(--n-bezier);
 z-index: 1;
 content: '';
 `),Ce("active",[we("&::after",` 
 background-color: var(--n-th-icon-color-active);
 `)]),we("&:hover::after",`
 background-color: var(--n-th-icon-color-active);
 `)]),ie("data-table-filter",`
 position: absolute;
 z-index: auto;
 right: 0;
 width: 36px;
 top: 0;
 bottom: 0;
 cursor: pointer;
 display: flex;
 justify-content: center;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: var(--n-filter-size);
 color: var(--n-th-icon-color);
 `,[we("&:hover",`
 background-color: var(--n-th-button-color-hover);
 `),Ce("show",`
 background-color: var(--n-th-button-color-hover);
 `),Ce("active",`
 background-color: var(--n-th-button-color-hover);
 color: var(--n-th-icon-color-active);
 `)])]),ie("data-table-td",`
 padding: var(--n-td-padding);
 text-align: start;
 box-sizing: border-box;
 border: none;
 background-color: var(--n-merged-td-color);
 color: var(--n-td-text-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[Ce("expand",[ie("data-table-expand-trigger",`
 margin-right: 0;
 `)]),Ce("last-row",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `,[we("&::after",`
 bottom: 0 !important;
 `),we("&::before",`
 bottom: 0 !important;
 `)]),Ce("summary",`
 background-color: var(--n-merged-th-color);
 `),Ce("hover",`
 background-color: var(--n-merged-td-color-hover);
 `),Ce("sorting",`
 background-color: var(--n-merged-td-color-sorting);
 `),Me("ellipsis",`
 display: inline-block;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 vertical-align: bottom;
 max-width: calc(100% - var(--indent-offset, -1.5) * 16px - 24px);
 `),Ce("selection, expand",`
 text-align: center;
 padding: 0;
 line-height: 0;
 `),N7]),ie("data-table-empty",`
 box-sizing: border-box;
 padding: var(--n-empty-padding);
 flex-grow: 1;
 flex-shrink: 0;
 opacity: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: opacity .3s var(--n-bezier);
 `,[Ce("hide",`
 opacity: 0;
 `)]),Me("pagination",`
 margin: var(--n-pagination-margin);
 display: flex;
 justify-content: flex-end;
 `),ie("data-table-wrapper",`
 position: relative;
 opacity: 1;
 transition: opacity .3s var(--n-bezier), border-color .3s var(--n-bezier);
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 line-height: var(--n-line-height);
 `),Ce("loading",[ie("data-table-wrapper",`
 opacity: var(--n-opacity-loading);
 pointer-events: none;
 `)]),Ce("single-column",[ie("data-table-td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `,[we("&::after, &::before",`
 bottom: 0 !important;
 `)])]),zn("single-line",[ie("data-table-th",`
 border-right: 1px solid var(--n-merged-border-color);
 `,[Ce("last",`
 border-right: 0 solid var(--n-merged-border-color);
 `)]),ie("data-table-td",`
 border-right: 1px solid var(--n-merged-border-color);
 `,[Ce("last-col",`
 border-right: 0 solid var(--n-merged-border-color);
 `)])]),Ce("bordered",[ie("data-table-wrapper",`
 border: 1px solid var(--n-merged-border-color);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 overflow: hidden;
 `)]),ie("data-table-base-table",[Ce("transition-disabled",[ie("data-table-th",[we("&::after, &::before","transition: none;")]),ie("data-table-td",[we("&::after, &::before","transition: none;")])])]),Ce("bottom-bordered",[ie("data-table-td",[Ce("last-row",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),ie("data-table-table",`
 font-variant-numeric: tabular-nums;
 width: 100%;
 word-break: break-word;
 transition: background-color .3s var(--n-bezier);
 border-collapse: separate;
 border-spacing: 0;
 background-color: var(--n-merged-td-color);
 `),ie("data-table-base-table-header",`
 border-top-left-radius: calc(var(--n-border-radius) - 1px);
 border-top-right-radius: calc(var(--n-border-radius) - 1px);
 z-index: 3;
 overflow: scroll;
 flex-shrink: 0;
 transition: border-color .3s var(--n-bezier);
 scrollbar-width: none;
 `,[we("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 display: none;
 width: 0;
 height: 0;
 `)]),ie("data-table-check-extra",`
 transition: color .3s var(--n-bezier);
 color: var(--n-th-icon-color);
 position: absolute;
 font-size: 14px;
 right: -4px;
 top: 50%;
 transform: translateY(-50%);
 z-index: 1;
 `)]),ie("data-table-filter-menu",[ie("scrollbar",`
 max-height: 240px;
 `),Me("group",`
 display: flex;
 flex-direction: column;
 padding: 12px 12px 0 12px;
 `,[ie("checkbox",`
 margin-bottom: 12px;
 margin-right: 0;
 `),ie("radio",`
 margin-bottom: 12px;
 margin-right: 0;
 `)]),Me("action",`
 padding: var(--n-action-padding);
 display: flex;
 flex-wrap: nowrap;
 justify-content: space-evenly;
 border-top: 1px solid var(--n-action-divider-color);
 `,[ie("button",[we("&:not(:last-child)",`
 margin: var(--n-action-button-margin);
 `),we("&:last-child",`
 margin-right: 0;
 `)])]),ie("divider",`
 margin: 0 !important;
 `)]),QA(ie("data-table",`
 --n-merged-th-color: var(--n-th-color-modal);
 --n-merged-td-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 --n-merged-th-color-hover: var(--n-th-color-hover-modal);
 --n-merged-td-color-hover: var(--n-td-color-hover-modal);
 --n-merged-th-color-sorting: var(--n-th-color-hover-modal);
 --n-merged-td-color-sorting: var(--n-td-color-hover-modal);
 --n-merged-td-color-striped: var(--n-td-color-striped-modal);
 `)),YO(ie("data-table",`
 --n-merged-th-color: var(--n-th-color-popover);
 --n-merged-td-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 --n-merged-th-color-hover: var(--n-th-color-hover-popover);
 --n-merged-td-color-hover: var(--n-td-color-hover-popover);
 --n-merged-th-color-sorting: var(--n-th-color-hover-popover);
 --n-merged-td-color-sorting: var(--n-td-color-hover-popover);
 --n-merged-td-color-striped: var(--n-td-color-striped-popover);
 `))]);function PPe(){return[Ce("fixed-left",`
 left: 0;
 position: sticky;
 z-index: 2;
 `,[we("&::after",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 right: -36px;
 `)]),Ce("fixed-right",`
 right: 0;
 position: sticky;
 z-index: 1;
 `,[we("&::before",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 left: -36px;
 `)])]}function RPe(e,t){const{paginatedDataRef:r,treeMateRef:n,selectionColumnRef:i}=t,a=xe(e.defaultCheckedRowKeys),o=me(()=>{var w;const{checkedRowKeys:S}=e,C=S===void 0?a.value:S;return((w=i.value)===null||w===void 0?void 0:w.multiple)===!1?{checkedKeys:C.slice(0,1),indeterminateKeys:[]}:n.value.getCheckedKeys(C,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})}),s=me(()=>o.value.checkedKeys),l=me(()=>o.value.indeterminateKeys),u=me(()=>new Set(s.value)),c=me(()=>new Set(l.value)),f=me(()=>{const{value:w}=u;return r.value.reduce((S,C)=>{const{key:E,disabled:A}=C;return S+(!A&&w.has(E)?1:0)},0)}),d=me(()=>r.value.filter(w=>w.disabled).length),h=me(()=>{const{length:w}=r.value,{value:S}=c;return f.value>0&&f.value<w-d.value||r.value.some(C=>S.has(C.key))}),v=me(()=>{const{length:w}=r.value;return f.value!==0&&f.value===w-d.value}),p=me(()=>r.value.length===0);function g(w,S,C){const{"onUpdate:checkedRowKeys":E,onUpdateCheckedRowKeys:A,onCheckedRowKeysChange:M}=e,D=[],{value:{getNode:R}}=n;w.forEach(L=>{var k;const O=(k=R(L))===null||k===void 0?void 0:k.rawNode;D.push(O)}),E&&ht(E,w,D,{row:S,action:C}),A&&ht(A,w,D,{row:S,action:C}),M&&ht(M,w,D,{row:S,action:C}),a.value=w}function m(w,S=!1,C){if(!e.loading){if(S){g(Array.isArray(w)?w.slice(0,1):[w],C,"check");return}g(n.value.check(w,s.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded}).checkedKeys,C,"check")}}function y(w,S){e.loading||g(n.value.uncheck(w,s.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded}).checkedKeys,S,"uncheck")}function x(w=!1){const{value:S}=i;if(!S||e.loading)return;const C=[];(w?n.value.treeNodes:r.value).forEach(E=>{E.disabled||C.push(E.key)}),g(n.value.check(C,s.value,{cascade:!0,allowNotLoaded:e.allowCheckingNotLoaded}).checkedKeys,void 0,"checkAll")}function b(w=!1){const{value:S}=i;if(!S||e.loading)return;const C=[];(w?n.value.treeNodes:r.value).forEach(E=>{E.disabled||C.push(E.key)}),g(n.value.uncheck(C,s.value,{cascade:!0,allowNotLoaded:e.allowCheckingNotLoaded}).checkedKeys,void 0,"uncheckAll")}return{mergedCheckedRowKeySetRef:u,mergedCheckedRowKeysRef:s,mergedInderminateRowKeySetRef:c,someRowsCheckedRef:h,allRowsCheckedRef:v,headerCheckboxDisabledRef:p,doUpdateCheckedRowKeys:g,doCheckAll:x,doUncheckAll:b,doCheck:m,doUncheck:y}}function LPe(e,t){const r=Tn(()=>{for(const u of e.columns)if(u.type==="expand")return u.renderExpand}),n=Tn(()=>{let u;for(const c of e.columns)if(c.type==="expand"){u=c.expandable;break}return u}),i=xe(e.defaultExpandAll?r?.value?(()=>{const u=[];return t.value.treeNodes.forEach(c=>{var f;!((f=n.value)===null||f===void 0)&&f.call(n,c.rawNode)&&u.push(c.key)}),u})():t.value.getNonLeafKeys():e.defaultExpandedRowKeys),a=rt(e,"expandedRowKeys"),o=rt(e,"stickyExpandedRows"),s=bo(a,i);function l(u){const{onUpdateExpandedRowKeys:c,"onUpdate:expandedRowKeys":f}=e;c&&ht(c,u),f&&ht(f,u),i.value=u}return{stickyExpandedRowsRef:o,mergedExpandedRowKeysRef:s,renderExpandRef:r,expandableRef:n,doUpdateExpandedRowKeys:l}}function IPe(e,t){const r=[],n=[],i=[],a=new WeakMap;let o=-1,s=0,l=!1,u=0;function c(d,h){h>o&&(r[h]=[],o=h),d.forEach(v=>{if("children"in v)c(v.children,h+1);else{const p="key"in v?v.key:void 0;n.push({key:iu(v),style:ODe(v,p!==void 0?gi(t(p)):void 0),column:v,index:u++,width:v.width===void 0?128:Number(v.width)}),s+=1,l||(l=!!v.ellipsis),i.push(v)}})}c(e,0),u=0;function f(d,h){let v=0;d.forEach(p=>{var g;if("children"in p){const m=u,y={column:p,colIndex:u,colSpan:0,rowSpan:1,isLast:!1};f(p.children,h+1),p.children.forEach(x=>{var b,w;y.colSpan+=(w=(b=a.get(x))===null||b===void 0?void 0:b.colSpan)!==null&&w!==void 0?w:0}),m+y.colSpan===s&&(y.isLast=!0),a.set(p,y),r[h].push(y)}else{if(u<v){u+=1;return}let m=1;"titleColSpan"in p&&(m=(g=p.titleColSpan)!==null&&g!==void 0?g:1),m>1&&(v=u+m);const y=u+m===s,x={column:p,colSpan:m,colIndex:u,rowSpan:o-h+1,isLast:y};a.set(p,x),r[h].push(x),u+=1}})}return f(e,0),{hasEllipsis:l,rows:r,cols:n,dataRelatedCols:i}}function kPe(e,t){const r=me(()=>IPe(e.columns,t));return{rowsRef:me(()=>r.value.rows),colsRef:me(()=>r.value.cols),hasEllipsisRef:me(()=>r.value.hasEllipsis),dataRelatedColsRef:me(()=>r.value.dataRelatedCols)}}function OPe(){const e=xe({});function t(i){return e.value[i]}function r(i,a){aee(i)&&"key"in i&&(e.value[i.key]=a)}function n(){e.value={}}return{getResizableWidth:t,doUpdateResizableWidth:r,clearResizableWidth:n}}function FPe(e,{mainTableInstRef:t,mergedCurrentPageRef:r,bodyWidthRef:n}){let i=0;const a=xe(),o=xe(null),s=xe([]),l=xe(null),u=xe([]),c=me(()=>gi(e.scrollX)),f=me(()=>e.columns.filter(A=>A.fixed==="left")),d=me(()=>e.columns.filter(A=>A.fixed==="right")),h=me(()=>{const A={};let M=0;function D(R){R.forEach(L=>{const k={start:M,end:0};A[iu(L)]=k,"children"in L?(D(L.children),k.end=M):(M+=R7(L)||0,k.end=M)})}return D(f.value),A}),v=me(()=>{const A={};let M=0;function D(R){for(let L=R.length-1;L>=0;--L){const k=R[L],O={start:M,end:0};A[iu(k)]=O,"children"in k?(D(k.children),O.end=M):(M+=R7(k)||0,O.end=M)}}return D(d.value),A});function p(){var A,M;const{value:D}=f;let R=0;const{value:L}=h;let k=null;for(let O=0;O<D.length;++O){const F=iu(D[O]);if(i>(((A=L[F])===null||A===void 0?void 0:A.start)||0)-R)k=F,R=((M=L[F])===null||M===void 0?void 0:M.end)||0;else break}o.value=k}function g(){s.value=[];let A=e.columns.find(M=>iu(M)===o.value);for(;A&&"children"in A;){const M=A.children.length;if(M===0)break;const D=A.children[M-1];s.value.push(iu(D)),A=D}}function m(){var A,M;const{value:D}=d,R=Number(e.scrollX),{value:L}=n;if(L===null)return;let k=0,O=null;const{value:F}=v;for(let H=D.length-1;H>=0;--H){const V=iu(D[H]);if(Math.round(i+(((A=F[V])===null||A===void 0?void 0:A.start)||0)+L-k)<R)O=V,k=((M=F[V])===null||M===void 0?void 0:M.end)||0;else break}l.value=O}function y(){u.value=[];let A=e.columns.find(M=>iu(M)===l.value);for(;A&&"children"in A&&A.children.length;){const M=A.children[0];u.value.push(iu(M)),A=M}}function x(){const A=t.value?t.value.getHeaderElement():null,M=t.value?t.value.getBodyElement():null;return{header:A,body:M}}function b(){const{body:A}=x();A&&(A.scrollTop=0)}function w(){a.value!=="body"?n_(C):a.value=void 0}function S(A){var M;(M=e.onScroll)===null||M===void 0||M.call(e,A),a.value!=="head"?n_(C):a.value=void 0}function C(){const{header:A,body:M}=x();if(!M)return;const{value:D}=n;if(D!==null){if(e.maxHeight||e.flexHeight){if(!A)return;const R=i-A.scrollLeft;a.value=R!==0?"head":"body",a.value==="head"?(i=A.scrollLeft,M.scrollLeft=i):(i=M.scrollLeft,A.scrollLeft=i)}else i=M.scrollLeft;p(),g(),m(),y()}}function E(A){const{header:M}=x();M&&(M.scrollLeft=A,C())}return hn(r,()=>{b()}),{styleScrollXRef:c,fixedColumnLeftMapRef:h,fixedColumnRightMapRef:v,leftFixedColumnsRef:f,rightFixedColumnsRef:d,leftActiveFixedColKeyRef:o,leftActiveFixedChildrenColKeysRef:s,rightActiveFixedColKeyRef:l,rightActiveFixedChildrenColKeysRef:u,syncScrollState:C,handleTableBodyScroll:S,handleTableHeaderScroll:w,setHeaderScrollLeft:E}}function aS(e){return typeof e=="object"&&typeof e.multiple=="number"?e.multiple:!1}function NPe(e,t){return t&&(e===void 0||e==="default"||typeof e=="object"&&e.compare==="default")?BPe(t):typeof e=="function"?e:e&&typeof e=="object"&&e.compare&&e.compare!=="default"?e.compare:!1}function BPe(e){return(t,r)=>{const n=t[e],i=r[e];return n==null?i==null?0:-1:i==null?1:typeof n=="number"&&typeof i=="number"?n-i:typeof n=="string"&&typeof i=="string"?n.localeCompare(i):0}}function zPe(e,{dataRelatedColsRef:t,filteredDataRef:r}){const n=[];t.value.forEach(h=>{var v;h.sorter!==void 0&&d(n,{columnKey:h.key,sorter:h.sorter,order:(v=h.defaultSortOrder)!==null&&v!==void 0?v:!1})});const i=xe(n),a=me(()=>{const h=t.value.filter(g=>g.type!=="selection"&&g.sorter!==void 0&&(g.sortOrder==="ascend"||g.sortOrder==="descend"||g.sortOrder===!1)),v=h.filter(g=>g.sortOrder!==!1);if(v.length)return v.map(g=>({columnKey:g.key,order:g.sortOrder,sorter:g.sorter}));if(h.length)return[];const{value:p}=i;return Array.isArray(p)?p:p?[p]:[]}),o=me(()=>{const h=a.value.slice().sort((v,p)=>{const g=aS(v.sorter)||0;return(aS(p.sorter)||0)-g});return h.length?r.value.slice().sort((p,g)=>{let m=0;return h.some(y=>{const{columnKey:x,sorter:b,order:w}=y,S=NPe(b,x);return S&&w&&(m=S(p.rawNode,g.rawNode),m!==0)?(m=m*IDe(w),!0):!1}),m}):r.value});function s(h){let v=a.value.slice();return h&&aS(h.sorter)!==!1?(v=v.filter(p=>aS(p.sorter)!==!1),d(v,h),v):h||null}function l(h){const v=s(h);u(v)}function u(h){const{"onUpdate:sorter":v,onUpdateSorter:p,onSorterChange:g}=e;v&&ht(v,h),p&&ht(p,h),g&&ht(g,h),i.value=h}function c(h,v="ascend"){if(!h)f();else{const p=t.value.find(m=>m.type!=="selection"&&m.type!=="expand"&&m.key===h);if(!p?.sorter)return;const g=p.sorter;l({columnKey:h,sorter:g,order:v})}}function f(){u(null)}function d(h,v){const p=h.findIndex(g=>v?.columnKey&&g.columnKey===v.columnKey);p!==void 0&&p>=0?h[p]=v:h.push(v)}return{clearSorter:f,sort:c,sortedDataRef:o,mergedSortStateRef:a,deriveNextSorter:l}}function HPe(e,{dataRelatedColsRef:t}){const r=me(()=>{const q=N=>{for(let W=0;W<N.length;++W){const j=N[W];if("children"in j)return q(j.children);if(j.type==="selection")return j}return null};return q(e.columns)}),n=me(()=>{const{childrenKey:q}=e;return gE(e.data,{ignoreEmptyChildren:!0,getKey:e.rowKey,getChildren:N=>N[q],getDisabled:N=>{var W,j;return!!(!((j=(W=r.value)===null||W===void 0?void 0:W.disabled)===null||j===void 0)&&j.call(W,N))}})}),i=Tn(()=>{const{columns:q}=e,{length:N}=q;let W=null;for(let j=0;j<N;++j){const Z=q[j];if(!Z.type&&W===null&&(W=j),"tree"in Z&&Z.tree)return j}return W||0}),a=xe({}),{pagination:o}=e,s=xe(o&&o.defaultPage||1),l=xe(YQ(o)),u=me(()=>{const q=t.value.filter(j=>j.filterOptionValues!==void 0||j.filterOptionValue!==void 0),N={};return q.forEach(j=>{var Z;j.type==="selection"||j.type==="expand"||(j.filterOptionValues===void 0?N[j.key]=(Z=j.filterOptionValue)!==null&&Z!==void 0?Z:null:N[j.key]=j.filterOptionValues)}),Object.assign(L7(a.value),N)}),c=me(()=>{const q=u.value,{columns:N}=e;function W(ve){return(Te,Se)=>!!~String(Se[ve]).indexOf(String(Te))}const{value:{treeNodes:j}}=n,Z=[];return N.forEach(ve=>{ve.type==="selection"||ve.type==="expand"||"children"in ve||Z.push([ve.key,ve])}),j?j.filter(ve=>{const{rawNode:Te}=ve;for(const[Se,te]of Z){let pe=q[Se];if(pe==null||(Array.isArray(pe)||(pe=[pe]),!pe.length))continue;const Re=te.filter==="default"?W(Se):te.filter;if(te&&typeof Re=="function")if(te.filterMode==="and"){if(pe.some(z=>!Re(z,Te)))return!1}else{if(pe.some(z=>Re(z,Te)))continue;return!1}}return!0}):[]}),{sortedDataRef:f,deriveNextSorter:d,mergedSortStateRef:h,sort:v,clearSorter:p}=zPe(e,{dataRelatedColsRef:t,filteredDataRef:c});t.value.forEach(q=>{var N;if(q.filter){const W=q.defaultFilterOptionValues;q.filterMultiple?a.value[q.key]=W||[]:W!==void 0?a.value[q.key]=W===null?[]:W:a.value[q.key]=(N=q.defaultFilterOptionValue)!==null&&N!==void 0?N:null}});const g=me(()=>{const{pagination:q}=e;if(q!==!1)return q.page}),m=me(()=>{const{pagination:q}=e;if(q!==!1)return q.pageSize}),y=bo(g,s),x=bo(m,l),b=Tn(()=>{const q=y.value;return e.remote?q:Math.max(1,Math.min(Math.ceil(c.value.length/x.value),q))}),w=me(()=>{const{pagination:q}=e;if(q){const{pageCount:N}=q;if(N!==void 0)return N}}),S=me(()=>{if(e.remote)return n.value.treeNodes;if(!e.pagination)return f.value;const q=x.value,N=(b.value-1)*q;return f.value.slice(N,N+q)}),C=me(()=>S.value.map(q=>q.rawNode));function E(q){const{pagination:N}=e;if(N){const{onChange:W,"onUpdate:page":j,onUpdatePage:Z}=N;W&&ht(W,q),Z&&ht(Z,q),j&&ht(j,q),R(q)}}function A(q){const{pagination:N}=e;if(N){const{onPageSizeChange:W,"onUpdate:pageSize":j,onUpdatePageSize:Z}=N;W&&ht(W,q),Z&&ht(Z,q),j&&ht(j,q),L(q)}}const M=me(()=>{if(e.remote){const{pagination:q}=e;if(q){const{itemCount:N}=q;if(N!==void 0)return N}return}return c.value.length}),D=me(()=>Object.assign(Object.assign({},e.pagination),{onChange:void 0,onUpdatePage:void 0,onUpdatePageSize:void 0,onPageSizeChange:void 0,"onUpdate:page":E,"onUpdate:pageSize":A,page:b.value,pageSize:x.value,pageCount:M.value===void 0?w.value:void 0,itemCount:M.value}));function R(q){const{"onUpdate:page":N,onPageChange:W,onUpdatePage:j}=e;j&&ht(j,q),N&&ht(N,q),W&&ht(W,q),s.value=q}function L(q){const{"onUpdate:pageSize":N,onPageSizeChange:W,onUpdatePageSize:j}=e;W&&ht(W,q),j&&ht(j,q),N&&ht(N,q),l.value=q}function k(q,N){const{onUpdateFilters:W,"onUpdate:filters":j,onFiltersChange:Z}=e;W&&ht(W,q,N),j&&ht(j,q,N),Z&&ht(Z,q,N),a.value=q}function O(q,N,W,j){var Z;(Z=e.onUnstableColumnResize)===null||Z===void 0||Z.call(e,q,N,W,j)}function F(q){R(q)}function H(){V()}function V(){U({})}function U(q){K(q)}function K(q){q?q&&(a.value=L7(q)):a.value={}}return{treeMateRef:n,mergedCurrentPageRef:b,mergedPaginationRef:D,paginatedDataRef:S,rawPaginatedDataRef:C,mergedFilterStateRef:u,mergedSortStateRef:h,hoverKeyRef:xe(null),selectionColumnRef:r,childTriggerColIndexRef:i,doUpdateFilters:k,deriveNextSorter:d,doUpdatePageSize:L,doUpdatePage:R,onUnstableColumnResize:O,filter:K,filters:U,clearFilter:H,clearFilters:V,clearSorter:p,page:F,sort:v}}const Qp=lt({name:"DataTable",alias:["AdvancedTable"],props:RDe,slots:Object,setup(e,{slots:t}){const{mergedBorderedRef:r,mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:a}=tn(e),o=Eo("DataTable",a,n),s=me(()=>{const{bottomBordered:ue}=e;return r.value?!1:ue!==void 0?ue:!0}),l=nr("DataTable","-data-table",DPe,DDe,e,n),u=xe(null),c=xe(null),{getResizableWidth:f,clearResizableWidth:d,doUpdateResizableWidth:h}=OPe(),{rowsRef:v,colsRef:p,dataRelatedColsRef:g,hasEllipsisRef:m}=kPe(e,f),{treeMateRef:y,mergedCurrentPageRef:x,paginatedDataRef:b,rawPaginatedDataRef:w,selectionColumnRef:S,hoverKeyRef:C,mergedPaginationRef:E,mergedFilterStateRef:A,mergedSortStateRef:M,childTriggerColIndexRef:D,doUpdatePage:R,doUpdateFilters:L,onUnstableColumnResize:k,deriveNextSorter:O,filter:F,filters:H,clearFilter:V,clearFilters:U,clearSorter:K,page:q,sort:N}=HPe(e,{dataRelatedColsRef:g}),W=ue=>{const{fileName:Pe="data.csv",keepOriginalData:Je=!1}=ue||{},bt=Je?e.data:w.value,Tt=zDe(e.columns,bt,e.getCsvCell,e.getCsvHeader),Bt=new Blob([Tt],{type:"text/csv;charset=utf-8"}),Gt=URL.createObjectURL(Bt);a5(Gt,Pe.endsWith(".csv")?Pe:`${Pe}.csv`),URL.revokeObjectURL(Gt)},{doCheckAll:j,doUncheckAll:Z,doCheck:ve,doUncheck:Te,headerCheckboxDisabledRef:Se,someRowsCheckedRef:te,allRowsCheckedRef:pe,mergedCheckedRowKeySetRef:Re,mergedInderminateRowKeySetRef:z}=RPe(e,{selectionColumnRef:S,treeMateRef:y,paginatedDataRef:b}),{stickyExpandedRowsRef:J,mergedExpandedRowKeysRef:se,renderExpandRef:he,expandableRef:_e,doUpdateExpandedRowKeys:ge}=LPe(e,y),{handleTableBodyScroll:$e,handleTableHeaderScroll:Le,syncScrollState:fe,setHeaderScrollLeft:de,leftActiveFixedColKeyRef:Ve,leftActiveFixedChildrenColKeysRef:Ge,rightActiveFixedColKeyRef:ke,rightActiveFixedChildrenColKeysRef:Xe,leftFixedColumnsRef:gt,rightFixedColumnsRef:Kt,fixedColumnLeftMapRef:Nt,fixedColumnRightMapRef:Sr}=FPe(e,{bodyWidthRef:u,mainTableInstRef:c,mergedCurrentPageRef:x}),{localeRef:Lt}=Vm("DataTable"),er=me(()=>e.virtualScroll||e.flexHeight||e.maxHeight!==void 0||m.value?"fixed":e.tableLayout);wn(Pu,{props:e,treeMateRef:y,renderExpandIconRef:rt(e,"renderExpandIcon"),loadingKeySetRef:xe(new Set),slots:t,indentRef:rt(e,"indent"),childTriggerColIndexRef:D,bodyWidthRef:u,componentId:Cp(),hoverKeyRef:C,mergedClsPrefixRef:n,mergedThemeRef:l,scrollXRef:me(()=>e.scrollX),rowsRef:v,colsRef:p,paginatedDataRef:b,leftActiveFixedColKeyRef:Ve,leftActiveFixedChildrenColKeysRef:Ge,rightActiveFixedColKeyRef:ke,rightActiveFixedChildrenColKeysRef:Xe,leftFixedColumnsRef:gt,rightFixedColumnsRef:Kt,fixedColumnLeftMapRef:Nt,fixedColumnRightMapRef:Sr,mergedCurrentPageRef:x,someRowsCheckedRef:te,allRowsCheckedRef:pe,mergedSortStateRef:M,mergedFilterStateRef:A,loadingRef:rt(e,"loading"),rowClassNameRef:rt(e,"rowClassName"),mergedCheckedRowKeySetRef:Re,mergedExpandedRowKeysRef:se,mergedInderminateRowKeySetRef:z,localeRef:Lt,expandableRef:_e,stickyExpandedRowsRef:J,rowKeyRef:rt(e,"rowKey"),renderExpandRef:he,summaryRef:rt(e,"summary"),virtualScrollRef:rt(e,"virtualScroll"),virtualScrollXRef:rt(e,"virtualScrollX"),heightForRowRef:rt(e,"heightForRow"),minRowHeightRef:rt(e,"minRowHeight"),virtualScrollHeaderRef:rt(e,"virtualScrollHeader"),headerHeightRef:rt(e,"headerHeight"),rowPropsRef:rt(e,"rowProps"),stripedRef:rt(e,"striped"),checkOptionsRef:me(()=>{const{value:ue}=S;return ue?.options}),rawPaginatedDataRef:w,filterMenuCssVarsRef:me(()=>{const{self:{actionDividerColor:ue,actionPadding:Pe,actionButtonMargin:Je}}=l.value;return{"--n-action-padding":Pe,"--n-action-button-margin":Je,"--n-action-divider-color":ue}}),onLoadRef:rt(e,"onLoad"),mergedTableLayoutRef:er,maxHeightRef:rt(e,"maxHeight"),minHeightRef:rt(e,"minHeight"),flexHeightRef:rt(e,"flexHeight"),headerCheckboxDisabledRef:Se,paginationBehaviorOnFilterRef:rt(e,"paginationBehaviorOnFilter"),summaryPlacementRef:rt(e,"summaryPlacement"),filterIconPopoverPropsRef:rt(e,"filterIconPopoverProps"),scrollbarPropsRef:rt(e,"scrollbarProps"),syncScrollState:fe,doUpdatePage:R,doUpdateFilters:L,getResizableWidth:f,onUnstableColumnResize:k,clearResizableWidth:d,doUpdateResizableWidth:h,deriveNextSorter:O,doCheck:ve,doUncheck:Te,doCheckAll:j,doUncheckAll:Z,doUpdateExpandedRowKeys:ge,handleTableHeaderScroll:Le,handleTableBodyScroll:$e,setHeaderScrollLeft:de,renderCell:rt(e,"renderCell")});const yr={filter:F,filters:H,clearFilters:U,clearSorter:K,page:q,sort:N,clearFilter:V,downloadCsv:W,scrollTo:(ue,Pe)=>{var Je;(Je=c.value)===null||Je===void 0||Je.scrollTo(ue,Pe)}},ar=me(()=>{const{size:ue}=e,{common:{cubicBezierEaseInOut:Pe},self:{borderColor:Je,tdColorHover:bt,tdColorSorting:Tt,tdColorSortingModal:Bt,tdColorSortingPopover:Gt,thColorSorting:Jt,thColorSortingModal:Gr,thColorSortingPopover:mn,thColor:Jr,thColorHover:di,tdColor:Oi,tdTextColor:Fi,thTextColor:Ki,thFontWeight:xi,thButtonColorHover:Zi,thIconColor:qi,thIconColorActive:Ie,filterSize:et,borderRadius:X,lineHeight:oe,tdColorModal:ee,thColorModal:re,borderColorModal:le,thColorHoverModal:ce,tdColorHoverModal:Ne,borderColorPopover:Ze,thColorPopover:Be,tdColorPopover:ze,tdColorHoverPopover:Ue,thColorHoverPopover:dt,paginationMargin:Mt,emptyPadding:Ft,boxShadowAfter:yt,boxShadowBefore:Dt,sorterSize:cr,resizableContainerSize:On,resizableSize:Fn,loadingColor:hi,loadingSize:Ks,opacityLoading:Zs,tdColorStriped:Ul,tdColorStripedModal:ws,tdColorStripedPopover:$c,[tt("fontSize",ue)]:Do,[tt("thPadding",ue)]:y0,[tt("tdPadding",ue)]:x0}}=l.value;return{"--n-font-size":Do,"--n-th-padding":y0,"--n-td-padding":x0,"--n-bezier":Pe,"--n-border-radius":X,"--n-line-height":oe,"--n-border-color":Je,"--n-border-color-modal":le,"--n-border-color-popover":Ze,"--n-th-color":Jr,"--n-th-color-hover":di,"--n-th-color-modal":re,"--n-th-color-hover-modal":ce,"--n-th-color-popover":Be,"--n-th-color-hover-popover":dt,"--n-td-color":Oi,"--n-td-color-hover":bt,"--n-td-color-modal":ee,"--n-td-color-hover-modal":Ne,"--n-td-color-popover":ze,"--n-td-color-hover-popover":Ue,"--n-th-text-color":Ki,"--n-td-text-color":Fi,"--n-th-font-weight":xi,"--n-th-button-color-hover":Zi,"--n-th-icon-color":qi,"--n-th-icon-color-active":Ie,"--n-filter-size":et,"--n-pagination-margin":Mt,"--n-empty-padding":Ft,"--n-box-shadow-before":Dt,"--n-box-shadow-after":yt,"--n-sorter-size":cr,"--n-resizable-container-size":On,"--n-resizable-size":Fn,"--n-loading-size":Ks,"--n-loading-color":hi,"--n-opacity-loading":Zs,"--n-td-color-striped":Ul,"--n-td-color-striped-modal":ws,"--n-td-color-striped-popover":$c,"--n-td-color-sorting":Tt,"--n-td-color-sorting-modal":Bt,"--n-td-color-sorting-popover":Gt,"--n-th-color-sorting":Jt,"--n-th-color-sorting-modal":Gr,"--n-th-color-sorting-popover":mn}}),_t=i?ti("data-table",me(()=>e.size[0]),ar,e):void 0,Ot=me(()=>{if(!e.pagination)return!1;if(e.paginateSinglePage)return!0;const ue=E.value,{pageCount:Pe}=ue;return Pe!==void 0?Pe>1:ue.itemCount&&ue.pageSize&&ue.itemCount>ue.pageSize});return Object.assign({mainTableInstRef:c,mergedClsPrefix:n,rtlEnabled:o,mergedTheme:l,paginatedData:b,mergedBordered:r,mergedBottomBordered:s,mergedPagination:E,mergedShowPagination:Ot,cssVars:i?void 0:ar,themeClass:_t?.themeClass,onRender:_t?.onRender},yr)},render(){const{mergedClsPrefix:e,themeClass:t,onRender:r,$slots:n,spinProps:i}=this;return r?.(),I("div",{class:[`${e}-data-table`,this.rtlEnabled&&`${e}-data-table--rtl`,t,{[`${e}-data-table--bordered`]:this.mergedBordered,[`${e}-data-table--bottom-bordered`]:this.mergedBottomBordered,[`${e}-data-table--single-line`]:this.singleLine,[`${e}-data-table--single-column`]:this.singleColumn,[`${e}-data-table--loading`]:this.loading,[`${e}-data-table--flex-height`]:this.flexHeight}],style:this.cssVars},I("div",{class:`${e}-data-table-wrapper`},I(MPe,{ref:"mainTableInstRef"})),this.mergedShowPagination?I("div",{class:`${e}-data-table__pagination`},I(CDe,Object.assign({theme:this.mergedTheme.peers.Pagination,themeOverrides:this.mergedTheme.peerOverrides.Pagination,disabled:this.loading},this.mergedPagination))):null,I(vs,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?I("div",{class:`${e}-data-table-loading-wrapper`},Vs(n.loading,()=>[I($m,Object.assign({clsPrefix:e,strokeWidth:20},i))])):null}))}}),VPe={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"};function $Pe(e){const{popoverColor:t,textColor2:r,primaryColor:n,hoverColor:i,dividerColor:a,opacityDisabled:o,boxShadow2:s,borderRadius:l,iconColor:u,iconColorDisabled:c}=e;return Object.assign(Object.assign({},VPe),{panelColor:t,panelBoxShadow:s,panelDividerColor:a,itemTextColor:r,itemTextColorActive:n,itemColorHover:i,itemOpacityDisabled:o,itemBorderRadius:l,borderRadius:l,iconColor:u,iconColorDisabled:c})}const _ee={name:"TimePicker",common:Ct,peers:{Scrollbar:_s,Button:bs,Input:Xs},self:$Pe},GPe={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarLeftPaddingWeek:"6px 12px 4px 12px",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0",calendarRightPaddingWeek:"0"};function UPe(e){const{hoverColor:t,fontSize:r,textColor2:n,textColorDisabled:i,popoverColor:a,primaryColor:o,borderRadiusSmall:s,iconColor:l,iconColorDisabled:u,textColor1:c,dividerColor:f,boxShadow2:d,borderRadius:h,fontWeightStrong:v}=e;return Object.assign(Object.assign({},GPe),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:i,itemTextColorActive:a,itemTextColorCurrent:o,itemColorIncluded:ut(o,{alpha:.1}),itemColorHover:t,itemColorDisabled:t,itemColorActive:o,itemBorderRadius:s,panelColor:a,panelTextColor:n,arrowColor:l,calendarTitleTextColor:c,calendarTitleColorHover:t,calendarDaysTextColor:n,panelHeaderDividerColor:f,calendarDaysDividerColor:f,calendarDividerColor:f,panelActionDividerColor:f,panelBoxShadow:d,panelBorderRadius:h,calendarTitleFontWeight:v,scrollItemBorderRadius:h,iconColor:l,iconColorDisabled:u})}const WPe={name:"DatePicker",common:Ct,peers:{Input:Xs,Button:bs,TimePicker:_ee,Scrollbar:_s},self(e){const{popoverColor:t,hoverColor:r,primaryColor:n}=e,i=UPe(e);return i.itemColorDisabled=tr(t,r),i.itemColorIncluded=ut(n,{alpha:.15}),i.itemColorHover=tr(t,r),i}},XPe={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"};function jPe(e){const{tableHeaderColor:t,textColor2:r,textColor1:n,cardColor:i,modalColor:a,popoverColor:o,dividerColor:s,borderRadius:l,fontWeightStrong:u,lineHeight:c,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:h}=e;return Object.assign(Object.assign({},XPe),{lineHeight:c,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:h,titleTextColor:n,thColor:tr(i,t),thColorModal:tr(a,t),thColorPopover:tr(o,t),thTextColor:n,thFontWeight:u,tdTextColor:r,tdColor:i,tdColorModal:a,tdColorPopover:o,borderColor:tr(i,s),borderColorModal:tr(a,s),borderColorPopover:tr(o,s),borderRadius:l})}const YPe={name:"Descriptions",common:Ct,self:jPe},KPe="n-dialog-provider",ZPe={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"};function bee(e){const{textColor1:t,textColor2:r,modalColor:n,closeIconColor:i,closeIconColorHover:a,closeIconColorPressed:o,closeColorHover:s,closeColorPressed:l,infoColor:u,successColor:c,warningColor:f,errorColor:d,primaryColor:h,dividerColor:v,borderRadius:p,fontWeightStrong:g,lineHeight:m,fontSize:y}=e;return Object.assign(Object.assign({},ZPe),{fontSize:y,lineHeight:m,border:`1px solid ${v}`,titleTextColor:t,textColor:r,color:n,closeColorHover:s,closeColorPressed:l,closeIconColor:i,closeIconColorHover:a,closeIconColorPressed:o,closeBorderRadius:p,iconColor:h,iconColorInfo:u,iconColorSuccess:c,iconColorWarning:f,iconColorError:d,borderRadius:p,titleFontWeight:g})}const wee={name:"Dialog",common:$n,peers:{Button:yE},self:bee},See={name:"Dialog",common:Ct,peers:{Button:bs},self:bee},D5={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,titleClass:[String,Array],titleStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],actionClass:[String,Array],actionStyle:[String,Object],onPositiveClick:Function,onNegativeClick:Function,onClose:Function},qPe=iE(D5),JPe=we([ie("dialog",`
 --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[Me("icon",{color:"var(--n-icon-color)"}),Ce("bordered",{border:"var(--n-border)"}),Ce("icon-top",[Me("close",{margin:"var(--n-close-margin)"}),Me("icon",{margin:"var(--n-icon-margin)"}),Me("content",{textAlign:"center"}),Me("title",{justifyContent:"center"}),Me("action",{justifyContent:"center"})]),Ce("icon-left",[Me("icon",{margin:"var(--n-icon-margin)"}),Ce("closable",[Me("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),Me("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),Me("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[Ce("last","margin-bottom: 0;")]),Me("action",`
 display: flex;
 justify-content: flex-end;
 `,[we("> *:not(:last-child)",`
 margin-right: var(--n-action-space);
 `)]),Me("icon",`
 font-size: var(--n-icon-size);
 transition: color .3s var(--n-bezier);
 `),Me("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),ie("dialog-icon-container",`
 display: flex;
 justify-content: center;
 `)]),QA(ie("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),ie("dialog",[Oq(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),QPe={default:()=>I(l_,null),info:()=>I(l_,null),success:()=>I(dE,null),warning:()=>I(hE,null),error:()=>I(fE,null)},eRe=lt({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},nr.props),D5),slots:Object,setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:n,mergedRtlRef:i}=tn(e),a=Eo("Dialog",i,r),o=me(()=>{var h,v;const{iconPlacement:p}=e;return p||((v=(h=t?.value)===null||h===void 0?void 0:h.Dialog)===null||v===void 0?void 0:v.iconPlacement)||"left"});function s(h){const{onPositiveClick:v}=e;v&&v(h)}function l(h){const{onNegativeClick:v}=e;v&&v(h)}function u(){const{onClose:h}=e;h&&h()}const c=nr("Dialog","-dialog",JPe,wee,e,r),f=me(()=>{const{type:h}=e,v=o.value,{common:{cubicBezierEaseInOut:p},self:{fontSize:g,lineHeight:m,border:y,titleTextColor:x,textColor:b,color:w,closeBorderRadius:S,closeColorHover:C,closeColorPressed:E,closeIconColor:A,closeIconColorHover:M,closeIconColorPressed:D,closeIconSize:R,borderRadius:L,titleFontWeight:k,titleFontSize:O,padding:F,iconSize:H,actionSpace:V,contentMargin:U,closeSize:K,[v==="top"?"iconMarginIconTop":"iconMargin"]:q,[v==="top"?"closeMarginIconTop":"closeMargin"]:N,[tt("iconColor",h)]:W}}=c.value,j=Ha(q);return{"--n-font-size":g,"--n-icon-color":W,"--n-bezier":p,"--n-close-margin":N,"--n-icon-margin-top":j.top,"--n-icon-margin-right":j.right,"--n-icon-margin-bottom":j.bottom,"--n-icon-margin-left":j.left,"--n-icon-size":H,"--n-close-size":K,"--n-close-icon-size":R,"--n-close-border-radius":S,"--n-close-color-hover":C,"--n-close-color-pressed":E,"--n-close-icon-color":A,"--n-close-icon-color-hover":M,"--n-close-icon-color-pressed":D,"--n-color":w,"--n-text-color":b,"--n-border-radius":L,"--n-padding":F,"--n-line-height":m,"--n-border":y,"--n-content-margin":U,"--n-title-font-size":O,"--n-title-font-weight":k,"--n-title-text-color":x,"--n-action-space":V}}),d=n?ti("dialog",me(()=>`${e.type[0]}${o.value[0]}`),f,e):void 0;return{mergedClsPrefix:r,rtlEnabled:a,mergedIconPlacement:o,mergedTheme:c,handlePositiveClick:s,handleNegativeClick:l,handleCloseClick:u,cssVars:n?void 0:f,themeClass:d?.themeClass,onRender:d?.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:r,cssVars:n,closable:i,showIcon:a,title:o,content:s,action:l,negativeText:u,positiveText:c,positiveButtonProps:f,negativeButtonProps:d,handlePositiveClick:h,handleNegativeClick:v,mergedTheme:p,loading:g,type:m,mergedClsPrefix:y}=this;(e=this.onRender)===null||e===void 0||e.call(this);const x=a?I(Yr,{clsPrefix:y,class:`${y}-dialog__icon`},{default:()=>Jn(this.$slots.icon,w=>w||(this.icon?Ba(this.icon):QPe[this.type]()))}):null,b=Jn(this.$slots.action,w=>w||c||u||l?I("div",{class:[`${y}-dialog__action`,this.actionClass],style:this.actionStyle},w||(l?[Ba(l)]:[this.negativeText&&I(lu,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,ghost:!0,size:"small",onClick:v},d),{default:()=>Ba(this.negativeText)}),this.positiveText&&I(lu,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:"small",type:m==="default"?"primary":m,disabled:g,loading:g,onClick:h},f),{default:()=>Ba(this.positiveText)})])):null);return I("div",{class:[`${y}-dialog`,this.themeClass,this.closable&&`${y}-dialog--closable`,`${y}-dialog--icon-${r}`,t&&`${y}-dialog--bordered`,this.rtlEnabled&&`${y}-dialog--rtl`],style:n,role:"dialog"},i?Jn(this.$slots.close,w=>{const S=[`${y}-dialog__close`,this.rtlEnabled&&`${y}-dialog--rtl`];return w?I("div",{class:S},w):I(fb,{clsPrefix:y,class:S,onClick:this.handleCloseClick})}):null,a&&r==="top"?I("div",{class:`${y}-dialog-icon-container`},x):null,I("div",{class:[`${y}-dialog__title`,this.titleClass],style:this.titleStyle},a&&r==="left"?x:null,Vs(this.$slots.header,()=>[Ba(o)])),I("div",{class:[`${y}-dialog__content`,b?"":`${y}-dialog__content--last`,this.contentClass],style:this.contentStyle},Vs(this.$slots.default,()=>[Ba(s)])),b)}});function Cee(e){const{modalColor:t,textColor2:r,boxShadow3:n}=e;return{color:t,textColor:r,boxShadow:n}}const tRe={name:"Modal",common:$n,peers:{Scrollbar:pE,Dialog:wee,Card:kQ},self:Cee},rRe={name:"Modal",common:Ct,peers:{Scrollbar:_s,Dialog:See,Card:OQ},self:Cee},M3="n-draggable";function nRe(e,t){let r;const n=me(()=>e.value!==!1),i=me(()=>n.value?M3:""),a=me(()=>{const l=e.value;return l===!0||l===!1?!0:l?l.bounds!=="none":!0});function o(l){const u=l.querySelector(`.${M3}`);if(!u||!i.value)return;let c=0,f=0,d=0,h=0,v=0,p=0,g;function m(b){b.preventDefault(),g=b;const{x:w,y:S,right:C,bottom:E}=l.getBoundingClientRect();f=w,h=S,c=window.innerWidth-C,d=window.innerHeight-E;const{left:A,top:M}=l.style;v=+M.slice(0,-2),p=+A.slice(0,-2)}function y(b){if(!g)return;const{clientX:w,clientY:S}=g;let C=b.clientX-w,E=b.clientY-S;a.value&&(C>c?C=c:-C>f&&(C=-f),E>d?E=d:-E>h&&(E=-h));const A=C+p,M=E+v;l.style.top=`${M}px`,l.style.left=`${A}px`}function x(){g=void 0,t.onEnd(l)}fn("mousedown",u,m),fn("mousemove",window,y),fn("mouseup",window,x),r=()=>{an("mousedown",u,m),fn("mousemove",window,y),fn("mouseup",window,x)}}function s(){r&&(r(),r=void 0)}return KA(s),{stopDrag:s,startDrag:o,draggableRef:n,draggableClassRef:i}}const P5=Object.assign(Object.assign({},_5),D5),iRe=iE(P5),aRe=lt({name:"ModalBody",inheritAttrs:!1,slots:Object,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean,draggable:{type:[Boolean,Object],default:!1}},P5),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=xe(null),r=xe(null),n=xe(e.show),i=xe(null),a=xe(null),o=rr(Wq);let s=null;hn(rt(e,"show"),E=>{E&&(s=o.getMousePosition())},{immediate:!0});const{stopDrag:l,startDrag:u,draggableRef:c,draggableClassRef:f}=nRe(rt(e,"draggable"),{onEnd:E=>{p(E)}}),d=me(()=>nm([e.titleClass,f.value])),h=me(()=>nm([e.headerClass,f.value]));hn(rt(e,"show"),E=>{E&&(n.value=!0)}),jxe(me(()=>e.blockScroll&&n.value));function v(){if(o.transformOriginRef.value==="center")return"";const{value:E}=i,{value:A}=a;if(E===null||A===null)return"";if(r.value){const M=r.value.containerScrollTop;return`${E}px ${A+M}px`}return""}function p(E){if(o.transformOriginRef.value==="center"||!s||!r.value)return;const A=r.value.containerScrollTop,{offsetLeft:M,offsetTop:D}=E,R=s.y,L=s.x;i.value=-(M-L),a.value=-(D-R-A),E.style.transformOrigin=v()}function g(E){Sa(()=>{p(E)})}function m(E){E.style.transformOrigin=v(),e.onBeforeLeave()}function y(E){const A=E;c.value&&u(A),e.onAfterEnter&&e.onAfterEnter(A)}function x(){n.value=!1,i.value=null,a.value=null,l(),e.onAfterLeave()}function b(){const{onClose:E}=e;E&&E()}function w(){e.onNegativeClick()}function S(){e.onPositiveClick()}const C=xe(null);return hn(C,E=>{E&&Sa(()=>{const A=E.el;A&&t.value!==A&&(t.value=A)})}),wn(tE,t),wn(eE,null),wn(ub,null),{mergedTheme:o.mergedThemeRef,appear:o.appearRef,isMounted:o.isMountedRef,mergedClsPrefix:o.mergedClsPrefixRef,bodyRef:t,scrollbarRef:r,draggableClass:f,displayed:n,childNodeRef:C,cardHeaderClass:h,dialogTitleClass:d,handlePositiveClick:S,handleNegativeClick:w,handleCloseClick:b,handleAfterEnter:y,handleAfterLeave:x,handleBeforeLeave:m,handleEnter:g}},render(){const{$slots:e,$attrs:t,handleEnter:r,handleAfterEnter:n,handleAfterLeave:i,handleBeforeLeave:a,preset:o,mergedClsPrefix:s}=this;let l=null;if(!o){if(l=W_e("default",e.default,{draggableClass:this.draggableClass}),!l){Ec("modal","default slot is empty");return}l=bu(l),l.props=Us({class:`${s}-modal`},t,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?_u(I("div",{role:"none",class:`${s}-modal-body-wrapper`},I(Gm,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${s}-modal-scroll-content`},{default:()=>{var u;return[(u=this.renderMask)===null||u===void 0?void 0:u.call(this),I(lJ,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var c;return I(vs,{name:"fade-in-scale-up-transition",appear:(c=this.appear)!==null&&c!==void 0?c:this.isMounted,onEnter:r,onAfterEnter:n,onAfterLeave:i,onBeforeLeave:a},{default:()=>{const f=[[om,this.show]],{onClickoutside:d}=this;return d&&f.push([i_,this.onClickoutside,void 0,{capture:!0}]),_u(this.preset==="confirm"||this.preset==="dialog"?I(eRe,Object.assign({},this.$attrs,{class:[`${s}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},lm(this.$props,qPe),{titleClass:this.dialogTitleClass,"aria-modal":"true"}),e):this.preset==="card"?I(Nc,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${s}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},lm(this.$props,WMe),{headerClass:this.cardHeaderClass,"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=l,f)}})}})]}})),[[om,this.displayDirective==="if"||this.displayed||this.show]]):null}}),oRe=we([ie("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),ie("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[tT({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),ie("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[ie("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),ie("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Um({duration:".25s",enterScale:".5"}),we(`.${M3}`,`
 cursor: move;
 user-select: none;
 `)])]),sRe=Object.assign(Object.assign(Object.assign(Object.assign({},nr.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),P5),{draggable:[Boolean,Object],onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalModal:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),lRe=lt({name:"Modal",inheritAttrs:!1,props:sRe,slots:Object,setup(e){const t=xe(null),{mergedClsPrefixRef:r,namespaceRef:n,inlineThemeDisabled:i}=tn(e),a=nr("Modal","-modal",oRe,tRe,e,r),o=Hxe(64),s=Bxe(),l=zm(),u=e.internalDialog?rr(KPe,null):null,c=e.internalModal?rr(Uxe,null):null,f=Xxe();function d(S){const{onUpdateShow:C,"onUpdate:show":E,onHide:A}=e;C&&ht(C,S),E&&ht(E,S),A&&!S&&A(S)}function h(){const{onClose:S}=e;S?Promise.resolve(S()).then(C=>{C!==!1&&d(!1)}):d(!1)}function v(){const{onPositiveClick:S}=e;S?Promise.resolve(S()).then(C=>{C!==!1&&d(!1)}):d(!1)}function p(){const{onNegativeClick:S}=e;S?Promise.resolve(S()).then(C=>{C!==!1&&d(!1)}):d(!1)}function g(){const{onBeforeLeave:S,onBeforeHide:C}=e;S&&ht(S),C&&C()}function m(){const{onAfterLeave:S,onAfterHide:C}=e;S&&ht(S),C&&C()}function y(S){var C;const{onMaskClick:E}=e;E&&E(S),e.maskClosable&&!((C=t.value)===null||C===void 0)&&C.contains(sm(S))&&d(!1)}function x(S){var C;(C=e.onEsc)===null||C===void 0||C.call(e),e.show&&e.closeOnEsc&&G_e(S)&&(f.value||d(!1))}wn(Wq,{getMousePosition:()=>{const S=u||c;if(S){const{clickedRef:C,clickedPositionRef:E}=S;if(C.value&&E.value)return E.value}return o.value?s.value:null},mergedClsPrefixRef:r,mergedThemeRef:a,isMountedRef:l,appearRef:rt(e,"internalAppear"),transformOriginRef:rt(e,"transformOrigin")});const b=me(()=>{const{common:{cubicBezierEaseOut:S},self:{boxShadow:C,color:E,textColor:A}}=a.value;return{"--n-bezier-ease-out":S,"--n-box-shadow":C,"--n-color":E,"--n-text-color":A}}),w=i?ti("theme-class",void 0,b,e):void 0;return{mergedClsPrefix:r,namespace:n,isMounted:l,containerRef:t,presetProps:me(()=>lm(e,iRe)),handleEsc:x,handleAfterLeave:m,handleClickoutside:y,handleBeforeLeave:g,doUpdateShow:d,handleNegativeClick:p,handlePositiveClick:v,handleCloseClick:h,cssVars:i?void 0:b,themeClass:w?.themeClass,onRender:w?.onRender}},render(){const{mergedClsPrefix:e}=this;return I(t5,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:r}=this;return _u(I("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},I(aRe,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,draggable:this.draggable,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:r?void 0:this.handleClickoutside,renderMask:r?()=>{var n;return I(vs,{name:"fade-in-transition",key:"mask",appear:(n=this.internalAppear)!==null&&n!==void 0?n:this.isMounted},{default:()=>this.show?I("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[rE,{zIndex:this.zIndex,enabled:this.show}]])}})}}),uRe={name:"LoadingBar",common:Ct,self(e){const{primaryColor:t}=e;return{colorError:"red",colorLoading:t,height:"2px"}}},Tee="n-message-api",Aee="n-message-provider",cRe={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"};function Eee(e){const{textColor2:t,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,infoColor:a,successColor:o,errorColor:s,warningColor:l,popoverColor:u,boxShadow2:c,primaryColor:f,lineHeight:d,borderRadius:h,closeColorHover:v,closeColorPressed:p}=e;return Object.assign(Object.assign({},cRe),{closeBorderRadius:h,textColor:t,textColorInfo:t,textColorSuccess:t,textColorError:t,textColorWarning:t,textColorLoading:t,color:u,colorInfo:u,colorSuccess:u,colorError:u,colorWarning:u,colorLoading:u,boxShadow:c,boxShadowInfo:c,boxShadowSuccess:c,boxShadowError:c,boxShadowWarning:c,boxShadowLoading:c,iconColor:t,iconColorInfo:a,iconColorSuccess:o,iconColorWarning:l,iconColorError:s,iconColorLoading:f,closeColorHover:v,closeColorPressed:p,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,closeColorHoverInfo:v,closeColorPressedInfo:p,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:i,closeColorHoverSuccess:v,closeColorPressedSuccess:p,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:i,closeColorHoverError:v,closeColorPressedError:p,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:i,closeColorHoverWarning:v,closeColorPressedWarning:p,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:i,closeColorHoverLoading:v,closeColorPressedLoading:p,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:i,loadingColor:f,lineHeight:d,borderRadius:h})}const fRe={common:$n,self:Eee},dRe={name:"Message",common:Ct,self:Eee},Mee={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},hRe=we([ie("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[C3({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),ie("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[Me("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),Me("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(e=>Ce(`${e}-type`,[we("> *",`
 color: var(--n-icon-color-${e});
 transition: color .3s var(--n-bezier);
 `)])),we("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Cl()])]),Me("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[we("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),we("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),ie("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[Ce("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),Ce("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),Ce("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),Ce("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),Ce("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),Ce("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),vRe={info:()=>I(l_,null),success:()=>I(dE,null),warning:()=>I(hE,null),error:()=>I(fE,null),default:()=>null},pRe=lt({name:"Message",props:Object.assign(Object.assign({},Mee),{render:Function}),setup(e){const{inlineThemeDisabled:t,mergedRtlRef:r}=tn(e),{props:n,mergedClsPrefixRef:i}=rr(Aee),a=Eo("Message",r,i),o=nr("Message","-message",hRe,fRe,n,i),s=me(()=>{const{type:u}=e,{common:{cubicBezierEaseInOut:c},self:{padding:f,margin:d,maxWidth:h,iconMargin:v,closeMargin:p,closeSize:g,iconSize:m,fontSize:y,lineHeight:x,borderRadius:b,iconColorInfo:w,iconColorSuccess:S,iconColorWarning:C,iconColorError:E,iconColorLoading:A,closeIconSize:M,closeBorderRadius:D,[tt("textColor",u)]:R,[tt("boxShadow",u)]:L,[tt("color",u)]:k,[tt("closeColorHover",u)]:O,[tt("closeColorPressed",u)]:F,[tt("closeIconColor",u)]:H,[tt("closeIconColorPressed",u)]:V,[tt("closeIconColorHover",u)]:U}}=o.value;return{"--n-bezier":c,"--n-margin":d,"--n-padding":f,"--n-max-width":h,"--n-font-size":y,"--n-icon-margin":v,"--n-icon-size":m,"--n-close-icon-size":M,"--n-close-border-radius":D,"--n-close-size":g,"--n-close-margin":p,"--n-text-color":R,"--n-color":k,"--n-box-shadow":L,"--n-icon-color-info":w,"--n-icon-color-success":S,"--n-icon-color-warning":C,"--n-icon-color-error":E,"--n-icon-color-loading":A,"--n-close-color-hover":O,"--n-close-color-pressed":F,"--n-close-icon-color":H,"--n-close-icon-color-pressed":V,"--n-close-icon-color-hover":U,"--n-line-height":x,"--n-border-radius":b}}),l=t?ti("message",me(()=>e.type[0]),s,{}):void 0;return{mergedClsPrefix:i,rtlEnabled:a,messageProviderProps:n,handleClose(){var u;(u=e.onClose)===null||u===void 0||u.call(e)},cssVars:t?void 0:s,themeClass:l?.themeClass,onRender:l?.onRender,placement:n.placement}},render(){const{render:e,type:t,closable:r,content:n,mergedClsPrefix:i,cssVars:a,themeClass:o,onRender:s,icon:l,handleClose:u,showIcon:c}=this;s?.();let f;return I("div",{class:[`${i}-message-wrapper`,o],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},a]},e?e(this.$props):I("div",{class:[`${i}-message ${i}-message--${t}-type`,this.rtlEnabled&&`${i}-message--rtl`]},(f=gRe(l,t,i))&&c?I("div",{class:`${i}-message__icon ${i}-message__icon--${t}-type`},I(Zp,null,{default:()=>f})):null,I("div",{class:`${i}-message__content`},Ba(n)),r?I(fb,{clsPrefix:i,class:`${i}-message__close`,onClick:u,absolute:!0}):null))}});function gRe(e,t,r){if(typeof e=="function")return e();{const n=t==="loading"?I($m,{clsPrefix:r,strokeWidth:24,scale:.85}):vRe[t]();return n?I(Yr,{clsPrefix:r,key:t},{default:()=>n}):null}}const mRe=lt({name:"MessageEnvironment",props:Object.assign(Object.assign({},Mee),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(e){let t=null;const r=xe(!0);Vn(()=>{n()});function n(){const{duration:c}=e;c&&(t=window.setTimeout(o,c))}function i(c){c.currentTarget===c.target&&t!==null&&(window.clearTimeout(t),t=null)}function a(c){c.currentTarget===c.target&&n()}function o(){const{onHide:c}=e;r.value=!1,t&&(window.clearTimeout(t),t=null),c&&c()}function s(){const{onClose:c}=e;c&&c(),o()}function l(){const{onAfterLeave:c,onInternalAfterLeave:f,onAfterHide:d,internalKey:h}=e;c&&c(),f&&f(h),d&&d()}function u(){o()}return{show:r,hide:o,handleClose:s,handleAfterLeave:l,handleMouseleave:a,handleMouseenter:i,deactivate:u}},render(){return I(vE,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?I(pRe,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),yRe=Object.assign(Object.assign({},nr.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerClass:String,containerStyle:[String,Object]}),xRe=lt({name:"MessageProvider",props:yRe,setup(e){const{mergedClsPrefixRef:t}=tn(e),r=xe([]),n=xe({}),i={create(l,u){return a(l,Object.assign({type:"default"},u))},info(l,u){return a(l,Object.assign(Object.assign({},u),{type:"info"}))},success(l,u){return a(l,Object.assign(Object.assign({},u),{type:"success"}))},warning(l,u){return a(l,Object.assign(Object.assign({},u),{type:"warning"}))},error(l,u){return a(l,Object.assign(Object.assign({},u),{type:"error"}))},loading(l,u){return a(l,Object.assign(Object.assign({},u),{type:"loading"}))},destroyAll:s};wn(Aee,{props:e,mergedClsPrefixRef:t}),wn(Tee,i);function a(l,u){const c=Cp(),f=ab(Object.assign(Object.assign({},u),{content:l,key:c,destroy:()=>{var h;(h=n.value[c])===null||h===void 0||h.hide()}})),{max:d}=e;return d&&r.value.length>=d&&r.value.shift(),r.value.push(f),f}function o(l){r.value.splice(r.value.findIndex(u=>u.key===l),1),delete n.value[l]}function s(){Object.values(n.value).forEach(l=>{l.hide()})}return Object.assign({mergedClsPrefix:t,messageRefs:n,messageList:r,handleAfterLeave:o},i)},render(){var e,t,r;return I(Dr,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),this.messageList.length?I(zO,{to:(r=this.to)!==null&&r!==void 0?r:"body"},I("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`,this.containerClass],key:"message-container",style:this.containerStyle},this.messageList.map(n=>I(mRe,Object.assign({ref:i=>{i&&(this.messageRefs[n.key]=i)},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave},aE(n,["destroy"],void 0),{duration:n.duration===void 0?this.duration:n.duration,keepAliveOnHover:n.keepAliveOnHover===void 0?this.keepAliveOnHover:n.keepAliveOnHover,closable:n.closable===void 0?this.closable:n.closable}))))):null)}});function Dee(){const e=rr(Tee,null);return e===null&&Wp("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const _Re={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"};function bRe(e){const{textColor2:t,successColor:r,infoColor:n,warningColor:i,errorColor:a,popoverColor:o,closeIconColor:s,closeIconColorHover:l,closeIconColorPressed:u,closeColorHover:c,closeColorPressed:f,textColor1:d,textColor3:h,borderRadius:v,fontWeightStrong:p,boxShadow2:g,lineHeight:m,fontSize:y}=e;return Object.assign(Object.assign({},_Re),{borderRadius:v,lineHeight:m,fontSize:y,headerFontWeight:p,iconColor:t,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:i,iconColorError:a,color:o,textColor:t,closeIconColor:s,closeIconColorHover:l,closeIconColorPressed:u,closeBorderRadius:v,closeColorHover:c,closeColorPressed:f,headerTextColor:d,descriptionTextColor:h,actionTextColor:t,boxShadow:g})}const wRe={name:"Notification",common:Ct,peers:{Scrollbar:_s},self:bRe};function SRe(e){const{textColor1:t,dividerColor:r,fontWeightStrong:n}=e;return{textColor:t,color:r,fontWeight:n}}const CRe={name:"Divider",common:Ct,self:SRe};function TRe(e){const{modalColor:t,textColor1:r,textColor2:n,boxShadow3:i,lineHeight:a,fontWeightStrong:o,dividerColor:s,closeColorHover:l,closeColorPressed:u,closeIconColor:c,closeIconColorHover:f,closeIconColorPressed:d,borderRadius:h,primaryColorHover:v}=e;return{bodyPadding:"16px 24px",borderRadius:h,headerPadding:"16px 24px",footerPadding:"16px 24px",color:t,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:o,boxShadow:i,lineHeight:a,headerBorderBottom:`1px solid ${s}`,footerBorderTop:`1px solid ${s}`,closeIconColor:c,closeIconColorHover:f,closeIconColorPressed:d,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:u,closeBorderRadius:h,resizableTriggerColorHover:v}}const ARe={name:"Drawer",common:Ct,peers:{Scrollbar:_s},self:TRe},ERe={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},MRe={name:"DynamicInput",common:Ct,peers:{Input:Xs,Button:bs},self(){return ERe}},Pee={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},Ree={name:"Space",self(){return Pee}};function DRe(){return Pee}const PRe={self:DRe};let wP;function RRe(){if(!jf)return!0;if(wP===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const t=e.scrollHeight===1;return document.body.removeChild(e),wP=t}return wP}const LRe=Object.assign(Object.assign({},nr.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Zf=lt({name:"Space",props:LRe,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=tn(e),n=nr("Space","-space",void 0,PRe,e,t),i=Eo("Space",r,t);return{useGap:RRe(),rtlEnabled:i,mergedClsPrefix:t,margin:me(()=>{const{size:a}=e;if(Array.isArray(a))return{horizontal:a[0],vertical:a[1]};if(typeof a=="number")return{horizontal:a,vertical:a};const{self:{[tt("gap",a)]:o}}=n.value,{row:s,col:l}=yxe(o);return{horizontal:hu(l),vertical:hu(s)}})}},render(){const{vertical:e,reverse:t,align:r,inline:n,justify:i,itemClass:a,itemStyle:o,margin:s,wrap:l,mergedClsPrefix:u,rtlEnabled:c,useGap:f,wrapItem:d,internalUseGap:h}=this,v=wf(dJ(this),!1);if(!v.length)return null;const p=`${s.horizontal}px`,g=`${s.horizontal/2}px`,m=`${s.vertical}px`,y=`${s.vertical/2}px`,x=v.length-1,b=i.startsWith("space-");return I("div",{role:"none",class:[`${u}-space`,c&&`${u}-space--rtl`],style:{display:n?"inline-flex":"flex",flexDirection:e&&!t?"column":e&&t?"column-reverse":!e&&t?"row-reverse":"row",justifyContent:["start","end"].includes(i)?`flex-${i}`:i,flexWrap:!l||e?"nowrap":"wrap",marginTop:f||e?"":`-${y}`,marginBottom:f||e?"":`-${y}`,alignItems:r,gap:f?`${s.vertical}px ${s.horizontal}px`:""}},!d&&(f||h)?v:v.map((w,S)=>w.type===ia?w:I("div",{role:"none",class:a,style:[o,{maxWidth:"100%"},f?"":e?{marginBottom:S!==x?m:""}:c?{marginLeft:b?i==="space-between"&&S===x?"":g:S!==x?p:"",marginRight:b?i==="space-between"&&S===0?"":g:"",paddingTop:y,paddingBottom:y}:{marginRight:b?i==="space-between"&&S===x?"":g:S!==x?p:"",marginLeft:b?i==="space-between"&&S===0?"":g:"",paddingTop:y,paddingBottom:y}]},w)))}}),IRe={name:"DynamicTags",common:Ct,peers:{Input:Xs,Button:bs,Tag:bQ,Space:Ree},self(){return{inputWidth:"64px"}}},kRe={name:"Element",common:Ct},ORe={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},FRe={name:"Flex",self(){return ORe}},NRe={name:"ButtonGroup",common:Ct},BRe={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"};function zRe(e){const{heightSmall:t,heightMedium:r,heightLarge:n,textColor1:i,errorColor:a,warningColor:o,lineHeight:s,textColor3:l}=e;return Object.assign(Object.assign({},BRe),{blankHeightSmall:t,blankHeightMedium:r,blankHeightLarge:n,lineHeight:s,labelTextColor:i,asteriskColor:a,feedbackTextColorError:a,feedbackTextColorWarning:o,feedbackTextColor:l})}const HRe={name:"Form",common:Ct,self:zRe},VRe={name:"GradientText",common:Ct,self(e){const{primaryColor:t,successColor:r,warningColor:n,errorColor:i,infoColor:a,primaryColorSuppl:o,successColorSuppl:s,warningColorSuppl:l,errorColorSuppl:u,infoColorSuppl:c,fontWeightStrong:f}=e;return{fontWeight:f,rotate:"252deg",colorStartPrimary:t,colorEndPrimary:o,colorStartInfo:a,colorEndInfo:c,colorStartWarning:n,colorEndWarning:l,colorStartError:i,colorEndError:u,colorStartSuccess:r,colorEndSuccess:s}}};function $Re(e){const{primaryColor:t,successColor:r,warningColor:n,errorColor:i,infoColor:a,fontWeightStrong:o}=e;return{fontWeight:o,rotate:"252deg",colorStartPrimary:ut(t,{alpha:.6}),colorEndPrimary:t,colorStartInfo:ut(a,{alpha:.6}),colorEndInfo:a,colorStartWarning:ut(n,{alpha:.6}),colorEndWarning:n,colorStartError:ut(i,{alpha:.6}),colorEndError:i,colorStartSuccess:ut(r,{alpha:.6}),colorEndSuccess:r}}const GRe={common:$n,self:$Re},URe={name:"InputNumber",common:Ct,peers:{Button:bs,Input:Xs},self(e){const{textColorDisabled:t}=e;return{iconColorDisabled:t}}};function WRe(){return{inputWidthSmall:"24px",inputWidthMedium:"30px",inputWidthLarge:"36px",gapSmall:"8px",gapMedium:"8px",gapLarge:"8px"}}const XRe={name:"InputOtp",common:Ct,peers:{Input:Xs},self:WRe},jRe={name:"Layout",common:Ct,peers:{Scrollbar:_s},self(e){const{textColor2:t,bodyColor:r,popoverColor:n,cardColor:i,dividerColor:a,scrollbarColor:o,scrollbarColorHover:s}=e;return{textColor:t,textColorInverted:t,color:r,colorEmbedded:r,headerColor:i,headerColorInverted:i,footerColor:i,footerColorInverted:i,headerBorderColor:a,headerBorderColorInverted:a,footerBorderColor:a,footerBorderColorInverted:a,siderBorderColor:a,siderBorderColorInverted:a,siderColor:i,siderColorInverted:i,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:t,siderToggleButtonIconColorInverted:t,siderToggleBarColor:tr(r,o),siderToggleBarColorHover:tr(r,s),__invertScrollbar:"false"}}},YRe={name:"Row",common:Ct};function KRe(e){const{textColor2:t,cardColor:r,modalColor:n,popoverColor:i,dividerColor:a,borderRadius:o,fontSize:s,hoverColor:l}=e;return{textColor:t,color:r,colorHover:l,colorModal:n,colorHoverModal:tr(n,l),colorPopover:i,colorHoverPopover:tr(i,l),borderColor:a,borderColorModal:tr(n,a),borderColorPopover:tr(i,a),borderRadius:o,fontSize:s}}const ZRe={name:"List",common:Ct,self:KRe},qRe={name:"Log",common:Ct,peers:{Scrollbar:_s,Code:zQ},self(e){const{textColor2:t,inputColor:r,fontSize:n,primaryColor:i}=e;return{loaderFontSize:n,loaderTextColor:t,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:i}}},JRe={name:"Mention",common:Ct,peers:{InternalSelectMenu:db,Input:Xs},self(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}};function QRe(e,t,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:t,itemColorActiveHoverInverted:t,itemColorActiveCollapsedInverted:t,itemTextColorInverted:e,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:e,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:e,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:e,itemIconColorHorizontalInverted:e,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:e,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}function eLe(e){const{borderRadius:t,textColor3:r,primaryColor:n,textColor2:i,textColor1:a,fontSize:o,dividerColor:s,hoverColor:l,primaryColorHover:u}=e;return Object.assign({borderRadius:t,color:"#0000",groupTextColor:r,itemColorHover:l,itemColorActive:ut(n,{alpha:.1}),itemColorActiveHover:ut(n,{alpha:.1}),itemColorActiveCollapsed:ut(n,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:u,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:a,itemIconColorHover:a,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:a,itemIconColorHorizontal:a,itemIconColorHoverHorizontal:u,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:o,dividerColor:s},QRe("#BBB",n,"#FFF","#AAA"))}const tLe={name:"Menu",common:Ct,peers:{Tooltip:xE,Dropdown:C5},self(e){const{primaryColor:t,primaryColorSuppl:r}=e,n=eLe(e);return n.itemColorActive=ut(t,{alpha:.15}),n.itemColorActiveHover=ut(t,{alpha:.15}),n.itemColorActiveCollapsed=ut(t,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},rLe={titleFontSize:"18px",backSize:"22px"};function nLe(e){const{textColor1:t,textColor2:r,textColor3:n,fontSize:i,fontWeightStrong:a,primaryColorHover:o,primaryColorPressed:s}=e;return Object.assign(Object.assign({},rLe),{titleFontWeight:a,fontSize:i,titleTextColor:t,backColor:r,backColorHover:o,backColorPressed:s,subtitleTextColor:n})}const iLe={name:"PageHeader",common:Ct,self:nLe},aLe={iconSize:"22px"};function oLe(e){const{fontSize:t,warningColor:r}=e;return Object.assign(Object.assign({},aLe),{fontSize:t,iconColor:r})}const sLe={name:"Popconfirm",common:Ct,peers:{Button:bs,Popover:Jp},self:oLe};function Lee(e){const{infoColor:t,successColor:r,warningColor:n,errorColor:i,textColor2:a,progressRailColor:o,fontSize:s,fontWeight:l}=e;return{fontSize:s,fontSizeCircle:"28px",fontWeightCircle:l,railColor:o,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:t,iconColorInfo:t,iconColorSuccess:r,iconColorWarning:n,iconColorError:i,textColorCircle:a,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:a,fillColor:t,fillColorInfo:t,fillColorSuccess:r,fillColorWarning:n,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}}const Iee={name:"Progress",common:$n,self:Lee},kee={name:"Progress",common:Ct,self(e){const t=Lee(e);return t.textColorLineInner="rgb(0, 0, 0)",t.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",t}},lLe={name:"Rate",common:Ct,self(e){const{railColor:t}=e;return{itemColor:t,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},uLe={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0};function cLe(e){const{textColor2:t,textColor1:r,errorColor:n,successColor:i,infoColor:a,warningColor:o,lineHeight:s,fontWeightStrong:l}=e;return Object.assign(Object.assign({},uLe),{lineHeight:s,titleFontWeight:l,titleTextColor:r,textColor:t,iconColorError:n,iconColorSuccess:i,iconColorInfo:a,iconColorWarning:o})}const fLe={name:"Result",common:Ct,self:cLe},dLe={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},hLe={name:"Slider",common:Ct,self(e){const t="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:i,popoverColor:a,textColor2:o,cardColor:s,borderRadius:l,fontSize:u,opacityDisabled:c}=e;return Object.assign(Object.assign({},dLe),{fontSize:u,markFontSize:u,railColor:r,railColorHover:r,fillColor:i,fillColorHover:i,opacityDisabled:c,handleColor:"#FFF",dotColor:s,dotColorModal:n,dotColorPopover:a,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:a,indicatorBoxShadow:t,indicatorTextColor:o,indicatorBorderRadius:l,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}};function vLe(e){const{opacityDisabled:t,heightTiny:r,heightSmall:n,heightMedium:i,heightLarge:a,heightHuge:o,primaryColor:s,fontSize:l}=e;return{fontSize:l,textColor:s,sizeTiny:r,sizeSmall:n,sizeMedium:i,sizeLarge:a,sizeHuge:o,color:s,opacitySpinning:t}}const pLe={name:"Spin",common:Ct,self:vLe};function gLe(e){const{textColor2:t,textColor3:r,fontSize:n,fontWeight:i}=e;return{labelFontSize:n,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:t,valueSuffixTextColor:t,valueTextColor:t}}const mLe={name:"Statistic",common:Ct,self:gLe},yLe={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"};function xLe(e){const{fontWeightStrong:t,baseColor:r,textColorDisabled:n,primaryColor:i,errorColor:a,textColor1:o,textColor2:s}=e;return Object.assign(Object.assign({},yLe),{stepHeaderFontWeight:t,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:i,indicatorTextColorError:a,indicatorBorderColorProcess:i,indicatorBorderColorWait:n,indicatorBorderColorFinish:i,indicatorBorderColorError:a,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:i,splitorColorError:n,headerTextColorProcess:o,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:a,descriptionTextColorProcess:s,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:a})}const _Le={name:"Steps",common:Ct,self:xLe},bLe={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},wLe={name:"Switch",common:Ct,self(e){const{primaryColorSuppl:t,opacityDisabled:r,borderRadius:n,primaryColor:i,textColor2:a,baseColor:o}=e;return Object.assign(Object.assign({},bLe),{iconColor:o,textColor:a,loadingColor:t,opacityDisabled:r,railColor:"rgba(255, 255, 255, .20)",railColorActive:t,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${ut(i,{alpha:.3})}`})}},SLe={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"};function CLe(e){const{dividerColor:t,cardColor:r,modalColor:n,popoverColor:i,tableHeaderColor:a,tableColorStriped:o,textColor1:s,textColor2:l,borderRadius:u,fontWeightStrong:c,lineHeight:f,fontSizeSmall:d,fontSizeMedium:h,fontSizeLarge:v}=e;return Object.assign(Object.assign({},SLe),{fontSizeSmall:d,fontSizeMedium:h,fontSizeLarge:v,lineHeight:f,borderRadius:u,borderColor:tr(r,t),borderColorModal:tr(n,t),borderColorPopover:tr(i,t),tdColor:r,tdColorModal:n,tdColorPopover:i,tdColorStriped:tr(r,o),tdColorStripedModal:tr(n,o),tdColorStripedPopover:tr(i,o),thColor:tr(r,a),thColorModal:tr(n,a),thColorPopover:tr(i,a),thTextColor:s,tdTextColor:l,thFontWeight:c})}const TLe={name:"Table",common:Ct,self:CLe},ALe={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"};function Oee(e){const{textColor2:t,primaryColor:r,textColorDisabled:n,closeIconColor:i,closeIconColorHover:a,closeIconColorPressed:o,closeColorHover:s,closeColorPressed:l,tabColor:u,baseColor:c,dividerColor:f,fontWeight:d,textColor1:h,borderRadius:v,fontSize:p,fontWeightStrong:g}=e;return Object.assign(Object.assign({},ALe),{colorSegment:u,tabFontSizeCard:p,tabTextColorLine:h,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:h,tabTextColorActiveSegment:t,tabTextColorHoverSegment:t,tabTextColorDisabledSegment:n,tabTextColorBar:h,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:h,tabTextColorHoverCard:h,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:i,closeIconColorHover:a,closeIconColorPressed:o,closeColorHover:s,closeColorPressed:l,closeBorderRadius:v,tabColor:u,tabColorSegment:c,tabBorderColor:f,tabFontWeightActive:d,tabFontWeight:d,tabBorderRadius:v,paneTextColor:t,fontWeightStrong:g})}const ELe={common:$n,self:Oee},MLe={name:"Tabs",common:Ct,self(e){const t=Oee(e),{inputColor:r}=e;return t.colorSegment=r,t.tabColorSegment=r,t}};function DLe(e){const{textColor1:t,textColor2:r,fontWeightStrong:n,fontSize:i}=e;return{fontSize:i,titleTextColor:t,textColor:r,titleFontWeight:n}}const PLe={name:"Thing",common:Ct,self:DLe},RLe={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},LLe={name:"Timeline",common:Ct,self(e){const{textColor3:t,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:i,warningColorSuppl:a,textColor1:o,textColor2:s,railColor:l,fontWeightStrong:u,fontSize:c}=e;return Object.assign(Object.assign({},RLe),{contentFontSize:c,titleFontWeight:u,circleBorder:`2px solid ${t}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${a}`,iconColor:t,iconColorInfo:r,iconColorError:n,iconColorSuccess:i,iconColorWarning:a,titleTextColor:o,contentTextColor:s,metaTextColor:t,lineColor:l})}},ILe={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},kLe={name:"Transfer",common:Ct,peers:{Checkbox:Xm,Scrollbar:_s,Input:Xs,Empty:qp,Button:bs},self(e){const{fontWeight:t,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:i,heightLarge:a,heightMedium:o,borderRadius:s,inputColor:l,tableHeaderColor:u,textColor1:c,textColorDisabled:f,textColor2:d,textColor3:h,hoverColor:v,closeColorHover:p,closeColorPressed:g,closeIconColor:m,closeIconColorHover:y,closeIconColorPressed:x,dividerColor:b}=e;return Object.assign(Object.assign({},ILe),{itemHeightSmall:o,itemHeightMedium:o,itemHeightLarge:a,fontSizeSmall:i,fontSizeMedium:n,fontSizeLarge:r,borderRadius:s,dividerColor:b,borderColor:"#0000",listColor:l,headerColor:u,titleTextColor:c,titleTextColorDisabled:f,extraTextColor:h,extraTextColorDisabled:f,itemTextColor:d,itemTextColorDisabled:f,itemColorPending:v,titleFontWeight:t,closeColorHover:p,closeColorPressed:g,closeIconColor:m,closeIconColorHover:y,closeIconColorPressed:x})}};function OLe(e){const{borderRadiusSmall:t,dividerColor:r,hoverColor:n,pressedColor:i,primaryColor:a,textColor3:o,textColor2:s,textColorDisabled:l,fontSize:u}=e;return{fontSize:u,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:t,nodeColorHover:n,nodeColorPressed:i,nodeColorActive:ut(a,{alpha:.1}),arrowColor:o,nodeTextColor:s,nodeTextColorDisabled:l,loadingColor:a,dropMarkColor:a,lineColor:r}}const Fee={name:"Tree",common:Ct,peers:{Checkbox:Xm,Scrollbar:_s,Empty:qp},self(e){const{primaryColor:t}=e,r=OLe(e);return r.nodeColorActive=ut(t,{alpha:.15}),r}},FLe={name:"TreeSelect",common:Ct,peers:{Tree:Fee,Empty:qp,InternalSelection:x5}},NLe={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"};function BLe(e){const{primaryColor:t,textColor2:r,borderColor:n,lineHeight:i,fontSize:a,borderRadiusSmall:o,dividerColor:s,fontWeightStrong:l,textColor1:u,textColor3:c,infoColor:f,warningColor:d,errorColor:h,successColor:v,codeColor:p}=e;return Object.assign(Object.assign({},NLe),{aTextColor:t,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:i,blockquoteFontSize:a,codeBorderRadius:o,liTextColor:r,liLineHeight:i,liFontSize:a,hrColor:s,headerFontWeight:l,headerTextColor:u,pTextColor:r,pTextColor1Depth:u,pTextColor2Depth:r,pTextColor3Depth:c,pLineHeight:i,pFontSize:a,headerBarColor:t,headerBarColorPrimary:t,headerBarColorInfo:f,headerBarColorError:h,headerBarColorWarning:d,headerBarColorSuccess:v,textColor:r,textColor1Depth:u,textColor2Depth:r,textColor3Depth:c,textColorPrimary:t,textColorInfo:f,textColorSuccess:v,textColorWarning:d,textColorError:h,codeTextColor:r,codeColor:p,codeBorder:"1px solid #0000"})}const zLe={name:"Typography",common:Ct,self:BLe};function Nee(e){const{iconColor:t,primaryColor:r,errorColor:n,textColor2:i,successColor:a,opacityDisabled:o,actionColor:s,borderColor:l,hoverColor:u,lineHeight:c,borderRadius:f,fontSize:d}=e;return{fontSize:d,lineHeight:c,borderRadius:f,draggerColor:s,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:u,itemColorHoverError:ut(n,{alpha:.06}),itemTextColor:i,itemTextColorError:n,itemTextColorSuccess:a,itemIconColor:t,itemDisabledOpacity:o,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}}const HLe={name:"Upload",common:$n,peers:{Button:yE,Progress:Iee},self:Nee},VLe={name:"Upload",common:Ct,peers:{Button:bs,Progress:kee},self(e){const{errorColor:t}=e,r=Nee(e);return r.itemColorHoverError=ut(t,{alpha:.09}),r}},$Le={name:"Watermark",common:Ct,self(e){const{fontFamily:t}=e;return{fontFamily:t}}},GLe={name:"FloatButton",common:Ct,self(e){const{popoverColor:t,textColor2:r,buttonColor2Hover:n,buttonColor2Pressed:i,primaryColor:a,primaryColorHover:o,primaryColorPressed:s,baseColor:l,borderRadius:u}=e;return{color:t,textColor:r,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)",colorHover:n,colorPressed:i,colorPrimary:a,colorPrimaryHover:o,colorPrimaryPressed:s,textColorPrimary:l,borderRadiusSquare:u}}},ULe=ie("gradient-text",`
 display: inline-block;
 font-weight: var(--n-font-weight);
 -webkit-background-clip: text;
 background-clip: text;
 color: #0000;
 white-space: nowrap;
 background-image: linear-gradient(var(--n-rotate), var(--n-color-start) 0%, var(--n-color-end) 100%);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier);
`),WLe=Object.assign(Object.assign({},nr.props),{size:[String,Number],fontSize:[String,Number],type:{type:String,default:"primary"},color:[Object,String],gradient:[Object,String]}),XLe=lt({name:"GradientText",props:WLe,setup(e){jq();const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=tn(e),n=me(()=>{const{type:u}=e;return u==="danger"?"error":u}),i=me(()=>{let u=e.size||e.fontSize;return u&&(u=gi(u)),u||void 0}),a=me(()=>{const u=e.color||e.gradient;if(typeof u=="string")return u;if(u){const c=u.deg||0,f=u.from,d=u.to;return`linear-gradient(${c}deg, ${f} 0%, ${d} 100%)`}}),o=nr("GradientText","-gradient-text",ULe,GRe,e,t),s=me(()=>{const{value:u}=n,{common:{cubicBezierEaseInOut:c},self:{rotate:f,[tt("colorStart",u)]:d,[tt("colorEnd",u)]:h,fontWeight:v}}=o.value;return{"--n-bezier":c,"--n-rotate":f,"--n-color-start":d,"--n-color-end":h,"--n-font-weight":v}}),l=r?ti("gradient-text",me(()=>n.value[0]),s,e):void 0;return{mergedClsPrefix:t,compatibleType:n,styleFontSize:i,styleBgImage:a,cssVars:r?void 0:s,themeClass:l?.themeClass,onRender:l?.onRender}},render(){const{mergedClsPrefix:e,onRender:t}=this;return t?.(),I("span",{class:[`${e}-gradient-text`,`${e}-gradient-text--${this.compatibleType}-type`,this.themeClass],style:[{fontSize:this.styleFontSize,backgroundImage:this.styleBgImage},this.cssVars]},this.$slots)}});function jLe(e){const{primaryColor:t,baseColor:r}=e;return{color:t,iconColor:r}}const YLe={name:"IconWrapper",common:Ct,self:jLe},KLe={name:"Image",common:Ct,peers:{Tooltip:xE},self:e=>{const{textColor2:t}=e;return{toolbarIconColor:t,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}};function ZLe(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const qLe={name:"Image",common:$n,peers:{Tooltip:T5},self:ZLe};function JLe(){return I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function QLe(){return I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function eIe(){return I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const R5=Object.assign(Object.assign({},nr.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),Bee="n-image",tIe=we([we("body >",[ie("image-container","position: fixed;")]),ie("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),ie("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[tT()]),ie("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[ie("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),tT()]),ie("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[Um()]),ie("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),ie("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[zn("preview-disabled",`
 cursor: pointer;
 `),we("img",`
 border-radius: inherit;
 `)])]),oS=32,zee=lt({name:"ImagePreview",props:Object.assign(Object.assign({},R5),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=nr("Image","-image",tIe,qLe,e,rt(e,"clsPrefix"));let r=null;const n=xe(null),i=xe(null),a=xe(void 0),o=xe(!1),s=xe(!1),{localeRef:l}=Vm("Image");function u(){const{value:J}=i;if(!r||!J)return;const{style:se}=J,he=r.getBoundingClientRect(),_e=he.left+he.width/2,ge=he.top+he.height/2;se.transformOrigin=`${_e}px ${ge}px`}function c(J){var se,he;switch(J.key){case" ":J.preventDefault();break;case"ArrowLeft":(se=e.onPrev)===null||se===void 0||se.call(e);break;case"ArrowRight":(he=e.onNext)===null||he===void 0||he.call(e);break;case"Escape":ve();break}}hn(o,J=>{J?fn("keydown",document,c):an("keydown",document,c)}),Li(()=>{an("keydown",document,c)});let f=0,d=0,h=0,v=0,p=0,g=0,m=0,y=0,x=!1;function b(J){const{clientX:se,clientY:he}=J;h=se-f,v=he-d,n_(Z)}function w(J){const{mouseUpClientX:se,mouseUpClientY:he,mouseDownClientX:_e,mouseDownClientY:ge}=J,$e=_e-se,Le=ge-he,fe=`vertical${Le>0?"Top":"Bottom"}`,de=`horizontal${$e>0?"Left":"Right"}`;return{moveVerticalDirection:fe,moveHorizontalDirection:de,deltaHorizontal:$e,deltaVertical:Le}}function S(J){const{value:se}=n;if(!se)return{offsetX:0,offsetY:0};const he=se.getBoundingClientRect(),{moveVerticalDirection:_e,moveHorizontalDirection:ge,deltaHorizontal:$e,deltaVertical:Le}=J||{};let fe=0,de=0;return he.width<=window.innerWidth?fe=0:he.left>0?fe=(he.width-window.innerWidth)/2:he.right<window.innerWidth?fe=-(he.width-window.innerWidth)/2:ge==="horizontalRight"?fe=Math.min((he.width-window.innerWidth)/2,p-($e??0)):fe=Math.max(-((he.width-window.innerWidth)/2),p-($e??0)),he.height<=window.innerHeight?de=0:he.top>0?de=(he.height-window.innerHeight)/2:he.bottom<window.innerHeight?de=-(he.height-window.innerHeight)/2:_e==="verticalBottom"?de=Math.min((he.height-window.innerHeight)/2,g-(Le??0)):de=Math.max(-((he.height-window.innerHeight)/2),g-(Le??0)),{offsetX:fe,offsetY:de}}function C(J){an("mousemove",document,b),an("mouseup",document,C);const{clientX:se,clientY:he}=J;x=!1;const _e=w({mouseUpClientX:se,mouseUpClientY:he,mouseDownClientX:m,mouseDownClientY:y}),ge=S(_e);h=ge.offsetX,v=ge.offsetY,Z()}const E=rr(Bee,null);function A(J){var se,he;if((he=(se=E?.previewedImgPropsRef.value)===null||se===void 0?void 0:se.onMousedown)===null||he===void 0||he.call(se,J),J.button!==0)return;const{clientX:_e,clientY:ge}=J;x=!0,f=_e-h,d=ge-v,p=h,g=v,m=_e,y=ge,Z(),fn("mousemove",document,b),fn("mouseup",document,C)}const M=1.5;let D=0,R=1,L=0;function k(J){var se,he;(he=(se=E?.previewedImgPropsRef.value)===null||se===void 0?void 0:se.onDblclick)===null||he===void 0||he.call(se,J);const _e=q();R=R===_e?1:_e,Z()}function O(){R=1,D=0}function F(){var J;O(),L=0,(J=e.onPrev)===null||J===void 0||J.call(e)}function H(){var J;O(),L=0,(J=e.onNext)===null||J===void 0||J.call(e)}function V(){L-=90,Z()}function U(){L+=90,Z()}function K(){const{value:J}=n;if(!J)return 1;const{innerWidth:se,innerHeight:he}=window,_e=Math.max(1,J.naturalHeight/(he-oS)),ge=Math.max(1,J.naturalWidth/(se-oS));return Math.max(3,_e*2,ge*2)}function q(){const{value:J}=n;if(!J)return 1;const{innerWidth:se,innerHeight:he}=window,_e=J.naturalHeight/(he-oS),ge=J.naturalWidth/(se-oS);return _e<1&&ge<1?1:Math.max(_e,ge)}function N(){const J=K();R<J&&(D+=1,R=Math.min(J,Math.pow(M,D)),Z())}function W(){if(R>.5){const J=R;D-=1,R=Math.max(.5,Math.pow(M,D));const se=J-R;Z(!1);const he=S();R+=se,Z(!1),R-=se,h=he.offsetX,v=he.offsetY,Z()}}function j(){const J=a.value;J&&a5(J,void 0)}function Z(J=!0){var se;const{value:he}=n;if(!he)return;const{style:_e}=he,ge=GA((se=E?.previewedImgPropsRef.value)===null||se===void 0?void 0:se.style);let $e="";if(typeof ge=="string")$e=`${ge};`;else for(const fe in ge)$e+=`${DAe(fe)}: ${ge[fe]};`;const Le=`transform-origin: center; transform: translateX(${h}px) translateY(${v}px) rotate(${L}deg) scale(${R});`;x?_e.cssText=`${$e}cursor: grabbing; transition: none;${Le}`:_e.cssText=`${$e}cursor: grab;${Le}${J?"":"transition: none;"}`,J||he.offsetHeight}function ve(){o.value=!o.value,s.value=!0}function Te(){R=q(),D=Math.ceil(Math.log(R)/Math.log(M)),h=0,v=0,Z()}const Se={setPreviewSrc:J=>{a.value=J},setThumbnailEl:J=>{r=J},toggleShow:ve};function te(J,se){if(e.showToolbarTooltip){const{value:he}=t;return I(uee,{to:!1,theme:he.peers.Tooltip,themeOverrides:he.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>l.value[se],trigger:()=>J})}else return J}const pe=me(()=>{const{common:{cubicBezierEaseInOut:J},self:{toolbarIconColor:se,toolbarBorderRadius:he,toolbarBoxShadow:_e,toolbarColor:ge}}=t.value;return{"--n-bezier":J,"--n-toolbar-icon-color":se,"--n-toolbar-color":ge,"--n-toolbar-border-radius":he,"--n-toolbar-box-shadow":_e}}),{inlineThemeDisabled:Re}=tn(),z=Re?ti("image-preview",void 0,pe,e):void 0;return Object.assign({previewRef:n,previewWrapperRef:i,previewSrc:a,show:o,appear:zm(),displayed:s,previewedImgProps:E?.previewedImgPropsRef,handleWheel(J){J.preventDefault()},handlePreviewMousedown:A,handlePreviewDblclick:k,syncTransformOrigin:u,handleAfterLeave:()=>{O(),L=0,s.value=!1},handleDragStart:J=>{var se,he;(he=(se=E?.previewedImgPropsRef.value)===null||se===void 0?void 0:se.onDragstart)===null||he===void 0||he.call(se,J),J.preventDefault()},zoomIn:N,zoomOut:W,handleDownloadClick:j,rotateCounterclockwise:V,rotateClockwise:U,handleSwitchPrev:F,handleSwitchNext:H,withTooltip:te,resizeToOrignalImageSize:Te,cssVars:Re?void 0:pe,themeClass:z?.themeClass,onRender:z?.onRender},Se)},render(){var e,t;const{clsPrefix:r,renderToolbar:n,withTooltip:i}=this,a=i(I(Yr,{clsPrefix:r,onClick:this.handleSwitchPrev},{default:JLe}),"tipPrevious"),o=i(I(Yr,{clsPrefix:r,onClick:this.handleSwitchNext},{default:QLe}),"tipNext"),s=i(I(Yr,{clsPrefix:r,onClick:this.rotateCounterclockwise},{default:()=>I(jAe,null)}),"tipCounterclockwise"),l=i(I(Yr,{clsPrefix:r,onClick:this.rotateClockwise},{default:()=>I(XAe,null)}),"tipClockwise"),u=i(I(Yr,{clsPrefix:r,onClick:this.resizeToOrignalImageSize},{default:()=>I(UAe,null)}),"tipOriginalSize"),c=i(I(Yr,{clsPrefix:r,onClick:this.zoomOut},{default:()=>I(ZAe,null)}),"tipZoomOut"),f=i(I(Yr,{clsPrefix:r,onClick:this.handleDownloadClick},{default:()=>I(aQ,null)}),"tipDownload"),d=i(I(Yr,{clsPrefix:r,onClick:this.toggleShow},{default:eIe}),"tipClose"),h=i(I(Yr,{clsPrefix:r,onClick:this.zoomIn},{default:()=>I(KAe,null)}),"tipZoomIn");return I(Dr,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),I(t5,{show:this.show},{default:()=>{var v;return this.show||this.displayed?((v=this.onRender)===null||v===void 0||v.call(this),_u(I("div",{class:[`${r}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},I(vs,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?I("div",{class:`${r}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?I(vs,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?I("div",{class:`${r}-image-preview-toolbar`},n?n({nodes:{prev:a,next:o,rotateCounterclockwise:s,rotateClockwise:l,resizeToOriginalSize:u,zoomOut:c,zoomIn:h,download:f,close:d}}):I(Dr,null,this.onPrev?I(Dr,null,a,o):null,s,l,u,c,h,f,d)):null}):null,I(vs,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:p={}}=this;return _u(I("div",{class:`${r}-image-preview-wrapper`,ref:"previewWrapperRef"},I("img",Object.assign({},p,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${r}-image-preview`,p.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[om,this.show]])}})),[[rE,{enabled:this.show}]])):null}}))}}),Hee="n-image-group",rIe=R5,nIe=lt({name:"ImageGroup",props:rIe,setup(e){let t;const{mergedClsPrefixRef:r}=tn(e),n=`c${Cp()}`,i=Ah(),a=xe(null),o=l=>{var u;t=l,(u=a.value)===null||u===void 0||u.setPreviewSrc(l)};function s(l){var u,c;if(!i?.proxy)return;const d=i.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${n}]:not([data-error=true])`);if(!d.length)return;const h=Array.from(d).findIndex(v=>v.dataset.previewSrc===t);~h?o(d[(h+l+d.length)%d.length].dataset.previewSrc):o(d[0].dataset.previewSrc),l===1?(u=e.onPreviewNext)===null||u===void 0||u.call(e):(c=e.onPreviewPrev)===null||c===void 0||c.call(e)}return wn(Hee,{mergedClsPrefixRef:r,setPreviewSrc:o,setThumbnailEl:l=>{var u;(u=a.value)===null||u===void 0||u.setThumbnailEl(l)},toggleShow:()=>{var l;(l=a.value)===null||l===void 0||l.toggleShow()},groupId:n,renderToolbarRef:rt(e,"renderToolbar")}),{mergedClsPrefix:r,previewInstRef:a,next:()=>{s(1)},prev:()=>{s(-1)}}},render(){return I(zee,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},this.$slots)}}),iIe=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},R5),aIe=lt({name:"Image",props:iIe,slots:Object,inheritAttrs:!1,setup(e){const t=xe(null),r=xe(!1),n=xe(null),i=rr(Hee,null),{mergedClsPrefixRef:a}=i||tn(e),o={click:()=>{if(e.previewDisabled||r.value)return;const u=e.previewSrc||e.src;if(i){i.setPreviewSrc(u),i.setThumbnailEl(t.value),i.toggleShow();return}const{value:c}=n;c&&(c.setPreviewSrc(u),c.setThumbnailEl(t.value),c.toggleShow())}},s=xe(!e.lazy);Vn(()=>{var u;(u=t.value)===null||u===void 0||u.setAttribute("data-group-id",i?.groupId||"")}),Vn(()=>{if(e.lazy&&e.intersectionObserverOptions){let u;const c=eo(()=>{u?.(),u=void 0,u=AMe(t.value,e.intersectionObserverOptions,s)});Li(()=>{c(),u?.()})}}),eo(()=>{var u;e.src||((u=e.imgProps)===null||u===void 0||u.src),r.value=!1});const l=xe(!1);return wn(Bee,{previewedImgPropsRef:rt(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:a,groupId:i?.groupId,previewInstRef:n,imageRef:t,showError:r,shouldStartLoading:s,loaded:l,mergedOnClick:u=>{var c,f;o.click(),(f=(c=e.imgProps)===null||c===void 0?void 0:c.onClick)===null||f===void 0||f.call(c,u)},mergedOnError:u=>{if(!s.value)return;r.value=!0;const{onError:c,imgProps:{onError:f}={}}=e;c?.(u),f?.(u)},mergedOnLoad:u=>{const{onLoad:c,imgProps:{onLoad:f}={}}=e;c?.(u),f?.(u),l.value=!0}},o)},render(){var e,t;const{mergedClsPrefix:r,imgProps:n={},loaded:i,$attrs:a,lazy:o}=this,s=Vs(this.$slots.error,()=>[]),l=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),u=this.src||n.src,c=this.showError&&s.length?s:I("img",Object.assign(Object.assign({},n),{ref:"imageRef",width:this.width||n.width,height:this.height||n.height,src:this.showError?this.fallbackSrc:o&&this.intersectionObserverOptions?this.shouldStartLoading?u:void 0:u,alt:this.alt||n.alt,"aria-label":this.alt||n.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:CMe&&o&&!this.intersectionObserverOptions?"lazy":"eager",style:[n.style||"",l&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return I("div",Object.assign({},a,{role:"none",class:[a.class,`${r}-image`,(this.previewDisabled||this.showError)&&`${r}-image--preview-disabled`]}),this.groupId?c:I(zee,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:r,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},{default:()=>c}),!i&&l)}}),oIe={extraFontSize:"12px",width:"440px"},sIe={name:"Transfer",common:Ct,peers:{Checkbox:Xm,Scrollbar:_s,Input:Xs,Empty:qp,Button:bs},self(e){const{iconColorDisabled:t,iconColor:r,fontWeight:n,fontSizeLarge:i,fontSizeMedium:a,fontSizeSmall:o,heightLarge:s,heightMedium:l,heightSmall:u,borderRadius:c,inputColor:f,tableHeaderColor:d,textColor1:h,textColorDisabled:v,textColor2:p,hoverColor:g}=e;return Object.assign(Object.assign({},oIe),{itemHeightSmall:u,itemHeightMedium:l,itemHeightLarge:s,fontSizeSmall:o,fontSizeMedium:a,fontSizeLarge:i,borderRadius:c,borderColor:"#0000",listColor:f,headerColor:d,titleTextColor:h,titleTextColorDisabled:v,extraTextColor:p,filterDividerColor:"#0000",itemTextColor:p,itemTextColorDisabled:v,itemColorPending:g,titleFontWeight:n,iconColor:r,iconColorDisabled:t})}};function lIe(){return{}}const uIe={name:"Marquee",common:Ct,self:lIe},cIe={success:I(dE,null),error:I(fE,null),warning:I(hE,null),info:I(l_,null)},fIe=lt({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function r(i,a,o,s){const{gapDegree:l,viewBoxWidth:u,strokeWidth:c}=e,f=50,d=0,h=f,v=0,p=2*f,g=50+c/2,m=`M ${g},${g} m ${d},${h}
      a ${f},${f} 0 1 1 ${v},${-p}
      a ${f},${f} 0 1 1 ${-v},${p}`,y=Math.PI*2*f,x={stroke:s==="rail"?o:typeof e.fillColor=="object"?"url(#gradient)":o,strokeDasharray:`${i/100*(y-l)}px ${u*8}px`,strokeDashoffset:`-${l/2}px`,transformOrigin:a?"center":void 0,transform:a?`rotate(${a}deg)`:void 0};return{pathString:m,pathStyle:x}}const n=()=>{const i=typeof e.fillColor=="object",a=i?e.fillColor.stops[0]:"",o=i?e.fillColor.stops[1]:"";return i&&I("defs",null,I("linearGradient",{id:"gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%"},I("stop",{offset:"0%","stop-color":a}),I("stop",{offset:"100%","stop-color":o})))};return()=>{const{fillColor:i,railColor:a,strokeWidth:o,offsetDegree:s,status:l,percentage:u,showIndicator:c,indicatorTextColor:f,unit:d,gapOffsetDegree:h,clsPrefix:v}=e,{pathString:p,pathStyle:g}=r(100,0,a,"rail"),{pathString:m,pathStyle:y}=r(u,s,i,"fill"),x=100+o;return I("div",{class:`${v}-progress-content`,role:"none"},I("div",{class:`${v}-progress-graph`,"aria-hidden":!0},I("div",{class:`${v}-progress-graph-circle`,style:{transform:h?`rotate(${h}deg)`:void 0}},I("svg",{viewBox:`0 0 ${x} ${x}`},n(),I("g",null,I("path",{class:`${v}-progress-graph-circle-rail`,d:p,"stroke-width":o,"stroke-linecap":"round",fill:"none",style:g})),I("g",null,I("path",{class:[`${v}-progress-graph-circle-fill`,u===0&&`${v}-progress-graph-circle-fill--empty`],d:m,"stroke-width":o,"stroke-linecap":"round",fill:"none",style:y}))))),c?I("div",null,t.default?I("div",{class:`${v}-progress-custom-content`,role:"none"},t.default()):l!=="default"?I("div",{class:`${v}-progress-icon`,"aria-hidden":!0},I(Yr,{clsPrefix:v},{default:()=>cIe[l]})):I("div",{class:`${v}-progress-text`,style:{color:f},role:"none"},I("span",{class:`${v}-progress-text__percentage`},u),I("span",{class:`${v}-progress-text__unit`},d))):null)}}}),dIe={success:I(dE,null),error:I(fE,null),warning:I(hE,null),info:I(l_,null)},hIe=lt({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const r=me(()=>gi(e.height)),n=me(()=>{var o,s;return typeof e.fillColor=="object"?`linear-gradient(to right, ${(o=e.fillColor)===null||o===void 0?void 0:o.stops[0]} , ${(s=e.fillColor)===null||s===void 0?void 0:s.stops[1]})`:e.fillColor}),i=me(()=>e.railBorderRadius!==void 0?gi(e.railBorderRadius):e.height!==void 0?gi(e.height,{c:.5}):""),a=me(()=>e.fillBorderRadius!==void 0?gi(e.fillBorderRadius):e.railBorderRadius!==void 0?gi(e.railBorderRadius):e.height!==void 0?gi(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:o,railColor:s,railStyle:l,percentage:u,unit:c,indicatorTextColor:f,status:d,showIndicator:h,processing:v,clsPrefix:p}=e;return I("div",{class:`${p}-progress-content`,role:"none"},I("div",{class:`${p}-progress-graph`,"aria-hidden":!0},I("div",{class:[`${p}-progress-graph-line`,{[`${p}-progress-graph-line--indicator-${o}`]:!0}]},I("div",{class:`${p}-progress-graph-line-rail`,style:[{backgroundColor:s,height:r.value,borderRadius:i.value},l]},I("div",{class:[`${p}-progress-graph-line-fill`,v&&`${p}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,background:n.value,height:r.value,lineHeight:r.value,borderRadius:a.value}},o==="inside"?I("div",{class:`${p}-progress-graph-line-indicator`,style:{color:f}},t.default?t.default():`${u}${c}`):null)))),h&&o==="outside"?I("div",null,t.default?I("div",{class:`${p}-progress-custom-content`,style:{color:f},role:"none"},t.default()):d==="default"?I("div",{role:"none",class:`${p}-progress-icon ${p}-progress-icon--as-text`,style:{color:f}},u,c):I("div",{class:`${p}-progress-icon`,"aria-hidden":!0},I(Yr,{clsPrefix:p},{default:()=>dIe[d]}))):null)}}});function B7(e,t,r=100){return`m ${r/2} ${r/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const vIe=lt({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const r=me(()=>e.percentage.map((a,o)=>`${Math.PI*a/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*o)-e.circleGap*o)*2}, ${e.viewBoxWidth*8}`)),n=(i,a)=>{const o=e.fillColor[a],s=typeof o=="object"?o.stops[0]:"",l=typeof o=="object"?o.stops[1]:"";return typeof e.fillColor[a]=="object"&&I("linearGradient",{id:`gradient-${a}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},I("stop",{offset:"0%","stop-color":s}),I("stop",{offset:"100%","stop-color":l}))};return()=>{const{viewBoxWidth:i,strokeWidth:a,circleGap:o,showIndicator:s,fillColor:l,railColor:u,railStyle:c,percentage:f,clsPrefix:d}=e;return I("div",{class:`${d}-progress-content`,role:"none"},I("div",{class:`${d}-progress-graph`,"aria-hidden":!0},I("div",{class:`${d}-progress-graph-circle`},I("svg",{viewBox:`0 0 ${i} ${i}`},I("defs",null,f.map((h,v)=>n(h,v))),f.map((h,v)=>I("g",{key:v},I("path",{class:`${d}-progress-graph-circle-rail`,d:B7(i/2-a/2*(1+2*v)-o*v,a,i),"stroke-width":a,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:u[v]},c[v]]}),I("path",{class:[`${d}-progress-graph-circle-fill`,h===0&&`${d}-progress-graph-circle-fill--empty`],d:B7(i/2-a/2*(1+2*v)-o*v,a,i),"stroke-width":a,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:r.value[v],strokeDashoffset:0,stroke:typeof l[v]=="object"?`url(#gradient-${v})`:l[v]}})))))),s&&t.default?I("div",null,I("div",{class:`${d}-progress-text`},t.default())):null)}}}),pIe=we([ie("progress",{display:"inline-block"},[ie("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Ce("line",`
 width: 100%;
 display: block;
 `,[ie("progress-content",`
 display: flex;
 align-items: center;
 `,[ie("progress-graph",{flex:1})]),ie("progress-custom-content",{marginLeft:"14px"}),ie("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[Ce("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),Ce("circle, dashboard",{width:"120px"},[ie("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),ie("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),ie("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),Ce("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[ie("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),ie("progress-content",{position:"relative"}),ie("progress-graph",{position:"relative"},[ie("progress-graph-circle",[we("svg",{verticalAlign:"bottom"}),ie("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[Ce("empty",{opacity:0})]),ie("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),ie("progress-graph-line",[Ce("indicator-inside",[ie("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[ie("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),ie("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),Ce("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[ie("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),ie("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),ie("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[ie("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[Ce("processing",[we("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),we("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),gIe=Object.assign(Object.assign({},nr.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),mIe=lt({name:"Progress",props:gIe,setup(e){const t=me(()=>e.indicatorPlacement||e.indicatorPosition),r=me(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:n,inlineThemeDisabled:i}=tn(e),a=nr("Progress","-progress",pIe,Iee,e,n),o=me(()=>{const{status:l}=e,{common:{cubicBezierEaseInOut:u},self:{fontSize:c,fontSizeCircle:f,railColor:d,railHeight:h,iconSizeCircle:v,iconSizeLine:p,textColorCircle:g,textColorLineInner:m,textColorLineOuter:y,lineBgProcessing:x,fontWeightCircle:b,[tt("iconColor",l)]:w,[tt("fillColor",l)]:S}}=a.value;return{"--n-bezier":u,"--n-fill-color":S,"--n-font-size":c,"--n-font-size-circle":f,"--n-font-weight-circle":b,"--n-icon-color":w,"--n-icon-size-circle":v,"--n-icon-size-line":p,"--n-line-bg-processing":x,"--n-rail-color":d,"--n-rail-height":h,"--n-text-color-circle":g,"--n-text-color-line-inner":m,"--n-text-color-line-outer":y}}),s=i?ti("progress",me(()=>e.status[0]),o,e):void 0;return{mergedClsPrefix:n,mergedIndicatorPlacement:t,gapDeg:r,cssVars:i?void 0:o,themeClass:s?.themeClass,onRender:s?.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:r,showIndicator:n,status:i,railColor:a,railStyle:o,color:s,percentage:l,viewBoxWidth:u,strokeWidth:c,mergedIndicatorPlacement:f,unit:d,borderRadius:h,fillBorderRadius:v,height:p,processing:g,circleGap:m,mergedClsPrefix:y,gapDeg:x,gapOffsetDegree:b,themeClass:w,$slots:S,onRender:C}=this;return C?.(),I("div",{class:[w,`${y}-progress`,`${y}-progress--${e}`,`${y}-progress--${i}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?I(fIe,{clsPrefix:y,status:i,showIndicator:n,indicatorTextColor:r,railColor:a,fillColor:s,railStyle:o,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:u,strokeWidth:c,gapDegree:x===void 0?e==="dashboard"?75:0:x,gapOffsetDegree:b,unit:d},S):e==="line"?I(hIe,{clsPrefix:y,status:i,showIndicator:n,indicatorTextColor:r,railColor:a,fillColor:s,railStyle:o,percentage:l,processing:g,indicatorPlacement:f,unit:d,fillBorderRadius:v,railBorderRadius:h,height:p},S):e==="multiple-circle"?I(vIe,{clsPrefix:y,strokeWidth:c,railColor:a,fillColor:s,railStyle:o,viewBoxWidth:u,percentage:l,showIndicator:n,circleGap:m},S):null)}}),yIe={name:"QrCode",common:Ct,self:e=>({borderRadius:e.borderRadius})},xIe={name:"Skeleton",common:Ct,self(e){const{heightSmall:t,heightMedium:r,heightLarge:n,borderRadius:i}=e;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:i,heightSmall:t,heightMedium:r,heightLarge:n}}};function _Ie(e){const{heightSmall:t,heightMedium:r,heightLarge:n,borderRadius:i}=e;return{color:"#eee",colorEnd:"#ddd",borderRadius:i,heightSmall:t,heightMedium:r,heightLarge:n}}const bIe={common:$n,self:_Ie},wIe=we([ie("skeleton",`
 height: 1em;
 width: 100%;
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),we("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]),SIe=Object.assign(Object.assign({},nr.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),Ph=lt({name:"Skeleton",inheritAttrs:!1,props:SIe,setup(e){jq();const{mergedClsPrefixRef:t}=tn(e),r=nr("Skeleton","-skeleton",wIe,bIe,e,t);return{mergedClsPrefix:t,style:me(()=>{var n,i;const a=r.value,{common:{cubicBezierEaseInOut:o}}=a,s=a.self,{color:l,colorEnd:u,borderRadius:c}=s;let f;const{circle:d,sharp:h,round:v,width:p,height:g,size:m,text:y,animated:x}=e;m!==void 0&&(f=s[tt("height",m)]);const b=d?(n=p??g)!==null&&n!==void 0?n:f:p,w=(i=d?p??g:g)!==null&&i!==void 0?i:f;return{display:y?"inline-block":"",verticalAlign:y?"-0.125em":"",borderRadius:d?"50%":v?"4096px":h?"":c,width:typeof b=="number"?ma(b):b,height:typeof w=="number"?ma(w):w,animation:x?"":"none","--n-bezier":o,"--n-color-start":l,"--n-color-end":u}})}},render(){const{repeat:e,style:t,mergedClsPrefix:r,$attrs:n}=this,i=I("div",Us({class:`${r}-skeleton`,style:t},n));return e>1?I(Dr,null,Vq(e,null).map(a=>[i,`
`])):i}}),CIe={name:"Split",common:Ct},L5="n-tabs",Vee={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},TIe=lt({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:Vee,slots:Object,setup(e){const t=rr(L5,null);return t||Wp("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return I("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),AIe=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},aE(Vee,["displayDirective"])),D3=lt({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:AIe,setup(e){const{mergedClsPrefixRef:t,valueRef:r,typeRef:n,closableRef:i,tabStyleRef:a,addTabStyleRef:o,tabClassRef:s,addTabClassRef:l,tabChangeIdRef:u,onBeforeLeaveRef:c,triggerRef:f,handleAdd:d,activateTab:h,handleClose:v}=rr(L5);return{trigger:f,mergedClosable:me(()=>{if(e.internalAddable)return!1;const{closable:p}=e;return p===void 0?i.value:p}),style:a,addStyle:o,tabClass:s,addTabClass:l,clsPrefix:t,value:r,type:n,handleClose(p){p.stopPropagation(),!e.disabled&&v(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable){d();return}const{name:p}=e,g=++u.id;if(p!==r.value){const{value:m}=c;m?Promise.resolve(m(e.name,r.value)).then(y=>{y&&u.id===g&&h(p)}):h(p)}}}},render(){const{internalAddable:e,clsPrefix:t,name:r,disabled:n,label:i,tab:a,value:o,mergedClosable:s,trigger:l,$slots:{default:u}}=this,c=i??a;return I("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?I("div",{class:`${t}-tabs-tab-pad`}):null,I("div",Object.assign({key:r,"data-name":r,"data-disabled":n?!0:void 0},Us({class:[`${t}-tabs-tab`,o===r&&`${t}-tabs-tab--active`,n&&`${t}-tabs-tab--disabled`,s&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`,e?this.addTabClass:this.tabClass],onClick:l==="click"?this.activateTab:void 0,onMouseenter:l==="hover"?this.activateTab:void 0,style:e?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),I("span",{class:`${t}-tabs-tab__label`},e?I(Dr,null,I("div",{class:`${t}-tabs-tab__height-placeholder`}," "),I(Yr,{clsPrefix:t},{default:()=>I(rQ,null)})):u?u():typeof c=="object"?c:Ba(c??r)),s&&this.type==="card"?I(fb,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:n}):null))}}),EIe=ie("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[Ce("segment-type",[ie("tabs-rail",[we("&.transition-disabled",[ie("tabs-capsule",`
 transition: none;
 `)])])]),Ce("top",[ie("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),Ce("left",[ie("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),Ce("left, right",`
 flex-direction: row;
 `,[ie("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),ie("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),Ce("right",`
 flex-direction: row-reverse;
 `,[ie("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),ie("tabs-bar",`
 left: 0;
 `)]),Ce("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[ie("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),ie("tabs-bar",`
 top: 0;
 `)]),ie("tabs-rail",`
 position: relative;
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[ie("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),ie("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[ie("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Ce("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),we("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),Ce("flex",[ie("tabs-nav",`
 width: 100%;
 position: relative;
 `,[ie("tabs-wrapper",`
 width: 100%;
 `,[ie("tabs-tab",`
 margin-right: 0;
 `)])])]),ie("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[Me("prefix, suffix",`
 display: flex;
 align-items: center;
 `),Me("prefix","padding-right: 16px;"),Me("suffix","padding-left: 16px;")]),Ce("top, bottom",[ie("tabs-nav-scroll-wrapper",[we("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),we("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),Ce("shadow-start",[we("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),Ce("shadow-end",[we("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),Ce("left, right",[ie("tabs-nav-scroll-content",`
 flex-direction: column;
 `),ie("tabs-nav-scroll-wrapper",[we("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),we("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),Ce("shadow-start",[we("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),Ce("shadow-end",[we("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),ie("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[ie("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[we("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `)]),we("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),ie("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),ie("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),ie("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),ie("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Ce("disabled",{cursor:"not-allowed"}),Me("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),Me("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),ie("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[we("&.transition-disabled",`
 transition: none;
 `),Ce("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),ie("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),ie("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[we("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),we("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),we("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),we("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),we("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),ie("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),Ce("line-type, bar-type",[ie("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[we("&:hover",{color:"var(--n-tab-text-color-hover)"}),Ce("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),Ce("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),ie("tabs-nav",[Ce("line-type",[Ce("top",[Me("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),ie("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),ie("tabs-bar",`
 bottom: -1px;
 `)]),Ce("left",[Me("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),ie("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),ie("tabs-bar",`
 right: -1px;
 `)]),Ce("right",[Me("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),ie("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),ie("tabs-bar",`
 left: -1px;
 `)]),Ce("bottom",[Me("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),ie("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),ie("tabs-bar",`
 top: -1px;
 `)]),Me("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),ie("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),ie("tabs-bar",`
 border-radius: 0;
 `)]),Ce("card-type",[Me("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),ie("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),ie("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),ie("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[Ce("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 justify-content: center;
 `,[Me("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),zn("disabled",[we("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),Ce("closable","padding-right: 8px;"),Ce("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),Ce("disabled","color: var(--n-tab-text-color-disabled);")])]),Ce("left, right",`
 flex-direction: column; 
 `,[Me("prefix, suffix",`
 padding: var(--n-tab-padding-vertical);
 `),ie("tabs-wrapper",`
 flex-direction: column;
 `),ie("tabs-tab-wrapper",`
 flex-direction: column;
 `,[ie("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])]),Ce("top",[Ce("card-type",[ie("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);"),Me("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),ie("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[Ce("active",`
 border-bottom: 1px solid #0000;
 `)]),ie("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),ie("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),Ce("left",[Ce("card-type",[ie("tabs-scroll-padding","border-right: 1px solid var(--n-tab-border-color);"),Me("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),ie("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[Ce("active",`
 border-right: 1px solid #0000;
 `)]),ie("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),ie("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),Ce("right",[Ce("card-type",[ie("tabs-scroll-padding","border-left: 1px solid var(--n-tab-border-color);"),Me("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),ie("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[Ce("active",`
 border-left: 1px solid #0000;
 `)]),ie("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),ie("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),Ce("bottom",[Ce("card-type",[ie("tabs-scroll-padding","border-top: 1px solid var(--n-tab-border-color);"),Me("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),ie("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[Ce("active",`
 border-top: 1px solid #0000;
 `)]),ie("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),ie("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),MIe=Object.assign(Object.assign({},nr.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),DIe=lt({name:"Tabs",props:MIe,slots:Object,setup(e,{slots:t}){var r,n,i,a;const{mergedClsPrefixRef:o,inlineThemeDisabled:s}=tn(e),l=nr("Tabs","-tabs",EIe,ELe,e,o),u=xe(null),c=xe(null),f=xe(null),d=xe(null),h=xe(null),v=xe(null),p=xe(!0),g=xe(!0),m=jC(e,["labelSize","size"]),y=jC(e,["activeName","value"]),x=xe((n=(r=y.value)!==null&&r!==void 0?r:e.defaultValue)!==null&&n!==void 0?n:t.default?(a=(i=wf(t.default())[0])===null||i===void 0?void 0:i.props)===null||a===void 0?void 0:a.name:null),b=bo(y,x),w={id:0},S=me(()=>{if(!(!e.justifyContent||e.type==="card"))return{display:"flex",justifyContent:e.justifyContent}});hn(b,()=>{w.id=0,D(),R()});function C(){var fe;const{value:de}=b;return de===null?null:(fe=u.value)===null||fe===void 0?void 0:fe.querySelector(`[data-name="${de}"]`)}function E(fe){if(e.type==="card")return;const{value:de}=c;if(!de)return;const Ve=de.style.opacity==="0";if(fe){const Ge=`${o.value}-tabs-bar--disabled`,{barWidth:ke,placement:Xe}=e;if(fe.dataset.disabled==="true"?de.classList.add(Ge):de.classList.remove(Ge),["top","bottom"].includes(Xe)){if(M(["top","maxHeight","height"]),typeof ke=="number"&&fe.offsetWidth>=ke){const gt=Math.floor((fe.offsetWidth-ke)/2)+fe.offsetLeft;de.style.left=`${gt}px`,de.style.maxWidth=`${ke}px`}else de.style.left=`${fe.offsetLeft}px`,de.style.maxWidth=`${fe.offsetWidth}px`;de.style.width="8192px",Ve&&(de.style.transition="none"),de.offsetWidth,Ve&&(de.style.transition="",de.style.opacity="1")}else{if(M(["left","maxWidth","width"]),typeof ke=="number"&&fe.offsetHeight>=ke){const gt=Math.floor((fe.offsetHeight-ke)/2)+fe.offsetTop;de.style.top=`${gt}px`,de.style.maxHeight=`${ke}px`}else de.style.top=`${fe.offsetTop}px`,de.style.maxHeight=`${fe.offsetHeight}px`;de.style.height="8192px",Ve&&(de.style.transition="none"),de.offsetHeight,Ve&&(de.style.transition="",de.style.opacity="1")}}}function A(){if(e.type==="card")return;const{value:fe}=c;fe&&(fe.style.opacity="0")}function M(fe){const{value:de}=c;if(de)for(const Ve of fe)de.style[Ve]=""}function D(){if(e.type==="card")return;const fe=C();fe?E(fe):A()}function R(){var fe;const de=(fe=h.value)===null||fe===void 0?void 0:fe.$el;if(!de)return;const Ve=C();if(!Ve)return;const{scrollLeft:Ge,offsetWidth:ke}=de,{offsetLeft:Xe,offsetWidth:gt}=Ve;Ge>Xe?de.scrollTo({top:0,left:Xe,behavior:"smooth"}):Xe+gt>Ge+ke&&de.scrollTo({top:0,left:Xe+gt-ke,behavior:"smooth"})}const L=xe(null);let k=0,O=null;function F(fe){const de=L.value;if(de){k=fe.getBoundingClientRect().height;const Ve=`${k}px`,Ge=()=>{de.style.height=Ve,de.style.maxHeight=Ve};O?(Ge(),O(),O=null):O=Ge}}function H(fe){const de=L.value;if(de){const Ve=fe.getBoundingClientRect().height,Ge=()=>{document.body.offsetHeight,de.style.maxHeight=`${Ve}px`,de.style.height=`${Math.max(k,Ve)}px`};O?(O(),O=null,Ge()):O=Ge}}function V(){const fe=L.value;if(fe){fe.style.maxHeight="",fe.style.height="";const{paneWrapperStyle:de}=e;if(typeof de=="string")fe.style.cssText=de;else if(de){const{maxHeight:Ve,height:Ge}=de;Ve!==void 0&&(fe.style.maxHeight=Ve),Ge!==void 0&&(fe.style.height=Ge)}}}const U={value:[]},K=xe("next");function q(fe){const de=b.value;let Ve="next";for(const Ge of U.value){if(Ge===de)break;if(Ge===fe){Ve="prev";break}}K.value=Ve,N(fe)}function N(fe){const{onActiveNameChange:de,onUpdateValue:Ve,"onUpdate:value":Ge}=e;de&&ht(de,fe),Ve&&ht(Ve,fe),Ge&&ht(Ge,fe),x.value=fe}function W(fe){const{onClose:de}=e;de&&ht(de,fe)}function j(){const{value:fe}=c;if(!fe)return;const de="transition-disabled";fe.classList.add(de),D(),fe.classList.remove(de)}const Z=xe(null);function ve({transitionDisabled:fe}){const de=u.value;if(!de)return;fe&&de.classList.add("transition-disabled");const Ve=C();Ve&&Z.value&&(Z.value.style.width=`${Ve.offsetWidth}px`,Z.value.style.height=`${Ve.offsetHeight}px`,Z.value.style.transform=`translateX(${Ve.offsetLeft-hu(getComputedStyle(de).paddingLeft)}px)`,fe&&Z.value.offsetWidth),fe&&de.classList.remove("transition-disabled")}hn([b],()=>{e.type==="segment"&&Sa(()=>{ve({transitionDisabled:!1})})}),Vn(()=>{e.type==="segment"&&ve({transitionDisabled:!0})});let Te=0;function Se(fe){var de;if(fe.contentRect.width===0&&fe.contentRect.height===0||Te===fe.contentRect.width)return;Te=fe.contentRect.width;const{type:Ve}=e;if((Ve==="line"||Ve==="bar")&&j(),Ve!=="segment"){const{placement:Ge}=e;se((Ge==="top"||Ge==="bottom"?(de=h.value)===null||de===void 0?void 0:de.$el:v.value)||null)}}const te=lP(Se,64);hn([()=>e.justifyContent,()=>e.size],()=>{Sa(()=>{const{type:fe}=e;(fe==="line"||fe==="bar")&&j()})});const pe=xe(!1);function Re(fe){var de;const{target:Ve,contentRect:{width:Ge,height:ke}}=fe,Xe=Ve.parentElement.parentElement.offsetWidth,gt=Ve.parentElement.parentElement.offsetHeight,{placement:Kt}=e;if(!pe.value)Kt==="top"||Kt==="bottom"?Xe<Ge&&(pe.value=!0):gt<ke&&(pe.value=!0);else{const{value:Nt}=d;if(!Nt)return;Kt==="top"||Kt==="bottom"?Xe-Ge>Nt.$el.offsetWidth&&(pe.value=!1):gt-ke>Nt.$el.offsetHeight&&(pe.value=!1)}se(((de=h.value)===null||de===void 0?void 0:de.$el)||null)}const z=lP(Re,64);function J(){const{onAdd:fe}=e;fe&&fe(),Sa(()=>{const de=C(),{value:Ve}=h;!de||!Ve||Ve.scrollTo({left:de.offsetLeft,top:0,behavior:"smooth"})})}function se(fe){if(!fe)return;const{placement:de}=e;if(de==="top"||de==="bottom"){const{scrollLeft:Ve,scrollWidth:Ge,offsetWidth:ke}=fe;p.value=Ve<=0,g.value=Ve+ke>=Ge}else{const{scrollTop:Ve,scrollHeight:Ge,offsetHeight:ke}=fe;p.value=Ve<=0,g.value=Ve+ke>=Ge}}const he=lP(fe=>{se(fe.target)},64);wn(L5,{triggerRef:rt(e,"trigger"),tabStyleRef:rt(e,"tabStyle"),tabClassRef:rt(e,"tabClass"),addTabStyleRef:rt(e,"addTabStyle"),addTabClassRef:rt(e,"addTabClass"),paneClassRef:rt(e,"paneClass"),paneStyleRef:rt(e,"paneStyle"),mergedClsPrefixRef:o,typeRef:rt(e,"type"),closableRef:rt(e,"closable"),valueRef:b,tabChangeIdRef:w,onBeforeLeaveRef:rt(e,"onBeforeLeave"),activateTab:q,handleClose:W,handleAdd:J}),Gq(()=>{D(),R()}),eo(()=>{const{value:fe}=f;if(!fe)return;const{value:de}=o,Ve=`${de}-tabs-nav-scroll-wrapper--shadow-start`,Ge=`${de}-tabs-nav-scroll-wrapper--shadow-end`;p.value?fe.classList.remove(Ve):fe.classList.add(Ve),g.value?fe.classList.remove(Ge):fe.classList.add(Ge)});const _e={syncBarPosition:()=>{D()}},ge=()=>{ve({transitionDisabled:!0})},$e=me(()=>{const{value:fe}=m,{type:de}=e,Ve={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[de],Ge=`${fe}${Ve}`,{self:{barColor:ke,closeIconColor:Xe,closeIconColorHover:gt,closeIconColorPressed:Kt,tabColor:Nt,tabBorderColor:Sr,paneTextColor:Lt,tabFontWeight:er,tabBorderRadius:yr,tabFontWeightActive:ar,colorSegment:_t,fontWeightStrong:Ot,tabColorSegment:ue,closeSize:Pe,closeIconSize:Je,closeColorHover:bt,closeColorPressed:Tt,closeBorderRadius:Bt,[tt("panePadding",fe)]:Gt,[tt("tabPadding",Ge)]:Jt,[tt("tabPaddingVertical",Ge)]:Gr,[tt("tabGap",Ge)]:mn,[tt("tabGap",`${Ge}Vertical`)]:Jr,[tt("tabTextColor",de)]:di,[tt("tabTextColorActive",de)]:Oi,[tt("tabTextColorHover",de)]:Fi,[tt("tabTextColorDisabled",de)]:Ki,[tt("tabFontSize",fe)]:xi},common:{cubicBezierEaseInOut:Zi}}=l.value;return{"--n-bezier":Zi,"--n-color-segment":_t,"--n-bar-color":ke,"--n-tab-font-size":xi,"--n-tab-text-color":di,"--n-tab-text-color-active":Oi,"--n-tab-text-color-disabled":Ki,"--n-tab-text-color-hover":Fi,"--n-pane-text-color":Lt,"--n-tab-border-color":Sr,"--n-tab-border-radius":yr,"--n-close-size":Pe,"--n-close-icon-size":Je,"--n-close-color-hover":bt,"--n-close-color-pressed":Tt,"--n-close-border-radius":Bt,"--n-close-icon-color":Xe,"--n-close-icon-color-hover":gt,"--n-close-icon-color-pressed":Kt,"--n-tab-color":Nt,"--n-tab-font-weight":er,"--n-tab-font-weight-active":ar,"--n-tab-padding":Jt,"--n-tab-padding-vertical":Gr,"--n-tab-gap":mn,"--n-tab-gap-vertical":Jr,"--n-pane-padding-left":Ha(Gt,"left"),"--n-pane-padding-right":Ha(Gt,"right"),"--n-pane-padding-top":Ha(Gt,"top"),"--n-pane-padding-bottom":Ha(Gt,"bottom"),"--n-font-weight-strong":Ot,"--n-tab-color-segment":ue}}),Le=s?ti("tabs",me(()=>`${m.value[0]}${e.type[0]}`),$e,e):void 0;return Object.assign({mergedClsPrefix:o,mergedValue:b,renderedNames:new Set,segmentCapsuleElRef:Z,tabsPaneWrapperRef:L,tabsElRef:u,barElRef:c,addTabInstRef:d,xScrollInstRef:h,scrollWrapperElRef:f,addTabFixed:pe,tabWrapperStyle:S,handleNavResize:te,mergedSize:m,handleScroll:he,handleTabsResize:z,cssVars:s?void 0:$e,themeClass:Le?.themeClass,animationDirection:K,renderNameListRef:U,yScrollElRef:v,handleSegmentResize:ge,onAnimationBeforeLeave:F,onAnimationEnter:H,onAnimationAfterEnter:V,onRender:Le?.onRender},_e)},render(){const{mergedClsPrefix:e,type:t,placement:r,addTabFixed:n,addable:i,mergedSize:a,renderNameListRef:o,onRender:s,paneWrapperClass:l,paneWrapperStyle:u,$slots:{default:c,prefix:f,suffix:d}}=this;s?.();const h=c?wf(c()).filter(w=>w.type.__TAB_PANE__===!0):[],v=c?wf(c()).filter(w=>w.type.__TAB__===!0):[],p=!v.length,g=t==="card",m=t==="segment",y=!g&&!m&&this.justifyContent;o.value=[];const x=()=>{const w=I("div",{style:this.tabWrapperStyle,class:`${e}-tabs-wrapper`},y?null:I("div",{class:`${e}-tabs-scroll-padding`,style:r==="top"||r==="bottom"?{width:`${this.tabsPadding}px`}:{height:`${this.tabsPadding}px`}}),p?h.map((S,C)=>(o.value.push(S.props.name),SP(I(D3,Object.assign({},S.props,{internalCreatedByPane:!0,internalLeftPadded:C!==0&&(!y||y==="center"||y==="start"||y==="end")}),S.children?{default:S.children.tab}:void 0)))):v.map((S,C)=>(o.value.push(S.props.name),SP(C!==0&&!y?V7(S):S))),!n&&i&&g?H7(i,(p?h.length:v.length)!==0):null,y?null:I("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return I("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},g&&i?I(bf,{onResize:this.handleTabsResize},{default:()=>w}):w,g?I("div",{class:`${e}-tabs-pad`}):null,g?null:I("div",{ref:"barElRef",class:`${e}-tabs-bar`}))},b=m?"top":r;return I("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${a}-size`,y&&`${e}-tabs--flex`,`${e}-tabs--${b}`],style:this.cssVars},I("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav--${b}`,`${e}-tabs-nav`]},Jn(f,w=>w&&I("div",{class:`${e}-tabs-nav__prefix`},w)),m?I(bf,{onResize:this.handleSegmentResize},{default:()=>I("div",{class:`${e}-tabs-rail`,ref:"tabsElRef"},I("div",{class:`${e}-tabs-capsule`,ref:"segmentCapsuleElRef"},I("div",{class:`${e}-tabs-wrapper`},I("div",{class:`${e}-tabs-tab`}))),p?h.map((w,S)=>(o.value.push(w.props.name),I(D3,Object.assign({},w.props,{internalCreatedByPane:!0,internalLeftPadded:S!==0}),w.children?{default:w.children.tab}:void 0))):v.map((w,S)=>(o.value.push(w.props.name),S===0?w:V7(w))))}):I(bf,{onResize:this.handleNavResize},{default:()=>I("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(b)?I(N_e,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:x}):I("div",{class:`${e}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},x()))}),n&&i&&g?H7(i,!0):null,Jn(d,w=>w&&I("div",{class:`${e}-tabs-nav__suffix`},w))),p&&(this.animated&&(b==="top"||b==="bottom")?I("div",{ref:"tabsPaneWrapperRef",style:u,class:[`${e}-tabs-pane-wrapper`,l]},z7(h,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):z7(h,this.mergedValue,this.renderedNames)))}});function z7(e,t,r,n,i,a,o){const s=[];return e.forEach(l=>{const{name:u,displayDirective:c,"display-directive":f}=l.props,d=v=>c===v||f===v,h=t===u;if(l.key!==void 0&&(l.key=u),h||d("show")||d("show:lazy")&&r.has(u)){r.has(u)||r.add(u);const v=!d("if");s.push(v?_u(l,[[om,h]]):l)}}),o?I(Mq,{name:`${o}-transition`,onBeforeLeave:n,onEnter:i,onAfterEnter:a},{default:()=>s}):s}function H7(e,t){return I(D3,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof e=="object"&&e.disabled})}function V7(e){const t=bu(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function SP(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const jm="n-upload",PIe=we([ie("upload","width: 100%;",[Ce("dragger-inside",[ie("upload-trigger",`
 display: block;
 `)]),Ce("drag-over",[ie("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),ie("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[we("&:hover",`
 border: var(--n-dragger-border-hover);
 `),Ce("disabled",`
 cursor: not-allowed;
 `)]),ie("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[we("+",[ie("upload-file-list","margin-top: 8px;")]),Ce("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),Ce("image-card",`
 width: 96px;
 height: 96px;
 `,[ie("base-icon",`
 font-size: 24px;
 `),ie("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),ie("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[we("a, img","outline: none;"),Ce("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[ie("upload-file","cursor: not-allowed;")]),Ce("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),ie("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[C3(),ie("progress",[C3({foldPadding:!0})]),we("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[ie("upload-file-info",[Me("action",`
 opacity: 1;
 `)])]),Ce("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[ie("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[ie("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Me("name",`
 padding: 0 8px;
 `),Me("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[we("img",`
 width: 100%;
 `)])])]),Ce("text-type",[ie("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),Ce("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[ie("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),ie("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Me("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[we("img",`
 width: 100%;
 `)])]),we("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),we("&:hover",[we("&::before","opacity: 1;"),ie("upload-file-info",[Me("thumbnail","opacity: .12;")])])]),Ce("error-status",[we("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),ie("upload-file-info",[Me("name","color: var(--n-item-text-color-error);"),Me("thumbnail","color: var(--n-item-text-color-error);")]),Ce("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),Ce("with-url",`
 cursor: pointer;
 `,[ie("upload-file-info",[Me("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[we("a",`
 text-decoration: underline;
 `)])])]),ie("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Me("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[ie("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Me("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[ie("button",[we("&:not(:last-child)",{marginRight:"4px"}),ie("base-icon",[we("svg",[Cl()])])]),Ce("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),Ce("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Me("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[we("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),ie("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),$ee="__UPLOAD_DRAGGER__",RIe=lt({name:"UploadDragger",[$ee]:!0,setup(e,{slots:t}){const r=rr(jm,null);return r||Wp("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:n},mergedDisabledRef:{value:i},maxReachedRef:{value:a}}=r;return I("div",{class:[`${n}-upload-dragger`,(i||a)&&`${n}-upload-dragger--disabled`]},t)}}}),LIe=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},I("g",{fill:"none"},I("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),IIe=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},I("g",{fill:"none"},I("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"}))),kIe=lt({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:rr(jm).mergedThemeRef}},render(){return I(vE,null,{default:()=>this.show?I(mIe,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var P3=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};function Gee(e){return e.includes("image/")}function $7(e=""){const t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}const G7=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Uee=e=>{if(e.type)return Gee(e.type);const t=$7(e.name||"");if(G7.test(t))return!0;const r=e.thumbnailUrl||e.url||"",n=$7(r);return!!(/^data:image\//.test(r)||G7.test(n))};function OIe(e){return P3(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Gee(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const FIe=jf&&window.FileReader&&window.File;function NIe(e){return e.isDirectory}function BIe(e){return e.isFile}function zIe(e,t){return P3(this,void 0,void 0,function*(){const r=[];function n(i){return P3(this,void 0,void 0,function*(){for(const a of i)if(a){if(t&&NIe(a)){const o=a.createReader();let s=[],l;try{do l=yield new Promise((u,c)=>{o.readEntries(u,c)}),s=s.concat(l);while(l.length>0)}catch(u){LH("upload","error happens when handling directory upload",u)}yield n(s)}else if(BIe(a))try{const o=yield new Promise((s,l)=>{a.file(s,l)});r.push({file:o,entry:a,source:"dnd"})}catch(o){LH("upload","error happens when handling file upload",o)}}})}return yield n(e),r})}function u_(e){const{id:t,name:r,percentage:n,status:i,url:a,file:o,thumbnailUrl:s,type:l,fullPath:u,batchId:c}=e;return{id:t,name:r,percentage:n??null,status:i,url:a??null,file:o??null,thumbnailUrl:s??null,type:l??null,fullPath:u??null,batchId:c??null}}function HIe(e,t,r){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),r=r.toLocaleLowerCase(),r.split(",").map(i=>i.trim()).filter(Boolean).some(i=>{if(i.startsWith(".")){if(e.endsWith(i))return!0}else if(i.includes("/")){const[a,o]=t.split("/"),[s,l]=i.split("/");if((s==="*"||a&&s&&s===a)&&(l==="*"||o&&l&&l===o))return!0}else return!0;return!1})}var U7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const sS={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},VIe=lt({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const t=rr(jm),r=xe(null),n=xe(""),i=me(()=>{const{file:w}=e;return w.status==="finished"?"success":w.status==="error"?"error":"info"}),a=me(()=>{const{file:w}=e;if(w.status==="error")return"error"}),o=me(()=>{const{file:w}=e;return w.status==="uploading"}),s=me(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:w}=e;return["uploading","pending","error"].includes(w.status)}),l=me(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:w}=e;return["finished"].includes(w.status)}),u=me(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:w}=e;return["finished"].includes(w.status)}),c=me(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:w}=e;return["error"].includes(w.status)}),f=Tn(()=>n.value||e.file.thumbnailUrl||e.file.url),d=me(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:w},listType:S}=e;return["finished"].includes(w)&&f.value&&S==="image-card"});function h(){return U7(this,void 0,void 0,function*(){const w=t.onRetryRef.value;w&&(yield w({file:e.file}))===!1||t.submit(e.file.id)})}function v(w){w.preventDefault();const{file:S}=e;["finished","pending","error"].includes(S.status)?g(S):["uploading"].includes(S.status)?y(S):Ec("upload","The button clicked type is unknown.")}function p(w){w.preventDefault(),m(e.file)}function g(w){const{xhrMap:S,doChange:C,onRemoveRef:{value:E},mergedFileListRef:{value:A}}=t;Promise.resolve(E?E({file:Object.assign({},w),fileList:A,index:e.index}):!0).then(M=>{if(M===!1)return;const D=Object.assign({},w,{status:"removed"});S.delete(w.id),C(D,void 0,{remove:!0})})}function m(w){const{onDownloadRef:{value:S},customDownloadRef:{value:C}}=t;Promise.resolve(S?S(Object.assign({},w)):!0).then(E=>{E!==!1&&(C?C(Object.assign({},w)):a5(w.url,w.name))})}function y(w){const{xhrMap:S}=t,C=S.get(w.id);C?.abort(),g(Object.assign({},w))}function x(w){const{onPreviewRef:{value:S}}=t;if(S)S(e.file,{event:w});else if(e.listType==="image-card"){const{value:C}=r;if(!C)return;C.click()}}const b=()=>U7(this,void 0,void 0,function*(){const{listType:w}=e;w!=="image"&&w!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(n.value=yield t.getFileThumbnailUrlResolver(e.file))});return eo(()=>{b()}),{mergedTheme:t.mergedThemeRef,progressStatus:i,buttonType:a,showProgress:o,disabled:t.mergedDisabledRef,showCancelButton:s,showRemoveButton:l,showDownloadButton:u,showRetryButton:c,showPreviewButton:d,mergedThumbnailUrl:f,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:r,handleRemoveOrCancelClick:v,handleDownloadClick:p,handleRetryClick:h,handlePreviewClick:x}},render(){const{clsPrefix:e,mergedTheme:t,listType:r,file:n,renderIcon:i}=this;let a;const o=r==="image";o||r==="image-card"?a=!this.shouldUseThumbnailUrl(n)||!this.mergedThumbnailUrl?I("span",{class:`${e}-upload-file-info__thumbnail`},i?i(n):Uee(n)?I(Yr,{clsPrefix:e},{default:LIe}):I(Yr,{clsPrefix:e},{default:IIe})):I("a",{rel:"noopener noreferer",target:"_blank",href:n.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},r==="image-card"?I(aIe,{src:this.mergedThumbnailUrl||void 0,previewSrc:n.url||void 0,alt:n.name,ref:"imageRef"}):I("img",{src:this.mergedThumbnailUrl||void 0,alt:n.name})):a=I("span",{class:`${e}-upload-file-info__thumbnail`},i?i(n):I(Yr,{clsPrefix:e},{default:()=>I(FAe,null)}));const l=I(kIe,{show:this.showProgress,percentage:n.percentage||0,status:this.progressStatus}),u=r==="text"||r==="image";return I("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,n.url&&n.status!=="error"&&r!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${r}-type`]},I("div",{class:`${e}-upload-file-info`},a,I("div",{class:`${e}-upload-file-info__name`},u&&(n.url&&n.status!=="error"?I("a",{rel:"noopener noreferer",target:"_blank",href:n.url||void 0,onClick:this.handlePreviewClick},n.name):I("span",{onClick:this.handlePreviewClick},n.name)),o&&l),I("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${r}-type`]},this.showPreviewButton?I(lu,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:sS},{icon:()=>I(Yr,{clsPrefix:e},{default:()=>I(oQ,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&I(lu,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:sS,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>I(Zp,null,{default:()=>this.showRemoveButton?I(Yr,{clsPrefix:e,key:"trash"},{default:()=>I(YAe,null)}):I(Yr,{clsPrefix:e,key:"cancel"},{default:()=>I(NAe,null)})})}),this.showRetryButton&&!this.disabled&&I(lu,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:sS},{icon:()=>I(Yr,{clsPrefix:e},{default:()=>I(WAe,null)})}),this.showDownloadButton?I(lu,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:sS},{icon:()=>I(Yr,{clsPrefix:e},{default:()=>I(aQ,null)})}):null)),!o&&l)}}),Wee=lt({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(e,{slots:t}){const r=rr(jm,null);r||Wp("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:n,mergedDisabledRef:i,maxReachedRef:a,listTypeRef:o,dragOverRef:s,openOpenFileDialog:l,draggerInsideRef:u,handleFileAddition:c,mergedDirectoryDndRef:f,triggerClassRef:d,triggerStyleRef:h}=r,v=me(()=>o.value==="image-card");function p(){i.value||a.value||l()}function g(b){b.preventDefault(),s.value=!0}function m(b){b.preventDefault(),s.value=!0}function y(b){b.preventDefault(),s.value=!1}function x(b){var w;if(b.preventDefault(),!u.value||i.value||a.value){s.value=!1;return}const S=(w=b.dataTransfer)===null||w===void 0?void 0:w.items;S?.length?zIe(Array.from(S).map(C=>C.webkitGetAsEntry()),f.value).then(C=>{c(C)}).finally(()=>{s.value=!1}):s.value=!1}return()=>{var b;const{value:w}=n;return e.abstract?(b=t.default)===null||b===void 0?void 0:b.call(t,{handleClick:p,handleDrop:x,handleDragOver:g,handleDragEnter:m,handleDragLeave:y}):I("div",{class:[`${w}-upload-trigger`,(i.value||a.value)&&`${w}-upload-trigger--disabled`,v.value&&`${w}-upload-trigger--image-card`,d.value],style:h.value,onClick:p,onDrop:x,onDragover:g,onDragenter:m,onDragleave:y},v.value?I(RIe,null,{default:()=>Vs(t.default,()=>[I(Yr,{clsPrefix:w},{default:()=>I(rQ,null)})])}):t)}}}),$Ie=lt({name:"UploadFileList",setup(e,{slots:t}){const r=rr(jm,null);r||Wp("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:n,mergedClsPrefixRef:i,listTypeRef:a,mergedFileListRef:o,fileListClassRef:s,fileListStyleRef:l,cssVarsRef:u,themeClassRef:c,maxReachedRef:f,showTriggerRef:d,imageGroupPropsRef:h}=r,v=me(()=>a.value==="image-card"),p=()=>o.value.map((m,y)=>I(VIe,{clsPrefix:i.value,key:m.id,file:m,index:y,listType:a.value})),g=()=>v.value?I(nIe,Object.assign({},h.value),{default:p}):I(vE,{group:!0},{default:p});return()=>{const{value:m}=i,{value:y}=n;return I("div",{class:[`${m}-upload-file-list`,v.value&&`${m}-upload-file-list--grid`,y?c?.value:void 0,s.value],style:[y&&u?u.value:"",l.value]},g(),d.value&&!f.value&&v.value&&I(Wee,null,t))}}});var W7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};function GIe(e,t,r){const{doChange:n,xhrMap:i}=e;let a=0;function o(l){var u;let c=Object.assign({},t,{status:"error",percentage:a});i.delete(t.id),c=u_(((u=e.onError)===null||u===void 0?void 0:u.call(e,{file:c,event:l}))||c),n(c,l)}function s(l){var u;if(e.isErrorState){if(e.isErrorState(r)){o(l);return}}else if(r.status<200||r.status>=300){o(l);return}let c=Object.assign({},t,{status:"finished",percentage:a});i.delete(t.id),c=u_(((u=e.onFinish)===null||u===void 0?void 0:u.call(e,{file:c,event:l}))||c),n(c,l)}return{handleXHRLoad:s,handleXHRError:o,handleXHRAbort(l){const u=Object.assign({},t,{status:"removed",file:null,percentage:a});i.delete(t.id),n(u,l)},handleXHRProgress(l){const u=Object.assign({},t,{status:"uploading"});if(l.lengthComputable){const c=Math.ceil(l.loaded/l.total*100);u.percentage=c,a=c}n(u,l)}}}function UIe(e){const{inst:t,file:r,data:n,headers:i,withCredentials:a,action:o,customRequest:s}=e,{doChange:l}=e.inst;let u=0;s({file:r,data:n,headers:i,withCredentials:a,action:o,onProgress(c){const f=Object.assign({},r,{status:"uploading"}),d=c.percent;f.percentage=d,u=d,l(f)},onFinish(){var c;let f=Object.assign({},r,{status:"finished",percentage:u});f=u_(((c=t.onFinish)===null||c===void 0?void 0:c.call(t,{file:f}))||f),l(f)},onError(){var c;let f=Object.assign({},r,{status:"error",percentage:u});f=u_(((c=t.onError)===null||c===void 0?void 0:c.call(t,{file:f}))||f),l(f)}})}function WIe(e,t,r){const n=GIe(e,t,r);r.onabort=n.handleXHRAbort,r.onerror=n.handleXHRError,r.onload=n.handleXHRLoad,r.upload&&(r.upload.onprogress=n.handleXHRProgress)}function Xee(e,t){return typeof e=="function"?e({file:t}):e||{}}function XIe(e,t,r){const n=Xee(t,r);n&&Object.keys(n).forEach(i=>{e.setRequestHeader(i,n[i])})}function jIe(e,t,r){const n=Xee(t,r);n&&Object.keys(n).forEach(i=>{e.append(i,n[i])})}function YIe(e,t,r,{method:n,action:i,withCredentials:a,responseType:o,headers:s,data:l}){const u=new XMLHttpRequest;u.responseType=o,e.xhrMap.set(r.id,u),u.withCredentials=a;const c=new FormData;if(jIe(c,l,r),r.file!==null&&c.append(t,r.file),WIe(e,r,u),i!==void 0){u.open(n.toUpperCase(),i),XIe(u,s,r),u.send(c);const f=Object.assign({},r,{status:"uploading"});e.doChange(f)}}const KIe=Object.assign(Object.assign({},nr.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>FIe?Uee(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),ZIe=lt({name:"Upload",props:KIe,setup(e){e.abstract&&e.listType==="image-card"&&Wp("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=tn(e),n=nr("Upload","-upload",PIe,HLe,e,t),i=Mh(e),a=xe(e.defaultFileList),o=rt(e,"fileList"),s=xe(null),l={value:!1},u=xe(!1),c=new Map,f=bo(o,a),d=me(()=>f.value.map(u_)),h=me(()=>{const{max:A}=e;return A!==void 0?d.value.length>=A:!1});function v(){var A;(A=s.value)===null||A===void 0||A.click()}function p(A){const M=A.target;x(M.files?Array.from(M.files).map(D=>({file:D,entry:null,source:"input"})):null,A),M.value=""}function g(A){const{"onUpdate:fileList":M,onUpdateFileList:D}=e;M&&ht(M,A),D&&ht(D,A),a.value=A}const m=me(()=>e.multiple||e.directory),y=(A,M,D={append:!1,remove:!1})=>{const{append:R,remove:L}=D,k=Array.from(d.value),O=k.findIndex(F=>F.id===A.id);if(R||L||~O){R?k.push(A):L?k.splice(O,1):k.splice(O,1,A);const{onChange:F}=e;F&&F({file:A,fileList:k,event:M}),g(k)}};function x(A,M){if(!A||A.length===0)return;const{onBeforeUpload:D}=e;A=m.value?A:[A[0]];const{max:R,accept:L}=e;A=A.filter(({file:O,source:F})=>F==="dnd"&&L?.trim()?HIe(O.name,O.type,L):!0),R&&(A=A.slice(0,R-d.value.length));const k=Cp();Promise.all(A.map(O=>W7(this,[O],void 0,function*({file:F,entry:H}){var V;const U={id:Cp(),batchId:k,name:F.name,status:"pending",percentage:0,file:F,url:null,type:F.type,thumbnailUrl:null,fullPath:(V=H?.fullPath)!==null&&V!==void 0?V:`/${F.webkitRelativePath||F.name}`};return!D||(yield D({file:U,fileList:d.value}))!==!1?U:null}))).then(O=>W7(this,void 0,void 0,function*(){let F=Promise.resolve();O.forEach(H=>{F=F.then(Sa).then(()=>{H&&y(H,M,{append:!0})})}),yield F})).then(()=>{e.defaultUpload&&b()})}function b(A){const{method:M,action:D,withCredentials:R,headers:L,data:k,name:O}=e,F=A!==void 0?d.value.filter(V=>V.id===A):d.value,H=A!==void 0;F.forEach(V=>{const{status:U}=V;(U==="pending"||U==="error"&&H)&&(e.customRequest?UIe({inst:{doChange:y,xhrMap:c,onFinish:e.onFinish,onError:e.onError},file:V,action:D,withCredentials:R,headers:L,data:k,customRequest:e.customRequest}):YIe({doChange:y,xhrMap:c,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},O,V,{method:M,action:D,withCredentials:R,responseType:e.responseType,headers:L,data:k}))})}function w(A){var M;if(A.thumbnailUrl)return A.thumbnailUrl;const{createThumbnailUrl:D}=e;return D?(M=D(A.file,A))!==null&&M!==void 0?M:A.url||"":A.url?A.url:A.file?OIe(A.file):""}const S=me(()=>{const{common:{cubicBezierEaseInOut:A},self:{draggerColor:M,draggerBorder:D,draggerBorderHover:R,itemColorHover:L,itemColorHoverError:k,itemTextColorError:O,itemTextColorSuccess:F,itemTextColor:H,itemIconColor:V,itemDisabledOpacity:U,lineHeight:K,borderRadius:q,fontSize:N,itemBorderImageCardError:W,itemBorderImageCard:j}}=n.value;return{"--n-bezier":A,"--n-border-radius":q,"--n-dragger-border":D,"--n-dragger-border-hover":R,"--n-dragger-color":M,"--n-font-size":N,"--n-item-color-hover":L,"--n-item-color-hover-error":k,"--n-item-disabled-opacity":U,"--n-item-icon-color":V,"--n-item-text-color":H,"--n-item-text-color-error":O,"--n-item-text-color-success":F,"--n-line-height":K,"--n-item-border-image-card-error":W,"--n-item-border-image-card":j}}),C=r?ti("upload",void 0,S,e):void 0;wn(jm,{mergedClsPrefixRef:t,mergedThemeRef:n,showCancelButtonRef:rt(e,"showCancelButton"),showDownloadButtonRef:rt(e,"showDownloadButton"),showRemoveButtonRef:rt(e,"showRemoveButton"),showRetryButtonRef:rt(e,"showRetryButton"),onRemoveRef:rt(e,"onRemove"),onDownloadRef:rt(e,"onDownload"),customDownloadRef:rt(e,"customDownload"),mergedFileListRef:d,triggerClassRef:rt(e,"triggerClass"),triggerStyleRef:rt(e,"triggerStyle"),shouldUseThumbnailUrlRef:rt(e,"shouldUseThumbnailUrl"),renderIconRef:rt(e,"renderIcon"),xhrMap:c,submit:b,doChange:y,showPreviewButtonRef:rt(e,"showPreviewButton"),onPreviewRef:rt(e,"onPreview"),getFileThumbnailUrlResolver:w,listTypeRef:rt(e,"listType"),dragOverRef:u,openOpenFileDialog:v,draggerInsideRef:l,handleFileAddition:x,mergedDisabledRef:i.mergedDisabledRef,maxReachedRef:h,fileListClassRef:rt(e,"fileListClass"),fileListStyleRef:rt(e,"fileListStyle"),abstractRef:rt(e,"abstract"),acceptRef:rt(e,"accept"),cssVarsRef:r?void 0:S,themeClassRef:C?.themeClass,onRender:C?.onRender,showTriggerRef:rt(e,"showTrigger"),imageGroupPropsRef:rt(e,"imageGroupProps"),mergedDirectoryDndRef:me(()=>{var A;return(A=e.directoryDnd)!==null&&A!==void 0?A:e.directory}),onRetryRef:rt(e,"onRetry")});const E={clear:()=>{a.value=[]},submit:b,openOpenFileDialog:v};return Object.assign({mergedClsPrefix:t,draggerInsideRef:l,inputElRef:s,mergedTheme:n,dragOver:u,mergedMultiple:m,cssVars:r?void 0:S,themeClass:C?.themeClass,onRender:C?.onRender,handleFileInputChange:p},E)},render(){var e,t;const{draggerInsideRef:r,mergedClsPrefix:n,$slots:i,directory:a,onRender:o}=this;if(i.default&&!this.abstract){const l=i.default()[0];!((e=l?.type)===null||e===void 0)&&e[$ee]&&(r.value=!0)}const s=I("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${n}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:a||void 0,directory:a||void 0}));return this.abstract?I(Dr,null,(t=i.default)===null||t===void 0?void 0:t.call(i),I(zO,{to:"body"},s)):(o?.(),I("div",{class:[`${n}-upload`,r.value&&`${n}-upload--dragger-inside`,this.dragOver&&`${n}-upload--drag-over`,this.themeClass],style:this.cssVars},s,this.showTrigger&&this.listType!=="image-card"&&I(Wee,null,i),this.showFileList&&I($Ie,null,i)))}}),qIe=()=>({}),JIe={name:"Equation",common:Ct,self:qIe},QIe={name:"FloatButtonGroup",common:Ct,self(e){const{popoverColor:t,dividerColor:r,borderRadius:n}=e;return{color:t,buttonBorderColor:r,borderRadiusSquare:n,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}},e3e={name:"dark",common:Ct,Alert:sMe,Anchor:dMe,AutoComplete:SMe,Avatar:RQ,AvatarGroup:DMe,BackTop:RMe,Badge:LMe,Breadcrumb:OMe,Button:bs,ButtonGroup:NRe,Calendar:$Me,Card:OQ,Carousel:YMe,Cascader:qMe,Checkbox:Xm,Code:zQ,Collapse:aDe,CollapseTransition:sDe,ColorPicker:uDe,DataTable:PDe,DatePicker:WPe,Descriptions:YPe,Dialog:See,Divider:CRe,Drawer:ARe,Dropdown:C5,DynamicInput:MRe,DynamicTags:IRe,Element:kRe,Empty:qp,Ellipsis:JQ,Equation:JIe,Flex:FRe,Form:HRe,GradientText:VRe,Icon:lPe,IconWrapper:YLe,Image:KLe,Input:Xs,InputNumber:URe,InputOtp:XRe,LegacyTransfer:sIe,Layout:jRe,List:ZRe,LoadingBar:uRe,Log:qRe,Menu:tLe,Mention:JRe,Message:dRe,Modal:rRe,Notification:wRe,PageHeader:iLe,Pagination:jQ,Popconfirm:sLe,Popover:Jp,Popselect:HQ,Progress:kee,QrCode:yIe,Radio:tee,Rate:lLe,Result:fLe,Row:YRe,Scrollbar:_s,Select:UQ,Skeleton:xIe,Slider:hLe,Space:Ree,Spin:pLe,Statistic:mLe,Steps:_Le,Switch:wLe,Table:TLe,Tabs:MLe,Tag:bQ,Thing:PLe,TimePicker:_ee,Timeline:LLe,Tooltip:xE,Transfer:kLe,Tree:Fee,TreeSelect:FLe,Typography:zLe,Upload:VLe,Watermark:$Le,Split:CIe,FloatButton:GLe,FloatButtonGroup:QIe,Marquee:uIe},t3e={__name:"index",setup(e){const t=Dee();return window.$message=t,(r,n)=>$O(r.$slots,"default")}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jee=1252,r3e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],I5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},k5=function(e){r3e.indexOf(e)!=-1&&(jee=I5[0]=e)};function n3e(){k5(1252)}var uu=function(e){k5(e)};function Yee(){uu(1200),n3e()}function X7(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function i3e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Kee(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var H1=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?i3e(e.slice(2)):t==254&&r==255?Kee(e.slice(2)):t==65279?e.slice(1):e},lS=function(t){return String.fromCharCode(t)},j7=function(t){return String.fromCharCode(t)},c_,Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Y7(e){for(var t="",r=0,n=0,i=0,a=0,o=0,s=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,i=e.charCodeAt(u++),s=(n&15)<<2|i>>6,l=i&63,isNaN(n)?s=l=64:isNaN(i)&&(l=64),t+=Wd.charAt(a)+Wd.charAt(o)+Wd.charAt(s)+Wd.charAt(l);return t}function Ws(e){var t="",r=0,n=0,i=0,a=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Wd.indexOf(e.charAt(u++)),o=Wd.indexOf(e.charAt(u++)),r=a<<2|o>>4,t+=String.fromCharCode(r),s=Wd.indexOf(e.charAt(u++)),n=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(n)),l=Wd.indexOf(e.charAt(u++)),i=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var un=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),e0=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function mh(e){return un?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function K7(e){return un?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var su=function(t){return un?e0(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function t0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function O5(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return O5(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Gd=un?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:e0(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function a3e(e){for(var t=[],r=0,n=e.length+250,i=mh(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|s>>6&15|(o&3)<<4,i[r++]=128|s&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(t.push(i.slice(0,r)),r=0,i=mh(65535),n=65530)}return t.push(i.slice(0,r)),Gd(t)}var Xo=/\u0000/g,V1=/[\u0001-\u0006]/g;function Yg(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function cu(e,t){var r=""+e;return r.length>=t?r:Ci("0",t-r.length)+r}function F5(e,t){var r=""+e;return r.length>=t?r:Ci(" ",t-r.length)+r}function iT(e,t){var r=""+e;return r.length>=t?r:r+Ci(" ",t-r.length)}function o3e(e,t){var r=""+Math.round(e);return r.length>=t?r:Ci("0",t-r.length)+r}function s3e(e,t){var r=""+e;return r.length>=t?r:Ci("0",t-r.length)+r}var Z7=Math.pow(2,32);function z0(e,t){if(e>Z7||e<-Z7)return o3e(e,t);var r=Math.round(e);return s3e(r,t)}function aT(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var q7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],CP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function l3e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Hr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},J7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},u3e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function oT(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,o=1,s=0,l=1,u=0,c=0,f=Math.floor(i);u<t&&(f=Math.floor(i),s=f*o+a,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),a=o,o=s,l=u,u=c;if(c>t&&(u>t?(c=l,s=a):(c=u,s=o)),!r)return[0,n*s,c];var d=Math.floor(n*s/c);return[d,n*s-d*c,c]}function Yv(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,o=[],s={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++i==86400&&(s.T=i=0,++n,++s.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=p3e(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var Zee=new Date(1899,11,31,0,0,0),c3e=Zee.getTime(),f3e=new Date(1900,2,1,0,0,0);function qee(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=f3e&&(r+=1440*60*1e3),(r-(c3e+(e.getTimezoneOffset()-Zee.getTimezoneOffset())*6e4))/(1440*60*1e3)}function N5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function d3e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function h3e(e){var t=e<0?12:11,r=N5(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function v3e(e){var t=N5(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function f_(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=h3e(e):t===10?r=e.toFixed(10).substr(0,12):r=v3e(e),N5(d3e(r.toUpperCase()))}function Ap(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):f_(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zl(14,qee(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function p3e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function g3e(e,t,r,n){var i="",a=0,o=0,s=r.y,l,u=0;switch(e){case 98:s=r.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return CP[r.m-1][1];case 5:return CP[r.m-1][0];default:return CP[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return q7[r.q][0];default:return q7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?cu(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(i=cu(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var c=u>0?cu(l,u):"";return c}function Xd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Jee=/%/g;function m3e(e,t,r){var n=t.replace(Jee,""),i=t.length-n.length;return Sf(e,n,r*Math.pow(10,2*i))+Ci("%",i)}function y3e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Sf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Qee(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Qee(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var ete=/# (\?+)( ?)\/( ?)(\d+)/;function x3e(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),o=i-a*n,s=n;return r+(a===0?"":""+a)+" "+(o===0?Ci(" ",e[1].length+1+e[4].length):F5(o,e[1].length)+e[2]+"/"+e[3]+cu(s,e[4].length))}function _3e(e,t,r){return r+(t===0?"":""+t)+Ci(" ",e[1].length+2+e[4].length)}var tte=/^#*0*\.([0#]+)/,rte=/\).*[0#]/,nte=/\(###\) ###\\?-####/;function Bo(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Q7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function e9(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function b3e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function w3e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function dl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rte)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?dl("n",n,r):"("+dl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return y3e(e,t,r);if(t.indexOf("%")!==-1)return m3e(e,t,r);if(t.indexOf("E")!==-1)return Qee(t,r);if(t.charCodeAt(0)===36)return"$"+dl(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+z0(l,t.length);if(t.match(/^[#?]+$/))return i=z0(r,0),i==="0"&&(i=""),i.length>t.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(ete))return x3e(a,l,u);if(t.match(/^#+0+$/))return u+z0(l,t.length-t.indexOf("0"));if(a=t.match(tte))return i=Q7(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Bo(a[1])).replace(/\.$/,"."+Bo(a[1])).replace(/\.(\d*)$/,function(v,p){return"."+p+Ci("0",Bo(a[1]).length-p.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+Q7(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Xd(z0(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+dl(e,t,-r):Xd(""+(Math.floor(r)+b3e(r,a[1].length)))+"."+cu(e9(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return dl(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yg(dl(e,t.replace(/[\\-]/g,""),r)),o=0,Yg(Yg(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(t.match(nte))return i=dl(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=oT(l,Math.pow(10,o)-1,!1),i=""+u,c=Sf("n",a[1],s[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=iT(s[2],o),c.length<a[4].length&&(c=Bo(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=oT(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?F5(s[1],o)+a[2]+"/"+a[3]+iT(s[2],o):Ci(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=z0(r,0),t.length<=i.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,d=t.length-i.length-f;return Bo(t.substr(0,f)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=e9(r,a[1].length),r<0?"-"+dl(e,t,-r):Xd(w3e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?cu(0,3-v.length):"")+v})+"."+cu(o,a[1].length);switch(t){case"###,##0.00":return dl(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Xd(z0(l,0));return h!=="0"?u+h:"";case"###,###.00":return dl(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return dl(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function S3e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Sf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function C3e(e,t,r){var n=t.replace(Jee,""),i=t.length-n.length;return Sf(e,n,r*Math.pow(10,2*i))+Ci("%",i)}function ite(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ite(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Zu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rte)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Zu("n",n,r):"("+Zu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return S3e(e,t,r);if(t.indexOf("%")!==-1)return C3e(e,t,r);if(t.indexOf("E")!==-1)return ite(t,r);if(t.charCodeAt(0)===36)return"$"+Zu(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+cu(l,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(ete))return _3e(a,l,u);if(t.match(/^#+0+$/))return u+cu(l,t.length-t.indexOf("0"));if(a=t.match(tte))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Bo(a[1])).replace(/\.$/,"."+Bo(a[1])),i=i.replace(/\.(\d*)$/,function(v,p){return"."+p+Ci("0",Bo(a[1]).length-p.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Xd(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Zu(e,t,-r):Xd(""+r)+"."+Ci("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Zu(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yg(Zu(e,t.replace(/[\\-]/g,""),r)),o=0,Yg(Yg(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(t.match(nte))return i=Zu(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=oT(l,Math.pow(10,o)-1,!1),i=""+u,c=Sf("n",a[1],s[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=iT(s[2],o),c.length<a[4].length&&(c=Bo(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=oT(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?F5(s[1],o)+a[2]+"/"+a[3]+iT(s[2],o):Ci(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Bo(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,d=t.length-i.length-f;return Bo(t.substr(0,f)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Zu(e,t,-r):Xd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?cu(0,3-v.length):"")+v})+"."+cu(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Xd(""+l);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return Zu(e,t.slice(0,t.lastIndexOf(".")),r)+Bo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Sf(e,t,r){return(r|0)===r?Zu(e,t,r):dl(e,t,r)}function T3e(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var ate=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ym(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":aT(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(ate))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function A3e(e,t,r,n){for(var i=[],a="",o=0,s="",l="t",u,c,f,d="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!aT(e,o))throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(f=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++o;break;case"\\":var h=e.charAt(++o),v=h==="("||h===")"?h:"t";i[i.length]={t:v,v:h},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Yv(t,r,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Yv(t,r),u==null))return"";for(a=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=d),i[i.length]={t:s,v:a},l=s;break;case"A":case"a":case"上":var p={t:s,v:s};if(u==null&&(u=Yv(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",d="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,d="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(p.v=u.H>=12?"下午":"上午"),p.t="T",o+=5,d="h"):(p.t="t",++o),u==null&&p.t==="T")return"";i[i.length]=p,l=s;break;case"[":for(a=s;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(ate)){if(u==null&&(u=Yv(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ym(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=s;++o<e.length&&(s=e.charAt(o))==="0";)a+=s;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)a+=s;i[i.length]={t:"n",v:a};break;case"?":for(a=s;e.charAt(++o)===s;)a+=s;i[i.length]={t:s,v:a},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:s,v:s},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"t",v:s},++o;break}var g=0,m=0,y;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=d,l="h",g<1&&(g=1);break;case"s":(y=i[o].v.match(/\.0+$/))&&(m=Math.max(m,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[o].v.match(/[Hh]/)&&(g=1),g<2&&i[o].v.match(/[Mm]/)&&(g=2),g<3&&i[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var x="",b;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=g3e(i[o].t.charCodeAt(0),i[o].v,u,m),i[o].t="t";break;case"n":case"?":for(b=o+1;i[b]!=null&&((s=i[b].t)==="?"||s==="D"||(s===" "||s==="t")&&i[b+1]!=null&&(i[b+1].t==="?"||i[b+1].t==="t"&&i[b+1].v==="/")||i[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(i[b].v==="/"||i[b].v===" "&&i[b+1]!=null&&i[b+1].t=="?"));)i[o].v+=i[b].v,i[b]={v:"",t:";"},++b;x+=i[o].v,o=b-1;break;case"G":i[o].t="t",i[o].v=Ap(t,r);break}var w="",S,C;if(x.length>0){x.charCodeAt(0)==40?(S=t<0&&x.charCodeAt(0)===45?-t:t,C=Sf("n",x,S)):(S=t<0&&n>1?-t:t,C=Sf("n",x,S),S<0&&i[0]&&i[0].t=="t"&&(C=C.substr(1),i[0].v="-"+i[0].v)),b=C.length-1;var E=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){E=o;break}var A=i.length;if(E===i.length&&C.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(b>=i[o].v.length-1?(b-=i[o].v.length,i[o].v=C.substr(b+1,i[o].v.length)):b<0?i[o].v="":(i[o].v=C.substr(0,b+1),b=-1),i[o].t="t",A=o);b>=0&&A<i.length&&(i[A].v=C.substr(0,b+1)+i[A].v)}else if(E!==i.length&&C.indexOf("E")===-1){for(b=C.indexOf(".")-1,o=E;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(c=i[o].v.indexOf(".")>-1&&o===E?i[o].v.indexOf(".")-1:i[o].v.length-1,w=i[o].v.substr(c+1);c>=0;--c)b>=0&&(i[o].v.charAt(c)==="0"||i[o].v.charAt(c)==="#")&&(w=C.charAt(b--)+w);i[o].v=w,i[o].t="t",A=o}for(b>=0&&A<i.length&&(i[A].v=C.substr(0,b+1)+i[A].v),b=C.indexOf(".")+1,o=E;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==E)){for(c=i[o].v.indexOf(".")>-1&&o===E?i[o].v.indexOf(".")+1:0,w=i[o].v.substr(0,c);c<i[o].v.length;++c)b<C.length&&(w+=C.charAt(b++));i[o].v=w,i[o].t="t",A=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(S=n>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Sf(i[o].t,i[o].v,S),i[o].t="t");var M="";for(o=0;o!==i.length;++o)i[o]!=null&&(M+=i[o].v);return M}var t9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function r9(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function E3e(e,t){var r=T3e(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(t9),s=r[1].match(t9);return r9(t,o)?[n,r[0]]:r9(t,s)?[n,r[1]]:[n,r[o!=null&&s!=null?2:1]]}return[n,a]}function zl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Hr)[e],n==null&&(n=r.table&&r.table[J7[e]]||Hr[J7[e]]),n==null&&(n=u3e[e]||"General");break}if(aT(n,0))return Ap(t,r);t instanceof Date&&(t=qee(t,r.date1904));var i=E3e(n,t);if(aT(i[1]))return Ap(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return A3e(i[1],t,r,i[0])}function cp(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Hr[r]==null){t<0&&(t=r);continue}if(Hr[r]==e){t=r;break}}t<0&&(t=391)}return Hr[t]=e,t}function ote(){Hr=l3e()}var M3e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ste=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function D3e(e){var t=typeof e=="number"?Hr[e]:e;return t=t.replace(ste,"(\\d+)"),new RegExp("^"+t+"$")}function P3e(e,t,r){var n=-1,i=-1,a=-1,o=-1,s=-1,l=-1;(t.match(ste)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?s=h:i=h;break}}),l>=0&&s==-1&&i>=0&&(s=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:n==-1&&i==-1&&a==-1?c:u+"T"+c}var R3e=(function(){var e={};e.version="1.2.0";function t(){for(var C=0,E=new Array(256),A=0;A!=256;++A)C=A,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,E[A]=C;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(C){var E=0,A=0,M=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)D[M]=C[M];for(M=0;M!=256;++M)for(A=C[M],E=256+M;E<4096;E+=256)A=D[E]=A>>>8^C[A&255];var R=[];for(M=1;M!=16;++M)R[M-1]=typeof Int32Array<"u"?D.subarray(M*256,M*256+256):D.slice(M*256,M*256+256);return R}var i=n(r),a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],d=i[7],h=i[8],v=i[9],p=i[10],g=i[11],m=i[12],y=i[13],x=i[14];function b(C,E){for(var A=E^-1,M=0,D=C.length;M<D;)A=A>>>8^r[(A^C.charCodeAt(M++))&255];return~A}function w(C,E){for(var A=E^-1,M=C.length-15,D=0;D<M;)A=x[C[D++]^A&255]^y[C[D++]^A>>8&255]^m[C[D++]^A>>16&255]^g[C[D++]^A>>>24]^p[C[D++]]^v[C[D++]]^h[C[D++]]^d[C[D++]]^f[C[D++]]^c[C[D++]]^u[C[D++]]^l[C[D++]]^s[C[D++]]^o[C[D++]]^a[C[D++]]^r[C[D++]];for(M+=15;D<M;)A=A>>>8^r[(A^C[D++])&255];return~A}function S(C,E){for(var A=E^-1,M=0,D=C.length,R=0,L=0;M<D;)R=C.charCodeAt(M++),R<128?A=A>>>8^r[(A^R)&255]:R<2048?(A=A>>>8^r[(A^(192|R>>6&31))&255],A=A>>>8^r[(A^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,L=C.charCodeAt(M++)&1023,A=A>>>8^r[(A^(240|R>>8&7))&255],A=A>>>8^r[(A^(128|R>>2&63))&255],A=A>>>8^r[(A^(128|L>>6&15|(R&3)<<4))&255],A=A>>>8^r[(A^(128|L&63))&255]):(A=A>>>8^r[(A^(224|R>>12&15))&255],A=A>>>8^r[(A^(128|R>>6&63))&255],A=A>>>8^r[(A^(128|R&63))&255]);return~A}return e.table=r,e.bstr=b,e.buf=w,e.str=S,e})(),vn=(function(){var t={};t.version="1.2.1";function r(X,oe){for(var ee=X.split("/"),re=oe.split("/"),le=0,ce=0,Ne=Math.min(ee.length,re.length);le<Ne;++le){if(ce=ee[le].length-re[le].length)return ce;if(ee[le]!=re[le])return ee[le]<re[le]?-1:1}return ee.length-re.length}function n(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:n(X.slice(0,-1));var oe=X.lastIndexOf("/");return oe===-1?X:X.slice(0,oe+1)}function i(X){if(X.charAt(X.length-1)=="/")return i(X.slice(0,-1));var oe=X.lastIndexOf("/");return oe===-1?X:X.slice(oe+1)}function a(X,oe){typeof oe=="string"&&(oe=new Date(oe));var ee=oe.getHours();ee=ee<<6|oe.getMinutes(),ee=ee<<5|oe.getSeconds()>>>1,X.write_shift(2,ee);var re=oe.getFullYear()-1980;re=re<<4|oe.getMonth()+1,re=re<<5|oe.getDate(),X.write_shift(2,re)}function o(X){var oe=X.read_shift(2)&65535,ee=X.read_shift(2)&65535,re=new Date,le=ee&31;ee>>>=5;var ce=ee&15;ee>>>=4,re.setMilliseconds(0),re.setFullYear(ee+1980),re.setMonth(ce-1),re.setDate(le);var Ne=oe&31;oe>>>=5;var Ze=oe&63;return oe>>>=6,re.setHours(oe),re.setMinutes(Ze),re.setSeconds(Ne<<1),re}function s(X){Za(X,0);for(var oe={},ee=0;X.l<=X.length-4;){var re=X.read_shift(2),le=X.read_shift(2),ce=X.l+le,Ne={};switch(re){case 21589:ee=X.read_shift(1),ee&1&&(Ne.mtime=X.read_shift(4)),le>5&&(ee&2&&(Ne.atime=X.read_shift(4)),ee&4&&(Ne.ctime=X.read_shift(4))),Ne.mtime&&(Ne.mt=new Date(Ne.mtime*1e3));break}X.l=ce,oe[re]=Ne}return oe}var l;function u(){return l||(l={})}function c(X,oe){if(X[0]==80&&X[1]==75)return Tt(X,oe);if((X[0]|32)==109&&(X[1]|32)==105)return Fi(X,oe);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var ee=3,re=512,le=0,ce=0,Ne=0,Ze=0,Be=0,ze=[],Ue=X.slice(0,512);Za(Ue,0);var dt=f(Ue);switch(ee=dt[0],ee){case 3:re=512;break;case 4:re=4096;break;case 0:if(dt[1]==0)return Tt(X,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}re!==512&&(Ue=X.slice(0,re),Za(Ue,28));var Mt=X.slice(0,re);d(Ue,ee);var Ft=Ue.read_shift(4,"i");if(ee===3&&Ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ft);Ue.l+=4,Ne=Ue.read_shift(4,"i"),Ue.l+=4,Ue.chk("00100000","Mini Stream Cutoff Size: "),Ze=Ue.read_shift(4,"i"),le=Ue.read_shift(4,"i"),Be=Ue.read_shift(4,"i"),ce=Ue.read_shift(4,"i");for(var yt=-1,Dt=0;Dt<109&&(yt=Ue.read_shift(4,"i"),!(yt<0));++Dt)ze[Dt]=yt;var cr=h(X,re);g(Be,ce,cr,re,ze);var On=y(cr,Ne,ze,re);On[Ne].name="!Directory",le>0&&Ze!==L&&(On[Ze].name="!MiniFAT"),On[ze[0]].name="!FAT",On.fat_addrs=ze,On.ssz=re;var Fn={},hi=[],Ks=[],Zs=[];x(Ne,On,cr,hi,le,Fn,Ks,Ze),v(Ks,Zs,hi),hi.shift();var Ul={FileIndex:Ks,FullPaths:Zs};return oe&&oe.raw&&(Ul.raw={header:Mt,sectors:cr}),Ul}function f(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(k,"Header Signature: "),X.l+=16;var oe=X.read_shift(2,"u");return[X.read_shift(2,"u"),oe]}function d(X,oe){var ee=9;switch(X.l+=2,ee=X.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function h(X,oe){for(var ee=Math.ceil(X.length/oe)-1,re=[],le=1;le<ee;++le)re[le-1]=X.slice(le*oe,(le+1)*oe);return re[ee-1]=X.slice(ee*oe),re}function v(X,oe,ee){for(var re=0,le=0,ce=0,Ne=0,Ze=0,Be=ee.length,ze=[],Ue=[];re<Be;++re)ze[re]=Ue[re]=re,oe[re]=ee[re];for(;Ze<Ue.length;++Ze)re=Ue[Ze],le=X[re].L,ce=X[re].R,Ne=X[re].C,ze[re]===re&&(le!==-1&&ze[le]!==le&&(ze[re]=ze[le]),ce!==-1&&ze[ce]!==ce&&(ze[re]=ze[ce])),Ne!==-1&&(ze[Ne]=re),le!==-1&&re!=ze[re]&&(ze[le]=ze[re],Ue.lastIndexOf(le)<Ze&&Ue.push(le)),ce!==-1&&re!=ze[re]&&(ze[ce]=ze[re],Ue.lastIndexOf(ce)<Ze&&Ue.push(ce));for(re=1;re<Be;++re)ze[re]===re&&(ce!==-1&&ze[ce]!==ce?ze[re]=ze[ce]:le!==-1&&ze[le]!==le&&(ze[re]=ze[le]));for(re=1;re<Be;++re)if(X[re].type!==0){if(Ze=re,Ze!=ze[Ze])do Ze=ze[Ze],oe[re]=oe[Ze]+"/"+oe[re];while(Ze!==0&&ze[Ze]!==-1&&Ze!=ze[Ze]);ze[re]=-1}for(oe[0]+="/",re=1;re<Be;++re)X[re].type!==2&&(oe[re]+="/")}function p(X,oe,ee){for(var re=X.start,le=X.size,ce=[],Ne=re;ee&&le>0&&Ne>=0;)ce.push(oe.slice(Ne*R,Ne*R+R)),le-=R,Ne=Vv(ee,Ne*4);return ce.length===0?va(0):Gd(ce).slice(0,X.size)}function g(X,oe,ee,re,le){var ce=L;if(X===L){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var Ne=ee[X],Ze=(re>>>2)-1;if(!Ne)return;for(var Be=0;Be<Ze&&(ce=Vv(Ne,Be*4))!==L;++Be)le.push(ce);g(Vv(Ne,re-4),oe-1,ee,re,le)}}function m(X,oe,ee,re,le){var ce=[],Ne=[];le||(le=[]);var Ze=re-1,Be=0,ze=0;for(Be=oe;Be>=0;){le[Be]=!0,ce[ce.length]=Be,Ne.push(X[Be]);var Ue=ee[Math.floor(Be*4/re)];if(ze=Be*4&Ze,re<4+ze)throw new Error("FAT boundary crossed: "+Be+" 4 "+re);if(!X[Ue])break;Be=Vv(X[Ue],ze)}return{nodes:ce,data:d9([Ne])}}function y(X,oe,ee,re){var le=X.length,ce=[],Ne=[],Ze=[],Be=[],ze=re-1,Ue=0,dt=0,Mt=0,Ft=0;for(Ue=0;Ue<le;++Ue)if(Ze=[],Mt=Ue+oe,Mt>=le&&(Mt-=le),!Ne[Mt]){Be=[];var yt=[];for(dt=Mt;dt>=0;){yt[dt]=!0,Ne[dt]=!0,Ze[Ze.length]=dt,Be.push(X[dt]);var Dt=ee[Math.floor(dt*4/re)];if(Ft=dt*4&ze,re<4+Ft)throw new Error("FAT boundary crossed: "+dt+" 4 "+re);if(!X[Dt]||(dt=Vv(X[Dt],Ft),yt[dt]))break}ce[Mt]={nodes:Ze,data:d9([Be])}}return ce}function x(X,oe,ee,re,le,ce,Ne,Ze){for(var Be=0,ze=re.length?2:0,Ue=oe[X].data,dt=0,Mt=0,Ft;dt<Ue.length;dt+=128){var yt=Ue.slice(dt,dt+128);Za(yt,64),Mt=yt.read_shift(2),Ft=$5(yt,0,Mt-ze),re.push(Ft);var Dt={name:Ft,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},cr=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);cr!==0&&(Dt.ct=b(yt,yt.l-8));var On=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);On!==0&&(Dt.mt=b(yt,yt.l-8)),Dt.start=yt.read_shift(4,"i"),Dt.size=yt.read_shift(4,"i"),Dt.size<0&&Dt.start<0&&(Dt.size=Dt.type=0,Dt.start=L,Dt.name=""),Dt.type===5?(Be=Dt.start,le>0&&Be!==L&&(oe[Be].name="!StreamData")):Dt.size>=4096?(Dt.storage="fat",oe[Dt.start]===void 0&&(oe[Dt.start]=m(ee,Dt.start,oe.fat_addrs,oe.ssz)),oe[Dt.start].name=Dt.name,Dt.content=oe[Dt.start].data.slice(0,Dt.size)):(Dt.storage="minifat",Dt.size<0?Dt.size=0:Be!==L&&Dt.start!==L&&oe[Be]&&(Dt.content=p(Dt,oe[Be].data,(oe[Ze]||{}).data))),Dt.content&&Za(Dt.content,0),ce[Ft]=Dt,Ne.push(Dt)}}function b(X,oe){return new Date((Ls(X,oe+4)/1e7*Math.pow(2,32)+Ls(X,oe)/1e7-11644473600)*1e3)}function w(X,oe){return u(),c(l.readFileSync(X),oe)}function S(X,oe){var ee=oe&&oe.type;switch(ee||un&&Buffer.isBuffer(X)&&(ee="buffer"),ee||"base64"){case"file":return w(X,oe);case"base64":return c(su(Ws(X)),oe);case"binary":return c(su(X),oe)}return c(X,oe)}function C(X,oe){var ee=oe||{},re=ee.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=re+"/",X.FileIndex[0]={name:re,type:5}),ee.CLSID&&(X.FileIndex[0].clsid=ee.CLSID),E(X)}function E(X){var oe="Sh33tJ5";if(!vn.find(X,"/"+oe)){var ee=va(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,X.FileIndex.push({name:oe,type:2,content:ee,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+oe),A(X)}}function A(X,oe){C(X);for(var ee=!1,re=!1,le=X.FullPaths.length-1;le>=0;--le){var ce=X.FileIndex[le];switch(ce.type){case 0:re?ee=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(ce.R*ce.L*ce.C)&&(ee=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!oe)){var Ne=new Date(1987,1,19),Ze=0,Be=Object.create?Object.create(null):{},ze=[];for(le=0;le<X.FullPaths.length;++le)Be[X.FullPaths[le]]=!0,X.FileIndex[le].type!==0&&ze.push([X.FullPaths[le],X.FileIndex[le]]);for(le=0;le<ze.length;++le){var Ue=n(ze[le][0]);re=Be[Ue],re||(ze.push([Ue,{name:i(Ue).replace("/",""),type:1,clsid:F,ct:Ne,mt:Ne,content:null}]),Be[Ue]=!0)}for(ze.sort(function(Ft,yt){return r(Ft[0],yt[0])}),X.FullPaths=[],X.FileIndex=[],le=0;le<ze.length;++le)X.FullPaths[le]=ze[le][0],X.FileIndex[le]=ze[le][1];for(le=0;le<ze.length;++le){var dt=X.FileIndex[le],Mt=X.FullPaths[le];if(dt.name=i(Mt).replace("/",""),dt.L=dt.R=dt.C=-(dt.color=1),dt.size=dt.content?dt.content.length:0,dt.start=0,dt.clsid=dt.clsid||F,le===0)dt.C=ze.length>1?1:-1,dt.size=0,dt.type=5;else if(Mt.slice(-1)=="/"){for(Ze=le+1;Ze<ze.length&&n(X.FullPaths[Ze])!=Mt;++Ze);for(dt.C=Ze>=ze.length?-1:Ze,Ze=le+1;Ze<ze.length&&n(X.FullPaths[Ze])!=n(Mt);++Ze);dt.R=Ze>=ze.length?-1:Ze,dt.type=1}else n(X.FullPaths[le+1]||"")==n(Mt)&&(dt.R=le+1),dt.type=2}}}function M(X,oe){var ee=oe||{};if(ee.fileType=="mad")return Ki(X,ee);switch(A(X),ee.fileType){case"zip":return Gt(X,ee)}var re=(function(Ft){for(var yt=0,Dt=0,cr=0;cr<Ft.FileIndex.length;++cr){var On=Ft.FileIndex[cr];if(On.content){var Fn=On.content.length;Fn>0&&(Fn<4096?yt+=Fn+63>>6:Dt+=Fn+511>>9)}}for(var hi=Ft.FullPaths.length+3>>2,Ks=yt+7>>3,Zs=yt+127>>7,Ul=Ks+Dt+hi+Zs,ws=Ul+127>>7,$c=ws<=109?0:Math.ceil((ws-109)/127);Ul+ws+$c+127>>7>ws;)$c=++ws<=109?0:Math.ceil((ws-109)/127);var Do=[1,$c,ws,Zs,hi,Dt,yt,0];return Ft.FileIndex[0].size=yt<<6,Do[7]=(Ft.FileIndex[0].start=Do[0]+Do[1]+Do[2]+Do[3]+Do[4]+Do[5])+(Do[6]+7>>3),Do})(X),le=va(re[7]<<9),ce=0,Ne=0;{for(ce=0;ce<8;++ce)le.write_shift(1,O[ce]);for(ce=0;ce<8;++ce)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),ce=0;ce<3;++ce)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,re[2]),le.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:L),le.write_shift(4,re[3]),le.write_shift(-4,re[1]?re[0]-1:L),le.write_shift(4,re[1]),ce=0;ce<109;++ce)le.write_shift(-4,ce<re[2]?re[1]+ce:-1)}if(re[1])for(Ne=0;Ne<re[1];++Ne){for(;ce<236+Ne*127;++ce)le.write_shift(-4,ce<re[2]?re[1]+ce:-1);le.write_shift(-4,Ne===re[1]-1?L:Ne+1)}var Ze=function(Ft){for(Ne+=Ft;ce<Ne-1;++ce)le.write_shift(-4,ce+1);Ft&&(++ce,le.write_shift(-4,L))};for(Ne=ce=0,Ne+=re[1];ce<Ne;++ce)le.write_shift(-4,H.DIFSECT);for(Ne+=re[2];ce<Ne;++ce)le.write_shift(-4,H.FATSECT);Ze(re[3]),Ze(re[4]);for(var Be=0,ze=0,Ue=X.FileIndex[0];Be<X.FileIndex.length;++Be)Ue=X.FileIndex[Be],Ue.content&&(ze=Ue.content.length,!(ze<4096)&&(Ue.start=Ne,Ze(ze+511>>9)));for(Ze(re[6]+7>>3);le.l&511;)le.write_shift(-4,H.ENDOFCHAIN);for(Ne=ce=0,Be=0;Be<X.FileIndex.length;++Be)Ue=X.FileIndex[Be],Ue.content&&(ze=Ue.content.length,!(!ze||ze>=4096)&&(Ue.start=Ne,Ze(ze+63>>6)));for(;le.l&511;)le.write_shift(-4,H.ENDOFCHAIN);for(ce=0;ce<re[4]<<2;++ce){var dt=X.FullPaths[ce];if(!dt||dt.length===0){for(Be=0;Be<17;++Be)le.write_shift(4,0);for(Be=0;Be<3;++Be)le.write_shift(4,-1);for(Be=0;Be<12;++Be)le.write_shift(4,0);continue}Ue=X.FileIndex[ce],ce===0&&(Ue.start=Ue.size?Ue.start-1:L);var Mt=ce===0&&ee.root||Ue.name;if(ze=2*(Mt.length+1),le.write_shift(64,Mt,"utf16le"),le.write_shift(2,ze),le.write_shift(1,Ue.type),le.write_shift(1,Ue.color),le.write_shift(-4,Ue.L),le.write_shift(-4,Ue.R),le.write_shift(-4,Ue.C),Ue.clsid)le.write_shift(16,Ue.clsid,"hex");else for(Be=0;Be<4;++Be)le.write_shift(4,0);le.write_shift(4,Ue.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Ue.start),le.write_shift(4,Ue.size),le.write_shift(4,0)}for(ce=1;ce<X.FileIndex.length;++ce)if(Ue=X.FileIndex[ce],Ue.size>=4096)if(le.l=Ue.start+1<<9,un&&Buffer.isBuffer(Ue.content))Ue.content.copy(le,le.l,0,Ue.size),le.l+=Ue.size+511&-512;else{for(Be=0;Be<Ue.size;++Be)le.write_shift(1,Ue.content[Be]);for(;Be&511;++Be)le.write_shift(1,0)}for(ce=1;ce<X.FileIndex.length;++ce)if(Ue=X.FileIndex[ce],Ue.size>0&&Ue.size<4096)if(un&&Buffer.isBuffer(Ue.content))Ue.content.copy(le,le.l,0,Ue.size),le.l+=Ue.size+63&-64;else{for(Be=0;Be<Ue.size;++Be)le.write_shift(1,Ue.content[Be]);for(;Be&63;++Be)le.write_shift(1,0)}if(un)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function D(X,oe){var ee=X.FullPaths.map(function(Be){return Be.toUpperCase()}),re=ee.map(function(Be){var ze=Be.split("/");return ze[ze.length-(Be.slice(-1)=="/"?2:1)]}),le=!1;oe.charCodeAt(0)===47?(le=!0,oe=ee[0].slice(0,-1)+oe):le=oe.indexOf("/")!==-1;var ce=oe.toUpperCase(),Ne=le===!0?ee.indexOf(ce):re.indexOf(ce);if(Ne!==-1)return X.FileIndex[Ne];var Ze=!ce.match(V1);for(ce=ce.replace(Xo,""),Ze&&(ce=ce.replace(V1,"!")),Ne=0;Ne<ee.length;++Ne)if((Ze?ee[Ne].replace(V1,"!"):ee[Ne]).replace(Xo,"")==ce||(Ze?re[Ne].replace(V1,"!"):re[Ne]).replace(Xo,"")==ce)return X.FileIndex[Ne];return null}var R=64,L=-2,k="d0cf11e0a1b11ae1",O=[208,207,17,224,161,177,26,225],F="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:k,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:F,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(X,oe,ee){u();var re=M(X,ee);l.writeFileSync(oe,re)}function U(X){for(var oe=new Array(X.length),ee=0;ee<X.length;++ee)oe[ee]=String.fromCharCode(X[ee]);return oe.join("")}function K(X,oe){var ee=M(X,oe);switch(oe&&oe.type||"buffer"){case"file":return u(),l.writeFileSync(oe.filename,ee),ee;case"binary":return typeof ee=="string"?ee:U(ee);case"base64":return Y7(typeof ee=="string"?ee:U(ee));case"buffer":if(un)return Buffer.isBuffer(ee)?ee:e0(ee);case"array":return typeof ee=="string"?su(ee):ee}return ee}var q;function N(X){try{var oe=X.InflateRaw,ee=new oe;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)q=X;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function W(X,oe){if(!q)return Je(X,oe);var ee=q.InflateRaw,re=new ee,le=re._processChunk(X.slice(X.l),re._finishFlushFlag);return X.l+=re.bytesRead,le}function j(X){return q?q.deflateRawSync(X):Lt(X)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(X){var oe=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var te=typeof Uint8Array<"u",pe=te?new Uint8Array(256):[],Re=0;Re<256;++Re)pe[Re]=Se(Re);function z(X,oe){var ee=pe[X&255];return oe<=8?ee>>>8-oe:(ee=ee<<8|pe[X>>8&255],oe<=16?ee>>>16-oe:(ee=ee<<8|pe[X>>16&255],ee>>>24-oe))}function J(X,oe){var ee=oe&7,re=oe>>>3;return(X[re]|(ee<=6?0:X[re+1]<<8))>>>ee&3}function se(X,oe){var ee=oe&7,re=oe>>>3;return(X[re]|(ee<=5?0:X[re+1]<<8))>>>ee&7}function he(X,oe){var ee=oe&7,re=oe>>>3;return(X[re]|(ee<=4?0:X[re+1]<<8))>>>ee&15}function _e(X,oe){var ee=oe&7,re=oe>>>3;return(X[re]|(ee<=3?0:X[re+1]<<8))>>>ee&31}function ge(X,oe){var ee=oe&7,re=oe>>>3;return(X[re]|(ee<=1?0:X[re+1]<<8))>>>ee&127}function $e(X,oe,ee){var re=oe&7,le=oe>>>3,ce=(1<<ee)-1,Ne=X[le]>>>re;return ee<8-re||(Ne|=X[le+1]<<8-re,ee<16-re)||(Ne|=X[le+2]<<16-re,ee<24-re)||(Ne|=X[le+3]<<24-re),Ne&ce}function Le(X,oe,ee){var re=oe&7,le=oe>>>3;return re<=5?X[le]|=(ee&7)<<re:(X[le]|=ee<<re&255,X[le+1]=(ee&7)>>8-re),oe+3}function fe(X,oe,ee){var re=oe&7,le=oe>>>3;return ee=(ee&1)<<re,X[le]|=ee,oe+1}function de(X,oe,ee){var re=oe&7,le=oe>>>3;return ee<<=re,X[le]|=ee&255,ee>>>=8,X[le+1]=ee,oe+8}function Ve(X,oe,ee){var re=oe&7,le=oe>>>3;return ee<<=re,X[le]|=ee&255,ee>>>=8,X[le+1]=ee&255,X[le+2]=ee>>>8,oe+16}function Ge(X,oe){var ee=X.length,re=2*ee>oe?2*ee:oe+5,le=0;if(ee>=oe)return X;if(un){var ce=K7(re);if(X.copy)X.copy(ce);else for(;le<X.length;++le)ce[le]=X[le];return ce}else if(te){var Ne=new Uint8Array(re);if(Ne.set)Ne.set(X);else for(;le<ee;++le)Ne[le]=X[le];return Ne}return X.length=re,X}function ke(X){for(var oe=new Array(X),ee=0;ee<X;++ee)oe[ee]=0;return oe}function Xe(X,oe,ee){var re=1,le=0,ce=0,Ne=0,Ze=0,Be=X.length,ze=te?new Uint16Array(32):ke(32);for(ce=0;ce<32;++ce)ze[ce]=0;for(ce=Be;ce<ee;++ce)X[ce]=0;Be=X.length;var Ue=te?new Uint16Array(Be):ke(Be);for(ce=0;ce<Be;++ce)ze[le=X[ce]]++,re<le&&(re=le),Ue[ce]=0;for(ze[0]=0,ce=1;ce<=re;++ce)ze[ce+16]=Ze=Ze+ze[ce-1]<<1;for(ce=0;ce<Be;++ce)Ze=X[ce],Ze!=0&&(Ue[ce]=ze[Ze+16]++);var dt=0;for(ce=0;ce<Be;++ce)if(dt=X[ce],dt!=0)for(Ze=z(Ue[ce],re)>>re-dt,Ne=(1<<re+4-dt)-1;Ne>=0;--Ne)oe[Ze|Ne<<dt]=dt&15|ce<<4;return re}var gt=te?new Uint16Array(512):ke(512),Kt=te?new Uint16Array(32):ke(32);if(!te){for(var Nt=0;Nt<512;++Nt)gt[Nt]=0;for(Nt=0;Nt<32;++Nt)Kt[Nt]=0}(function(){for(var X=[],oe=0;oe<32;oe++)X.push(5);Xe(X,Kt,32);var ee=[];for(oe=0;oe<=143;oe++)ee.push(8);for(;oe<=255;oe++)ee.push(9);for(;oe<=279;oe++)ee.push(7);for(;oe<=287;oe++)ee.push(8);Xe(ee,gt,288)})();var Sr=(function(){for(var oe=te?new Uint8Array(32768):[],ee=0,re=0;ee<Te.length-1;++ee)for(;re<Te[ee+1];++re)oe[re]=ee;for(;re<32768;++re)oe[re]=29;var le=te?new Uint8Array(259):[];for(ee=0,re=0;ee<ve.length-1;++ee)for(;re<ve[ee+1];++re)le[re]=ee;function ce(Ze,Be){for(var ze=0;ze<Ze.length;){var Ue=Math.min(65535,Ze.length-ze),dt=ze+Ue==Ze.length;for(Be.write_shift(1,+dt),Be.write_shift(2,Ue),Be.write_shift(2,~Ue&65535);Ue-- >0;)Be[Be.l++]=Ze[ze++]}return Be.l}function Ne(Ze,Be){for(var ze=0,Ue=0,dt=te?new Uint16Array(32768):[];Ue<Ze.length;){var Mt=Math.min(65535,Ze.length-Ue);if(Mt<10){for(ze=Le(Be,ze,+(Ue+Mt==Ze.length)),ze&7&&(ze+=8-(ze&7)),Be.l=ze/8|0,Be.write_shift(2,Mt),Be.write_shift(2,~Mt&65535);Mt-- >0;)Be[Be.l++]=Ze[Ue++];ze=Be.l*8;continue}ze=Le(Be,ze,+(Ue+Mt==Ze.length)+2);for(var Ft=0;Mt-- >0;){var yt=Ze[Ue];Ft=(Ft<<5^yt)&32767;var Dt=-1,cr=0;if((Dt=dt[Ft])&&(Dt|=Ue&-32768,Dt>Ue&&(Dt-=32768),Dt<Ue))for(;Ze[Dt+cr]==Ze[Ue+cr]&&cr<250;)++cr;if(cr>2){yt=le[cr],yt<=22?ze=de(Be,ze,pe[yt+1]>>1)-1:(de(Be,ze,3),ze+=5,de(Be,ze,pe[yt-23]>>5),ze+=3);var On=yt<8?0:yt-4>>2;On>0&&(Ve(Be,ze,cr-ve[yt]),ze+=On),yt=oe[Ue-Dt],ze=de(Be,ze,pe[yt]>>3),ze-=3;var Fn=yt<4?0:yt-2>>1;Fn>0&&(Ve(Be,ze,Ue-Dt-Te[yt]),ze+=Fn);for(var hi=0;hi<cr;++hi)dt[Ft]=Ue&32767,Ft=(Ft<<5^Ze[Ue])&32767,++Ue;Mt-=cr-1}else yt<=143?yt=yt+48:ze=fe(Be,ze,1),ze=de(Be,ze,pe[yt]),dt[Ft]=Ue&32767,++Ue}ze=de(Be,ze,0)-1}return Be.l=(ze+7)/8|0,Be.l}return function(Be,ze){return Be.length<8?ce(Be,ze):Ne(Be,ze)}})();function Lt(X){var oe=va(50+Math.floor(X.length*1.1)),ee=Sr(X,oe);return oe.slice(0,ee)}var er=te?new Uint16Array(32768):ke(32768),yr=te?new Uint16Array(32768):ke(32768),ar=te?new Uint16Array(128):ke(128),_t=1,Ot=1;function ue(X,oe){var ee=_e(X,oe)+257;oe+=5;var re=_e(X,oe)+1;oe+=5;var le=he(X,oe)+4;oe+=4;for(var ce=0,Ne=te?new Uint8Array(19):ke(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,ze=te?new Uint8Array(8):ke(8),Ue=te?new Uint8Array(8):ke(8),dt=Ne.length,Mt=0;Mt<le;++Mt)Ne[Z[Mt]]=ce=se(X,oe),Be<ce&&(Be=ce),ze[ce]++,oe+=3;var Ft=0;for(ze[0]=0,Mt=1;Mt<=Be;++Mt)Ue[Mt]=Ft=Ft+ze[Mt-1]<<1;for(Mt=0;Mt<dt;++Mt)(Ft=Ne[Mt])!=0&&(Ze[Mt]=Ue[Ft]++);var yt=0;for(Mt=0;Mt<dt;++Mt)if(yt=Ne[Mt],yt!=0){Ft=pe[Ze[Mt]]>>8-yt;for(var Dt=(1<<7-yt)-1;Dt>=0;--Dt)ar[Ft|Dt<<yt]=yt&7|Mt<<3}var cr=[];for(Be=1;cr.length<ee+re;)switch(Ft=ar[ge(X,oe)],oe+=Ft&7,Ft>>>=3){case 16:for(ce=3+J(X,oe),oe+=2,Ft=cr[cr.length-1];ce-- >0;)cr.push(Ft);break;case 17:for(ce=3+se(X,oe),oe+=3;ce-- >0;)cr.push(0);break;case 18:for(ce=11+ge(X,oe),oe+=7;ce-- >0;)cr.push(0);break;default:cr.push(Ft),Be<Ft&&(Be=Ft);break}var On=cr.slice(0,ee),Fn=cr.slice(ee);for(Mt=ee;Mt<286;++Mt)On[Mt]=0;for(Mt=re;Mt<30;++Mt)Fn[Mt]=0;return _t=Xe(On,er,286),Ot=Xe(Fn,yr,30),oe}function Pe(X,oe){if(X[0]==3&&!(X[1]&3))return[mh(oe),2];for(var ee=0,re=0,le=K7(oe||1<<18),ce=0,Ne=le.length>>>0,Ze=0,Be=0;(re&1)==0;){if(re=se(X,ee),ee+=3,re>>>1)re>>1==1?(Ze=9,Be=5):(ee=ue(X,ee),Ze=_t,Be=Ot);else{ee&7&&(ee+=8-(ee&7));var ze=X[ee>>>3]|X[(ee>>>3)+1]<<8;if(ee+=32,ze>0)for(!oe&&Ne<ce+ze&&(le=Ge(le,ce+ze),Ne=le.length);ze-- >0;)le[ce++]=X[ee>>>3],ee+=8;continue}for(;;){!oe&&Ne<ce+32767&&(le=Ge(le,ce+32767),Ne=le.length);var Ue=$e(X,ee,Ze),dt=re>>>1==1?gt[Ue]:er[Ue];if(ee+=dt&15,dt>>>=4,(dt>>>8&255)===0)le[ce++]=dt;else{if(dt==256)break;dt-=257;var Mt=dt<8?0:dt-4>>2;Mt>5&&(Mt=0);var Ft=ce+ve[dt];Mt>0&&(Ft+=$e(X,ee,Mt),ee+=Mt),Ue=$e(X,ee,Be),dt=re>>>1==1?Kt[Ue]:yr[Ue],ee+=dt&15,dt>>>=4;var yt=dt<4?0:dt-2>>1,Dt=Te[dt];for(yt>0&&(Dt+=$e(X,ee,yt),ee+=yt),!oe&&Ne<Ft&&(le=Ge(le,Ft+100),Ne=le.length);ce<Ft;)le[ce]=le[ce-Dt],++ce}}}return oe?[le,ee+7>>>3]:[le.slice(0,ce),ee+7>>>3]}function Je(X,oe){var ee=X.slice(X.l||0),re=Pe(ee,oe);return X.l+=re[1],re[0]}function bt(X,oe){if(X)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function Tt(X,oe){var ee=X;Za(ee,0);var re=[],le=[],ce={FileIndex:re,FullPaths:le};C(ce,{root:oe.root});for(var Ne=ee.length-4;(ee[Ne]!=80||ee[Ne+1]!=75||ee[Ne+2]!=5||ee[Ne+3]!=6)&&Ne>=0;)--Ne;ee.l=Ne+4,ee.l+=4;var Ze=ee.read_shift(2);ee.l+=6;var Be=ee.read_shift(4);for(ee.l=Be,Ne=0;Ne<Ze;++Ne){ee.l+=20;var ze=ee.read_shift(4),Ue=ee.read_shift(4),dt=ee.read_shift(2),Mt=ee.read_shift(2),Ft=ee.read_shift(2);ee.l+=8;var yt=ee.read_shift(4),Dt=s(ee.slice(ee.l+dt,ee.l+dt+Mt));ee.l+=dt+Mt+Ft;var cr=ee.l;ee.l=yt+4,Bt(ee,ze,Ue,ce,Dt),ee.l=cr}return ce}function Bt(X,oe,ee,re,le){X.l+=2;var ce=X.read_shift(2),Ne=X.read_shift(2),Ze=o(X);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var Be=X.read_shift(4),ze=X.read_shift(4),Ue=X.read_shift(4),dt=X.read_shift(2),Mt=X.read_shift(2),Ft="",yt=0;yt<dt;++yt)Ft+=String.fromCharCode(X[X.l++]);if(Mt){var Dt=s(X.slice(X.l,X.l+Mt));(Dt[21589]||{}).mt&&(Ze=Dt[21589].mt),((le||{})[21589]||{}).mt&&(Ze=le[21589].mt)}X.l+=Mt;var cr=X.slice(X.l,X.l+ze);switch(Ne){case 8:cr=W(X,Ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ne)}var On=!1;ce&8&&(Be=X.read_shift(4),Be==134695760&&(Be=X.read_shift(4),On=!0),ze=X.read_shift(4),Ue=X.read_shift(4)),ze!=oe&&bt(On,"Bad compressed size: "+oe+" != "+ze),Ue!=ee&&bt(On,"Bad uncompressed size: "+ee+" != "+Ue),Zi(re,Ft,cr,{unsafe:!0,mt:Ze})}function Gt(X,oe){var ee=oe||{},re=[],le=[],ce=va(1),Ne=ee.compression?8:0,Ze=0,Be=0,ze=0,Ue=0,dt=0,Mt=X.FullPaths[0],Ft=Mt,yt=X.FileIndex[0],Dt=[],cr=0;for(Be=1;Be<X.FullPaths.length;++Be)if(Ft=X.FullPaths[Be].slice(Mt.length),yt=X.FileIndex[Be],!(!yt.size||!yt.content||Ft=="Sh33tJ5")){var On=Ue,Fn=va(Ft.length);for(ze=0;ze<Ft.length;++ze)Fn.write_shift(1,Ft.charCodeAt(ze)&127);Fn=Fn.slice(0,Fn.l),Dt[dt]=R3e.buf(yt.content,0);var hi=yt.content;Ne==8&&(hi=j(hi)),ce=va(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,Ze),ce.write_shift(2,Ne),yt.mt?a(ce,yt.mt):ce.write_shift(4,0),ce.write_shift(-4,Dt[dt]),ce.write_shift(4,hi.length),ce.write_shift(4,yt.content.length),ce.write_shift(2,Fn.length),ce.write_shift(2,0),Ue+=ce.length,re.push(ce),Ue+=Fn.length,re.push(Fn),Ue+=hi.length,re.push(hi),ce=va(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,Ze),ce.write_shift(2,Ne),ce.write_shift(4,0),ce.write_shift(-4,Dt[dt]),ce.write_shift(4,hi.length),ce.write_shift(4,yt.content.length),ce.write_shift(2,Fn.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,On),cr+=ce.l,le.push(ce),cr+=Fn.length,le.push(Fn),++dt}return ce=va(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,dt),ce.write_shift(2,dt),ce.write_shift(4,cr),ce.write_shift(4,Ue),ce.write_shift(2,0),Gd([Gd(re),Gd(le),ce])}var Jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gr(X,oe){if(X.ctype)return X.ctype;var ee=X.name||"",re=ee.match(/\.([^\.]+)$/);return re&&Jt[re[1]]||oe&&(re=(ee=oe).match(/[\.\\]([^\.\\])+$/),re&&Jt[re[1]])?Jt[re[1]]:"application/octet-stream"}function mn(X){for(var oe=Y7(X),ee=[],re=0;re<oe.length;re+=76)ee.push(oe.slice(re,re+76));return ee.join(`\r
`)+`\r
`}function Jr(X){var oe=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var Ue=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(Ue.length==1?"0"+Ue:Ue)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],re=oe.split(`\r
`),le=0;le<re.length;++le){var ce=re[le];if(ce.length==0){ee.push("");continue}for(var Ne=0;Ne<ce.length;){var Ze=76,Be=ce.slice(Ne,Ne+Ze);Be.charAt(Ze-1)=="="?Ze--:Be.charAt(Ze-2)=="="?Ze-=2:Be.charAt(Ze-3)=="="&&(Ze-=3),Be=ce.slice(Ne,Ne+Ze),Ne+=Ze,Ne<ce.length&&(Be+="="),ee.push(Be)}}return ee.join(`\r
`)}function di(X){for(var oe=[],ee=0;ee<X.length;++ee){for(var re=X[ee];ee<=X.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+X[++ee];oe.push(re)}for(var le=0;le<oe.length;++le)oe[le]=oe[le].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return su(oe.join(`\r
`))}function Oi(X,oe,ee){for(var re="",le="",ce="",Ne,Ze=0;Ze<10;++Ze){var Be=oe[Ze];if(!Be||Be.match(/^\s*$/))break;var ze=Be.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":re=ze[2].trim();break;case"content-type":ce=ze[2].trim();break;case"content-transfer-encoding":le=ze[2].trim();break}}switch(++Ze,le.toLowerCase()){case"base64":Ne=su(Ws(oe.slice(Ze).join("")));break;case"quoted-printable":Ne=di(oe.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Ue=Zi(X,re.slice(ee.length),Ne,{unsafe:!0});ce&&(Ue.ctype=ce)}function Fi(X,oe){if(U(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=oe&&oe.root||"",re=(un&&Buffer.isBuffer(X)?X.toString("binary"):U(X)).split(`\r
`),le=0,ce="";for(le=0;le<re.length;++le)if(ce=re[le],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),ee||(ee=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),ce.slice(0,ee.length)!=ee););var Ne=(re[1]||"").match(/boundary="(.*?)"/);if(!Ne)throw new Error("MAD cannot find boundary");var Ze="--"+(Ne[1]||""),Be=[],ze=[],Ue={FileIndex:Be,FullPaths:ze};C(Ue);var dt,Mt=0;for(le=0;le<re.length;++le){var Ft=re[le];Ft!==Ze&&Ft!==Ze+"--"||(Mt++&&Oi(Ue,re.slice(dt,le),ee),dt=le)}return Ue}function Ki(X,oe){var ee=oe||{},re=ee.boundary||"SheetJS";re="------="+re;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],ce=X.FullPaths[0],Ne=ce,Ze=X.FileIndex[0],Be=1;Be<X.FullPaths.length;++Be)if(Ne=X.FullPaths[Be].slice(ce.length),Ze=X.FileIndex[Be],!(!Ze.size||!Ze.content||Ne=="Sh33tJ5")){Ne=Ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(cr){return"_x"+cr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(cr){return"_u"+cr.charCodeAt(0).toString(16)+"_"});for(var ze=Ze.content,Ue=un&&Buffer.isBuffer(ze)?ze.toString("binary"):U(ze),dt=0,Mt=Math.min(1024,Ue.length),Ft=0,yt=0;yt<=Mt;++yt)(Ft=Ue.charCodeAt(yt))>=32&&Ft<128&&++dt;var Dt=dt>=Mt*4/5;le.push(re),le.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+Ne),le.push("Content-Transfer-Encoding: "+(Dt?"quoted-printable":"base64")),le.push("Content-Type: "+Gr(Ze,Ne)),le.push(""),le.push(Dt?Jr(Ue):mn(Ue))}return le.push(re+`--\r
`),le.join(`\r
`)}function xi(X){var oe={};return C(oe,X),oe}function Zi(X,oe,ee,re){var le=re&&re.unsafe;le||C(X);var ce=!le&&vn.find(X,oe);if(!ce){var Ne=X.FullPaths[0];oe.slice(0,Ne.length)==Ne?Ne=oe:(Ne.slice(-1)!="/"&&(Ne+="/"),Ne=(Ne+oe).replace("//","/")),ce={name:i(oe),type:2},X.FileIndex.push(ce),X.FullPaths.push(Ne),le||vn.utils.cfb_gc(X)}return ce.content=ee,ce.size=ee?ee.length:0,re&&(re.CLSID&&(ce.clsid=re.CLSID),re.mt&&(ce.mt=re.mt),re.ct&&(ce.ct=re.ct)),ce}function qi(X,oe){C(X);var ee=vn.find(X,oe);if(ee){for(var re=0;re<X.FileIndex.length;++re)if(X.FileIndex[re]==ee)return X.FileIndex.splice(re,1),X.FullPaths.splice(re,1),!0}return!1}function Ie(X,oe,ee){C(X);var re=vn.find(X,oe);if(re){for(var le=0;le<X.FileIndex.length;++le)if(X.FileIndex[le]==re)return X.FileIndex[le].name=i(ee),X.FullPaths[le]=ee,!0}return!1}function et(X){A(X,!0)}return t.find=D,t.read=S,t.parse=c,t.write=K,t.writeFile=V,t.utils={cfb_new:xi,cfb_add:Zi,cfb_del:qi,cfb_mov:Ie,cfb_gc:et,ReadShift:bx,CheckField:Dte,prep_blob:Za,bconcat:Gd,use_zlib:N,_deflateRaw:Lt,_inflateRaw:Je,consts:H},t})();function L3e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Mc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function B5(e){for(var t=[],r=Mc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var sT=new Date(1899,11,30,0,0,0);function Ko(e,t){var r=e.getTime(),n=sT.getTime()+(e.getTimezoneOffset()-sT.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var lte=new Date,I3e=sT.getTime()+(lte.getTimezoneOffset()-sT.getTimezoneOffset())*6e4,n9=lte.getTimezoneOffset();function bE(e){var t=new Date;return t.setTime(e*24*60*60*1e3+I3e),t.getTimezoneOffset()!==n9&&t.setTime(t.getTime()+(t.getTimezoneOffset()-n9)*6e4),t}function k3e(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var i9=new Date("2017-02-19T19:06:09.000Z"),ute=isNaN(i9.getFullYear())?new Date("2/19/17"):i9,O3e=ute.getFullYear()==2017;function Va(e,t){var r=new Date(e);if(O3e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ute.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Ep(e,t){if(un&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return G1(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return G1(Kee(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return G1(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return G1(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function to(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=to(e[r]));return t}function Ci(e,t){for(var r="";r.length<t;)r+=e;return r}function vu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var F3e=["january","february","march","april","may","june","july","august","september","october","november","december"];function fm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&F3e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var N3e=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),o=[a[0]],s=1;s<a.length;++s)o.push(i),o.push(a[s]);return o}})();function cte(e){return e?e.content&&e.type?Ep(e.content,!0):e.data?H1(e.data):e.asNodeBuffer&&un?H1(e.asNodeBuffer().toString("binary")):e.asBinary?H1(e.asBinary()):e._data&&e._data.getContent?H1(Ep(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function fte(e){if(!e)return null;if(e.data)return X7(e.data);if(e.asNodeBuffer&&un)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?X7(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function B3e(e){return e&&e.name.slice(-4)===".bin"?fte(e):cte(e)}function pl(e,t){for(var r=e.FullPaths||Mc(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var o=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||i==o)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function z5(e,t){var r=pl(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ta(e,t,r){if(!r)return B3e(z5(e,t));if(!t)return null;try{return ta(e,t)}catch{return null}}function Is(e,t,r){if(!r)return cte(z5(e,t));if(!t)return null;try{return Is(e,t)}catch{return null}}function z3e(e,t,r){return fte(z5(e,t))}function a9(e){for(var t=e.FullPaths||Mc(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function H3e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return un?n=e0(r):n=a3e(r),vn.utils.cfb_add(e,t,n)}vn.utils.cfb_add(e,t,r)}else e.file(t,r)}function dte(e,t){switch(t.type){case"base64":return vn.read(e,{type:"base64"});case"binary":return vn.read(e,{type:"binary"});case"buffer":case"array":return vn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function $1(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var hte=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,V3e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,o9=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,$3e=/<[^>]*>/g,Mo=hte.match(o9)?o9:$3e,G3e=/<\w*:/,U3e=/<(\/?)\w+:/;function Tr(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var o=e.match(V3e),s=0,l="",u=0,c="",f="",d=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(c=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),s=0;s!=c.length&&c.charCodeAt(s)!==58;++s);if(s===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=l,n[c.toLowerCase()]=l;else{var h=(s===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(s+1);if(n[h]&&c.slice(s-3,s)=="ext")continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function Bc(e){return e.replace(U3e,"<$1")}var vte={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},W3e=B5(vte),bn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(s,l){return vte[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,o)+r(i.slice(o+3))}})(),X3e=/[&<>'"]/g,j3e=/[\u0000-\u001f]/g;function H5(e){var t=e+"";return t.replace(X3e,function(r){return W3e[r]}).replace(/\n/g,"<br/>").replace(j3e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var s9=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function ci(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function TP(e){for(var t="",r=0,n=0,i=0,a=0,o=0,s=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),s=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function l9(e){var t=mh(2*e.length),r,n,i=1,a=0,o=0,s;for(n=0;n<e.length;n+=i)i=1,(s=e.charCodeAt(n))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(n+1)&63),i=2):s<240?(r=(s&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(s&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function u9(e){return e0(e,"binary").toString("utf8")}var uS="foo bar bazâð£",Qn=un&&(u9(uS)==TP(uS)&&u9||l9(uS)==TP(uS)&&l9)||TP,G1=un?function(e){return e0(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},d_=(function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),pte=(function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}})(),Y3e=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),K3e=/<\/?(?:vt:)?variant>/g,Z3e=/<(?:vt:)([^>]*)>([\s\S]*)</;function c9(e,t){var r=Tr(e),n=e.match(Y3e(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var o=a.replace(K3e,"").match(Z3e);o&&i.push({v:Qn(o[2]),t:o[1]})}),i}var q3e=/(^\s|\s$|\n)/;function J3e(e){return Mc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Q3e(e,t,r){return"<"+e+(r!=null?J3e(r):"")+(t!=null?(t.match(q3e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function V5(e){if(un&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Qn(t0(O5(e)));throw new Error("Bad input format: expected Buffer or string")}var h_=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,eke={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},tke=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function rke(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function nke(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=n?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)e[r+s]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var f9=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},d9=un?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:e0(t)})):f9(e)}:f9,h9=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(yf(e,i)));return n.join("").replace(Xo,"")},$5=un?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Xo,""):h9(e,t,r)}:h9,v9=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},gte=un?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):v9(e,t,r)}:v9,p9=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Cg(e,i)));return n.join("")},vb=un?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):p9(t,r,n)}:p9,mte=function(e,t){var r=Ls(e,t);return r>0?vb(e,t+4,t+4+r-1):""},yte=mte,xte=function(e,t){var r=Ls(e,t);return r>0?vb(e,t+4,t+4+r-1):""},_te=xte,bte=function(e,t){var r=2*Ls(e,t);return r>0?vb(e,t+4,t+4+r-1):""},wte=bte,Ste=function(t,r){var n=Ls(t,r);return n>0?$5(t,r+4,r+4+n):""},Cte=Ste,Tte=function(e,t){var r=Ls(e,t);return r>0?vb(e,t+4,t+4+r):""},Ate=Tte,Ete=function(e,t){return rke(e,t)},lT=Ete,Mte=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};un&&(yte=function(t,r){if(!Buffer.isBuffer(t))return mte(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_te=function(t,r){if(!Buffer.isBuffer(t))return xte(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},wte=function(t,r){if(!Buffer.isBuffer(t))return bte(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Cte=function(t,r){if(!Buffer.isBuffer(t))return Ste(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Ate=function(t,r){if(!Buffer.isBuffer(t))return Tte(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},lT=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Ete(t,r)},Mte=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Cg=function(e,t){return e[t]},yf=function(e,t){return e[t+1]*256+e[t]},ike=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ls=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Vv=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ake=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function bx(e,t){var r="",n,i,a=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,un&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(yf(this,u)),u+=2;e*=2;break;case"utf8":r=vb(this,this.l,this.l+e);break;case"utf16le":e*=2,r=$5(this,this.l,this.l+e);break;case"wstr":return bx.call(this,e,"dbcs");case"lpstr-ansi":r=yte(this,this.l),e=4+Ls(this,this.l);break;case"lpstr-cp":r=_te(this,this.l),e=4+Ls(this,this.l);break;case"lpwstr":r=wte(this,this.l),e=4+2*Ls(this,this.l);break;case"lpp4":e=4+Ls(this,this.l),r=Cte(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ls(this,this.l),r=Ate(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Cg(this,this.l+e++))!==0;)a.push(lS(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=yf(this,this.l+e))!==0;)a.push(lS(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Cg(this,u),this.l=u+1,s=bx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(lS(yf(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Cg(this,u),this.l=u+1,s=bx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(lS(Cg(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Cg(this,this.l),this.l++,n;case 2:return n=(t==="i"?ike:yf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Vv:ake)(this,this.l),this.l+=4,n):(i=Ls(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=lT(this,this.l):i=lT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=gte(this,this.l,e);break}}return this.l+=e,r}var oke=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ske=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},lke=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function uke(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)lke(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,oke(this,t,this.l);break;case 8:if(n=8,r==="f"){nke(this,t,this.l);break}case 16:break;case-4:n=4,ske(this,t,this.l);break}return this.l+=n,this}function Dte(e,t){var r=gte(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Za(e,t){e.l=t,e.read_shift=bx,e.chk=Dte,e.write_shift=uke}function wo(e,t){e.l+=t}function va(e){var t=mh(e);return Za(t,0),t}function qf(e,t,r){if(e){var n,i,a;Za(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=vT[s]||vT[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;l=e.l+a;var c=u.f&&u.f(e,a,r);if(e.l=l,t(c,u,s))return}}}function R3(){var e=[],t=un?256:2048,r=function(u){var c=va(u);return Za(c,0),c},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},o=function(){return i(),Gd(e)},s=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:s,end:o,_bufs:e}}function Sx(e,t,r){var n=to(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function g9(e,t,r){var n=to(e);return n.s=Sx(n.s,t.s,r),n.e=Sx(n.e,t.s,r),n}function Cx(e,t){if(e.cRel&&e.c<0)for(e=to(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=to(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=kr(e);return!e.cRel&&e.cRel!=null&&(r=dke(r)),!e.rRel&&e.rRel!=null&&(r=cke(r)),r}function AP(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ya(e.s.c)+":"+(e.e.cRel?"":"$")+ya(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ro(e.s.r)+":"+(e.e.rRel?"":"$")+ro(e.e.r):Cx(e.s,t.biff)+":"+Cx(e.e,t.biff)}function G5(e){return parseInt(fke(e),10)-1}function ro(e){return""+(e+1)}function cke(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fke(e){return e.replace(/\$(\d+)$/,"$1")}function U5(e){for(var t=hke(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ya(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function dke(e){return e.replace(/^([A-Z])/,"$$$1")}function hke(e){return e.replace(/^\$([A-Z])/,"$1")}function vke(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wo(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function kr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Km(e){var t=e.indexOf(":");return t==-1?{s:Wo(e),e:Wo(e)}:{s:Wo(e.slice(0,t)),e:Wo(e.slice(t+1))}}function pn(e,t){return typeof t>"u"||typeof t=="number"?pn(e.s,e.e):(typeof e!="string"&&(e=kr(e)),typeof t!="string"&&(t=kr(t)),e==t?e:e+":"+t)}function Di(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function m9(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zl(e.z,r?Ko(t):t)}catch{}try{return e.w=zl((e.XF||{}).numFmtId||(r?14:0),r?Ko(t):t)}catch{return""+t}}function kf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?i0[e.v]||e.v:t==null?m9(e,e.v):m9(e,t))}function Rh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Pte(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),o=0,s=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Wo(n.origin):n.origin;o=l.r,s=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Di(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),o==-1&&(u.e.r=o=c.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},v=o+f,p=s+d;if(u.s.r>v&&(u.s.r=v),u.s.c>p&&(u.s.c=p),u.e.r<v&&(u.e.r=v),u.e.c<p&&(u.e.c=p),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Hr[14],n.cellDates?(h.t="d",h.w=zl(h.z,Ko(h.v))):(h.t="n",h.v=Ko(h.v),h.w=zl(h.z,h.v))):h.t="s";if(i)a[v]||(a[v]=[]),a[v][p]&&a[v][p].z&&(h.z=a[v][p].z),a[v][p]=h;else{var g=kr({c:p,r:v});a[g]&&a[g].z&&(h.z=a[g].z),a[g]=h}}}return u.s.c<1e7&&(a["!ref"]=pn(u)),a}function Zm(e,t){return Pte(null,e,t)}function pke(e){return e.read_shift(4,"i")}function yo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function gke(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function W5(e,t){var r=e.l,n=e.read_shift(1),i=yo(e),a=[],o={t:i,h:i};if((n&1)!==0){for(var s=e.read_shift(4),l=0;l!=s;++l)a.push(gke(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var mke=W5;function $l(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function r0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var yke=yo;function X5(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var xke=yo,L3=X5;function j5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?lT([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Vv(t,0)>>2;return r?i/100:i}function Rte(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var n0=Rte;function po(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _ke(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=fp[i];u&&(t.rgb=p_(u));break;case 2:t.rgb=p_([o,s,l]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function bke(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Lte(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function wke(e){return Lte(e,1)}function Ske(e){return Lte(e,2)}var Y5=2,cs=3,cS=11,y9=12,uT=19,fS=64,Cke=65,Tke=71,Ake=4108,Eke=4126,Fa=80,Ite=81,Mke=[Fa,Ite],Dke={1:{n:"CodePage",t:Y5},2:{n:"Category",t:Fa},3:{n:"PresentationFormat",t:Fa},4:{n:"ByteCount",t:cs},5:{n:"LineCount",t:cs},6:{n:"ParagraphCount",t:cs},7:{n:"SlideCount",t:cs},8:{n:"NoteCount",t:cs},9:{n:"HiddenCount",t:cs},10:{n:"MultimediaClipCount",t:cs},11:{n:"ScaleCrop",t:cS},12:{n:"HeadingPairs",t:Ake},13:{n:"TitlesOfParts",t:Eke},14:{n:"Manager",t:Fa},15:{n:"Company",t:Fa},16:{n:"LinksUpToDate",t:cS},17:{n:"CharacterCount",t:cs},19:{n:"SharedDoc",t:cS},22:{n:"HyperlinksChanged",t:cS},23:{n:"AppVersion",t:cs,p:"version"},24:{n:"DigSig",t:Cke},26:{n:"ContentType",t:Fa},27:{n:"ContentStatus",t:Fa},28:{n:"Language",t:Fa},29:{n:"Version",t:Fa},255:{},2147483648:{n:"Locale",t:uT},2147483651:{n:"Behavior",t:uT},1919054434:{}},Pke={1:{n:"CodePage",t:Y5},2:{n:"Title",t:Fa},3:{n:"Subject",t:Fa},4:{n:"Author",t:Fa},5:{n:"Keywords",t:Fa},6:{n:"Comments",t:Fa},7:{n:"Template",t:Fa},8:{n:"LastAuthor",t:Fa},9:{n:"RevNumber",t:Fa},10:{n:"EditTime",t:fS},11:{n:"LastPrinted",t:fS},12:{n:"CreatedDate",t:fS},13:{n:"ModifiedDate",t:fS},14:{n:"PageCount",t:cs},15:{n:"WordCount",t:cs},16:{n:"CharCount",t:cs},17:{n:"Thumbnail",t:Tke},18:{n:"Application",t:Fa},19:{n:"DocSecurity",t:cs},255:{},2147483648:{n:"Locale",t:uT},2147483651:{n:"Behavior",t:uT},1919054434:{}},x9={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Rke=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Lke(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ike=Lke([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fp=to(Ike),i0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kte={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function kke(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Oke(e){var t=kke();if(!e||!e.match)return t;var r={};if((e.match(Mo)||[]).forEach(function(n){var i=Tr(n);switch(i[0].replace(G3e,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[_9[i.ContentType]]!==void 0&&t[_9[i.ContentType]].push(i.PartName);break}}),t.xmlns!==eke.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Dg={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function I3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Tx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Mo)||[]).forEach(function(i){var a=Tr(i);if(a[0]==="<Relationship"){var o={};o.Type=a.Type,o.Target=a.Target,o.Id=a.Id,a.TargetMode&&(o.TargetMode=a.TargetMode);var s=a.TargetMode==="External"?a.Target:$1(a.Target,t);r[s]=o,n[a.Id]=o}}),r["!id"]=n,r}var Fke="application/vnd.oasis.opendocument.spreadsheet";function Nke(e,t){for(var r=V5(e),n,i;n=h_.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Tr(n[0],!1),i.path=="/"&&i.type!==Fke)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ax=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Bke=(function(){for(var e=new Array(Ax.length),t=0;t<Ax.length;++t){var r=Ax[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function Ote(e){var t={};e=Qn(e);for(var r=0;r<Ax.length;++r){var n=Ax[r],i=e.match(Bke[r]);i!=null&&i.length>0&&(t[n[1]]=bn(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Va(t[n[1]]))}return t}var zke=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Fte(e,t,r,n){var i=[];if(typeof e=="string")i=c9(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(c){return{v:c}}));var o=typeof t=="string"?c9(t,n).map(function(c){return c.v}):t,s=0,l=0;if(o.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=o.slice(s,s+l);break}s+=l}}function Hke(e,t,r){var n={};return t||(t={}),e=Qn(e),zke.forEach(function(i){var a=(e.match(d_(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=bn(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(n[i[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Fte(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Vke=/<[^>]+>[^<]*/g;function $ke(e,t){var r={},n="",i=e.match(Vke);if(i)for(var a=0;a!=i.length;++a){var o=i[a],s=Tr(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":n=bn(s.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=bn(c);break;case"bool":r[n]=ci(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(c);break;case"filetime":case"date":r[n]=Va(c);break;case"cy":case"error":r[n]=bn(c);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var Gke={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},EP;function Uke(e,t,r){EP||(EP=B5(Gke)),t=EP[t]||t,e[t]=r}function K5(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Nte(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function Bte(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function zte(e,t,r){return t===31?Bte(e):Nte(e,t,r)}function k3(e,t,r){return zte(e,t,r===!1?0:4)}function Wke(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return zte(e,t,0)}function Xke(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Xo,""),e.l-i&2&&(e.l+=2)}return r}function jke(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Xo,"");return r}function Yke(e){var t=e.l,r=cT(e,Ite);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=cT(e,cs);return[r,n]}function Kke(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Yke(e));return r}function b9(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),o=e.read_shift(4);n[a]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Xo,"").replace(V1,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Hte(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Zke(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function cT(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==y9&&n!==t&&Mke.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===y9?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return Nte(e,n,4).replace(Xo,"");case 31:return Bte(e);case 64:return K5(e);case 65:return Hte(e);case 71:return Zke(e);case 80:return k3(e,n,!a.raw).replace(Xo,"");case 81:return Wke(e,n).replace(Xo,"");case 4108:return Kke(e);case 4126:case 4127:return n==4127?Xke(e):jke(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function w9(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],o=0,s=0,l=-1,u={};for(o=0;o!=i;++o){var c=e.read_shift(4),f=e.read_shift(4);a[o]=[c,f+r]}a.sort(function(y,x){return y[1]-x[1]});var d={};for(o=0;o!=i;++o){if(e.l!==a[o][1]){var h=!0;if(o>0&&t)switch(t[a[o-1][0]].t){case 2:e.l+2===a[o][1]&&(e.l+=2,h=!1);break;case 80:e.l<=a[o][1]&&(e.l=a[o][1],h=!1);break;case 4108:e.l<=a[o][1]&&(e.l=a[o][1],h=!1);break}if((!t||o==0)&&e.l<=a[o][1]&&(h=!1,e.l=a[o][1]),h)throw new Error("Read Error: Expected address "+a[o][1]+" at "+e.l+" :"+o)}if(t){var v=t[a[o][0]];if(d[v.n]=cT(e,v.t,{raw:!0}),v.p==="version"&&(d[v.n]=String(d[v.n]>>16)+"."+("0000"+String(d[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(d[v.n]){case 0:d[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:uu(s=d[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[v.n])}}else if(a[o][0]===1){if(s=d.CodePage=cT(e,Y5),uu(s),l!==-1){var p=e.l;e.l=a[l][1],u=b9(e,s),e.l=p}}else if(a[o][0]===0){if(s===0){l=o,e.l=a[o+1][1];continue}u=b9(e,s)}else{var g=u[a[o][0]],m;switch(e[e.l]){case 65:e.l+=4,m=Hte(e);break;case 30:e.l+=4,m=k3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,m=k3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=zi(e,4);break;case 64:e.l+=4,m=Va(K5(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[g]=m}}return e.l=r+n,d}function S9(e,t,r){var n=e.content;if(!n)return{};Za(n,0);var i,a,o,s,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),c=n.read_shift(16);if(c!==vn.utils.consts.HEADER_CLSID&&c!==r)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),s=n.read_shift(4),i===1&&s!==n.l)throw new Error("Length mismatch: "+s+" !== "+n.l);i===2&&(o=n.read_shift(16),l=n.read_shift(4));var f=w9(n,t),d={SystemIdentifier:u};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=w9(n,null)}catch{}for(h in v)d[h]=v[h];return d.FMTID=[a,o],d}function _d(e,t){return e.read_shift(t),null}function qke(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function zi(e,t){return e.read_shift(t)===1}function ra(e){return e.read_shift(2,"u")}function Vte(e,t){return qke(e,t,ra)}function Jke(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function pb(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?e.read_shift(n,i):"";return o}function Qke(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),o=0,s,l={};i&&(o=e.read_shift(2)),n&&(s=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",c=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*o),n&&(e.l+=s),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Mp(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function gb(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Mp(e,n,r)}function a0(e,t,r){if(r.biff>5)return gb(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function e4e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function t4e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Xo,"");return n&&(e.l+=24),i}function r4e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(a>>1,"utf16le").replace(Xo,"");return r+o}function n4e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return t4e(e);case"0303000000000000c000000000000046":return r4e(e);default:throw new Error("Unsupported Moniker "+r)}}function dS(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Xo,""):"";return r}function i4e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,o,s,l,u="",c,f;i&16&&(a=dS(e,r-e.l)),i&128&&(o=dS(e,r-e.l)),(i&257)===257&&(s=dS(e,r-e.l)),(i&257)===1&&(l=n4e(e,r-e.l)),i&8&&(u=dS(e,r-e.l)),i&32&&(c=e.read_shift(16)),i&64&&(f=K5(e)),e.l=r;var d=o||s||l||"";d&&u&&(d+="#"+u),d||(d="#"+u),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return c&&(h.guid=c),f&&(h.time=f),a&&(h.Tooltip=a),h}function $te(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function Gte(e,t){var r=$te(e);return r[3]=0,r}function zc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function a4e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function o4e(e,t,r){return t===0?"":a0(e,t,r)}function s4e(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[i,a,o]}function Ute(e){var t=e.read_shift(2),r=j5(e);return[t,r]}function l4e(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=pb(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function wE(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function Wte(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var u4e=Wte;function Xte(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function c4e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function f4e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function so(e){e.l+=2,e.l+=e.read_shift(2)}var d4e={0:so,4:so,5:so,6:so,7:f4e,8:so,9:so,10:so,11:so,12:so,13:c4e,14:so,15:so,16:so,17:so,18:so,19:so,20:so,21:Xte};function h4e(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(d4e[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function hS(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function v4e(e,t){return t===0||e.read_shift(2),1200}function p4e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=a0(e,0,r);return e.read_shift(t+n-e.l),i}function g4e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function m4e(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var o=pb(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:i,dt:a,name:o}}function y4e(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],o=0;o!=i&&e.l<r;++o)a.push(Qke(e));return a.Count=n,a.Unique=i,a}function x4e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function _4e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function b4e(e){var t=a4e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function w4e(e){return e.read_shift(2),e.read_shift(4)}function C9(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function S4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:o,FirstTab:s,Selected:l,TabRatio:u}}function C4e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function T4e(){}function A4e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=pb(e,0,r),n}function E4e(e){var t=zc(e);return t.isst=e.read_shift(4),t}function M4e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=zc(e);r.biff==2&&e.l++;var a=gb(e,n-e.l,r);return i.val=a,i}function D4e(e,t,r){var n=e.read_shift(2),i=a0(e,0,r);return[n,i]}var P4e=a0;function T9(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),o=e.read_shift(i),s=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:a,c:s},e:{r:o,c:l}}}function R4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=Ute(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function L4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(Ute(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(a.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:o,rkrec:a}}function I4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(a.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:o,ixfe:a}}function k4e(e,t,r,n){var i={},a=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return i.patternType=Rke[s>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=s&127,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function O4e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=k4e(e,t,n.fStyle,r),n}function F4e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function A9(e,t,r){var n=zc(e);(r.biff==2||t==9)&&++e.l;var i=Jke(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function N4e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=zc(e),i=po(e);return n.val=i,n}var E9=o4e;function B4e(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var o=Mp(e,a),s=[];n>e.l;)s.push(gb(e));return[a,i,o,s]}function M9(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=l4e(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var z4e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function D9(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Mp(e,o,r);i&32&&(u=z4e[u.charCodeAt(0)]);var c=n-e.l;r&&r.biff==2&&--c;var f=n==e.l||s===0||!(c>0)?[]:_Ne(e,c,r,s);return{chKey:a,Name:u,itab:l,rgce:f}}function jte(e,t,r){if(r.biff<8)return H4e(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(s4e(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function H4e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=pb(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function V4e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=Mp(e,n,r),o=Mp(e,i,r);return[a,o]}function $4e(e,t,r){var n=Wte(e);e.l++;var i=e.read_shift(1);return t-=8,[bNe(e,t,r),i,n]}function P9(e,t,r){var n=u4e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,yNe(e,t,r)]}function G4e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function U4e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=a0(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},s,o,a]}}function W4e(e,t,r){return U4e(e,t,r)}function X4e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(wE(e));return r}function j4e(e,t,r){if(r&&r.biff<8)return K4e(e,t,r);var n=Xte(e),i=h4e(e,t-22,n[1]);return{cmo:n,ft:i}}var Y4e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function K4e(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Y4e[n]||wo)(e,t,r)),{cmo:[i,n,a],ft:o}}function Z4e(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:o=e4e(e,6,r);var s=e.read_shift(2);e.read_shift(2),ra(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var c=e[e.l],f=Mp(e,e.lens[u+1]-e.lens[u]-1);if(i+=f,i.length>=(c?s:2*s))break}if(i.length!==s&&i.length!==s*2)throw new Error("cchText: "+s+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function q4e(e,t){var r=wE(e);e.l+=16;var n=i4e(e,t-24);return[r,n]}function J4e(e,t){e.read_shift(2);var r=wE(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Xo,""),[r,n]}function Q4e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=x9[r]||r,r=e.read_shift(2),t[1]=x9[r]||r,t}function eOe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Gte(e));return r}function tOe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Gte(e));return r}function rOe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Yte(e,t,r){if(!r.cellStyles)return wo(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:o,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function nOe(e,t){var r={};return t<32||(e.l+=16,r.header=po(e),r.footer=po(e),e.l+=2),r}function iOe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var aOe=zc,oOe=Vte,sOe=gb;function lOe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function uOe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=zc(e);++e.l;var i=a0(e,t-7,r);return n.t="str",n.val=i,n}function cOe(e){var t=zc(e);++e.l;var r=po(e);return t.t="n",t.val=r,t}function fOe(e){var t=zc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function dOe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function hOe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function vOe(e,t,r){var n=e.l+t,i=zc(e),a=e.read_shift(2),o=Mp(e,a,r);return e.l=n,i.t="str",i.val=o,i}var pOe=[2,3,48,49,131,139,140,245],R9=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=B5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,l){var u=[],c=mh(1);switch(l.type){case"base64":c=su(Ws(s));break;case"binary":c=su(s);break;case"buffer":case"array":c=s;break}Za(c,0);var f=c.read_shift(1),d=!!(f&136),h=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=c.read_shift(2)),c.l+=3,f!=2&&(p=c.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=c.read_shift(2));var m=c.read_shift(2),y=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(y=e[c[c.l]]),c.l+=1,c.l+=2),v&&(c.l+=36);for(var x=[],b={},w=Math.min(c.length,f==2?521:g-10-(h?264:0)),S=v?32:11;c.l<w&&c[c.l]!=13;)switch(b={},b.name=c_.utils.decode(y,c.slice(c.l,c.l+S)).replace(/[\u0000\r\n].*$/g,""),c.l+=S,b.type=String.fromCharCode(c.read_shift(1)),f!=2&&!v&&(b.offset=c.read_shift(4)),b.len=c.read_shift(1),f==2&&(b.offset=c.read_shift(2)),b.dec=c.read_shift(1),b.name.length&&x.push(b),f!=2&&(c.l+=v?13:14),b.type){case"B":(!h||b.len!=8)&&l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var C=0,E=0;for(u[0]=[],E=0;E!=x.length;++E)u[0][E]=x[E].name;for(;p-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,u[++C]=[],E=0,E=0;E!=x.length;++E){var A=c.slice(c.l,c.l+x[E].len);c.l+=x[E].len,Za(A,0);var M=c_.utils.decode(y,A);switch(x[E].type){case"C":M.trim().length&&(u[C][E]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[C][E]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[C][E]=M;break;case"F":u[C][E]=parseFloat(M.trim());break;case"+":case"I":u[C][E]=v?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[C][E]=!0;break;case"N":case"F":u[C][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[C][E]="##MEMO##"+(v?parseInt(M.trim(),10):A.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[C][E]=+M||0);break;case"@":u[C][E]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[C][E]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[C][E]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[C][E]=-A.read_shift(-8,"f");break;case"B":if(h&&x[E].len==8){u[C][E]=A.read_shift(8,"f");break}case"G":case"P":A.l+=x[E].len;break;case"0":if(x[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[E].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=x,u}function n(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Zm(r(s,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(s,l){try{return Rh(n(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&uu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=R3(),f=V3(s,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),v=s["!cols"]||[],p=0,g=0,m=0,y=1;for(p=0;p<d.length;++p){if(((v[p]||{}).DBF||{}).name){d[p]=v[p].DBF.name,++m;continue}if(d[p]!=null){if(++m,typeof d[p]=="number"&&(d[p]=d[p].toString(10)),typeof d[p]!="string")throw new Error("DBF Invalid column name "+d[p]+" |"+typeof d[p]+"|");if(d.indexOf(d[p])!==p){for(g=0;g<1024;++g)if(d.indexOf(d[p]+"_"+g)==-1){d[p]+="_"+g;break}}}}var x=Di(s["!ref"]),b=[],w=[],S=[];for(p=0;p<=x.e.c-x.s.c;++p){var C="",E="",A=0,M=[];for(g=0;g<h.length;++g)h[g][p]!=null&&M.push(h[g][p]);if(M.length==0||d[p]==null){b[p]="?";continue}for(g=0;g<M.length;++g){switch(typeof M[g]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=M[g]instanceof Date?"D":"C";break;default:E="C"}A=Math.max(A,String(M[g]).length),C=C&&C!=E?"C":E}A>250&&(A=250),E=((v[p]||{}).DBF||{}).type,E=="C"&&v[p].DBF.len>A&&(A=v[p].DBF.len),C=="B"&&E=="N"&&(C="N",S[p]=v[p].DBF.dec,A=v[p].DBF.len),w[p]=C=="C"||E=="N"?A:a[C]||0,y+=w[p],b[p]=C}var D=c.next(32);for(D.write_shift(4,318902576),D.write_shift(4,h.length),D.write_shift(2,296+32*m),D.write_shift(2,y),p=0;p<4;++p)D.write_shift(4,0);for(D.write_shift(4,0|(+t[jee]||3)<<8),p=0,g=0;p<d.length;++p)if(d[p]!=null){var R=c.next(32),L=(d[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,L,"sbcs"),R.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),R.write_shift(4,g),R.write_shift(1,w[p]||a[b[p]]||0),R.write_shift(1,S[p]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),g+=w[p]||a[b[p]]||0}var k=c.next(264);for(k.write_shift(4,13),p=0;p<65;++p)k.write_shift(4,0);for(p=0;p<h.length;++p){var O=c.next(y);for(O.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(b[g]){case"L":O.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":O.write_shift(8,h[p][g]||0,"f");break;case"N":var F="0";for(typeof h[p][g]=="number"&&(F=h[p][g].toFixed(S[g]||0)),m=0;m<w[g]-F.length;++m)O.write_shift(1,32);O.write_shift(1,F,"sbcs");break;case"D":h[p][g]?(O.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),O.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),O.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):O.write_shift(8,"00000000","sbcs");break;case"C":var H=String(h[p][g]!=null?h[p][g]:"").slice(0,w[g]);for(O.write_shift(1,H,"sbcs"),m=0;m<w[g]-H.length;++m)O.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}})(),gOe=(function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Mc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var v=e[h];return typeof v=="number"?j7(v):v},n=function(d,h,v){var p=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return p==59?d:j7(p)};e["|"]=254;function i(d,h){switch(h.type){case"base64":return a(Ws(d),h);case"binary":return a(d,h);case"buffer":return a(un&&Buffer.isBuffer(d)?d.toString("binary"):t0(d),h);case"array":return a(Ep(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var v=d.split(/[\n\r]+/),p=-1,g=-1,m=0,y=0,x=[],b=[],w=null,S={},C=[],E=[],A=[],M=0,D;for(+h.codepage>=0&&uu(+h.codepage);m!==v.length;++m){M=0;var R=v[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=R.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),k=L[0],O;if(R.length>0)switch(k){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&b.push(R.slice(3).replace(/;;/g,";"));break;case"C":var F=!1,H=!1,V=!1,U=!1,K=-1,q=-1;for(y=1;y<L.length;++y)switch(L[y].charAt(0)){case"A":break;case"X":g=parseInt(L[y].slice(1))-1,H=!0;break;case"Y":for(p=parseInt(L[y].slice(1))-1,H||(g=0),D=x.length;D<=p;++D)x[D]=[];break;case"K":O=L[y].slice(1),O.charAt(0)==='"'?O=O.slice(1,O.length-1):O==="TRUE"?O=!0:O==="FALSE"?O=!1:isNaN(vu(O))?isNaN(fm(O).getDate())||(O=Va(O)):(O=vu(O),w!==null&&Ym(w)&&(O=bE(O))),F=!0;break;case"E":U=!0;var N=Kg(L[y].slice(1),{r:p,c:g});x[p][g]=[x[p][g],N];break;case"S":V=!0,x[p][g]=[x[p][g],"S5S"];break;case"G":break;case"R":K=parseInt(L[y].slice(1))-1;break;case"C":q=parseInt(L[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}if(F&&(x[p][g]&&x[p][g].length==2?x[p][g][0]=O:x[p][g]=O,w=null),V){if(U)throw new Error("SYLK shared formula cannot have own formula");var W=K>-1&&x[K][q];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");x[p][g][1]=ire(W[1],{r:p-K,c:g-q})}break;case"F":var j=0;for(y=1;y<L.length;++y)switch(L[y].charAt(0)){case"X":g=parseInt(L[y].slice(1))-1,++j;break;case"Y":for(p=parseInt(L[y].slice(1))-1,D=x.length;D<=p;++D)x[D]=[];break;case"M":M=parseInt(L[y].slice(1))/20;break;case"F":break;case"G":break;case"P":w=b[parseInt(L[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=L[y].slice(1).split(" "),D=parseInt(A[0],10);D<=parseInt(A[1],10);++D)M=parseInt(A[2],10),E[D-1]=M===0?{hidden:!0}:{wch:M},dm(E[D-1]);break;case"C":g=parseInt(L[y].slice(1))-1,E[g]||(E[g]={});break;case"R":p=parseInt(L[y].slice(1))-1,C[p]||(C[p]={}),M>0?(C[p].hpt=M,C[p].hpx=g_(M)):M===0&&(C[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}j<1&&(w=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}}return C.length>0&&(S["!rows"]=C),E.length>0&&(S["!cols"]=E),h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),[x,S]}function o(d,h){var v=i(d,h),p=v[0],g=v[1],m=Zm(p,h);return Mc(g).forEach(function(y){m[y]=g[y]}),m}function s(d,h){return Rh(o(d,h),h)}function l(d,h,v,p){var g="C;Y"+(v+1)+";X"+(p+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+rFe(d.f,{r:v,c:p}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(d,h){h.forEach(function(v,p){var g="F;W"+(p+1)+" "+(p+1)+" ";v.hidden?g+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=dT(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=hT(v.wpx)),typeof v.wch=="number"&&(g+=Math.round(v.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function c(d,h){h.forEach(function(v,p){var g="F;";v.hidden?g+="M0;":v.hpt?g+="M"+20*v.hpt+";":v.hpx&&(g+="M"+20*tre(v.hpx)+";"),g.length>2&&d.push(g+"R"+(p+1))})}function f(d,h){var v=["ID;PWXL;N;E"],p=[],g=Di(d["!ref"]),m,y=Array.isArray(d),x=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),d["!cols"]&&u(v,d["!cols"]),d["!rows"]&&c(v,d["!rows"]),v.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var w=g.s.c;w<=g.e.c;++w){var S=kr({r:b,c:w});m=y?(d[b]||[])[w]:d[S],!(!m||m.v==null&&(!m.f||m.F))&&p.push(l(m,d,b,w))}return v.join(x)+x+p.join(x)+x+"E"+x}return{to_workbook:s,to_sheet:o,from_sheet:f}})(),mOe=(function(){function e(a,o){switch(o.type){case"base64":return t(Ws(a),o);case"binary":return t(a,o);case"buffer":return t(un&&Buffer.isBuffer(a)?a.toString("binary"):t0(a),o);case"array":return t(Ep(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var s=a.split(`
`),l=-1,u=-1,c=0,f=[];c!==s.length;++c){if(s[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var d=s[c].trim().split(","),h=d[0],v=d[1];++c;for(var p=s[c]||"";(p.match(/["]/g)||[]).length&1&&c<s.length-1;)p+=`
`+s[++c];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++l]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][u]=!0:p==="FALSE"?f[l][u]=!1:isNaN(vu(v))?isNaN(fm(v).getDate())?f[l][u]=v:f[l][u]=Va(v):f[l][u]=vu(v),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(a,o){return Zm(e(a,o),o)}function n(a,o){return Rh(r(a,o),o)}var i=(function(){var a=function(l,u,c,f,d){l.push(u),l.push(c+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=Di(l["!ref"]),f,d=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var h=c.s.r;h<=c.e.r;++h){o(u,-1,0,"BOT");for(var v=c.s.c;v<=c.e.c;++v){var p=kr({r:h,c:v});if(f=d?(l[h]||[])[v]:l[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=zl(f.z||Hr[14],Ko(Va(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var m=`\r
`,y=u.join(m);return y}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),yOe=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),v=-1,p=-1,g=0,m=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var x=Wo(y[1]);if(m.length<=x.r)for(v=m.length;v<=x.r;++v)m[v]||(m[v]=[]);switch(v=x.r,p=x.c,y[2]){case"t":m[v][p]=e(y[3]);break;case"v":m[v][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":m[v][p]=!!+y[4];break;default:m[v][p]=+y[4];break}y[2]=="vtf"&&(m[v][p]=[m[v][p],b])}}}return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}function n(f,d){return Zm(r(f,d),d)}function i(f,d){return Rh(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],v,p="",g=Km(f["!ref"]),m=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var x=g.s.c;x<=g.e.c;++x)if(p=kr({r:y,c:x}),v=m?(f[y]||[])[x]:f[p],!(!v||v.v==null||v.t==="z")){switch(h=["cell",p,"t"],v.t){case"s":case"str":h.push(t(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=t(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var b=Ko(Va(v.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=v.w||zl(v.z||Hr[14],b);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(f){return[a,o,s,o,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}})(),v_=(function(){function e(c,f,d,h,v){v.raw?f[d][h]=c:c===""||(c==="TRUE"?f[d][h]=!0:c==="FALSE"?f[d][h]=!1:isNaN(vu(c))?isNaN(fm(c).getDate())?f[d][h]=c:f[d][h]=Va(c):f[d][h]=vu(c))}function t(c,f){var d=f||{},h=[];if(!c||c.length===0)return h;for(var v=c.split(/[\r\n]/),p=v.length-1;p>=0&&v[p].length===0;)--p;for(var g=10,m=0,y=0;y<=p;++y)m=v[y].indexOf(" "),m==-1?m=v[y].length:m++,g=Math.max(g,m);for(y=0;y<=p;++y){h[y]=[];var x=0;for(e(v[y].slice(0,g).trim(),h,y,x,d),x=1;x<=(v[y].length-g)/10+1;++x)e(v[y].slice(g+(x-1)*10,g+x*10).trim(),h,y,x,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var f={},d=!1,h=0,v=0;h<c.length;++h)(v=c.charCodeAt(h))==34?d=!d:!d&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h]);if(!v.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h])}return v.sort(function(p,g){return p[0]-g[0]||n[p[1]]-n[g[1]]}),r[v.pop()[1]]||44}function a(c,f){var d=f||{},h="",v=d.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(h=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(h=c.charAt(4),c=c.slice(6)):h=i(c.slice(0,1024)):d&&d.FS?h=d.FS:h=i(c.slice(0,1024));var g=0,m=0,y=0,x=0,b=0,w=h.charCodeAt(0),S=!1,C=0,E=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var A=d.dateNF!=null?D3e(d.dateNF):null;function M(){var D=c.slice(x,b),R={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)R.t="z";else if(d.raw)R.t="s",R.v=D;else if(D.trim().length===0)R.t="s",R.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(R.t="s",R.v=D.slice(2,-1).replace(/""/g,'"')):iFe(D)?(R.t="n",R.f=D.slice(1)):(R.t="s",R.v=D);else if(D=="TRUE")R.t="b",R.v=!0;else if(D=="FALSE")R.t="b",R.v=!1;else if(!isNaN(y=vu(D)))R.t="n",d.cellText!==!1&&(R.w=D),R.v=y;else if(!isNaN(fm(D).getDate())||A&&D.match(A)){R.z=d.dateNF||Hr[14];var L=0;A&&D.match(A)&&(D=P3e(D,d.dateNF,D.match(A)||[]),L=1),d.cellDates?(R.t="d",R.v=Va(D,L)):(R.t="n",R.v=Ko(Va(D,L))),d.cellText!==!1&&(R.w=zl(R.z,R.v instanceof Date?Ko(R.v):R.v)),d.cellNF||delete R.z}else R.t="s",R.v=D;if(R.t=="z"||(d.dense?(v[g]||(v[g]=[]),v[g][m]=R):v[kr({c:m,r:g})]=R),x=b+1,E=c.charCodeAt(x),p.e.c<m&&(p.e.c=m),p.e.r<g&&(p.e.r=g),C==w)++m;else if(m=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;b<c.length;++b)switch(C=c.charCodeAt(b)){case 34:E===34&&(S=!S);break;case w:case 10:case 13:if(!S&&M())break e;break}return b-x>0&&M(),v["!ref"]=pn(p),v}function o(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,f):Zm(t(c,f),f)}function s(c,f){var d="",h=f.type=="string"?[0,0,0,0]:nF(c,f);switch(f.type){case"base64":d=Ws(c);break;case"binary":d=c;break;case"buffer":f.codepage==65001?d=c.toString("utf8"):f.codepage&&typeof c_<"u"||(d=un&&Buffer.isBuffer(c)?c.toString("binary"):t0(c));break;case"array":d=Ep(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=Qn(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Qn(d):f.type=="binary"&&typeof c_<"u",d.slice(0,19)=="socialcalc:version:"?yOe.to_sheet(f.type=="string"?d:Qn(d),f):o(d,f)}function l(c,f){return Rh(s(c,f),f)}function u(c){for(var f=[],d=Di(c["!ref"]),h,v=Array.isArray(c),p=d.s.r;p<=d.e.r;++p){for(var g=[],m=d.s.c;m<=d.e.c;++m){var y=kr({r:p,c:m});if(h=v?(c[p]||[])[m]:c[y],!h||h.v==null){g.push("          ");continue}for(var x=(h.w||(kf(h),h.w)||"").slice(0,10);x.length<10;)x+=" ";g.push(x+(m===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}})();function xOe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=gOe.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return v_.to_workbook(e,t)}}var Ex=(function(){function e(N,W,j){if(N){Za(N,N.l||0);for(var Z=j.Enum||K;N.l<N.length;){var ve=N.read_shift(2),Te=Z[ve]||Z[65535],Se=N.read_shift(2),te=N.l+Se,pe=Te.f&&Te.f(N,Se,j);if(N.l=te,W(pe,Te,ve))return}}}function t(N,W){switch(W.type){case"base64":return r(su(Ws(N)),W);case"binary":return r(su(N),W);case"buffer":case"array":return r(N,W)}throw"Unsupported type "+W.type}function r(N,W){if(!N)return N;var j=W||{},Z=j.dense?[]:{},ve="Sheet1",Te="",Se=0,te={},pe=[],Re=[],z={s:{r:0,c:0},e:{r:0,c:0}},J=j.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)j.Enum=K,e(N,function(ge,$e,Le){switch(Le){case 0:j.vers=ge,ge>=4096&&(j.qpro=!0);break;case 6:z=ge;break;case 204:ge&&(Te=ge);break;case 222:Te=ge;break;case 15:case 51:j.qpro||(ge[1].v=ge[1].v.slice(1));case 13:case 14:case 16:Le==14&&(ge[2]&112)==112&&(ge[2]&15)>1&&(ge[2]&15)<15&&(ge[1].z=j.dateNF||Hr[14],j.cellDates&&(ge[1].t="d",ge[1].v=bE(ge[1].v))),j.qpro&&ge[3]>Se&&(Z["!ref"]=pn(z),te[ve]=Z,pe.push(ve),Z=j.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},Se=ge[3],ve=Te||"Sheet"+(Se+1),Te="");var fe=j.dense?(Z[ge[0].r]||[])[ge[0].c]:Z[kr(ge[0])];if(fe){fe.t=ge[1].t,fe.v=ge[1].v,ge[1].z!=null&&(fe.z=ge[1].z),ge[1].f!=null&&(fe.f=ge[1].f);break}j.dense?(Z[ge[0].r]||(Z[ge[0].r]=[]),Z[ge[0].r][ge[0].c]=ge[1]):Z[kr(ge[0])]=ge[1];break}},j);else if(N[2]==26||N[2]==14)j.Enum=q,N[2]==14&&(j.qpro=!0,N.l=0),e(N,function(ge,$e,Le){switch(Le){case 204:ve=ge;break;case 22:ge[1].v=ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ge[3]>Se&&(Z["!ref"]=pn(z),te[ve]=Z,pe.push(ve),Z=j.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},Se=ge[3],ve="Sheet"+(Se+1)),J>0&&ge[0].r>=J)break;j.dense?(Z[ge[0].r]||(Z[ge[0].r]=[]),Z[ge[0].r][ge[0].c]=ge[1]):Z[kr(ge[0])]=ge[1],z.e.c<ge[0].c&&(z.e.c=ge[0].c),z.e.r<ge[0].r&&(z.e.r=ge[0].r);break;case 27:ge[14e3]&&(Re[ge[14e3][0]]=ge[14e3][1]);break;case 1537:Re[ge[0]]=ge[1],ge[0]==Se&&(ve=ge[1]);break}},j);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(Z["!ref"]=pn(z),te[Te||ve]=Z,pe.push(Te||ve),!Re.length)return{SheetNames:pe,Sheets:te};for(var se={},he=[],_e=0;_e<Re.length;++_e)te[pe[_e]]?(he.push(Re[_e]||pe[_e]),se[Re[_e]]=te[Re[_e]]||te[pe[_e]]):(he.push(Re[_e]),se[Re[_e]]={"!ref":"A1"});return{SheetNames:he,Sheets:se}}function n(N,W){var j=W||{};if(+j.codepage>=0&&uu(+j.codepage),j.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=R3(),ve=Di(N["!ref"]),Te=Array.isArray(N),Se=[];Zl(Z,0,a(1030)),Zl(Z,6,l(ve));for(var te=Math.min(ve.e.r,8191),pe=ve.s.r;pe<=te;++pe)for(var Re=ro(pe),z=ve.s.c;z<=ve.e.c;++z){pe===ve.s.r&&(Se[z]=ya(z));var J=Se[z]+Re,se=Te?(N[pe]||[])[z]:N[J];if(!(!se||se.t=="z"))if(se.t=="n")(se.v|0)==se.v&&se.v>=-32768&&se.v<=32767?Zl(Z,13,h(pe,z,se.v)):Zl(Z,14,p(pe,z,se.v));else{var he=kf(se);Zl(Z,15,f(pe,z,he.slice(0,239)))}}return Zl(Z,1),Z.end()}function i(N,W){var j=W||{};if(+j.codepage>=0&&uu(+j.codepage),j.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=R3();Zl(Z,0,o(N));for(var ve=0,Te=0;ve<N.SheetNames.length;++ve)(N.Sheets[N.SheetNames[ve]]||{})["!ref"]&&Zl(Z,27,U(N.SheetNames[ve],Te++));var Se=0;for(ve=0;ve<N.SheetNames.length;++ve){var te=N.Sheets[N.SheetNames[ve]];if(!(!te||!te["!ref"])){for(var pe=Di(te["!ref"]),Re=Array.isArray(te),z=[],J=Math.min(pe.e.r,8191),se=pe.s.r;se<=J;++se)for(var he=ro(se),_e=pe.s.c;_e<=pe.e.c;++_e){se===pe.s.r&&(z[_e]=ya(_e));var ge=z[_e]+he,$e=Re?(te[se]||[])[_e]:te[ge];if(!(!$e||$e.t=="z"))if($e.t=="n")Zl(Z,23,M(se,_e,Se,$e.v));else{var Le=kf($e);Zl(Z,22,C(se,_e,Se,Le.slice(0,239)))}}++Se}}return Zl(Z,1),Z.end()}function a(N){var W=va(2);return W.write_shift(2,N),W}function o(N){var W=va(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var j=0,Z=0,ve=0,Te=0;Te<N.SheetNames.length;++Te){var Se=N.SheetNames[Te],te=N.Sheets[Se];if(!(!te||!te["!ref"])){++ve;var pe=Km(te["!ref"]);j<pe.e.r&&(j=pe.e.r),Z<pe.e.c&&(Z=pe.e.c)}}return j>8191&&(j=8191),W.write_shift(2,j),W.write_shift(1,ve),W.write_shift(1,Z),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function s(N,W,j){var Z={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&j.qpro?(Z.s.c=N.read_shift(1),N.l++,Z.s.r=N.read_shift(2),Z.e.c=N.read_shift(1),N.l++,Z.e.r=N.read_shift(2),Z):(Z.s.c=N.read_shift(2),Z.s.r=N.read_shift(2),W==12&&j.qpro&&(N.l+=2),Z.e.c=N.read_shift(2),Z.e.r=N.read_shift(2),W==12&&j.qpro&&(N.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function l(N){var W=va(8);return W.write_shift(2,N.s.c),W.write_shift(2,N.s.r),W.write_shift(2,N.e.c),W.write_shift(2,N.e.r),W}function u(N,W,j){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return j.qpro&&j.vers!=20768?(Z[0].c=N.read_shift(1),Z[3]=N.read_shift(1),Z[0].r=N.read_shift(2),N.l+=2):(Z[2]=N.read_shift(1),Z[0].c=N.read_shift(2),Z[0].r=N.read_shift(2)),Z}function c(N,W,j){var Z=N.l+W,ve=u(N,W,j);if(ve[1].t="s",j.vers==20768){N.l++;var Te=N.read_shift(1);return ve[1].v=N.read_shift(Te,"utf8"),ve}return j.qpro&&N.l++,ve[1].v=N.read_shift(Z-N.l,"cstr"),ve}function f(N,W,j){var Z=va(7+j.length);Z.write_shift(1,255),Z.write_shift(2,W),Z.write_shift(2,N),Z.write_shift(1,39);for(var ve=0;ve<Z.length;++ve){var Te=j.charCodeAt(ve);Z.write_shift(1,Te>=128?95:Te)}return Z.write_shift(1,0),Z}function d(N,W,j){var Z=u(N,W,j);return Z[1].v=N.read_shift(2,"i"),Z}function h(N,W,j){var Z=va(7);return Z.write_shift(1,255),Z.write_shift(2,W),Z.write_shift(2,N),Z.write_shift(2,j,"i"),Z}function v(N,W,j){var Z=u(N,W,j);return Z[1].v=N.read_shift(8,"f"),Z}function p(N,W,j){var Z=va(13);return Z.write_shift(1,255),Z.write_shift(2,W),Z.write_shift(2,N),Z.write_shift(8,j,"f"),Z}function g(N,W,j){var Z=N.l+W,ve=u(N,W,j);if(ve[1].v=N.read_shift(8,"f"),j.qpro)N.l=Z;else{var Te=N.read_shift(2);b(N.slice(N.l,N.l+Te),ve),N.l+=Te}return ve}function m(N,W,j){var Z=W&32768;return W&=-32769,W=(Z?N:0)+(W>=8192?W-16384:W),(Z?"":"$")+(j?ya(W):ro(W))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(N,W){Za(N,0);for(var j=[],Z=0,ve="",Te="",Se="",te="";N.l<N.length;){var pe=N[N.l++];switch(pe){case 0:j.push(N.read_shift(8,"f"));break;case 1:Te=m(W[0].c,N.read_shift(2),!0),ve=m(W[0].r,N.read_shift(2),!1),j.push(Te+ve);break;case 2:{var Re=m(W[0].c,N.read_shift(2),!0),z=m(W[0].r,N.read_shift(2),!1);Te=m(W[0].c,N.read_shift(2),!0),ve=m(W[0].r,N.read_shift(2),!1),j.push(Re+z+":"+Te+ve)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:j.push("("+j.pop()+")");break;case 5:j.push(N.read_shift(2));break;case 6:{for(var J="";pe=N[N.l++];)J+=String.fromCharCode(pe);j.push('"'+J.replace(/"/g,'""')+'"')}break;case 8:j.push("-"+j.pop());break;case 23:j.push("+"+j.pop());break;case 22:j.push("NOT("+j.pop()+")");break;case 20:case 21:te=j.pop(),Se=j.pop(),j.push(["AND","OR"][pe-20]+"("+Se+","+te+")");break;default:if(pe<32&&x[pe])te=j.pop(),Se=j.pop(),j.push(Se+x[pe]+te);else if(y[pe]){if(Z=y[pe][1],Z==69&&(Z=N[N.l++]),Z>j.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+j.join("|")+"|");return}var se=j.slice(-Z);j.length-=Z,j.push(y[pe][0]+"("+se.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}j.length==1?W[1].f=""+j[0]:console.error("WK1 bad formula parse |"+j.join("|")+"|")}function w(N){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=N.read_shift(2),W[3]=N[N.l++],W[0].c=N[N.l++],W}function S(N,W){var j=w(N);return j[1].t="s",j[1].v=N.read_shift(W-4,"cstr"),j}function C(N,W,j,Z){var ve=va(6+Z.length);ve.write_shift(2,N),ve.write_shift(1,j),ve.write_shift(1,W),ve.write_shift(1,39);for(var Te=0;Te<Z.length;++Te){var Se=Z.charCodeAt(Te);ve.write_shift(1,Se>=128?95:Se)}return ve.write_shift(1,0),ve}function E(N,W){var j=w(N);j[1].v=N.read_shift(2);var Z=j[1].v>>1;if(j[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return j[1].v=Z,j}function A(N,W){var j=w(N),Z=N.read_shift(4),ve=N.read_shift(4),Te=N.read_shift(2);if(Te==65535)return Z===0&&ve===3221225472?(j[1].t="e",j[1].v=15):Z===0&&ve===3489660928?(j[1].t="e",j[1].v=42):j[1].v=0,j;var Se=Te&32768;return Te=(Te&32767)-16446,j[1].v=(1-Se*2)*(ve*Math.pow(2,Te+32)+Z*Math.pow(2,Te)),j}function M(N,W,j,Z){var ve=va(14);if(ve.write_shift(2,N),ve.write_shift(1,j),ve.write_shift(1,W),Z==0)return ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(2,65535),ve;var Te=0,Se=0,te=0,pe=0;return Z<0&&(Te=1,Z=-Z),Se=Math.log2(Z)|0,Z/=Math.pow(2,Se-31),pe=Z>>>0,(pe&2147483648)==0&&(Z/=2,++Se,pe=Z>>>0),Z-=pe,pe|=2147483648,pe>>>=0,Z*=Math.pow(2,32),te=Z>>>0,ve.write_shift(4,te),ve.write_shift(4,pe),Se+=16383+(Te?32768:0),ve.write_shift(2,Se),ve}function D(N,W){var j=A(N);return N.l+=W-14,j}function R(N,W){var j=w(N),Z=N.read_shift(4);return j[1].v=Z>>6,j}function L(N,W){var j=w(N),Z=N.read_shift(8,"f");return j[1].v=Z,j}function k(N,W){var j=L(N);return N.l+=W-10,j}function O(N,W){return N[N.l+W-1]==0?N.read_shift(W,"cstr"):""}function F(N,W){var j=N[N.l++];j>W-1&&(j=W-1);for(var Z="";Z.length<j;)Z+=String.fromCharCode(N[N.l++]);return Z}function H(N,W,j){if(!(!j.qpro||W<21)){var Z=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var ve=N.read_shift(W-21,"cstr");return[Z,ve]}}function V(N,W){for(var j={},Z=N.l+W;N.l<Z;){var ve=N.read_shift(2);if(ve==14e3){for(j[ve]=[0,""],j[ve][0]=N.read_shift(2);N[N.l];)j[ve][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return j}function U(N,W){var j=va(5+N.length);j.write_shift(2,14e3),j.write_shift(2,W);for(var Z=0;Z<N.length;++Z){var ve=N.charCodeAt(Z);j[j.l++]=ve>127?95:ve}return j[j.l++]=0,j}var K={0:{n:"BOF",f:ra},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:O},222:{n:"SHEETNAMELP",f:F},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:k},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:O},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}})();function _Oe(e){var t={},r=e.match(Mo),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=Tr(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=I5[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var bOe=(function(){var e=d_("t"),t=d_("rPr");function r(a){var o=a.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:bn(o[1])},l=a.match(t);return l&&(s.s=_Oe(l[1])),s}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(i).map(r).filter(function(s){return s.v})}})(),wOe=(function(){var t=/(\r\n|\n)/g;function r(i,a,o){var s=[];i.u&&s.push("text-decoration: underline;"),i.uval&&s.push("text-underline-style:"+i.uval+";"),i.sz&&s.push("font-size:"+i.sz+"pt;"),i.outline&&s.push("text-effect: outline;"),i.shadow&&s.push("text-shadow: auto;"),a.push('<span style="'+s.join("")+'">'),i.b&&(a.push("<b>"),o.push("</b>")),i.i&&(a.push("<i>"),o.push("</i>")),i.strike&&(a.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),SOe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,COe=/<(?:\w+:)?r>/,TOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Z5(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=bn(Qn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Qn(e),r&&(n.h=H5(n.t))):e.match(COe)&&(n.r=Qn(e),n.t=bn(Qn((e.replace(TOe,"").match(SOe)||[]).join("").replace(Mo,""))),r&&(n.h=wOe(bOe(n.r)))),n):{t:""}}var AOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,EOe=/<(?:\w+:)?(?:si|sstItem)>/g,MOe=/<\/(?:\w+:)?(?:si|sstItem)>/;function DOe(e,t){var r=[],n="";if(!e)return r;var i=e.match(AOe);if(i){n=i[2].replace(EOe,"").split(MOe);for(var a=0;a!=n.length;++a){var o=Z5(n[a].trim(),t);o!=null&&(r[r.length]=o)}i=Tr(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function POe(e){return[e.read_shift(4),e.read_shift(4)]}function ROe(e,t){var r=[],n=!1;return qf(e,function(a,o,s){switch(s){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function Kte(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Cf(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function LOe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Cf(e,4),t.U=Cf(e,4),t.W=Cf(e,4),t}function IOe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function kOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(IOe(e));return t}function OOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function FOe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Cf(e,4),t.U=Cf(e,4),t.W=Cf(e,4),t}function NOe(e){var t=FOe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Zte(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function qte(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function BOe(e){var t=Cf(e);switch(t.Minor){case 2:return[t.Minor,zOe(e)];case 3:return[t.Minor,HOe()];case 4:return[t.Minor,VOe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function zOe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Zte(e,r),i=qte(e,e.length-e.l);return{t:"Std",h:n,v:i}}function HOe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function VOe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Mo,function(a){var o=Tr(a);switch(Bc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){n[s]=o[s]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function $Oe(e,t){var r={},n=r.EncryptionVersionInfo=Cf(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=Zte(e,i),t-=i,r.EncryptionVerifier=qte(e,t),r}function GOe(e){var t={},r=t.EncryptionVersionInfo=Cf(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function UOe(e){var t=0,r,n=Kte(e),i=n.length+1,a,o,s,l,u;for(r=mh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],s=(t&16384)===0?0:1,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var Jte=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},i=function(o,s){return n(o^s)},a=function(o){for(var s=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var c=o[u],f=0;f!=7;++f)c&64&&(s^=r[l]),c*=2,--l;return s};return function(o){for(var s=Kte(o),l=a(s),u=s.length,c=mh(16),f=0;f!=16;++f)c[f]=0;var d,h,v;for((u&1)===1&&(d=l>>8,c[u]=i(e[0],d),--u,d=l&255,h=s[s.length-1],c[u]=i(h,d));u>0;)--u,d=l>>8,c[u]=i(s[u],d),--u,d=l&255,c[u]=i(s[u],d);for(u=15,v=15-s.length;v>0;)d=l>>8,c[u]=i(e[v],d),--u,--v,d=l&255,c[u]=i(s[u],d),--u,--v;return c}})(),WOe=function(e,t,r,n,i){i||(i=t),n||(n=Jte(e));var a,o;for(a=0;a!=t.length;++a)o=t[a],o^=n[r],o=(o>>5|o<<3)&255,i[a]=o,++r;return[i,r,n]},XOe=function(e){var t=0,r=Jte(e);return function(n){var i=WOe("",n,t,r);return t=i[1],i[0]}};function jOe(e,t,r,n){var i={key:ra(e),verificationBytes:ra(e)};return r.password&&(i.verifier=UOe(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=XOe(r.password)),i}function YOe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=GOe(e):n.Data=$Oe(e,t),n}function KOe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?YOe(e,t-2,n):jOe(e,r.biff>=8?t:t-2,r,n),n}var ZOe=(function(){function e(i,a){switch(a.type){case"base64":return t(Ws(i),a);case"binary":return t(i,a);case"buffer":return t(un&&Buffer.isBuffer(i)?i.toString("binary"):t0(i),a);case"array":return t(Ep(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var o=a||{},s=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(s)&&(s[f]=[]);for(var d=/\\\w+\b/g,h=0,v,p=-1;v=d.exec(c);){switch(v[0]){case"\\cell":var g=c.slice(h,d.lastIndex-v[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var m={v:g,t:"s"};Array.isArray(s)?s[f][p]=m:s[kr({r:f,c:p})]=m}break}h=d.lastIndex}p>u.e.c&&(u.e.c=p)}),s["!ref"]=pn(u),s}function r(i,a){return Rh(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=Di(i["!ref"]),s,l=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=o.s.c;c<=o.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=o.s.c;c<=o.e.c;++c){var f=kr({r:u,c});s=l?(i[u]||[])[c]:i[f],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(kf(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function qOe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function p_(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function JOe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),o=i-a;if(o===0)return[0,0,t];var s=0,l=0,u=i+a;switch(l=o/(u>1?2-u:u),i){case t:s=((r-n)/o+6)%6;break;case r:s=(n-t)/o+2;break;case n:s=(t-r)/o+4;break}return[s/6,l,u/2]}function QOe(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,o=[a,a,a],s=6*t,l;if(r!==0)switch(s|0){case 0:case 6:l=i*s,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-s),o[0]+=l,o[1]+=i;break;case 2:l=i*(s-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-s),o[1]+=l,o[2]+=i;break;case 4:l=i*(s-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-s),o[2]+=l,o[0]+=i;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function fT(e,t){if(t===0)return e;var r=JOe(qOe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),p_(QOe(r))}var Qte=6,e5e=15,t5e=1,Go=Qte;function dT(e){return Math.floor((e+Math.round(128/Go)/256)*Go)}function hT(e){return Math.floor((e-5)/Go*100+.5)/100}function O3(e){return Math.round((e*Go+5)/Go*256)/256}function MP(e){return O3(hT(dT(e)))}function q5(e){var t=Math.abs(e-MP(e)),r=Go;if(t>.005)for(Go=t5e;Go<e5e;++Go)Math.abs(e-MP(e))<=t&&(t=Math.abs(e-MP(e)),r=Go);Go=r}function dm(e){e.width?(e.wpx=dT(e.width),e.wch=hT(e.wpx),e.MDW=Go):e.wpx?(e.wch=hT(e.wpx),e.width=O3(e.wch),e.MDW=Go):typeof e.wch=="number"&&(e.width=O3(e.wch),e.wpx=dT(e.width),e.MDW=Go),e.customWidth&&delete e.customWidth}var r5e=96,ere=r5e;function tre(e){return e*96/ere}function g_(e){return e*ere/96}var n5e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function i5e(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Mo)||[]).forEach(function(o){var s=Tr(o);switch(Bc(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},s.diagonalUp&&(i.diagonalUp=ci(s.diagonalUp)),s.diagonalDown&&(i.diagonalDown=ci(s.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in borders")}})}function a5e(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Mo)||[]).forEach(function(o){var s=Tr(o);switch(Bc(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":s.patternType&&(i.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),s.indexed&&(i.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(i.bgColor.theme=parseInt(s.theme,10)),s.tint&&(i.bgColor.tint=parseFloat(s.tint)),s.rgb&&(i.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),s.theme&&(i.fgColor.theme=parseInt(s.theme,10)),s.tint&&(i.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(i.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fills")}})}function o5e(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Mo)||[]).forEach(function(o){var s=Tr(o);switch(Bc(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":s.val&&(i.name=Qn(s.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=s.val?ci(s.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=s.val?ci(s.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(s.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=s.val?ci(s.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=s.val?ci(s.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=s.val?ci(s.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=s.val?ci(s.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=s.val?ci(s.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":s.val&&(i.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(i.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(i.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(i.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=I5[parseInt(s.val,10)];break;case"<color":if(i.color||(i.color={}),s.auto&&(i.color.auto=ci(s.auto)),s.rgb)i.color.rgb=s.rgb.slice(-6);else if(s.indexed){i.color.index=parseInt(s.indexed,10);var l=fp[i.color.index];i.color.index==81&&(l=fp[1]),l||(l=fp[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(i.color.theme=parseInt(s.theme,10),s.tint&&(i.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=fT(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fonts")}})}function s5e(e,t,r){t.NumberFmt=[];for(var n=Mc(Hr),i=0;i<n.length;++i)t.NumberFmt[n[i]]=Hr[n[i]];var a=e[0].match(Mo);if(a)for(i=0;i<a.length;++i){var o=Tr(a[i]);switch(Bc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=bn(Qn(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}cp(s,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var vS=["numFmtId","fillId","fontId","borderId","xfId"],pS=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function l5e(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Mo)||[]).forEach(function(a){var o=Tr(a),s=0;switch(Bc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],s=0;s<vS.length;++s)n[vS[s]]&&(n[vS[s]]=parseInt(n[vS[s]],10));for(s=0;s<pS.length;++s)n[pS[s]]&&(n[pS[s]]=ci(n[pS[s]]));if(t.NumberFmt&&n.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=ci(o.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var u5e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,u){var c={};if(!s)return c;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&s5e(f,c,u),(f=s.match(i))&&o5e(f,c,l,u),(f=s.match(n))&&a5e(f,c,l,u),(f=s.match(a))&&i5e(f,c,l,u),(f=s.match(r))&&l5e(f,c,u),c}})();function c5e(e,t){var r=e.read_shift(2),n=yo(e);return[r,n]}function f5e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=bke(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var s=e.read_shift(1);s>0&&(n.family=s);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=_ke(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=yo(e),n}var d5e=wo;function h5e(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var v5e=wo;function p5e(e,t,r){var n={};n.NumberFmt=[];for(var i in Hr)n.NumberFmt[i]=Hr[i];n.CellXf=[],n.Fonts=[];var a=[],o=!1;return qf(e,function(l,u,c){switch(c){case 44:n.NumberFmt[l[0]]=l[1],cp(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=fT(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(c),o=!0;break;case 38:a.pop(),o=!1;break;default:if(u.T>0)a.push(c);else if(u.T<0)a.pop();else if(!o||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var g5e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function m5e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Mo)||[]).forEach(function(i){var a=Tr(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[g5e.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function y5e(){}function x5e(){}var _5e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,b5e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,w5e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function S5e(e,t,r){t.themeElements={};var n;[["clrScheme",_5e,m5e],["fontScheme",b5e,y5e],["fmtScheme",w5e,x5e]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var C5e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rre(e,t){(!e||e.length===0)&&(e=T5e());var r,n={};if(!(r=e.match(C5e)))throw new Error("themeElements not found in theme");return S5e(r[0],n,t),n.raw=e,n}function T5e(e,t){var r=[hte];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function A5e(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var o;try{o=dte(a,{type:"array"})}catch{return}var s=Is(o,"theme/theme/theme1.xml",!0);if(s)return rre(s,r)}}function E5e(e){return e.read_shift(4)}function M5e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=D5e(e,4);break;case 2:t.xclrValue=$te(e);break;case 3:t.xclrValue=E5e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function D5e(e,t){return wo(e,t)}function P5e(e,t){return wo(e,t)}function R5e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=M5e(e);break;case 6:n[1]=P5e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function L5e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(R5e(e,r-e.l));return{ixfe:n,ext:a}}function I5e(e,t){t.forEach(function(r){r[0]})}function k5e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:yo(e)}}function O5e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function F5e(e){return e.l+=4,e.read_shift(4)!=0}function N5e(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],o=!1,s=2;return qf(e,function(l,u,c){switch(c){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):s==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:a.push(c),o=!0;break;case 36:a.pop(),o=!1;break;default:if(!u.T){if(!o||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function B5e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,o;return e.replace(Mo,function(s){var l=Tr(s);switch(Bc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),n}function z5e(e){var t=[];if(!e)return t;var r=1;return(e.match(Mo)||[]).forEach(function(n){var i=Tr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function H5e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=kr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function V5e(e,t,r){var n=[];return qf(e,function(a,o,s){switch(s){case 63:n.push(a);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function $5e(e,t,r,n){if(!e)return e;var i=n||{},a=!1;qf(e,function(s,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function G5e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function L9(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(o){var s=Wo(o.ref);if(i?(e[s.r]||(e[s.r]=[]),a=e[s.r][s.c]):a=e[o.ref],!a){a={t:"z"},i?e[s.r][s.c]=a:e[o.ref]=a;var l=Di(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var u=pn(l);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var c={a:o.author,t:o.t,r:o.r,T:r};o.h&&(c.h=o.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(c.a==n[f].id){c.a=n[f].name||c.a;break}}a.c.push(c)})}function U5e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&r.push(s[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=Tr(s[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=Wo(l.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&Z5(f[1])||{r:"",t:"",h:""};u.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),u.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=d.h),n.push(u)}}}}),n}function W5e(e,t){var r=[],n=!1,i={},a=0;return e.replace(Mo,function(s,l){var u=Tr(s);switch(Bc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=l+s.length;break;case"</text>":i.t=e.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),r}function X5e(e,t){var r=[],n=!1;return e.replace(Mo,function(a){var o=Tr(a);switch(Bc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return a}),r}function j5e(e){var t={};t.iauthor=e.read_shift(4);var r=n0(e);return t.rfx=r.s,t.ref=kr(r.s),e.l+=16,t}var Y5e=yo;function K5e(e,t){var r=[],n=[],i={},a=!1;return qf(e,function(s,l,u){switch(u){case 632:n.push(s);break;case 635:i=s;break;case 637:i.t=s.t,i.h=s.h,i.r=s.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Z5e="application/vnd.ms-office.vbaProject";function q5e(e){var t=vn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");vn.utils.cfb_add(t,i,e.FileIndex[n].content)}}),vn.write(t)}function J5e(){return{"!type":"dialog"}}function Q5e(){return{"!type":"dialog"}}function eFe(){return{"!type":"macro"}}function tFe(){return{"!type":"macro"}}var Kg=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,o){var s=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=o.length>0?parseInt(o,10)|0:0;return s?c+=t.c:--c,l?u+=t.r:--u,i+(s?"":"$")+ya(c)+(l?"":"$")+ro(u)}return function(i,a){return t=a,i.replace(e,r)}})(),nre=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,rFe=(function(){return function(t,r){return t.replace(nre,function(n,i,a,o,s,l){var u=U5(o)-(a?0:r.c),c=G5(l)-(s?0:r.r),f=c==0?"":s?c+1:"["+c+"]",d=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+d})}})();function ire(e,t){return e.replace(nre,function(r,n,i,a,o,s){return n+(i=="$"?i+a:ya(U5(a)+t.c))+(o=="$"?o+s:ro(G5(s)+t.r))})}function nFe(e,t,r){var n=Km(t),i=n.s,a=Wo(r),o={r:a.r-i.r,c:a.c-i.c};return ire(e,o)}function iFe(e){return e.length!=1}function I9(e){return e.replace(/_xlfn\./g,"")}function Ji(e){e.l+=1}function yh(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function are(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return ore(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),o=yh(e),s=yh(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function ore(e){var t=yh(e),r=yh(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function aFe(e,t,r){if(r.biff<8)return ore(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=yh(e),o=yh(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function sre(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return oFe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=yh(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function oFe(e){var t=yh(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function sFe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function lFe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return uFe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:s}}function uFe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function cFe(e,t,r){var n=(e[e.l++]&96)>>5,i=are(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function fFe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=are(e,a,r);return[n,i,o]}function dFe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function hFe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function vFe(e,t,r){var n=(e[e.l++]&96)>>5,i=aFe(e,t-1,r);return[n,i]}function pFe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function k9(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function gFe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function mFe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function yFe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function xFe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function _Fe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function lre(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function bFe(e){return e.read_shift(2),lre(e)}function wFe(e){return e.read_shift(2),lre(e)}function SFe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=sre(e,0,r);return[n,i]}function CFe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=lFe(e,0,r);return[n,i]}function TFe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=sre(e,0,r);return[n,i,a]}function AFe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[ENe[i],fre[i],n]}function EFe(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:MFe(e);return[i,(a[0]===0?fre:ANe)[a[1]]]}function MFe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function DFe(e,t,r){e.l+=r&&r.biff==2?3:4}function PFe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function RFe(e){return e.l++,i0[e.read_shift(1)]}function LFe(e){return e.l++,e.read_shift(2)}function IFe(e){return e.l++,e.read_shift(1)!==0}function kFe(e){return e.l++,po(e)}function OFe(e,t,r){return e.l++,pb(e,t-1,r)}function FFe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zi(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=i0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=po(e);break;case 2:r[1]=a0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function NFe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?n0:wE)(e));return i}function BFe(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=FFe(e,r.biff);return o}function zFe(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function HFe(e,t,r){if(r.biff==5)return VFe(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function VFe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function $Fe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function GFe(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function UFe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function WFe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var XFe=wo,jFe=wo,YFe=wo;function mb(e,t,r){return e.l+=2,[sFe(e)]}function J5(e){return e.l+=6,[]}var KFe=mb,ZFe=J5,qFe=J5,JFe=mb;function ure(e){return e.l+=2,[ra(e),e.read_shift(2)&1]}var QFe=mb,eNe=ure,tNe=J5,rNe=mb,nNe=mb,iNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function aNe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=iNe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:i,C:a}}function oNe(e){return e.l+=2,[e.read_shift(4)]}function sNe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function lNe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function uNe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function cNe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fNe(e){return e.l+=4,[0,0]}var O9={1:{n:"PtgExp",f:PFe},2:{n:"PtgTbl",f:YFe},3:{n:"PtgAdd",f:Ji},4:{n:"PtgSub",f:Ji},5:{n:"PtgMul",f:Ji},6:{n:"PtgDiv",f:Ji},7:{n:"PtgPower",f:Ji},8:{n:"PtgConcat",f:Ji},9:{n:"PtgLt",f:Ji},10:{n:"PtgLe",f:Ji},11:{n:"PtgEq",f:Ji},12:{n:"PtgGe",f:Ji},13:{n:"PtgGt",f:Ji},14:{n:"PtgNe",f:Ji},15:{n:"PtgIsect",f:Ji},16:{n:"PtgUnion",f:Ji},17:{n:"PtgRange",f:Ji},18:{n:"PtgUplus",f:Ji},19:{n:"PtgUminus",f:Ji},20:{n:"PtgPercent",f:Ji},21:{n:"PtgParen",f:Ji},22:{n:"PtgMissArg",f:Ji},23:{n:"PtgStr",f:OFe},26:{n:"PtgSheet",f:sNe},27:{n:"PtgEndSheet",f:lNe},28:{n:"PtgErr",f:RFe},29:{n:"PtgBool",f:IFe},30:{n:"PtgInt",f:LFe},31:{n:"PtgNum",f:kFe},32:{n:"PtgArray",f:pFe},33:{n:"PtgFunc",f:AFe},34:{n:"PtgFuncVar",f:EFe},35:{n:"PtgName",f:zFe},36:{n:"PtgRef",f:SFe},37:{n:"PtgArea",f:cFe},38:{n:"PtgMemArea",f:$Fe},39:{n:"PtgMemErr",f:XFe},40:{n:"PtgMemNoMem",f:jFe},41:{n:"PtgMemFunc",f:GFe},42:{n:"PtgRefErr",f:UFe},43:{n:"PtgAreaErr",f:dFe},44:{n:"PtgRefN",f:CFe},45:{n:"PtgAreaN",f:vFe},46:{n:"PtgMemAreaN",f:uNe},47:{n:"PtgMemNoMemN",f:cNe},57:{n:"PtgNameX",f:HFe},58:{n:"PtgRef3d",f:TFe},59:{n:"PtgArea3d",f:fFe},60:{n:"PtgRefErr3d",f:WFe},61:{n:"PtgAreaErr3d",f:hFe},255:{}},dNe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},hNe={1:{n:"PtgElfLel",f:ure},2:{n:"PtgElfRw",f:rNe},3:{n:"PtgElfCol",f:KFe},6:{n:"PtgElfRwV",f:nNe},7:{n:"PtgElfColV",f:JFe},10:{n:"PtgElfRadical",f:QFe},11:{n:"PtgElfRadicalS",f:tNe},13:{n:"PtgElfColS",f:ZFe},15:{n:"PtgElfColSV",f:qFe},16:{n:"PtgElfRadicalLel",f:eNe},25:{n:"PtgList",f:aNe},29:{n:"PtgSxName",f:oNe},255:{}},vNe={0:{n:"PtgAttrNoop",f:fNe},1:{n:"PtgAttrSemi",f:_Fe},2:{n:"PtgAttrIf",f:yFe},4:{n:"PtgAttrChoose",f:gFe},8:{n:"PtgAttrGoto",f:mFe},16:{n:"PtgAttrSum",f:DFe},32:{n:"PtgAttrBaxcel",f:k9},33:{n:"PtgAttrBaxcel",f:k9},64:{n:"PtgAttrSpace",f:bFe},65:{n:"PtgAttrSpaceSemi",f:wFe},128:{n:"PtgAttrIfError",f:xFe},255:{}};function yb(e,t,r,n){if(n.biff<8)return wo(e,t);for(var i=e.l+t,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=BFe(e,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=NFe(e,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=i-e.l,t!==0&&a.push(wo(e,t)),a}function xb(e,t,r){for(var n=e.l+t,i,a,o=[];n!=e.l;)t=n-e.l,a=e[e.l],i=O9[a]||O9[dNe[a]],(a===24||a===25)&&(i=(a===24?hNe:vNe)[e[e.l+1]]),!i||!i.f?wo(e,t):o.push([i.n,i.f(e,t,r)]);return o}function pNe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var gNe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mNe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cre(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function F9(e,t,r){var n=cre(e,t,r);return n=="#REF"?n:mNe(n,r)}function co(e,t,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0}},s=[],l,u,c,f=0,d=0,h,v="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",m=0,y=e[0].length;m<y;++m){var x=e[0][m];switch(x[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Ci(" ",e[0][p][1][1]);break;case 1:g=Ci("\r",e[0][p][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+g,p=-1}s.push(u+gNe[x[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=Sx(x[1][1],o,i),s.push(Cx(c,a));break;case"PtgRefN":c=r?Sx(x[1][1],r,i):x[1][1],s.push(Cx(c,a));break;case"PtgRef3d":f=x[1][1],c=Sx(x[1][2],o,i),v=F9(n,f,i),s.push(v+"!"+Cx(c,a));break;case"PtgFunc":case"PtgFuncVar":var b=x[1][0],w=x[1][1];b||(b=0),b&=127;var S=b==0?[]:s.slice(-b);s.length-=b,w==="User"&&(w=S.shift()),s.push(w+"("+S.join(",")+")");break;case"PtgBool":s.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(x[1]);break;case"PtgNum":s.push(String(x[1]));break;case"PtgStr":s.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(x[1]);break;case"PtgAreaN":h=g9(x[1][1],r?{s:r}:o,i),s.push(AP(h,i));break;case"PtgArea":h=g9(x[1][1],o,i),s.push(AP(h,i));break;case"PtgArea3d":f=x[1][1],h=x[1][2],v=F9(n,f,i),s.push(v+"!"+AP(h,i));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=x[1][2];var C=(n.names||[])[d-1]||(n[0]||[])[d],E=C?C.Name:"SH33TJSNAME"+String(d);E&&E.slice(0,6)=="_xlfn."&&!i.xlfn&&(E=E.slice(6)),s.push(E);break;case"PtgNameX":var A=x[1][1];d=x[1][2];var M;if(i.biff<=5)A<0&&(A=-A),n[A]&&(M=n[A][d]);else{var D="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][d]&&n[A][d].itab>0&&(D=n.SheetNames[n[A][d].itab-1]+"!"):D=n.SheetNames[d-1]+"!"),n[A]&&n[A][d])D+=n[A][d].Name;else if(n[0]&&n[0][d])D+=n[0][d].Name;else{var R=(cre(n,A,i)||"").split(";;");R[d-1]?D=R[d-1]:D+="SH33TJSERRX"}s.push(D);break}M||(M={Name:"SH33TJSERRY"}),s.push(M.Name);break;case"PtgParen":var L="(",k=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:L=Ci(" ",e[0][p][1][1])+L;break;case 3:L=Ci("\r",e[0][p][1][1])+L;break;case 4:k=Ci(" ",e[0][p][1][1])+k;break;case 5:k=Ci("\r",e[0][p][1][1])+k;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}s.push(L+s.pop()+k);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":c={c:x[1][1],r:x[1][0]};var O={c:r.c,r:r.r};if(n.sharedf[kr(c)]){var F=n.sharedf[kr(c)];s.push(co(F,o,O,n,i))}else{var H=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){s.push(co(u[1],o,O,n,i)),H=!0;break}H||s.push(x[1])}break;case"PtgArray":s.push("{"+pNe(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&V.indexOf(e[0][m][0])==-1){x=e[0][p];var U=!0;switch(x[1][0]){case 4:U=!1;case 0:g=Ci(" ",x[1][1]);break;case 5:U=!1;case 1:g=Ci("\r",x[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}s.push((U?g:"")+s.pop()+(U?"":g)),p=-1}}if(s.length>1&&i.WTF)throw new Error("bad formula stack");return s[0]}function yNe(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],wo(e,t-2)];var s=xb(e,o,r);return t!==o+i&&(a=yb(e,t-o-i,s,r)),e.l=n,[s,a]}function xNe(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],wo(e,t-2)];var s=xb(e,o,r);return t!==o+i&&(a=yb(e,t-o-i,s,r)),e.l=n,[s,a]}function _Ne(e,t,r,n){var i=e.l+t,a=xb(e,n,r),o;return i!==e.l&&(o=yb(e,i-e.l,a,r)),[a,o]}function bNe(e,t,r){var n=e.l+t,i,a=e.read_shift(2),o=xb(e,a,r);return a==65535?[[],wo(e,t-2)]:(t!==a+2&&(i=yb(e,n-a-2,o,r)),[o,i])}function wNe(e){var t;if(yf(e,e.l+6)!==65535)return[po(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function DP(e,t,r){var n=e.l+t,i=zc(e);r.biff==2&&++e.l;var a=wNe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=xNe(e,n-e.l,r);return{cell:i,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function SE(e,t,r){var n=e.read_shift(4),i=xb(e,n,r),a=e.read_shift(4),o=a>0?yb(e,a,i,r):null;return[i,o]}var SNe=SE,CE=SE,CNe=SE,TNe=SE,ANe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fre={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ENe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function N9(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function PP(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Mx={},Zg={};function Dx(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function dre(e,t,r,n,i,a){try{n.cellNF&&(e.z=Hr[t])}catch(s){if(n.WTF)throw s}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Va(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Hr[t]==null&&cp(M3e[t]||"General",t),e.t==="e")e.w=e.w||i0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=f_(e.v);else if(e.t==="d"){var o=Ko(e.v);(o|0)===o?e.w=o.toString(10):e.w=f_(o)}else{if(e.v===void 0)return"";e.w=Ap(e.v,Zg)}else e.t==="d"?e.w=zl(t,Ko(e.v),Zg):e.w=zl(t,e.v,Zg)}catch(s){if(n.WTF)throw s}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fT(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fT(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(n.WTF&&a.Fills)throw s}}}function MNe(e,t){var r=Di(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=pn(r))}var DNe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,PNe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,RNe=/<(?:\w:)?hyperlink [^>]*>/mg,LNe=/"(\w*:\w*)"/,INe=/<(?:\w:)?col\b[^>]*[\/]?>/g,kNe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ONe=/<(?:\w:)?pageMargins[^>]*\/>/g,hre=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,FNe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,NNe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function BNe(e,t,r,n,i,a,o){if(!e)return e;n||(n={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",f=e.match(PNe);f?(u=e.slice(0,f.index),c=e.slice(f.index+f[0].length)):u=c=e;var d=u.match(hre);d?Q5(d[0],s,i,r):(d=u.match(FNe))&&zNe(d[0],d[1]||"",s,i,r);var h=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var v=u.slice(h,h+50).match(LNe);v&&MNe(s,v[1])}var p=u.match(NNe);p&&p[1]&&WNe(p[1],i);var g=[];if(t.cellStyles){var m=u.match(INe);m&&$Ne(g,m)}f&&XNe(f[1],s,t,l,a,o);var y=c.match(kNe);y&&(s["!autofilter"]=GNe(y[0]));var x=[],b=c.match(DNe);if(b)for(h=0;h!=b.length;++h)x[h]=Di(b[h].slice(b[h].indexOf('"')+1));var w=c.match(RNe);w&&HNe(s,w,n);var S=c.match(ONe);if(S&&(s["!margins"]=VNe(Tr(S[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=pn(l)),t.sheetRows>0&&s["!ref"]){var C=Di(s["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>l.e.r&&(C.e.r=l.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>l.e.c&&(C.e.c=l.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),s["!fullref"]=s["!ref"],s["!ref"]=pn(C))}return g.length>0&&(s["!cols"]=g),x.length>0&&(s["!merges"]=x),s}function Q5(e,t,r,n){var i=Tr(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=bn(Qn(i.codeName)))}function zNe(e,t,r,n,i){Q5(e.slice(0,e.indexOf(">")),r,n,i)}function HNe(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=Tr(Qn(t[i]),!0);if(!a.ref)return;var o=((r||{})["!id"]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+="#"+bn(a.location))):(a.Target="#"+bn(a.location),o={Target:a.Target,TargetMode:"Internal"}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=Di(a.ref),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var c=kr({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=a):(e[c]||(e[c]={t:"z",v:void 0}),e[c].l=a)}}}function VNe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function $Ne(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=Tr(t[n],!0);i.hidden&&(i.hidden=ci(i.hidden));var a=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,q5(i.width)),dm(i);a<=o;)e[a++]=to(i)}}function GNe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var UNe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function WNe(e,t){t.Views||(t.Views=[{}]),(e.match(UNe)||[]).forEach(function(r,n){var i=Tr(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),ci(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var XNe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=d_("v"),o=d_("f");return function(l,u,c,f,d,h){for(var v=0,p="",g=[],m=[],y=0,x=0,b=0,w="",S,C,E=0,A=0,M,D,R=0,L=0,k=Array.isArray(h.CellXf),O,F=[],H=[],V=Array.isArray(u),U=[],K={},q=!1,N=!!c.sheetStubs,W=l.split(t),j=0,Z=W.length;j!=Z;++j){p=W[j].trim();var ve=p.length;if(ve!==0){var Te=0;e:for(v=0;v<ve;++v)switch(p[v]){case">":if(p[v-1]!="/"){++v;break e}if(c&&c.cellStyles){if(C=Tr(p.slice(Te,v),!0),E=C.r!=null?parseInt(C.r,10):E+1,A=-1,c.sheetRows&&c.sheetRows<E)continue;K={},q=!1,C.ht&&(q=!0,K.hpt=parseFloat(C.ht),K.hpx=g_(K.hpt)),C.hidden=="1"&&(q=!0,K.hidden=!0),C.outlineLevel!=null&&(q=!0,K.level=+C.outlineLevel),q&&(U[E-1]=K)}break;case"<":Te=v;break}if(Te>=v)break;if(C=Tr(p.slice(Te,v),!0),E=C.r!=null?parseInt(C.r,10):E+1,A=-1,!(c.sheetRows&&c.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),c&&c.cellStyles&&(K={},q=!1,C.ht&&(q=!0,K.hpt=parseFloat(C.ht),K.hpx=g_(K.hpt)),C.hidden=="1"&&(q=!0,K.hidden=!0),C.outlineLevel!=null&&(q=!0,K.level=+C.outlineLevel),q&&(U[E-1]=K)),g=p.slice(v).split(e);for(var Se=0;Se!=g.length&&g[Se].trim().charAt(0)=="<";++Se);for(g=g.slice(Se),v=0;v!=g.length;++v)if(p=g[v].trim(),p.length!==0){if(m=p.match(r),y=v,x=0,b=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,m!=null&&m.length===2){for(y=0,w=m[1],x=0;x!=w.length&&!((b=w.charCodeAt(x)-64)<1||b>26);++x)y=26*y+b;--y,A=y}else++A;for(x=0;x!=p.length&&p.charCodeAt(x)!==62;++x);if(++x,C=Tr(p.slice(0,x),!0),C.r||(C.r=kr({r:E-1,c:A})),w=p.slice(x),S={t:""},(m=w.match(a))!=null&&m[1]!==""&&(S.v=bn(m[1])),c.cellFormula){if((m=w.match(o))!=null&&m[1]!==""){if(S.f=bn(Qn(m[1])).replace(/\r\n/g,`
`),c.xlfn||(S.f=I9(S.f)),m[0].indexOf('t="array"')>-1)S.F=(w.match(i)||[])[1],S.F.indexOf(":")>-1&&F.push([Di(S.F),S.F]);else if(m[0].indexOf('t="shared"')>-1){D=Tr(m[0]);var te=bn(Qn(m[1]));c.xlfn||(te=I9(te)),H[parseInt(D.si,10)]=[D,te,C.r]}}else(m=w.match(/<f[^>]*\/>/))&&(D=Tr(m[0]),H[D.si]&&(S.f=nFe(H[D.si][1],H[D.si][2],C.r)));var pe=Wo(C.r);for(x=0;x<F.length;++x)pe.r>=F[x][0].s.r&&pe.r<=F[x][0].e.r&&pe.c>=F[x][0].s.c&&pe.c<=F[x][0].e.c&&(S.F=F[x][1])}if(C.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(N)S.t="z";else continue;else S.t=C.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),S.t){case"n":if(S.v==""||S.v==null){if(!N)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!N)continue;S.t="z"}else M=Mx[parseInt(S.v,10)],S.v=M.t,S.r=M.r,c.cellHTML&&(S.h=M.h);break;case"str":S.t="s",S.v=S.v!=null?Qn(S.v):"",c.cellHTML&&(S.h=H5(S.v));break;case"inlineStr":m=w.match(n),S.t="s",m!=null&&(M=Z5(m[1]))?(S.v=M.t,c.cellHTML&&(S.h=M.h)):S.v="";break;case"b":S.v=ci(S.v);break;case"d":c.cellDates?S.v=Va(S.v,1):(S.v=Ko(Va(S.v,1)),S.t="n");break;case"e":(!c||c.cellText!==!1)&&(S.w=S.v),S.v=kte[S.v];break}if(R=L=0,O=null,k&&C.s!==void 0&&(O=h.CellXf[C.s],O!=null&&(O.numFmtId!=null&&(R=O.numFmtId),c.cellStyles&&O.fillId!=null&&(L=O.fillId))),dre(S,R,L,c,d,h),c.cellDates&&k&&S.t=="n"&&Ym(Hr[R])&&(S.t="d",S.v=bE(S.v)),C.cm&&c.xlmeta){var Re=(c.xlmeta.Cell||[])[+C.cm-1];Re&&Re.type=="XLDAPR"&&(S.D=!0)}if(V){var z=Wo(C.r);u[z.r]||(u[z.r]=[]),u[z.r][z.c]=S}else u[C.r]=S}}}}U.length>0&&(u["!rows"]=U)}})();function jNe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var YNe=n0;function KNe(){}function ZNe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=yke(e),r}function qNe(e){var t=$l(e);return[t]}function JNe(e){var t=r0(e);return[t]}function QNe(e){var t=$l(e),r=e.read_shift(1);return[t,r,"b"]}function eBe(e){var t=r0(e),r=e.read_shift(1);return[t,r,"b"]}function tBe(e){var t=$l(e),r=e.read_shift(1);return[t,r,"e"]}function rBe(e){var t=r0(e),r=e.read_shift(1);return[t,r,"e"]}function nBe(e){var t=$l(e),r=e.read_shift(4);return[t,r,"s"]}function iBe(e){var t=r0(e),r=e.read_shift(4);return[t,r,"s"]}function aBe(e){var t=$l(e),r=po(e);return[t,r,"n"]}function vre(e){var t=r0(e),r=po(e);return[t,r,"n"]}function oBe(e){var t=$l(e),r=j5(e);return[t,r,"n"]}function sBe(e){var t=r0(e),r=j5(e);return[t,r,"n"]}function lBe(e){var t=$l(e),r=W5(e);return[t,r,"is"]}function uBe(e){var t=$l(e),r=yo(e);return[t,r,"str"]}function cBe(e){var t=r0(e),r=yo(e);return[t,r,"str"]}function fBe(e,t,r){var n=e.l+t,i=$l(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var s=CE(e,n-e.l,r);o[3]=co(s,null,i,r.supbooks,r)}else e.l=n;return o}function dBe(e,t,r){var n=e.l+t,i=$l(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var s=CE(e,n-e.l,r);o[3]=co(s,null,i,r.supbooks,r)}else e.l=n;return o}function hBe(e,t,r){var n=e.l+t,i=$l(e);i.r=r["!row"];var a=po(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var s=CE(e,n-e.l,r);o[3]=co(s,null,i,r.supbooks,r)}else e.l=n;return o}function vBe(e,t,r){var n=e.l+t,i=$l(e);i.r=r["!row"];var a=yo(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var s=CE(e,n-e.l,r);o[3]=co(s,null,i,r.supbooks,r)}else e.l=n;return o}var pBe=n0;function gBe(e,t){var r=e.l+t,n=n0(e),i=X5(e),a=yo(e),o=yo(e),s=yo(e);e.l=r;var l={rfx:n,relId:i,loc:a,display:s};return o&&(l.Tooltip=o),l}function mBe(){}function yBe(e,t,r){var n=e.l+t,i=Rte(e),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var s=SNe(e,n-e.l,r);o[1]=s}else e.l=n;return o}function xBe(e,t,r){var n=e.l+t,i=n0(e),a=[i];if(r.cellFormula){var o=TNe(e,n-e.l,r);a[1]=o,e.l=n}else e.l=n;return a}var _Be=["left","right","top","bottom","header","footer"];function bBe(e){var t={};return _Be.forEach(function(r){t[r]=po(e)}),t}function wBe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function SBe(){}function CBe(){}function TBe(e,t,r,n,i,a,o){if(!e)return e;var s=t||{};n||(n={"!id":{}});var l=s.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,v,p,g,m,y,x,b,w,S=[];s.biff=12,s["!row"]=0;var C=0,E=!1,A=[],M={},D=s.supbooks||i.supbooks||[[]];if(D.sharedf=M,D.arrayf=A,D.SheetNames=i.SheetNames||i.Sheets.map(function(V){return V.name}),!s.supbooks&&(s.supbooks=D,i.Names))for(var R=0;R<i.Names.length;++R)D[0][R+1]=i.Names[R];var L=[],k=[],O=!1;vT[16]={n:"BrtShortReal",f:vre};var F;if(qf(e,function(U,K,q){if(!d)switch(q){case 148:u=U;break;case 0:h=U,s.sheetRows&&s.sheetRows<=h.r&&(d=!0),b=ro(g=h.r),s["!row"]=h.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=g_(U.hpt)),k[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:U[2]},U[2]){case"n":v.v=U[1];break;case"s":x=Mx[U[1]],v.v=x.t,v.r=x.r;break;case"b":v.v=!!U[1];break;case"e":v.v=U[1],s.cellText!==!1&&(v.w=i0[v.v]);break;case"str":v.t="s",v.v=U[1];break;case"is":v.t="s",v.v=U[1].t;break}if((p=o.CellXf[U[0].iStyleRef])&&dre(v,p.numFmtId,null,s,a,o),m=U[0].c==-1?m+1:U[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=v):l[ya(m)+b]=v,s.cellFormula){for(E=!1,C=0;C<A.length;++C){var N=A[C];h.r>=N[0].s.r&&h.r<=N[0].e.r&&m>=N[0].s.c&&m<=N[0].e.c&&(v.F=pn(N[0]),E=!0)}!E&&U.length>3&&(v.f=U[3])}if(c.s.r>h.r&&(c.s.r=h.r),c.s.c>m&&(c.s.c=m),c.e.r<h.r&&(c.e.r=h.r),c.e.c<m&&(c.e.c=m),s.cellDates&&p&&v.t=="n"&&Ym(Hr[p.numFmtId])){var W=Yv(v.v);W&&(v.t="d",v.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}F&&(F.type=="XLDAPR"&&(v.D=!0),F=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;v={t:"z",v:void 0},m=U[0].c==-1?m+1:U[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=v):l[ya(m)+b]=v,c.s.r>h.r&&(c.s.r=h.r),c.s.c>m&&(c.s.c=m),c.e.r<h.r&&(c.e.r=h.r),c.e.c<m&&(c.e.c=m),F&&(F.type=="XLDAPR"&&(v.D=!0),F=void 0);break;case 176:S.push(U);break;case 49:F=((s.xlmeta||{}).Cell||[])[U-1];break;case 494:var j=n["!id"][U.relId];for(j?(U.Target=j.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=j):U.relId==""&&(U.Target="#"+U.loc),g=U.rfx.s.r;g<=U.rfx.e.r;++g)for(m=U.rfx.s.c;m<=U.rfx.e.c;++m)s.dense?(l[g]||(l[g]=[]),l[g][m]||(l[g][m]={t:"z",v:void 0}),l[g][m].l=U):(y=kr({c:m,r:g}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=U);break;case 426:if(!s.cellFormula)break;A.push(U),w=s.dense?l[g][m]:l[ya(m)+b],w.f=co(U[1],c,{r:h.r,c:m},D,s),w.F=pn(U[0]);break;case 427:if(!s.cellFormula)break;M[kr(U[0].s)]=U[1],w=s.dense?l[g][m]:l[ya(m)+b],w.f=co(U[1],c,{r:h.r,c:m},D,s);break;case 60:if(!s.cellStyles)break;for(;U.e>=U.s;)L[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},O||(O=!0,q5(U.w/256)),dm(L[U.e+1]);break;case 161:l["!autofilter"]={ref:pn(U)};break;case 476:l["!margins"]=U;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),U.name&&(i.Sheets[r].CodeName=U.name),(U.above||U.left)&&(l["!outline"]={above:U.above,left:U.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),U.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!K.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+q.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=pn(u||c)),s.sheetRows&&l["!ref"]){var H=Di(l["!ref"]);s.sheetRows<=+H.e.r&&(H.e.r=s.sheetRows-1,H.e.r>c.e.r&&(H.e.r=c.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>c.e.c&&(H.e.c=c.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),l["!fullref"]=l["!ref"],l["!ref"]=pn(H))}return S.length>0&&(l["!merges"]=S),L.length>0&&(l["!cols"]=L),k.length>0&&(l["!rows"]=k),l}function ABe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var o=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var i=bn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function EBe(e,t,r,n,i,a){var o=a||{"!type":"chart"};if(!e)return a;var s=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=ABe(f);c.s.r=c.s.c=0,c.e.c=s,u=ya(s),d[0].forEach(function(h,v){o[u+ro(v)]={t:"n",v:h,z:d[1]},l=v}),c.e.r<l&&(c.e.r=l),++s}),s>0&&(o["!ref"]=pn(c)),o}function MBe(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(hre);return s&&Q5(s[0],a,i,r),(o=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=o[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function DBe(e,t){e.l+=10;var r=yo(e);return{name:r}}function PBe(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o=!1;return qf(e,function(l,u,c){switch(c){case 550:a["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var pre=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],RBe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],LBe=[],IBe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function B9(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=ci(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function z9(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ci(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function gre(e){z9(e.WBProps,pre),z9(e.CalcPr,IBe),B9(e.WBView,RBe),B9(e.Sheets,LBe),Zg.date1904=ci(e.WBProps.date1904)}var kBe="][*?/\\".split("");function OBe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return kBe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var FBe=/<\w+:workbook/;function NBe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},o=0;if(e.replace(Mo,function(l,u){var c=Tr(l);switch(Bc(c[0])){case"<?xml":break;case"<workbook":l.match(FBe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pre.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=ci(c[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:r.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(r.WBProps.CodeName=Qn(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=bn(Qn(c.name)),delete c[0],r.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Qn(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),ci(c.hidden||"0")&&(a.Hidden=!0),o=u+l.length;break;case"</definedName>":a.Ref=bn(Qn(e.slice(o,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete c[0],r.CalcPr=c;break;case"<calcPr/>":delete c[0],r.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),tke.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gre(r),r}function BBe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=L3(e),r.name=yo(e),r}function zBe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?yo(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function HBe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function VBe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=xke(e),o=CNe(e,0,r),s=X5(e);e.l=n;var l={Name:a,Ptg:o};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}function $Be(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],vT[16]={n:"BrtFRTArchID$",f:HBe},qf(e,function(l,u,c){switch(c){case 156:o.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=co(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([c,l]):o[0]=[c,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},t),gre(r),r.Names=a,r.supbooks=o,r}function GBe(e,t,r){return t.slice(-4)===".bin"?$Be(e,r):NBe(e,r)}function UBe(e,t,r,n,i,a,o,s){return t.slice(-4)===".bin"?TBe(e,n,r,i,a,o,s):BNe(e,n,r,i,a,o,s)}function WBe(e,t,r,n,i,a,o,s){return t.slice(-4)===".bin"?PBe(e,n,r,i,a):MBe(e,n,r,i,a)}function XBe(e,t,r,n,i,a,o,s){return t.slice(-4)===".bin"?eFe():tFe()}function jBe(e,t,r,n,i,a,o,s){return t.slice(-4)===".bin"?J5e():Q5e()}function YBe(e,t,r,n){return t.slice(-4)===".bin"?p5e(e,r,n):u5e(e,r,n)}function KBe(e,t,r){return rre(e,r)}function ZBe(e,t,r){return t.slice(-4)===".bin"?ROe(e,r):DOe(e,r)}function qBe(e,t,r){return t.slice(-4)===".bin"?K5e(e,r):U5e(e,r)}function JBe(e,t,r){return t.slice(-4)===".bin"?V5e(e):z5e(e)}function QBe(e,t,r,n){return r.slice(-4)===".bin"?$5e(e,t,r,n):void 0}function eze(e,t,r){return t.slice(-4)===".bin"?N5e(e,t,r):B5e(e,t,r)}var mre=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yre=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Kl(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(mre),a,o,s,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(yre),(o=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(o+1),n[s]=a[2].slice(1,a[2].length-1));return n}function tze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(mre),i,a,o,s;if(n)for(s=0;s!=n.length;++s)i=n[s].match(yre),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),r[o]=i[2].slice(1,i[2].length-1));return r}var Px;function rze(e,t){var r=Px[e]||bn(e);return r==="General"?Ap(t):zl(r,t)}function nze(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=ci(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Va(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[bn(t)]=i}function ize(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||i0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=f_(e.v):e.w=Ap(e.v):e.w=rze(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=Px[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ym(n)){var i=Yv(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function aze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=n5e[n.Pattern]||n.Pattern)}e[t.ID]=t}function oze(e,t,r,n,i,a,o,s,l,u){var c="General",f=n.StyleID,d={};u=u||{};var h=[],v=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);a[f]!==void 0&&(a[f].nf&&(c=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ci(e);break;case"String":n.t="s",n.r=s9(bn(e)),n.v=e.indexOf("<")>-1?bn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Va(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=bn(e):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=kte[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=s9(t||e));break}if(ize(n,c,u),u.cellFormula!==!1)if(n.Formula){var p=bn(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Kg(p,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Kg("RC:RC",i):n.ArrayRange&&(n.F=Kg(n.ArrayRange,i),l.push([Di(n.F),n.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(n.F=l[v][1]);u.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function sze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function RP(e,t){var r=t||{};ote();var n=H1(V5(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Qn(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=to(r);return o.type="string",v_.to_workbook(n,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($e){i.indexOf("<"+$e)>=0&&(a=!0)}),a)return gze(n,r);Px={"General Number":"General","General Date":Hr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Hr[15],"Short Date":Hr[14],"Long Time":Hr[19],"Medium Time":Hr[18],"Short Time":Hr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Hr[2],Standard:Hr[4],Percent:Hr[10],Scientific:Hr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],u,c={},f=[],d=r.dense?[]:{},h="",v={},p={},g=Kl('<Data ss:Type="String">'),m=0,y=0,x=0,b={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},S={},C="",E=0,A=[],M={},D={},R=0,L=[],k=[],O={},F=[],H,V=!1,U=[],K=[],q={},N=0,W=0,j={Sheets:[],WBProps:{date1904:!1}},Z={};h_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ve="";s=h_.exec(n);)switch(s[3]=(ve=s[3]).toLowerCase()){case"data":if(ve=="data"){if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?oze(n.slice(m,s.index),C,g,l[l.length-1][0]=="comment"?O:v,{c:y,r:x},w,F[y],p,U,r):(C="",g=Kl(s[0]),m=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(k.length>0&&(v.c=k),(!r.sheetRows||r.sheetRows>x)&&v.v!==void 0&&(r.dense?(d[x]||(d[x]=[]),d[x][y]=v):d[ya(y)+ro(x)]=v),v.HRef&&(v.l={Target:bn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(N=y+(parseInt(v.MergeAcross,10)|0),W=x+(parseInt(v.MergeDown,10)|0),A.push({s:{c:y,r:x},e:{c:N,r:W}})),!r.sheetStubs)v.MergeAcross?y=N+1:++y;else if(v.MergeAcross||v.MergeDown){for(var Te=y;Te<=N;++Te)for(var Se=x;Se<=W;++Se)(Te>y||Se>x)&&(r.dense?(d[Se]||(d[Se]=[]),d[Se][Te]={t:"z"}):d[ya(Te)+ro(Se)]={t:"z"});y=N+1}else++y;else v=tze(s[0]),v.Index&&(y=+v.Index-1),y<b.s.c&&(b.s.c=y),y>b.e.c&&(b.e.c=y),s[0].slice(-2)==="/>"&&++y,k=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(x<b.s.r&&(b.s.r=x),x>b.e.r&&(b.e.r=x),s[0].slice(-2)==="/>"&&(p=Kl(s[0]),p.Index&&(x=+p.Index-1)),y=0,++x):(p=Kl(s[0]),p.Index&&(x=+p.Index-1),q={},(p.AutoFitHeight=="0"||p.Height)&&(q.hpx=parseInt(p.Height,10),q.hpt=tre(q.hpx),K[x]=q),p.Hidden=="1"&&(q.hidden=!0,K[x]=q));break;case"worksheet":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(h),b.s.r<=b.e.r&&b.s.c<=b.e.c&&(d["!ref"]=pn(b),r.sheetRows&&r.sheetRows<=b.e.r&&(d["!fullref"]=d["!ref"],b.e.r=r.sheetRows-1,d["!ref"]=pn(b))),A.length&&(d["!merges"]=A),F.length>0&&(d["!cols"]=F),K.length>0&&(d["!rows"]=K),c[h]=d}else b={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=y=0,l.push([s[3],!1]),u=Kl(s[0]),h=bn(u.Name),d=r.dense?[]:{},A=[],U=[],K=[],Z={name:h,Hidden:0},j.Sheets.push(Z);break;case"table":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),F=[],V=!1}break;case"style":s[1]==="/"?aze(w,S,r):S=Kl(s[0]);break;case"numberformat":S.nf=bn(Kl(s[0]).Format||"General"),Px[S.nf]&&(S.nf=Px[S.nf]);for(var te=0;te!=392&&Hr[te]!=S.nf;++te);if(te==392){for(te=57;te!=392;++te)if(Hr[te]==null){cp(S.nf,te);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(H=Kl(s[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!V&&H.wpx>10){V=!0,Go=Qte;for(var pe=0;pe<F.length;++pe)F[pe]&&dm(F[pe])}V&&dm(H),F[H.Index-1||F.length]=H;for(var Re=0;Re<+H.Span;++Re)F[F.length]=to(H);break;case"namedrange":if(s[1]==="/")break;j.Names||(j.Names=[]);var z=Tr(s[0]),J={Name:z.Name,Ref:Kg(z.RefersTo.slice(1),{r:0,c:0})};j.Sheets.length>0&&(J.Sheet=j.Sheets.length-1),j.Names.push(J);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?C+=n.slice(E,s.index):E=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=Kl(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?Uke(M,ve,n.slice(R,s.index)):R=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));sze(O),k.push(O)}else l.push([s[3],!1]),u=Kl(s[0]),O={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var se=Kl(s[0]);d["!autofilter"]={ref:Kg(se.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return W9(n,r);var he=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:he=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:he=!1}break;case"excelworkbook":switch(s[3]){case"date1904":j.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:he=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:he=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(n.slice(R,s.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else R=s.index+s[0].length;break;case"header":d["!margins"]||Dx(d["!margins"]={},"xlml"),isNaN(+Tr(s[0]).Margin)||(d["!margins"].header=+Tr(s[0]).Margin);break;case"footer":d["!margins"]||Dx(d["!margins"]={},"xlml"),isNaN(+Tr(s[0]).Margin)||(d["!margins"].footer=+Tr(s[0]).Margin);break;case"pagemargins":var _e=Tr(s[0]);d["!margins"]||Dx(d["!margins"]={},"xlml"),isNaN(+_e.Top)||(d["!margins"].top=+_e.Top),isNaN(+_e.Left)||(d["!margins"].left=+_e.Left),isNaN(+_e.Right)||(d["!margins"].right=+_e.Right),isNaN(+_e.Bottom)||(d["!margins"].bottom=+_e.Bottom);break;case"displayrighttoleft":j.Views||(j.Views=[]),j.Views[0]||(j.Views[0]={}),j.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:he=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:he=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:he=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:he=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:he=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:he=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:he=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:he=!1}break;case"smarttags":break;default:he=!1;break}if(he||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?nze(D,ve,L,n.slice(R,s.index)):(L=s,R=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var ge={};return!r.bookSheets&&!r.bookProps&&(ge.Sheets=c),ge.SheetNames=f,ge.Workbook=j,ge.SSF=to(Hr),ge.Props=M,ge.Custprops=D,ge}function F3(e,t){switch(rF(t=t||{}),t.type||"base64"){case"base64":return RP(Ws(e),t);case"binary":case"buffer":case"file":return RP(e,t);case"array":return RP(t0(e),t)}}function lze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=wke(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Ske(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var uze=[60,1084,2066,2165,2175];function cze(e,t,r,n,i){var a=n,o=[],s=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(s)}o.push(s),r.l+=a;for(var l=yf(r,r.l),u=N3[l],c=0;u!=null&&uze.indexOf(l)>-1;)a=yf(r,r.l+2),c=r.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),s=r.slice(c,r.l+4+a),o.push(s),r.l+=4+a,u=N3[l=yf(r,r.l)];var f=Gd(o);Za(f,0);var d=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(d),d+=o[h].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,i)}function Hu(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Hr[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||i0[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=f_(e.v):e.w=Ap(e.v):e.w=zl(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Ym(Hr[n]||String(n))){var i=Yv(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function gS(e,t,r){return{v:e,ixfe:t,t:r}}function fze(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},o={},s=null,l=[],u="",c={},f,d="",h,v,p,g,m={},y=[],x,b,w=[],S=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},A=function(Lt){return Lt<8?fp[Lt]:Lt<64&&S[Lt-8]||fp[Lt]},M=function(Lt,er,yr){var ar=er.XF.data;if(!(!ar||!ar.patternType||!yr||!yr.cellStyles)){er.s={},er.s.patternType=ar.patternType;var _t;(_t=p_(A(ar.icvFore)))&&(er.s.fgColor={rgb:_t}),(_t=p_(A(ar.icvBack)))&&(er.s.bgColor={rgb:_t})}},D=function(Lt,er,yr){if(!(q>1)&&!(yr.sheetRows&&Lt.r>=yr.sheetRows)){if(yr.cellStyles&&er.XF&&er.XF.data&&M(Lt,er,yr),delete er.ixfe,delete er.XF,f=Lt,d=kr(Lt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Lt.r<o.s.r&&(o.s.r=Lt.r),Lt.c<o.s.c&&(o.s.c=Lt.c),Lt.r+1>o.e.r&&(o.e.r=Lt.r+1),Lt.c+1>o.e.c&&(o.e.c=Lt.c+1),yr.cellFormula&&er.f){for(var ar=0;ar<y.length;++ar)if(!(y[ar][0].s.c>Lt.c||y[ar][0].s.r>Lt.r)&&!(y[ar][0].e.c<Lt.c||y[ar][0].e.r<Lt.r)){er.F=pn(y[ar][0]),(y[ar][0].s.c!=Lt.c||y[ar][0].s.r!=Lt.r)&&delete er.f,er.f&&(er.f=""+co(y[ar][1],o,Lt,U,R));break}}yr.dense?(i[Lt.r]||(i[Lt.r]=[]),i[Lt.r][Lt.c]=er):i[d]=er}},R={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(R.password=t.password);var L,k=[],O=[],F=[],H=[],V=!1,U=[];U.SheetNames=R.snames,U.sharedf=R.sharedf,U.arrayf=R.arrayf,U.names=[],U.XTI=[];var K=0,q=0,N=0,W=[],j=[],Z;R.codepage=1200,uu(1200);for(var ve=!1;e.l<e.length-1;){var Te=e.l,Se=e.read_shift(2);if(Se===0&&K===10)break;var te=e.l===e.length?0:e.read_shift(2),pe=N3[Se];if(pe&&pe.f){if(t.bookSheets&&K===133&&Se!==133)break;if(K=Se,pe.r===2||pe.r==12){var Re=e.read_shift(2);if(te-=2,!R.enc&&Re!==Se&&((Re&255)<<8|Re>>8)!==Se)throw new Error("rt mismatch: "+Re+"!="+Se);pe.r==12&&(e.l+=10,te-=10)}var z={};if(Se===10?z=pe.f(e,te,R):z=cze(Se,pe,e,te,R),q==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(Se){case 34:r.opts.Date1904=C.WBProps.date1904=z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(R.enc||(e.l=0),R.enc=z,!t.password)throw new Error("File is password-protected");if(z.valid==null)throw new Error("Encryption scheme unsupported");if(!z.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=z;break;case 66:var J=Number(z);switch(J){case 21010:J=1200;break;case 32768:J=1e4;break;case 32769:J=1252;break}uu(R.codepage=J),ve=!0;break;case 317:R.rrtabid=z;break;case 25:R.winlocked=z;break;case 439:r.opts.RefreshAll=z;break;case 12:r.opts.CalcCount=z;break;case 16:r.opts.CalcDelta=z;break;case 17:r.opts.CalcIter=z;break;case 13:r.opts.CalcMode=z;break;case 14:r.opts.CalcPrecision=z;break;case 95:r.opts.CalcSaveRecalc=z;break;case 15:R.CalcRefMode=z;break;case 2211:r.opts.FullCalc=z;break;case 129:z.fDialog&&(i["!type"]="dialog"),z.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),z.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:w.push(z);break;case 430:U.push([z]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(z);break;case 24:case 536:Z={Name:z.Name,Ref:co(z.rgce,o,null,U,R)},z.itab>0&&(Z.Sheet=z.itab-1),U.names.push(Z),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(z),z.Name=="_xlnm._FilterDatabase"&&z.itab>0&&z.rgce&&z.rgce[0]&&z.rgce[0][0]&&z.rgce[0][0][0]=="PtgArea3d"&&(j[z.itab-1]={ref:pn(z.rgce[0][0][1][2])});break;case 22:R.ExternCount=z;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(z),U.XTI=U.XTI.concat(z);break;case 2196:if(R.biff<8)break;Z!=null&&(Z.Comment=z[1]);break;case 18:i["!protect"]=z;break;case 19:z!==0&&R.WTF&&console.error("Password verifier: "+z);break;case 133:a[z.pos]=z,R.snames.push(z.name);break;case 10:{if(--q)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=pn(o),t.sheetRows&&t.sheetRows<=o.e.r){var se=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=pn(o),o.e.r=se}o.e.r++,o.e.c++}k.length>0&&(i["!merges"]=k),O.length>0&&(i["!objects"]=O),F.length>0&&(i["!cols"]=F),H.length>0&&(i["!rows"]=H),C.Sheets.push(E)}u===""?c=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[z.BIFFVer]||8),R.biffguess=z.BIFFVer==0,z.BIFFVer==0&&z.dt==4096&&(R.biff=5,ve=!0,uu(R.codepage=28591)),R.biff==8&&z.BIFFVer==0&&z.dt==16&&(R.biff=2),q++)break;if(i=t.dense?[]:{},R.biff<8&&!ve&&(ve=!0,uu(R.codepage=t.codepage||1252)),R.biff<5||z.BIFFVer==0&&z.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var he={pos:e.l-te,name:u};a[he.pos]=he,R.snames.push(u)}else u=(a[Te]||{name:""}).name;z.dt==32&&(i["!type"]="chart"),z.dt==64&&(i["!type"]="macro"),k=[],O=[],R.arrayf=y=[],F=[],H=[],V=!1,E={Hidden:(a[Te]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[z.r]||[])[z.c]:i[kr({c:z.c,r:z.r})])&&++z.c,x={ixfe:z.ixfe,XF:w[z.ixfe]||{},v:z.val,t:"n"},N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:z.c,r:z.r},x,t);break;case 5:case 517:x={ixfe:z.ixfe,XF:w[z.ixfe],v:z.val,t:z.t},N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:z.c,r:z.r},x,t);break;case 638:x={ixfe:z.ixfe,XF:w[z.ixfe],v:z.rknum,t:"n"},N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:z.c,r:z.r},x,t);break;case 189:for(var _e=z.c;_e<=z.C;++_e){var ge=z.rkrec[_e-z.c][0];x={ixfe:ge,XF:w[ge],v:z.rkrec[_e-z.c][1],t:"n"},N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:_e,r:z.r},x,t)}break;case 6:case 518:case 1030:{if(z.val=="String"){s=z;break}if(x=gS(z.val,z.cell.ixfe,z.tt),x.XF=w[x.ixfe],t.cellFormula){var $e=z.formula;if($e&&$e[0]&&$e[0][0]&&$e[0][0][0]=="PtgExp"){var Le=$e[0][0][1][0],fe=$e[0][0][1][1],de=kr({r:Le,c:fe});m[de]?x.f=""+co(z.formula,o,z.cell,U,R):x.F=((t.dense?(i[Le]||[])[fe]:i[de])||{}).F}else x.f=""+co(z.formula,o,z.cell,U,R)}N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D(z.cell,x,t),s=z}break;case 7:case 519:if(s)s.val=z,x=gS(z,s.cell.ixfe,"s"),x.XF=w[x.ixfe],t.cellFormula&&(x.f=""+co(s.formula,o,s.cell,U,R)),N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D(s.cell,x,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(z);var Ve=kr(z[0].s);if(h=t.dense?(i[z[0].s.r]||[])[z[0].s.c]:i[Ve],t.cellFormula&&h){if(!s||!Ve||!h)break;h.f=""+co(z[1],o,z[0],U,R),h.F=pn(z[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!s)break;m[kr(s.cell)]=z[0],h=t.dense?(i[s.cell.r]||[])[s.cell.c]:i[kr(s.cell)],(h||{}).f=""+co(z[0],o,f,U,R)}}break;case 253:x=gS(l[z.isst].t,z.ixfe,"s"),l[z.isst].h&&(x.h=l[z.isst].h),x.XF=w[x.ixfe],N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:z.c,r:z.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:z.ixfe,XF:w[z.ixfe],t:"z"},N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:z.c,r:z.r},x,t));break;case 190:if(t.sheetStubs)for(var Ge=z.c;Ge<=z.C;++Ge){var ke=z.ixfe[Ge-z.c];x={ixfe:ke,XF:w[ke],t:"z"},N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:Ge,r:z.r},x,t)}break;case 214:case 516:case 4:x=gS(z.val,z.ixfe,"s"),x.XF=w[x.ixfe],N>0&&(x.z=W[x.ixfe>>8&63]),Hu(x,t,r.opts.Date1904),D({c:z.c,r:z.r},x,t);break;case 0:case 512:q===1&&(o=z);break;case 252:l=z;break;case 1054:if(R.biff==4){W[N++]=z[1];for(var Xe=0;Xe<N+163&&Hr[Xe]!=z[1];++Xe);Xe>=163&&cp(z[1],N+163)}else cp(z[1],z[0]);break;case 30:{W[N++]=z;for(var gt=0;gt<N+163&&Hr[gt]!=z;++gt);gt>=163&&cp(z,N+163)}break;case 229:k=k.concat(z);break;case 93:O[z.cmo[0]]=R.lastobj=z;break;case 438:R.lastobj.TxO=z;break;case 127:R.lastobj.ImData=z;break;case 440:for(g=z[0].s.r;g<=z[0].e.r;++g)for(p=z[0].s.c;p<=z[0].e.c;++p)h=t.dense?(i[g]||[])[p]:i[kr({c:p,r:g})],h&&(h.l=z[1]);break;case 2048:for(g=z[0].s.r;g<=z[0].e.r;++g)for(p=z[0].s.c;p<=z[0].e.c;++p)h=t.dense?(i[g]||[])[p]:i[kr({c:p,r:g})],h&&h.l&&(h.l.Tooltip=z[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;h=t.dense?(i[z[0].r]||[])[z[0].c]:i[kr(z[0])];var Kt=O[z[2]];h||(t.dense?(i[z[0].r]||(i[z[0].r]=[]),h=i[z[0].r][z[0].c]={t:"z"}):h=i[kr(z[0])]={t:"z"},o.e.r=Math.max(o.e.r,z[0].r),o.s.r=Math.min(o.s.r,z[0].r),o.e.c=Math.max(o.e.c,z[0].c),o.s.c=Math.min(o.s.c,z[0].c)),h.c||(h.c=[]),v={a:z[1],t:Kt.TxO.t},h.c.push(v)}break;case 2173:I5e(w[z.ixfe],z.ext);break;case 125:{if(!R.cellStyles)break;for(;z.e>=z.s;)F[z.e--]={width:z.w/256,level:z.level||0,hidden:!!(z.flags&1)},V||(V=!0,q5(z.w/256)),dm(F[z.e+1])}break;case 520:{var Nt={};z.level!=null&&(H[z.r]=Nt,Nt.level=z.level),z.hidden&&(H[z.r]=Nt,Nt.hidden=!0),z.hpt&&(H[z.r]=Nt,Nt.hpt=z.hpt,Nt.hpx=g_(z.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Dx(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=z;break;case 161:i["!margins"]||Dx(i["!margins"]={}),i["!margins"].header=z.header,i["!margins"].footer=z.footer;break;case 574:z.RTL&&(C.Views[0].RTL=!0);break;case 146:S=z;break;case 2198:L=z;break;case 140:b=z;break;case 442:u?E.CodeName=z||E.name:C.WBProps.CodeName=z||"ThisWorkbook";break}}else pe||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),e.l+=te}return r.SheetNames=Mc(a).sort(function(Sr,Lt){return Number(Sr)-Number(Lt)}).map(function(Sr){return a[Sr].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&c["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=c)):r.Preamble=c,r.Sheets&&j.forEach(function(Sr,Lt){r.Sheets[r.SheetNames[Lt]]["!autofilter"]=Sr}),r.Strings=l,r.SSF=to(Hr),R.enc&&(r.Encryption=R.enc),L&&(r.Themes=L),r.Metadata={},b!==void 0&&(r.Metadata.Country=b),U.names.length>0&&(C.Names=U.names),r.Workbook=C,r}var H9={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dze(e,t,r){var n=vn.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=S9(n,Dke,H9.DSI);for(var a in i)t[a]=i[a]}catch(u){if(r.WTF)throw u}var o=vn.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=S9(o,Pke,H9.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Fte(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xre(e,t){t||(t={}),rF(t),Yee(),t.codepage&&k5(t.codepage);var r,n;if(e.FullPaths){if(vn.find(e,"/encryption"))throw new Error("File is password-protected");r=vn.find(e,"!CompObj"),n=vn.find(e,"/Workbook")||vn.find(e,"/Book")}else{switch(t.type){case"base64":e=su(Ws(e));break;case"binary":e=su(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Za(e,0),n={content:e}}var i,a;if(r&&lze(r),t.bookProps&&!t.bookSheets)i={};else{var o=un?"buffer":"array";if(n&&n.content)i=fze(n.content,t);else if((a=vn.find(e,"PerfectOffice_MAIN"))&&a.content)i=Ex.to_workbook(a.content,(t.type=o,t));else if((a=vn.find(e,"NativeContent_MAIN"))&&a.content)i=Ex.to_workbook(a.content,(t.type=o,t));else throw(a=vn.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&vn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=q5e(e))}var s={};return e.FullPaths&&dze(e,s,t),i.Props=i.Custprops=s,t.bookFiles&&(i.cfb=e),i}var vT={0:{f:jNe},1:{f:qNe},2:{f:oBe},3:{f:tBe},4:{f:QNe},5:{f:aBe},6:{f:uBe},7:{f:nBe},8:{f:vBe},9:{f:hBe},10:{f:fBe},11:{f:dBe},12:{f:JNe},13:{f:sBe},14:{f:rBe},15:{f:eBe},16:{f:vre},17:{f:cBe},18:{f:iBe},19:{f:W5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:VBe},40:{},42:{},43:{f:f5e},44:{f:c5e},45:{f:d5e},46:{f:v5e},47:{f:h5e},48:{},49:{f:pke},50:{},51:{f:O5e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Yte},62:{f:lBe},63:{f:H5e},64:{f:SBe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:wo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wBe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ZNe},148:{f:YNe,p:16},151:{f:mBe},152:{},153:{f:zBe},154:{},155:{},156:{f:BBe},157:{},158:{},159:{T:1,f:POe},160:{T:-1},161:{T:1,f:n0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:pBe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:k5e},336:{T:-1},337:{f:F5e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:L3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jte},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yBe},427:{f:xBe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bBe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:KNe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gBe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:L3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Y5e},633:{T:1},634:{T:-1},635:{T:1,f:j5e},636:{T:-1},637:{f:mke},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:DBe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:CBe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},N3={6:{f:DP},10:{f:_d},12:{f:ra},13:{f:ra},14:{f:zi},15:{f:zi},16:{f:po},17:{f:zi},18:{f:zi},19:{f:ra},20:{f:E9},21:{f:E9},23:{f:jte},24:{f:D9},25:{f:zi},26:{},27:{},28:{f:W4e},29:{},34:{f:zi},35:{f:M9},38:{f:po},39:{f:po},40:{f:po},41:{f:po},42:{f:zi},43:{f:zi},47:{f:KOe},49:{f:A4e},51:{f:ra},60:{},61:{f:S4e},64:{f:zi},65:{f:T4e},66:{f:ra},77:{},80:{},81:{},82:{},85:{f:ra},89:{},90:{},91:{},92:{f:p4e},93:{f:j4e},94:{},95:{f:zi},96:{},97:{},99:{f:zi},125:{f:Yte},128:{f:F4e},129:{f:g4e},130:{f:ra},131:{f:zi},132:{f:zi},133:{f:m4e},134:{},140:{f:Q4e},141:{f:ra},144:{},146:{f:tOe},151:{},152:{},153:{},154:{},155:{},156:{f:ra},157:{},158:{},160:{f:oOe},161:{f:nOe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:L4e},190:{f:I4e},193:{f:_d},197:{},198:{},199:{},200:{},201:{},202:{f:zi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ra},220:{},221:{f:zi},222:{},224:{f:O4e},225:{f:v4e},226:{f:_d},227:{},229:{f:X4e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:y4e},253:{f:E4e},255:{f:x4e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Vte},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zi},353:{f:_d},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:B4e},431:{f:zi},432:{},433:{},434:{},437:{},438:{f:Z4e},439:{f:zi},440:{f:q4e},441:{},442:{f:gb},443:{},444:{f:ra},445:{},446:{},448:{f:_d},449:{f:w4e,r:2},450:{f:_d},512:{f:T9},513:{f:aOe},515:{f:N4e},516:{f:M4e},517:{f:A9},519:{f:sOe},520:{f:_4e},523:{},545:{f:P9},549:{f:C9},566:{},574:{f:C4e},638:{f:R4e},659:{},1048:{},1054:{f:D4e},1084:{},1212:{f:$4e},2048:{f:J4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hS},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_d},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:rOe,r:12},2173:{f:L5e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:V4e,r:12},2197:{},2198:{f:A5e,r:12},2199:{},2200:{},2201:{},2202:{f:G4e,r:12},2203:{f:_d},2204:{},2205:{},2206:{},2207:{},2211:{f:b4e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ra},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:iOe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:eOe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:T9},1:{},2:{f:fOe},3:{f:cOe},4:{f:uOe},5:{f:A9},7:{f:dOe},8:{},9:{f:hS},11:{},22:{f:ra},30:{f:P4e},31:{},32:{},33:{f:P9},36:{},37:{f:C9},50:{f:hOe},62:{},52:{},67:{},68:{f:ra},69:{},86:{},126:{},127:{f:lOe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:vOe},223:{},234:{},354:{},421:{},518:{f:DP},521:{f:hS},536:{f:D9},547:{f:M9},561:{},579:{},1030:{f:DP},1033:{f:hS},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Zl(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&Mte(r)&&e.push(r)}}function V9(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),o=i.index,s=a&&a.index||e.length,l=N3e(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<l.length;++o){var p=l[o].trim(),g=p.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}c=0;continue}if(!(g!="<td"&&g!="<th")){var m=p.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var y=m[s].trim();if(y.match(/<t[dh]/i)){for(var x=y,b=0;x.charAt(0)=="<"&&(b=x.indexOf(">"))>-1;)x=x.slice(b+1);for(var w=0;w<v.length;++w){var S=v[w];S.s.c==c&&S.s.r<u&&u<=S.e.r&&(c=S.e.c+1,w=-1)}var C=Tr(y.slice(0,y.indexOf(">")));d=C.colspan?+C.colspan:1,((f=+C.rowspan)>1||d>1)&&v.push({s:{r:u,c},e:{r:u+(f||1)-1,c:c+d-1}});var E=C.t||C["data-t"]||"";if(!x.length){c+=d;continue}if(x=pte(x),h.s.r>u&&(h.s.r=u),h.e.r<u&&(h.e.r=u),h.s.c>c&&(h.s.c=c),h.e.c<c&&(h.e.c=c),!x.length){c+=d;continue}var A={t:"s",v:x};r.raw||!x.trim().length||E=="s"||(x==="TRUE"?A={t:"b",v:!0}:x==="FALSE"?A={t:"b",v:!1}:isNaN(vu(x))?isNaN(fm(x).getDate())||(A={t:"d",v:Va(x)},r.cellDates||(A={t:"n",v:Ko(A.v)}),A.z=r.dateNF||Hr[14]):A={t:"n",v:vu(x)}),r.dense?(n[u]||(n[u]=[]),n[u][c]=A):n[kr({r:u,c})]=A,c+=d}}}}return n["!ref"]=pn(h),v.length&&(n["!merges"]=v),n}function hze(e,t,r,n){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){s=-1;break}s=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(s<0)){var c=kr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[c],d=f&&f.v!=null&&(f.h||H5(f.w||(kf(f),f.w)||""))||"",h={};s>1&&(h.rowspan=s),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+c,a.push(Q3e("td",d,h))}}var v="<tr>";return v+a.join("")+"</tr>"}var vze='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',pze="</body></html>";function gze(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Rh(V9(r[0],t),t);var n=iF();return r.forEach(function(i,a){aF(n,V9(i,t),"Sheet"+(a+1))}),n}function mze(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function yze(e,t){var r=t||{},n=r.header!=null?r.header:vze,i=r.footer!=null?r.footer:pze,a=[n],o=Km(e["!ref"]);r.dense=Array.isArray(e),a.push(mze(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)a.push(hze(e,o,s,r));return a.push("</table>"+i),a.join("")}function _re(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?Wo(n.origin):n.origin;i=o.r,a=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var c=Km(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),v=0,p=0,g=0,m=0,y=0,x=0;for(e["!cols"]||(e["!cols"]=[]);v<s.length&&p<l;++v){var b=s[v];if($9(b)){if(n.display)continue;h[p]={hidden:!0}}var w=b.children;for(g=m=0;g<w.length;++g){var S=w[g];if(!(n.display&&$9(S))){var C=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):pte(S.innerHTML),E=S.getAttribute("data-z")||S.getAttribute("z");for(d=0;d<f.length;++d){var A=f[d];A.s.c==m+a&&A.s.r<p+i&&p+i<=A.e.r&&(m=A.e.c+1-a,d=-1)}x=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||x>1)&&f.push({s:{r:p+i,c:m+a},e:{r:p+i+(y||1)-1,c:m+a+(x||1)-1}});var M={t:"s",v:C},D=S.getAttribute("data-t")||S.getAttribute("t")||"";C!=null&&(C.length==0?M.t=D||"z":n.raw||C.trim().length==0||D=="s"||(C==="TRUE"?M={t:"b",v:!0}:C==="FALSE"?M={t:"b",v:!1}:isNaN(vu(C))?isNaN(fm(C).getDate())||(M={t:"d",v:Va(C)},n.cellDates||(M={t:"n",v:Ko(M.v)}),M.z=n.dateNF||Hr[14]):M={t:"n",v:vu(C)})),M.z===void 0&&E!=null&&(M.z=E);var R="",L=S.getElementsByTagName("A");if(L&&L.length)for(var k=0;k<L.length&&!(L[k].hasAttribute("href")&&(R=L[k].getAttribute("href"),R.charAt(0)!="#"));++k);R&&R.charAt(0)!="#"&&(M.l={Target:R}),n.dense?(e[p+i]||(e[p+i]=[]),e[p+i][m+a]=M):e[kr({c:m+a,r:p+i})]=M,u.e.c<m+a&&(u.e.c=m+a),m+=x}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+i),e["!ref"]=pn(u),p>=l&&(e["!fullref"]=pn((u.e.r=s.length-v+p-1+i,u))),e}function bre(e,t){var r=t||{},n=r.dense?[]:{};return _re(n,e,t)}function xze(e,t){return Rh(bre(e,t),t)}function $9(e){var t="",r=_ze(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function _ze(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function bze(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=bn(t.replace(/<[^>]*>/g,""));return[r]}var G9={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function wre(e,t){var r=t||{},n=V5(e),i=[],a,o,s={name:""},l="",u=0,c,f,d={},h=[],v=r.dense?[]:{},p,g,m={value:""},y="",x=0,b=[],w=-1,S=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,A={},M=[],D={},R=0,L=0,k=[],O=1,F=1,H=[],V={Names:[]},U={},K=["",""],q=[],N={},W="",j=0,Z=!1,ve=!1,Te=0;for(h_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=h_.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"工作表":p[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?v["!ref"]=pn(C):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=C.e.r&&(v["!fullref"]=v["!ref"],C.e.r=r.sheetRows-1,v["!ref"]=pn(C)),M.length&&(v["!merges"]=M),k.length&&(v["!rows"]=k),c.name=c.名称||c.name,typeof JSON<"u"&&JSON.stringify(c),h.push(c.name),d[c.name]=v,ve=!1):p[0].charAt(p[0].length-2)!=="/"&&(c=Tr(p[0],!1),w=S=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,v=r.dense?[]:{},M=[],k=[],ve=!0);break;case"table-row-group":p[1]==="/"?--E:++E;break;case"table-row":case"行":if(p[1]==="/"){w+=O,O=1;break}if(f=Tr(p[0],!1),f.行号?w=f.行号-1:w==-1&&(w=0),O=+f["number-rows-repeated"]||1,O<10)for(Te=0;Te<O;++Te)E>0&&(k[w+Te]={level:E});S=-1;break;case"covered-table-cell":p[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(v[w]||(v[w]=[]),v[w][S]={t:"z"}):v[kr({r:w,c:S})]={t:"z"}),y="",b=[];break;case"table-cell":case"数据":if(p[0].charAt(p[0].length-2)==="/")++S,m=Tr(p[0],!1),F=parseInt(m["number-columns-repeated"]||"1",10),g={t:"z",v:null},m.formula&&r.cellFormula!=!1&&(g.f=N9(bn(m.formula))),(m.数据类型||m["value-type"])=="string"&&(g.t="s",g.v=bn(m["string-value"]||""),r.dense?(v[w]||(v[w]=[]),v[w][S]=g):v[kr({r:w,c:S})]=g),S+=F-1;else if(p[1]!=="/"){++S,y="",x=0,b=[],F=1;var Se=O?w+O-1:w;if(S>C.e.c&&(C.e.c=S),S<C.s.c&&(C.s.c=S),w<C.s.r&&(C.s.r=w),Se>C.e.r&&(C.e.r=Se),m=Tr(p[0],!1),q=[],N={},g={t:m.数据类型||m["value-type"],v:null},r.cellFormula)if(m.formula&&(m.formula=bn(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(R=parseInt(m["number-matrix-rows-spanned"],10)||0,L=parseInt(m["number-matrix-columns-spanned"],10)||0,D={s:{r:w,c:S},e:{r:w+R-1,c:S+L-1}},g.F=pn(D),H.push([D,g.F])),m.formula)g.f=N9(m.formula);else for(Te=0;Te<H.length;++Te)w>=H[Te][0].s.r&&w<=H[Te][0].e.r&&S>=H[Te][0].s.c&&S<=H[Te][0].e.c&&(g.F=H[Te][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(R=parseInt(m["number-rows-spanned"],10)||0,L=parseInt(m["number-columns-spanned"],10)||0,D={s:{r:w,c:S},e:{r:w+R-1,c:S+L-1}},M.push(D)),m["number-columns-repeated"]&&(F=parseInt(m["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=ci(m["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(m.value);break;case"percentage":g.t="n",g.v=parseFloat(m.value);break;case"currency":g.t="n",g.v=parseFloat(m.value);break;case"date":g.t="d",g.v=Va(m["date-value"]),r.cellDates||(g.t="n",g.v=Ko(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=k3e(m["time-value"])/86400,r.cellDates&&(g.t="d",g.v=bE(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(m.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",m["string-value"]!=null&&(y=bn(m["string-value"]),b=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(Z=!1,g.t==="s"&&(g.v=y||"",b.length&&(g.R=b),Z=x==0),U.Target&&(g.l=U),q.length>0&&(g.c=q,q=[]),y&&r.cellText!==!1&&(g.w=y),Z&&(g.t="z",delete g.v),(!Z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=w))for(var te=0;te<O;++te){if(F=parseInt(m["number-columns-repeated"]||"1",10),r.dense)for(v[w+te]||(v[w+te]=[]),v[w+te][S]=te==0?g:to(g);--F>0;)v[w+te][S+F]=to(g);else for(v[kr({r:w+te,c:S})]=g;--F>0;)v[kr({r:w+te,c:S+F})]=to(g);C.e.c<=S&&(C.e.c=S)}F=parseInt(m["number-columns-repeated"]||"1",10),S+=F-1,F=0,g={},y="",b=[]}U={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a;N.t=y,b.length&&(N.R=b),N.a=W,q.push(N)}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);W="",j=0,y="",x=0,b=[];break;case"creator":p[1]==="/"?W=n.slice(j,p.index):j=p.index+p[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);y="",x=0,b=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(A[s.name]=l,(a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&(l="",s=Tr(p[0],!1),i.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Tr(p[0],!1),l+=G9[p[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Tr(p[0],!1),l+=G9[p[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":o=Tr(p[0],!1),K=PP(o["cell-range-address"]);var pe={Name:o.name,Ref:K[0]+"!"+K[1]};ve&&(pe.Sheet=h.length),V.Names.push(pe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(p[1]==="/"&&(!m||!m["string-value"])){var Re=bze(n.slice(x,p.index));y=(y.length>0?y+`
`:"")+Re[0]}else Tr(p[0],!1),x=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{K=PP(Tr(p[0])["target-range-address"]),d[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(U=Tr(p[0],!1),!U.href)break;U.Target=bn(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(K=PP(U.Target.slice(1)),U.Target="#"+K[0]+"!"+K[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(p)}}var z={Sheets:d,SheetNames:h,Workbook:V};return r.bookSheets&&delete z.Sheets,z}function U9(e,t){t=t||{},pl(e,"META-INF/manifest.xml")&&Nke(ta(e,"META-INF/manifest.xml"),t);var r=Is(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=wre(Qn(r),t);return pl(e,"meta.xml")&&(n.Props=Ote(ta(e,"meta.xml"))),n}function W9(e,t){return wre(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function eF(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function B3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Qn(t0(e))}function z3(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function X9(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function wze(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function m_(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ta(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function mo(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=m_(e,r),a=i&7;i=Math.floor(i/8);var o=0,s;if(i==0)break;switch(a){case 0:{for(var l=r[0];e[r[0]++]>=128;);s=e.slice(l,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=m_(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:s,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function tF(e,t){return e?.map(function(r){return t(r.data)})||[]}function Sze(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=m_(e,n),a=mo(e.slice(n[0],n[0]+i));n[0]+=i;var o={id:Ta(a[1][0].data),messages:[]};a[2].forEach(function(s){var l=mo(s.data),u=Ta(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=Ta(a[3][0].data)>>>0>0),r.push(o)}return r}function Cze(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=m_(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[r[0]],s>1&&(o|=t[r[0]+1]<<8),s>2&&(o|=t[r[0]+2]<<16),s>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}i.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[z3(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=z3(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function Tze(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Cze(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return z3(t)}function Aze(e,t,r,n){var i=eF(e),a=i.getUint32(4,!0),o=(n>1?12:8)+X9(a&(n>1?3470:398))*4,s=-1,l=-1,u=NaN,c=new Date(2001,0,1);a&512&&(s=i.getUint32(o,!0),o+=4),o+=X9(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(o,!0),o+=4),a&32&&(u=i.getFloat64(o,!0),o+=8),a&64&&(c.setTime(c.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Eze(e,t,r){var n=eF(e),i=n.getUint32(8,!0),a=12,o=-1,s=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=wze(e,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(s=n.getUint32(a,!0),a+=4),i&16&&(o=n.getUint32(a,!0),a+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function Mze(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Aze(e,t,r,e[0]);case 5:return Eze(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ah(e){var t=mo(e);return m_(t[1][0].data)}function j9(e,t){var r=mo(t.data),n=Ta(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(o){var s=mo(o.data),l=Ta(s[1][0].data)>>>0;switch(n){case 1:a[l]=B3(s[3][0].data);break;case 8:{var u=e[ah(s[9][0].data)][0],c=mo(u.data),f=e[ah(c[1][0].data)][0],d=Ta(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=mo(f.data);a[l]=h[3].map(function(v){return B3(v.data)}).join("")}break}}),a}function Dze(e,t){var r,n,i,a,o,s,l,u,c,f,d,h,v,p,g=mo(e),m=Ta(g[1][0].data)>>>0,y=Ta(g[2][0].data)>>>0,x=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&Ta(g[8][0].data)>0||!1,b,w;if((a=(i=g[7])==null?void 0:i[0])!=null&&a.data&&t!=0)b=(s=(o=g[7])==null?void 0:o[0])==null?void 0:s.data,w=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(c=g[4])==null?void 0:c[0])!=null&&f.data&&t!=1)b=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,w=(p=(v=g[3])==null?void 0:v[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=x?4:1,C=eF(b),E=[],A=0;A<b.length/2;++A){var M=C.getUint16(A*2,!0);M<65535&&E.push([A,M])}if(E.length!=y)throw"Expected ".concat(y," cells, found ").concat(E.length);var D=[];for(A=0;A<E.length-1;++A)D[E[A][0]]=w.subarray(E[A][1]*S,E[A+1][1]*S);return E.length>=1&&(D[E[E.length-1][0]]=w.subarray(E[E.length-1][1]*S)),{R:m,cells:D}}function Pze(e,t){var r,n=mo(t.data),i=(r=n?.[7])!=null&&r[0]?Ta(n[7][0].data)>>>0>0?1:0:-1,a=tF(n[5],function(o){return Dze(o,i)});return{nrows:Ta(n[4][0].data)>>>0,data:a.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=l}),o},[])}}function Rze(e,t,r){var n,i=mo(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Ta(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Ta(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=pn(a);var o=mo(i[4][0].data),s=j9(e,e[ah(o[4][0].data)][0]),l=(n=o[17])!=null&&n[0]?j9(e,e[ah(o[17][0].data)][0]):[],u=mo(o[3][0].data),c=0;u[1].forEach(function(f){var d=mo(f.data),h=e[ah(d[2][0].data)][0],v=Ta(h.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var p=Pze(e,h);p.data.forEach(function(g,m){g.forEach(function(y,x){var b=kr({r:c+m,c:x}),w=Mze(y,s,l);w&&(r[b]=w)})}),c+=p.nrows})}function Lze(e,t){var r=mo(t.data),n={"!ref":"A1"},i=e[ah(r[2][0].data)],a=Ta(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Rze(e,i[0],n),n}function Ize(e,t){var r,n=mo(t.data),i={name:(r=n[1])!=null&&r[0]?B3(n[1][0].data):"",sheets:[]},a=tF(n[2],ah);return a.forEach(function(o){e[o].forEach(function(s){var l=Ta(s.meta[1][0].data);l==6e3&&i.sheets.push(Lze(e,s))})}),i}function kze(e,t){var r=iF(),n=mo(t.data),i=tF(n[1],ah);if(i.forEach(function(a){e[a].forEach(function(o){var s=Ta(o.meta[1][0].data);if(s==2){var l=Ize(e,o);l.sheets.forEach(function(u,c){aF(r,u,c==0?l.name:l.name+"_"+c,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function LP(e){var t,r,n,i,a={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=Tze(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var c;try{c=Sze(u)}catch(f){return console.log("## "+(f.message||f))}c.forEach(function(f){a[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((i=(n=(r=(t=a?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ta(a[1][0].meta[1][0].data)==1&&a[1][0];if(s||o.forEach(function(l){a[l].forEach(function(u){var c=Ta(u.meta[1][0].data)>>>0;if(c==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return kze(a,s)}function Oze(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function rF(e){Oze([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Fze(e){return Dg.WS.indexOf(e)>-1?"sheet":e==Dg.CS?"chart":e==Dg.DS?"dialog":e==Dg.MS?"macro":e&&e.length?e:"sheet"}function Nze(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Fze(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Bze(e,t,r,n,i,a,o,s,l,u,c,f){try{a[n]=Tx(Is(e,r,!0),t);var d=ta(e,t),h;switch(s){case"sheet":h=UBe(d,t,i,l,a[n],u,c,f);break;case"chart":if(h=WBe(d,t,i,l,a[n],u,c,f),!h||!h["!drawel"])break;var v=$1(h["!drawel"].Target,t),p=I3(v),g=G5e(Is(e,v,!0),Tx(Is(e,p,!0),v)),m=$1(g,v),y=I3(m);h=EBe(Is(e,m,!0),m,l,Tx(Is(e,y,!0),m),u,h);break;case"macro":h=XBe(d,t,i,l,a[n],u,c,f);break;case"dialog":h=jBe(d,t,i,l,a[n],u,c,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[n]=h;var x=[];a&&a[n]&&Mc(a[n]).forEach(function(b){var w="";if(a[n][b].Type==Dg.CMNT){w=$1(a[n][b].Target,t);var S=qBe(ta(e,w,!0),w,l);if(!S||!S.length)return;L9(h,S,!1)}a[n][b].Type==Dg.TCMNT&&(w=$1(a[n][b].Target,t),x=x.concat(W5e(ta(e,w,!0),l)))}),x&&x.length&&L9(h,x,!0,l.people||[])}catch(b){if(l.WTF)throw b}}function sl(e){return e.charAt(0)=="/"?e.slice(1):e}function zze(e,t){if(ote(),t=t||{},rF(t),pl(e,"META-INF/manifest.xml")||pl(e,"objectdata.xml"))return U9(e,t);if(pl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof LP<"u"){if(e.FileIndex)return LP(e);var r=vn.utils.cfb_new();return a9(e).forEach(function(k){H3e(r,k,z3e(e,k))}),LP(r)}throw new Error("Unsupported NUMBERS file")}if(!pl(e,"[Content_Types].xml"))throw pl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):pl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=a9(e),i=Oke(Is(e,"[Content_Types].xml")),a=!1,o,s;if(i.workbooks.length===0&&(s="xl/workbook.xml",ta(e,s,!0)&&i.workbooks.push(s)),i.workbooks.length===0){if(s="xl/workbook.bin",!ta(e,s,!0))throw new Error("Could not find workbook");i.workbooks.push(s),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(Mx=[],i.sst)try{Mx=ZBe(ta(e,sl(i.sst)),i.sst,t)}catch(k){if(t.WTF)throw k}t.cellStyles&&i.themes.length&&(l=KBe(Is(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=YBe(ta(e,sl(i.style)),i.style,l,t))}i.links.map(function(k){try{var O=Tx(Is(e,I3(sl(k))),k);return QBe(ta(e,sl(k)),O,k,t)}catch{}});var c=GBe(ta(e,sl(i.workbooks[0])),i.workbooks[0],t),f={},d="";i.coreprops.length&&(d=ta(e,sl(i.coreprops[0]),!0),d&&(f=Ote(d)),i.extprops.length!==0&&(d=ta(e,sl(i.extprops[0]),!0),d&&Hke(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(d=Is(e,sl(i.custprops[0]),!0),d&&(h=$ke(d,t)));var v={};if((t.bookSheets||t.bookProps)&&(c.Sheets?o=c.Sheets.map(function(O){return O.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=h),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var p={};t.bookDeps&&i.calcchain&&(p=JBe(ta(e,sl(i.calcchain)),i.calcchain));var g=0,m={},y,x;{var b=c.Sheets;f.Worksheets=b.length,f.SheetNames=[];for(var w=0;w!=b.length;++w)f.SheetNames[w]=b[w].name}var S=a?"bin":"xml",C=i.workbooks[0].lastIndexOf("/"),E=(i.workbooks[0].slice(0,C+1)+"_rels/"+i.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");pl(e,E)||(E="xl/_rels/workbook."+S+".rels");var A=Tx(Is(e,E,!0),E.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=eze(ta(e,sl(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=X5e(ta(e,sl(i.people[0])),t)),A&&(A=Nze(A,c.Sheets));var M=ta(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var D="sheet";if(A&&A[g]?(y="xl/"+A[g][1].replace(/[\/]?xl\//,""),pl(e,y)||(y=A[g][1]),pl(e,y)||(y=E.replace(/_rels\/.*$/,"")+A[g][1]),D=A[g][2]):(y="xl/worksheets/sheet"+(g+1-M)+"."+S,y=y.replace(/sheet0\./,"sheet.")),x=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var R=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==g&&(R=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[g].toLowerCase()&&(R=1);if(!R)continue e}}Bze(e,y,x,f.SheetNames[g],g,m,o,D,t,c,l,u)}return v={Directory:i,Workbook:c,Props:f,Custprops:h,Deps:p,Sheets:o,SheetNames:f.SheetNames,Strings:Mx,Styles:u,Themes:l,SSF:to(Hr)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(k,O){k=k.replace(/^Root Entry[\/]/,""),v.keys.push(k),v.files[k]=e.FileIndex[O]}))),t&&t.bookVBA&&(i.vba.length>0?v.vbaraw=ta(e,sl(i.vba[0]),!0):i.defaults&&i.defaults.bin===Z5e&&(v.vbaraw=ta(e,"xl/vbaProject.bin",!0))),v}function Hze(e,t){var r=t||{},n="Workbook",i=vn.find(e,n);try{if(n="/!DataSpaces/Version",i=vn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(LOe(i.content),n="/!DataSpaces/DataSpaceMap",i=vn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=kOe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=vn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=OOe(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=vn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);NOe(i.content)}catch{}if(n="/EncryptionInfo",i=vn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=BOe(i.content);if(n="/EncryptedPackage",i=vn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],i.content,r.password||"",r);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function nF(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ws(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Vze(e,t){return vn.find(e,"EncryptedPackage")?Hze(e,t):xre(e,t)}function $ze(e,t){var r,n=e,i=t||{};return i.type||(i.type=un&&Buffer.isBuffer(e)?"buffer":"base64"),r=dte(n,i),zze(r,i)}function Sre(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return F3(e.slice(r),t);default:break e}return v_.to_workbook(e,t)}function Gze(e,t){var r="",n=nF(e,t);switch(t.type){case"base64":r=Ws(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Ep(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Qn(r)),t.type="binary",Sre(r,t)}function Uze(e,t){var r=e;return t.type=="base64"&&(r=Ws(r)),r=c_.utils.decode(1200,r.slice(2),"str"),t.type="binary",Sre(r,t)}function Wze(e){return e.match(/[^\x00-\x7F]/)?G1(e):e}function IP(e,t,r,n){return n?(r.type="string",v_.to_workbook(e,r)):v_.to_workbook(t,r)}function H3(e,t){Yee();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return H3(new Uint8Array(e),(r=to(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Zg={},r.dateNF&&(Zg.dateNF=r.dateNF),r.type||(r.type=un&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=un?"buffer":"binary",n=L3e(e),typeof Uint8Array<"u"&&!un&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=Wze(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return r=to(r),r.type="array",H3(O5(n),r)}switch((i=nF(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Vze(vn.read(n,r),r);break;case 9:if(i[1]<=8)return xre(n,r);break;case 60:return F3(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return xOe(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return mOe.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?$ze(n,r):IP(e,n,r,a);case 239:return i[3]===60?F3(n,r):IP(e,n,r,a);case 255:if(i[1]===254)return Uze(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Ex.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Ex.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return R9.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return ZOe.to_workbook(n,r);break;case 10:case 13:case 32:return Gze(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return pOe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?R9.to_workbook(n,r):IP(e,n,r,a)}function Xze(e,t,r,n,i,a,o,s){var l=ro(r),u=s.defval,c=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var v=o?e[r][h]:e[n[h]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;a[h]!=null&&(d[a[h]]=u);continue}var p=v.v;switch(v.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[h]!=null){if(p==null)if(v.t=="e"&&p===null)d[a[h]]=null;else if(u!==void 0)d[a[h]]=u;else if(c&&p===null)d[a[h]]=null;else continue;else d[a[h]]=c&&(v.t!=="n"||v.t==="n"&&s.rawNumbers!==!1)?p:kf(v,p,s);p!=null&&(f=!1)}}return{row:d,isempty:f}}function V3(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Di(c);break;case"number":l=Di(e["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var f=ro(l.s.r),d=[],h=[],v=0,p=0,g=Array.isArray(e),m=l.s.r,y=0,x={};g&&!e[m]&&(e[m]=[]);var b=u.skipHidden&&e["!cols"]||[],w=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(d[y]=ya(y),r=g?e[m][y]:e[d[y]+f],n){case 1:a[y]=y-l.s.c;break;case 2:a[y]=d[y];break;case 3:a[y]=u.header[y-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=kf(r,null,u),p=x[o]||0,!p)x[o]=1;else{do s=o+"_"+p++;while(x[s]);x[o]=p,x[s]=1}a[y]=s}for(m=l.s.r+i;m<=l.e.r;++m)if(!(w[m]||{}).hidden){var S=Xze(e,l,m,d,n,a,g,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[v++]=S.row)}return h.length=v,h}var Y9=/"/g;function jze(e,t,r,n,i,a,o,s){for(var l=!0,u=[],c="",f=ro(r),d=t.s.c;d<=t.e.c;++d)if(n[d]){var h=s.dense?(e[r]||[])[d]:e[n[d]+f];if(h==null)c="";else if(h.v!=null){l=!1,c=""+(s.rawNumbers&&h.t=="n"?h.v:kf(h,null,s));for(var v=0,p=0;v!==c.length;++v)if((p=c.charCodeAt(v))===i||p===a||p===34||s.forceQuotes){c='"'+c.replace(Y9,'""')+'"';break}c=="ID"&&(c='"ID"')}else h.f!=null&&!h.F?(l=!1,c="="+h.f,c.indexOf(",")>=0&&(c='"'+c.replace(Y9,'""')+'"')):c="";u.push(c)}return s.blankrows===!1&&l?null:u.join(o)}function Cre(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Di(e["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,l=s.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",f=[];n.dense=Array.isArray(e);for(var d=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(d[v]||{}).hidden||(f[v]=ya(v));for(var p=0,g=i.s.r;g<=i.e.r;++g)(h[g]||{}).hidden||(c=jze(e,i,g,f,o,l,a,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&r.push((p++?s:"")+c)));return delete n.dense,r.join("")}function Yze(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Cre(e,t);return r}function Kze(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Di(e["!ref"]),a="",o=[],s,l=[],u=Array.isArray(e);for(s=i.s.c;s<=i.e.c;++s)o[s]=ya(s);for(var c=i.s.r;c<=i.e.r;++c)for(a=ro(c),s=i.s.c;s<=i.e.c;++s)if(t=o[s]+a,r=u?(e[c]||[])[s]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Tre(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},o=0,s=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Wo(n.origin):n.origin;o=l.r,s=l.c}var u,c={s:{c:0,r:0},e:{c:s,r:o+t.length-1+i}};if(a["!ref"]){var f=Di(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),o==-1&&(o=f.e.r+1,c.e.r=o+t.length-1+i)}else o==-1&&(o=0,c.e.r=t.length-1+i);var d=n.header||[],h=0;t.forEach(function(p,g){Mc(p).forEach(function(m){(h=d.indexOf(m))==-1&&(d[h=d.length]=m);var y=p[m],x="z",b="",w=kr({c:s+h,r:o+g+i});u=y_(a,w),y&&typeof y=="object"&&!(y instanceof Date)?a[w]=y:(typeof y=="number"?x="n":typeof y=="boolean"?x="b":typeof y=="string"?x="s":y instanceof Date?(x="d",n.cellDates||(x="n",y=Ko(y)),b=n.dateNF||Hr[14]):y===null&&n.nullError&&(x="e",y=0),u?(u.t=x,u.v=y,delete u.w,delete u.R,b&&(u.z=b)):a[w]=u={t:x,v:y},b&&(u.z=b))})}),c.e.c=Math.max(c.e.c,s+d.length-1);var v=ro(o);if(i)for(h=0;h<d.length;++h)a[ya(h+s)+v]={t:"s",v:d[h]};return a["!ref"]=pn(c),a}function Zze(e,t){return Tre(null,e,t)}function y_(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Wo(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?y_(e,kr(t)):y_(e,kr({r:t,c:r||0}))}function qze(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function iF(){return{SheetNames:[],Sheets:{}}}function aF(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(OBe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Jze(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=qze(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Qze(e,t){return e.z=t,e}function Are(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function e6e(e,t,r){return Are(e,"#"+t,r)}function t6e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function r6e(e,t,r,n){for(var i=typeof t!="string"?t:Di(t),a=typeof t=="string"?t:pn(t),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var l=y_(e,o,s);l.t="n",l.F=a,delete l.v,o==i.s.r&&s==i.s.c&&(l.f=r,n&&(l.D=!0))}return e}var n6e={encode_col:ya,encode_row:ro,encode_cell:kr,encode_range:pn,decode_col:U5,decode_row:G5,split_cell:vke,decode_cell:Wo,decode_range:Km,format_cell:kf,sheet_add_aoa:Pte,sheet_add_json:Tre,sheet_add_dom:_re,aoa_to_sheet:Zm,json_to_sheet:Zze,table_to_sheet:bre,table_to_book:xze,sheet_to_csv:Cre,sheet_to_txt:Yze,sheet_to_json:V3,sheet_to_html:yze,sheet_to_formulae:Kze,sheet_to_row_object_array:V3,sheet_get_cell:y_,book_new:iF,book_append_sheet:aF,book_set_sheet_visibility:Jze,cell_set_number_format:Qze,cell_set_hyperlink:Are,cell_set_internal_link:e6e,cell_add_comment:t6e,sheet_set_array_formula:r6e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $3=function(e,t){return $3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$3(e,t)};function Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var i6e=(function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e})(),a6e=(function(){function e(){this.browser=new i6e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e})(),Er=new a6e;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Er.wxa=!0,Er.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Er.worker=!0:!Er.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Er.node=!0,Er.svgSupported=!0):o6e(navigator.userAgent,Er);function o6e(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);var s=t.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in l||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}}var oF=12,Ere="sans-serif",Of=oF+"px "+Ere,s6e=20,l6e=100,u6e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function c6e(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-s6e)/l6e;t[n]=i}return t}var f6e=c6e(u6e),Su={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var e,t;return function(r,n){if(!e){var i=Su.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||Of),e.measureText(r);r=r||"",n=n||Of;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||oF,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var l=0;l<r.length;l++){var u=f6e[r[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},Mre=Cu(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),Dre=Cu(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),qm=Object.prototype.toString,TE=Array.prototype,d6e=TE.forEach,h6e=TE.filter,sF=TE.slice,v6e=TE.map,K9=(function(){}).constructor,mS=K9?K9.prototype:null,lF="__proto__",p6e=2311;function Pre(){return p6e++}function uF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function Vt(e){if(e==null||typeof e!="object")return e;var t=e,r=qm.call(e);if(r==="[object Array]"){if(!Rx(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=Vt(e[n])}}else if(Dre[r]){if(!Rx(e)){var a=e.constructor;if(a.from)t=a.from(e);else{t=new a(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!Mre[r]&&!Rx(e)&&!hm(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==lF&&(t[o]=Vt(e[o]))}return t}function Et(e,t,r){if(!Xt(t)||!Xt(e))return r?Vt(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==lF){var i=e[n],a=t[n];Xt(a)&&Xt(i)&&!We(a)&&!We(i)&&!hm(a)&&!hm(i)&&!Z9(a)&&!Z9(i)&&!Rx(a)&&!Rx(i)?Et(i,a,r):(r||!(n in e))&&(e[n]=Vt(t[n]))}return e}function cF(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Et(r,e[n],t);return r}function He(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==lF&&(e[r]=t[r]);return e}function kt(e,t,r){for(var n=Lr(t),i=0,a=n.length;i<a;i++){var o=n[i];(r?t[o]!=null:e[o]==null)&&(e[o]=t[o])}return e}function ur(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function fF(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function Ii(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a])}else kt(e,t,r)}function So(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function G(e,t,r){if(e&&t)if(e.forEach&&e.forEach===d6e)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(r,e[a],a,e)}function Ye(e,t,r){if(!e)return[];if(!t)return dF(e);if(e.map&&e.map===v6e)return e.map(t,r);for(var n=[],i=0,a=e.length;i<a;i++)n.push(t.call(r,e[i],i,e));return n}function Cu(e,t,r,n){if(e&&t){for(var i=0,a=e.length;i<a;i++)r=t.call(n,r,e[i],i,e);return r}}function on(e,t,r){if(!e)return[];if(!t)return dF(e);if(e.filter&&e.filter===h6e)return e.filter(t,r);for(var n=[],i=0,a=e.length;i<a;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function o0(e,t,r){if(e&&t){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return e[n]}}function Lr(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function g6e(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(sF.call(arguments)))}}var mt=mS&&Ht(mS.bind)?mS.call.bind(mS.bind):g6e;function lr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(sF.call(arguments)))}}function We(e){return Array.isArray?Array.isArray(e):qm.call(e)==="[object Array]"}function Ht(e){return typeof e=="function"}function pt(e){return typeof e=="string"}function G3(e){return qm.call(e)==="[object String]"}function Br(e){return typeof e=="number"}function Xt(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function Z9(e){return!!Mre[qm.call(e)]}function ys(e){return!!Dre[qm.call(e)]}function hm(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function AE(e){return e.colorStops!=null}function m6e(e){return e.image!=null}function y6e(e){return qm.call(e)==="[object RegExp]"}function xo(e){return e!==e}function Qa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function It(e,t){return e??t}function $s(e,t,r){return e??t??r}function dF(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return sF.apply(e,t)}function EE(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Co(e,t){if(!e)throw new Error(t)}function El(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Rre="__ec_primitive__";function pT(e){e[Rre]=!0}function Rx(e){return e[Rre]}var x6e=(function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return Lr(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e})(),Lre=typeof Map=="function";function _6e(){return Lre?new Map:new x6e}var b6e=(function(){function e(t){var r=We(t);this.data=_6e();var n=this;t instanceof e?t.each(i):t&&G(t,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return Lre?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e})();function Rt(e){return new b6e(e)}function x_(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function ME(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&He(r,t),r}function Ire(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function St(e,t){return e.hasOwnProperty(t)}function Ei(){}var oC=180/Math.PI;function s0(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function No(e,t){return e[0]=t[0],e[1]=t[1],e}function Tf(e){return[e[0],e[1]]}function hF(e,t,r){return e[0]=t,e[1]=r,e}function q9(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function U3(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Kv(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function W3(e){return Math.sqrt(w6e(e))}function w6e(e){return e[0]*e[0]+e[1]*e[1]}function sC(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Jm(e,t){var r=W3(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function X3(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var jd=X3;function S6e(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var dp=S6e;function lC(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function Mi(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Yd(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function Kd(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var H0=(function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e})(),C6e=(function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new H0(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,t),this.handler.dispatchToElement(new H0(r,t),"drag",t.event);var s=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=s,r!==s&&(l&&s!==l&&this.handler.dispatchToElement(new H0(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new H0(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new H0(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new H0(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e})(),Gl=(function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],a=0,o=n[t].length;a<o;a++)n[t][a].h!==r&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e})(),T6e=Math.log(2);function j3(e,t,r,n,i,a){var o=n+"-"+i,s=e.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~i)/T6e);return e[r][l]}for(var u=n|1<<r,c=r+1;n&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var v=1<<d;v&i||(f+=(h%2?-1:1)*e[r][d]*j3(e,t-1,c,u,i|v,a),h++)}return a[o]=f,f}function J9(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=j3(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*j3(r,7,o===0?1:0,1<<o,1<<s,n)/i*t[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var gT="___zrEVENTSAVED",kP=[];function A6e(e,t,r,n,i){return Y3(kP,t,n,i,!0)&&Y3(e,r,kP[0],kP[1])}function E6e(e,t){e&&r(e),t&&r(t);function r(n){var i=n[gT];i&&(i.clearMarkers&&i.clearMarkers(),delete n[gT])}}function Y3(e,t,r,n,i){if(t.getBoundingClientRect&&Er.domSupported&&!kre(t)){var a=t[gT]||(t[gT]={}),o=M6e(t,a),s=D6e(o,a,i);if(s)return s(e,r,n),!0}return!1}function M6e(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(o),r.push(o)}return t.clearMarkers=function(){G(r,function(c){c.parentNode&&c.parentNode.removeChild(c)})},r}function D6e(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],a=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&a&&d===a[f]&&h===a[f+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&i?i:(t.srcCoords=o,t[n]=r?J9(s,o):J9(o,s))}function kre(e){return e.nodeName.toUpperCase()==="CANVAS"}var P6e=/([&<>"'])/g,R6e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $i(e){return e==null?"":(e+"").replace(P6e,function(t,r){return R6e[r]})}var L6e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,OP=[],I6e=Er.browser.firefox&&+Er.browser.version.split(".")[0]<39;function K3(e,t,r,n){return r=r||{},n?Q9(e,t,r):I6e&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):Q9(e,t,r),r}function Q9(e,t,r){if(Er.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(kre(e)){var a=e.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(Y3(OP,e,n,i)){r.zrX=OP[0],r.zrY=OP[1];return}}r.zrX=r.zrY=0}function vF(e){return e||window.event}function gl(e,t,r){if(t=vF(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&K3(e,o,t,r)}else{K3(e,t,t,r);var a=k6e(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&L6e.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function k6e(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function Z3(e,t,r,n){e.addEventListener(t,r,n)}function O6e(e,t,r,n){e.removeEventListener(t,r,n)}var Ff=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function eV(e){return e.which===2||e.which===3}var F6e=(function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:r,event:t},o=0,s=i.length;o<s;o++){var l=i[o],u=K3(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},e.prototype._recognize=function(t){for(var r in FP)if(FP.hasOwnProperty(r)){var n=FP[r](this._track,t);if(n)return n}},e})();function tV(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function N6e(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var FP={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=tV(n)/tV(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=N6e(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function $a(){return[1,0,0,1,0,0]}function DE(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function PE(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function yc(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],a=t[0]*r[2]+t[2]*r[3],o=t[1]*r[2]+t[3]*r[3],s=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e}function Dc(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function Lh(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(r),f=Math.cos(r);return e[0]=i*f+s*c,e[1]=-i*c+s*f,e[2]=a*f+l*c,e[3]=-a*c+f*l,e[4]=f*(o-n[0])+c*(u-n[1])+n[0],e[5]=f*(u-n[1])-c*(o-n[0])+n[1],e}function pF(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function Tu(e,t){var r=t[0],n=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=r*o-a*n;return l?(l=1/l,e[0]=o*l,e[1]=-a*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*s-o*i)*l,e[5]=(a*i-r*s)*l,e):null}function B6e(e){var t=$a();return PE(t,e),t}var Wt=(function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var a=1-i;t.x=a*r.x+i*n.x,t.y=a*r.y+i*n.y},e})(),Zv=Math.min,Pg=Math.max,q3=Math.abs,rV=["x","y"],z6e=["width","height"],ev=new Wt,tv=new Wt,rv=new Wt,nv=new Wt,Rs=Ore(),U1=Rs.minTv,J3=Rs.maxTv,Lx=[0,0],jt=(function(){function e(t,r,n,i){e.set(this,t,r,n,i)}return e.set=function(t,r,n,i,a){return i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),t.x=r,t.y=n,t.width=i,t.height=a,t},e.prototype.union=function(t){var r=Zv(t.x,this.x),n=Zv(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Pg(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Pg(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,a=$a();return Dc(a,a,[-r.x,-r.y]),pF(a,a,[n,i]),Dc(a,a,[t.x,t.y]),a},e.prototype.intersect=function(t,r,n){return e.intersect(this,t,r,n)},e.intersect=function(t,r,n,i){n&&Wt.set(n,0,0);var a=i&&i.outIntersectRect||null,o=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!t||!r)return!1;t instanceof e||(t=e.set(H6e,t.x,t.y,t.width,t.height)),r instanceof e||(r=e.set(V6e,r.x,r.y,r.width,r.height));var s=!!n;Rs.reset(i,s);var l=Rs.touchThreshold,u=t.x+l,c=t.x+t.width-l,f=t.y+l,d=t.y+t.height-l,h=r.x+l,v=r.x+r.width-l,p=r.y+l,g=r.y+r.height-l;if(u>c||f>d||h>v||p>g)return!1;var m=!(c<h||v<u||d<p||g<f);return(s||a)&&(Lx[0]=1/0,Lx[1]=0,nV(u,c,h,v,0,s,a,o),nV(f,d,p,g,1,s,a,o),s&&Wt.copy(n,m?Rs.useDir?Rs.dirMinTv:U1:J3)),m},e.contain=function(t,r,n){return r>=t.x&&r<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},e.prototype.contain=function(t,r){return e.contain(this,t,r)},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){return t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height,t},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];t.x=r.x*i+o,t.y=r.y*a+s,t.width=r.width*i,t.height=r.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}ev.x=rv.x=r.x,ev.y=nv.y=r.y,tv.x=nv.x=r.x+r.width,tv.y=rv.y=r.y+r.height,ev.transform(n),nv.transform(n),tv.transform(n),rv.transform(n),t.x=Zv(ev.x,tv.x,rv.x,nv.x),t.y=Zv(ev.y,tv.y,rv.y,nv.y);var l=Pg(ev.x,tv.x,rv.x,nv.x),u=Pg(ev.y,tv.y,rv.y,nv.y);t.width=l-t.x,t.height=u-t.y},e})(),H6e=new jt(0,0,0,0),V6e=new jt(0,0,0,0);function nV(e,t,r,n,i,a,o,s){var l=q3(t-r),u=q3(n-e),c=Zv(l,u),f=rV[i],d=rV[1-i],h=z6e[i];t<r||n<e?l<u?(a&&(J3[f]=-l),s&&(o[f]=t,o[h]=0)):(a&&(J3[f]=u),s&&(o[f]=e,o[h]=0)):(o&&(o[f]=Pg(e,r),o[h]=Zv(t,n)-o[f]),a&&(c<Lx[0]||Rs.useDir)&&(Lx[0]=Zv(c,Lx[0]),(l<u||!Rs.bidirectional)&&(U1[f]=l,U1[d]=0,Rs.useDir&&Rs.calcDirMTV()),(l>=u||!Rs.bidirectional)&&(U1[f]=-u,U1[d]=0,Rs.useDir&&Rs.calcDirMTV())))}function Ore(){var e=0,t=new Wt,r=new Wt,n={minTv:new Wt,maxTv:new Wt,useDir:!1,dirMinTv:new Wt,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=Pg(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),r.copy(n.minTv),e=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||t.set(Math.cos(e),Math.sin(e))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,s=a.y*a.y+a.x*a.x,l=Math.sin(e),u=Math.cos(e),c=l*a.y+u*a.x;if(i(c)){i(a.x)&&i(a.y)&&o.set(0,0);return}if(r.x=s*u/c,r.y=s*l/c,i(r.x)&&i(r.y)){o.set(0,0);return}(n.bidirectional||t.dot(r)>0)&&r.len()<o.len()&&o.copy(r)}};function i(a){return q3(a)<1e-10}return n}var Fre="silent";function $6e(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:G6e}}function G6e(){Ff(this.event)}var U6e=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Gl),Ky=(function(){function e(t,r){this.x=t,this.y=r}return e})(),W6e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],NP=new jt(0,0,0,0),Nre=(function(e){Ae(t,e);function t(r,n,i,a,o){var s=e.call(this)||this;return s._hovered=new Ky(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new U6e,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new C6e(s),s}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(G(W6e,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=Bre(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new Ky(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==s&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new Ky(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=$6e(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new Ky(r,n);if(iV(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new jt(r-u,n-u,l,l),f=a.length-1;f>=0;f--){var d=a[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(NP.copy(d.getBoundingRect()),d.transform&&NP.applyTransform(d.transform),NP.intersect(c)&&s.push(d))}if(s.length)for(var h=4,v=Math.PI/12,p=Math.PI*2,g=0;g<u;g+=h)for(var m=0;m<p;m+=v){var y=r+g*Math.cos(m),x=n+g*Math.sin(m);if(iV(s,o,y,x,i),o.target)return o}}return o},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new F6e);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new Ky;s.target=a.target,this.dispatchToElement(s,o,a.event)}},t})(Gl);G(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Nre.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=Bre(this,r,n),a,o;if((e!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||jd(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,t)}});function X6e(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(t,r))return!1}n.silent&&(i=!0);var s=n.__hostTarget;n=s?n.ignoreHostSilent?null:s:n.parent}return i?Fre:!0}return!1}function iV(e,t,r,n,i){for(var a=e.length-1;a>=0;a--){var o=e[a],s=void 0;if(o!==i&&!o.ignore&&(s=X6e(o,r,n))&&(!t.topTarget&&(t.topTarget=o),s!==Fre)){t.target=o;break}}}function Bre(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var zre=32,Zy=7;function j6e(e){for(var t=0;e>=zre;)t|=e&1,e>>=1;return e+t}function aV(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;Y6e(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function Y6e(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function oV(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var a=e[n],o=t,s=n,l;o<s;)l=o+s>>>1,i(a,e[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=a}}function BP(e,t,r,n,i,a){var o=0,s=0,l=1;if(a(e,t[r+i])>0){for(s=n-i;l<s&&a(e,t[r+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(e,t[r+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var c=o+(l-o>>>1);a(e,t[r+c])>0?o=c+1:l=c}return l}function zP(e,t,r,n,i,a){var o=0,s=0,l=1;if(a(e,t[r+i])<0){for(s=i+1;l<s&&a(e,t[r+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=n-i;l<s&&a(e,t[r+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var c=o+(l-o>>>1);a(e,t[r+c])<0?l=c:o=c+1}return l}function K6e(e,t){var r=Zy,n,i,a=0,o=[];n=[],i=[];function s(h,v){n[a]=h,i[a]=v,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;c(h)}}function u(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,c(h)}}function c(h){var v=n[h],p=i[h],g=n[h+1],m=i[h+1];i[h]=p+m,h===a-3&&(n[h+1]=n[h+2],i[h+1]=i[h+2]),a--;var y=zP(e[g],e,v,p,0,t);v+=y,p-=y,p!==0&&(m=BP(e[v+p-1],e,g,m,m-1,t),m!==0&&(p<=m?f(v,p,g,m):d(v,p,g,m)))}function f(h,v,p,g){var m=0;for(m=0;m<v;m++)o[m]=e[h+m];var y=0,x=p,b=h;if(e[b++]=e[x++],--g===0){for(m=0;m<v;m++)e[b+m]=o[y+m];return}if(v===1){for(m=0;m<g;m++)e[b+m]=e[x+m];e[b+g]=o[y];return}for(var w=r,S,C,E;;){S=0,C=0,E=!1;do if(t(e[x],o[y])<0){if(e[b++]=e[x++],C++,S=0,--g===0){E=!0;break}}else if(e[b++]=o[y++],S++,C=0,--v===1){E=!0;break}while((S|C)<w);if(E)break;do{if(S=zP(e[x],o,y,v,0,t),S!==0){for(m=0;m<S;m++)e[b+m]=o[y+m];if(b+=S,y+=S,v-=S,v<=1){E=!0;break}}if(e[b++]=e[x++],--g===0){E=!0;break}if(C=BP(o[y],e,x,g,0,t),C!==0){for(m=0;m<C;m++)e[b+m]=e[x+m];if(b+=C,x+=C,g-=C,g===0){E=!0;break}}if(e[b++]=o[y++],--v===1){E=!0;break}w--}while(S>=Zy||C>=Zy);if(E)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),v===1){for(m=0;m<g;m++)e[b+m]=e[x+m];e[b+g]=o[y]}else{if(v===0)throw new Error;for(m=0;m<v;m++)e[b+m]=o[y+m]}}function d(h,v,p,g){var m=0;for(m=0;m<g;m++)o[m]=e[p+m];var y=h+v-1,x=g-1,b=p+g-1,w=0,S=0;if(e[b--]=e[y--],--v===0){for(w=b-(g-1),m=0;m<g;m++)e[w+m]=o[m];return}if(g===1){for(b-=v,y-=v,S=b+1,w=y+1,m=v-1;m>=0;m--)e[S+m]=e[w+m];e[b]=o[x];return}for(var C=r;;){var E=0,A=0,M=!1;do if(t(o[x],e[y])<0){if(e[b--]=e[y--],E++,A=0,--v===0){M=!0;break}}else if(e[b--]=o[x--],A++,E=0,--g===1){M=!0;break}while((E|A)<C);if(M)break;do{if(E=v-zP(o[x],e,h,v,v-1,t),E!==0){for(b-=E,y-=E,v-=E,S=b+1,w=y+1,m=E-1;m>=0;m--)e[S+m]=e[w+m];if(v===0){M=!0;break}}if(e[b--]=o[x--],--g===1){M=!0;break}if(A=g-BP(e[y],o,0,g,g-1,t),A!==0){for(b-=A,x-=A,g-=A,S=b+1,w=x+1,m=0;m<A;m++)e[S+m]=o[w+m];if(g<=1){M=!0;break}}if(e[b--]=e[y--],--v===0){M=!0;break}C--}while(E>=Zy||A>=Zy);if(M)break;C<0&&(C=0),C+=2}if(r=C,r<1&&(r=1),g===1){for(b-=v,y-=v,S=b+1,w=y+1,m=v-1;m>=0;m--)e[S+m]=e[w+m];e[b]=o[x]}else{if(g===0)throw new Error;for(w=b-(g-1),m=0;m<g;m++)e[w+m]=o[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function uC(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var a=0;if(i<zre){a=aV(e,r,n,t),oV(e,r,n,r+a,t);return}var o=K6e(e,t),s=j6e(i);do{if(a=aV(e,r,n,t),a<s){var l=i;l>s&&(l=s),oV(e,r,r+l,r+a,t),a=l}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var ks=1,W1=2,Tg=4,sV=!1;function HP(){sV||(sV=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function lV(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Z6e=(function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=lV}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,uC(n,lV)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath(),a=r&&r.length,o=0,s=t.__clipPaths;if(!t.ignoreClip&&(a||i)){if(s||(s=t.__clipPaths=[]),a)for(var l=0;l<r.length;l++)s[o++]=r[l];for(var u=i,c=t;u;)u.parent=c,u.updateTransform(),s[o++]=u,c=u,u=u.getClipPath()}if(s&&(s.length=o),t.childrenRef){for(var f=t.childrenRef(),d=0;d<f.length;d++){var h=f[d];t.__dirty&&(h.__dirty|=ks),this._updateAndAddDisplayable(h,s,n)}t.__dirty=0}else{var v=t;isNaN(v.z)&&(HP(),v.z=0),isNaN(v.z2)&&(HP(),v.z2=0),isNaN(v.zlevel)&&(HP(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var p=t.getDecalElement&&t.getDecalElement();p&&this._updateAndAddDisplayable(p,s,n);var g=t.getTextGuideLine();g&&this._updateAndAddDisplayable(g,s,n);var m=t.getTextContent();m&&this._updateAndAddDisplayable(m,s,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=ur(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e})(),mT;mT=Er.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var Ix={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Ix.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Ix.bounceIn(e*2)*.5:Ix.bounceOut(e*2-1)*.5+.5}},yS=Math.pow,oh=Math.sqrt,yT=1e-8,Hre=1e-4,uV=oh(3),xS=1/3,oc=s0(),_l=s0(),qg=s0();function Zd(e){return e>-yT&&e<yT}function Vre(e){return e>yT||e<-yT}function pa(e,t,r,n,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*n+3*a*r)}function cV(e,t,r,n,i){var a=1-i;return 3*(((t-e)*a+2*(r-t)*i)*a+(n-r)*i*i)}function xT(e,t,r,n,i,a){var o=n+3*(t-r)-e,s=3*(r-t*2+e),l=3*(t-e),u=e-i,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(Zd(c)&&Zd(f))if(Zd(s))a[0]=0;else{var v=-l/s;v>=0&&v<=1&&(a[h++]=v)}else{var p=f*f-4*c*d;if(Zd(p)){var g=f/c,v=-s/o+g,m=-g/2;v>=0&&v<=1&&(a[h++]=v),m>=0&&m<=1&&(a[h++]=m)}else if(p>0){var y=oh(p),x=c*s+1.5*o*(-f+y),b=c*s+1.5*o*(-f-y);x<0?x=-yS(-x,xS):x=yS(x,xS),b<0?b=-yS(-b,xS):b=yS(b,xS);var v=(-s-(x+b))/(3*o);v>=0&&v<=1&&(a[h++]=v)}else{var w=(2*c*s-3*o*f)/(2*oh(c*c*c)),S=Math.acos(w)/3,C=oh(c),E=Math.cos(S),v=(-s-2*C*E)/(3*o),m=(-s+C*(E+uV*Math.sin(S)))/(3*o),A=(-s+C*(E-uV*Math.sin(S)))/(3*o);v>=0&&v<=1&&(a[h++]=v),m>=0&&m<=1&&(a[h++]=m),A>=0&&A<=1&&(a[h++]=A)}}return h}function $re(e,t,r,n,i){var a=6*r-12*t+6*e,o=9*t+3*n-3*e-9*r,s=3*t-3*e,l=0;if(Zd(o)){if(Vre(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(Zd(c))i[0]=-a/(2*o);else if(c>0){var f=oh(c),u=(-a+f)/(2*o),d=(-a-f)/(2*o);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function xh(e,t,r,n,i,a){var o=(t-e)*i+e,s=(r-t)*i+t,l=(n-r)*i+r,u=(s-o)*i+o,c=(l-s)*i+s,f=(c-u)*i+u;a[0]=e,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function Gre(e,t,r,n,i,a,o,s,l,u,c){var f,d=.005,h=1/0,v,p,g,m;oc[0]=l,oc[1]=u;for(var y=0;y<1;y+=.05)_l[0]=pa(e,r,i,o,y),_l[1]=pa(t,n,a,s,y),g=dp(oc,_l),g<h&&(f=y,h=g);h=1/0;for(var x=0;x<32&&!(d<Hre);x++)v=f-d,p=f+d,_l[0]=pa(e,r,i,o,v),_l[1]=pa(t,n,a,s,v),g=dp(_l,oc),v>=0&&g<h?(f=v,h=g):(qg[0]=pa(e,r,i,o,p),qg[1]=pa(t,n,a,s,p),m=dp(qg,oc),p<=1&&m<h?(f=p,h=m):d*=.5);return c&&(c[0]=pa(e,r,i,o,f),c[1]=pa(t,n,a,s,f)),oh(h)}function q6e(e,t,r,n,i,a,o,s,l){for(var u=e,c=t,f=0,d=1/l,h=1;h<=l;h++){var v=h*d,p=pa(e,r,i,o,v),g=pa(t,n,a,s,v),m=p-u,y=g-c;f+=Math.sqrt(m*m+y*y),u=p,c=g}return f}function Na(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function Q3(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function J6e(e,t,r,n,i){var a=e-2*t+r,o=2*(t-e),s=e-n,l=0;if(Zd(a)){if(Vre(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(Zd(c)){var u=-o/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=oh(c),u=(-o+f)/(2*a),d=(-o-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function Ure(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function __(e,t,r,n,i){var a=(t-e)*n+e,o=(r-t)*n+t,s=(o-a)*n+a;i[0]=e,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function Wre(e,t,r,n,i,a,o,s,l){var u,c=.005,f=1/0;oc[0]=o,oc[1]=s;for(var d=0;d<1;d+=.05){_l[0]=Na(e,r,i,d),_l[1]=Na(t,n,a,d);var h=dp(oc,_l);h<f&&(u=d,f=h)}f=1/0;for(var v=0;v<32&&!(c<Hre);v++){var p=u-c,g=u+c;_l[0]=Na(e,r,i,p),_l[1]=Na(t,n,a,p);var h=dp(_l,oc);if(p>=0&&h<f)u=p,f=h;else{qg[0]=Na(e,r,i,g),qg[1]=Na(t,n,a,g);var m=dp(qg,oc);g<=1&&m<f?(u=g,f=m):c*=.5}}return l&&(l[0]=Na(e,r,i,u),l[1]=Na(t,n,a,u)),oh(f)}function Q6e(e,t,r,n,i,a,o){for(var s=e,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=Na(e,r,i,d),v=Na(t,n,a,d),p=h-s,g=v-l;u+=Math.sqrt(p*p+g*g),s=h,l=v}return u}var e8e=/cubic-bezier\(([0-9,\.e ]+)\)/;function gF(e){var t=e&&e8e.exec(e);if(t){var r=t[1].split(","),n=+El(r[0]),i=+El(r[1]),a=+El(r[2]),o=+El(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:xT(0,n,a,1,l,s)&&pa(0,i,o,1,s[0])}}}var t8e=(function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Ei,this.ondestroy=t.ondestroy||Ei,this.onrestart=t.onrestart||Ei,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ht(t)?t:Ix[t]||gF(t)},e})(),Xre=(function(){function e(t){this.value=t}return e})(),r8e=(function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new Xre(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e})(),vm=(function(){function e(t){this._list=new r8e,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,a=null;if(i[t]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new Xre(r),s.key=t,n.insertEntry(s),i[t]=s}return a},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e})(),fV={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function pu(e){return e=Math.round(e),e<0?0:e>255?255:e}function n8e(e){return e=Math.round(e),e<0?0:e>360?360:e}function b_(e){return e<0?0:e>1?1:e}function VP(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?pu(parseFloat(t)/100*255):pu(parseInt(t,10))}function sh(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?b_(parseFloat(t)/100):b_(parseFloat(t))}function $P(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function qd(e,t,r){return e+(t-e)*r}function hl(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function ek(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var jre=new vm(20),_S=null;function V0(e,t){_S&&ek(_S,t),_S=jre.put(e,_S||t.slice())}function _o(e,t){if(e){t=t||[];var r=jre.get(e);if(r)return ek(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in fV)return ek(t,fV[n]),V0(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){hl(t,0,0,0,1);return}return hl(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),V0(e,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){hl(t,0,0,0,1);return}return hl(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),V0(e,t),t}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?hl(t,+u[0],+u[1],+u[2],1):hl(t,0,0,0,1);c=sh(u.pop());case"rgb":if(u.length>=3)return hl(t,VP(u[0]),VP(u[1]),VP(u[2]),u.length===3?c:sh(u[3])),V0(e,t),t;hl(t,0,0,0,1);return;case"hsla":if(u.length!==4){hl(t,0,0,0,1);return}return u[3]=sh(u[3]),tk(u,t),V0(e,t),t;case"hsl":if(u.length!==3){hl(t,0,0,0,1);return}return tk(u,t),V0(e,t),t;default:return}}hl(t,0,0,0,1)}}function tk(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=sh(e[1]),i=sh(e[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],hl(t,pu($P(o,a,r+1/3)*255),pu($P(o,a,r)*255),pu($P(o,a,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function i8e(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var c=((a-t)/6+o/2)/o,f=((a-r)/6+o/2)/o,d=((a-n)/6+o/2)/o;t===a?l=d-f:r===a?l=1/3+c-d:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}function pm(e,t){var r=_o(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return xc(r,r.length===4?"rgba":"rgb")}}function GP(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=t[i],s=t[a],l=n-i;return r[0]=pu(qd(o[0],s[0],l)),r[1]=pu(qd(o[1],s[1],l)),r[2]=pu(qd(o[2],s[2],l)),r[3]=b_(qd(o[3],s[3],l)),r}}function a8e(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=_o(t[i]),s=_o(t[a]),l=n-i,u=xc([pu(qd(o[0],s[0],l)),pu(qd(o[1],s[1],l)),pu(qd(o[2],s[2],l)),b_(qd(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}function lh(e,t,r,n){var i=_o(e);if(e)return i=i8e(i),t!=null&&(i[0]=n8e(Ht(t)?t(i[0]):t)),r!=null&&(i[1]=sh(Ht(r)?r(i[1]):r)),n!=null&&(i[2]=sh(Ht(n)?n(i[2]):n)),xc(tk(i),"rgba")}function _T(e,t){var r=_o(e);if(r&&t!=null)return r[3]=b_(t),xc(r,"rgba")}function xc(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function bT(e,t){var r=_o(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}var dV=new vm(100);function rk(e){if(pt(e)){var t=dV.get(e);return t||(t=pm(e,-.1),dV.put(e,t)),t}else if(AE(e)){var r=He({},e);return r.colorStops=Ye(e.colorStops,function(n){return{offset:n.offset,color:pm(n.color,-.1)}}),r}return e}var wT=Math.round;function w_(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=_o(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var hV=1e-4;function Jd(e){return e<hV&&e>-hV}function bS(e){return wT(e*1e3)/1e3}function nk(e){return wT(e*1e4)/1e4}function o8e(e){return"matrix("+bS(e[0])+","+bS(e[1])+","+bS(e[2])+","+bS(e[3])+","+nk(e[4])+","+nk(e[5])+")"}var s8e={left:"start",right:"end",center:"middle",middle:"middle"};function l8e(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function u8e(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function c8e(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Yre(e){return e&&!!e.image}function f8e(e){return e&&!!e.svgElement}function mF(e){return Yre(e)||f8e(e)}function Kre(e){return e.type==="linear"}function Zre(e){return e.type==="radial"}function qre(e){return e&&(e.type==="linear"||e.type==="radial")}function RE(e){return"url(#"+e+")"}function Jre(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function Qre(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*oC,i=It(e.scaleX,1),a=It(e.scaleY,1),o=e.skewX||0,s=e.skewY||0,l=[];return(t||r)&&l.push("translate("+t+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+wT(o*oC)+"deg, "+wT(s*oC)+"deg)"),l.join(" ")}var d8e=(function(){return Er.hasGlobalWindow&&Ht(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})(),ik=Array.prototype.slice;function cf(e,t,r){return(t-e)*r+e}function UP(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=cf(t[a],r[a],n);return e}function h8e(e,t,r,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=cf(t[o][s],r[o][s],n)}return e}function wS(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+r[a]*n;return e}function vV(e,t,r,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=t[o][s]+r[o][s]*n}return e}function v8e(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function p8e(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(r===1?i[l]:ik.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function kx(e){if(So(e)){var t=e.length;if(So(e[0])){for(var r=[],n=0;n<t;n++)r.push(ik.call(e[n]));return r}return ik.call(e)}return e}function cC(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function g8e(e){return So(e&&e[0])?2:1}var SS=0,fC=1,ene=2,X1=3,ak=4,ok=5,pV=6;function gV(e){return e===ak||e===ok}function CS(e){return e===fC||e===ene}var qy=[0,0,0,0],m8e=(function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=pV,l=r;if(So(r)){var u=g8e(r);s=u,(u===1&&!Br(r[0])||u===2&&!Br(r[0][0]))&&(o=!0)}else if(Br(r)&&!xo(r))s=SS;else if(pt(r))if(!isNaN(+r))s=SS;else{var c=_o(r);c&&(l=c,s=X1)}else if(AE(r)){var f=He({},l);f.colorStops=Ye(r.colorStops,function(h){return{offset:h.offset,color:_o(h.color)}}),Kre(r)?s=ak:Zre(r)&&(s=ok),l=f}a===0?this.valType=s:(s!==this.valType||s===pV)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:r,percent:0};return n&&(d.easing=n,d.easingFunc=Ht(n)?n:Ix[n]||gF(n)),i.push(d),d},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(p,g){return p.time-g.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=CS(i),u=gV(i),c=0;c<a;c++){var f=n[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==a-1?p8e(d,h,i):u&&v8e(d.colorStops,h.colorStops))}if(!s&&i!==ok&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,c=0;c<a;c++)i===SS?n[c].additiveValue=n[c].value-v:i===X1?n[c].additiveValue=wS([],n[c].value,v,-1):CS(i)&&(n[c].additiveValue=i===fC?wS([],n[c].value,v,-1):vV([],n[c].value,v,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===X1,c,f=this._lastFr,d=Math.min,h,v;if(s===1)h=v=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var p=d(f+1,s-1);for(c=p;c>=0&&!(o[c].percent<=r);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>r);c++);c=d(c-1,s-2)}v=o[c+1],h=o[c]}if(h&&v){this._lastFr=c,this._lastFrP=r;var g=v.percent-h.percent,m=g===0?1:d((r-h.percent)/g,1);v.easingFunc&&(m=v.easingFunc(m));var y=n?this._additiveValue:u?qy:t[l];if((CS(a)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=m<1?h.rawValue:v.rawValue;else if(CS(a))a===fC?UP(y,h[i],v[i],m):h8e(y,h[i],v[i],m);else if(gV(a)){var x=h[i],b=v[i],w=a===ak;t[l]={type:w?"linear":"radial",x:cf(x.x,b.x,m),y:cf(x.y,b.y,m),colorStops:Ye(x.colorStops,function(C,E){var A=b.colorStops[E];return{offset:cf(C.offset,A.offset,m),color:cC(UP([],C.color,A.color,m))}}),global:b.global},w?(t[l].x2=cf(x.x2,b.x2,m),t[l].y2=cf(x.y2,b.y2,m)):t[l].r=cf(x.r,b.r,m)}else if(u)UP(y,h[i],v[i],m),n||(t[l]=cC(y));else{var S=cf(h[i],v[i],m);n?this._additiveValue=S:t[l]=S}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===SS?t[n]=t[n]+i:r===X1?(_o(t[n],qy),wS(qy,qy,i,1),t[n]=cC(qy)):r===fC?wS(t[n],t[n],i,1):r===ene&&vV(t[n],t[n],i,1)},e})(),yF=(function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){uF("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,Lr(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new m8e(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===X1&&u&&(u=cC(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,kx(u),i),this._trackKeys.push(s)}l.addKeyframe(t,kx(r[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(r=a)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(r._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var d=new t8e({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){r._started=2;var v=r._additiveAnimators;if(v){for(var p=!1,g=0;g<v.length;g++)if(v[g]._clip){p=!0;break}p||(r._additiveAnimators=null)}for(var g=0;g<n.length;g++)n[g].step(r._target,h);var m=r._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](r._target,h)},ondestroy:function(){r._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return Ye(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(t[a]=kx(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||Lr(t);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e})();function Rg(){return new Date().getTime()}var y8e=(function(e){Ae(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=Rg()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(mT(n),!r._paused&&r.update())}mT(n)},t.prototype.start=function(){this._running||(this._time=Rg(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Rg(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Rg()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new yF(r,n.loop);return this.addAnimator(i),i},t})(Gl),x8e=300,WP=Er.domSupported,XP=(function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Ye(e,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:e,touch:t,pointer:n}})(),mV={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},yV=!1;function sk(e){var t=e.pointerType;return t==="pen"||t==="touch"}function _8e(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function jP(e){e&&(e.zrByTouch=!0)}function b8e(e,t){return gl(e.dom,new w8e(e,t),!0)}function tne(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var w8e=(function(){function e(t,r){this.stopPropagation=Ei,this.stopImmediatePropagation=Ei,this.preventDefault=Ei,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e})(),tu={mousedown:function(e){e=gl(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=gl(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=gl(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=gl(this.dom,e);var t=e.toElement||e.relatedTarget;tne(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){yV=!0,e=gl(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){yV||(e=gl(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=gl(this.dom,e),jP(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),tu.mousemove.call(this,e),tu.mousedown.call(this,e)},touchmove:function(e){e=gl(this.dom,e),jP(e),this.handler.processGesture(e,"change"),tu.mousemove.call(this,e)},touchend:function(e){e=gl(this.dom,e),jP(e),this.handler.processGesture(e,"end"),tu.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<x8e&&tu.click.call(this,e)},pointerdown:function(e){tu.mousedown.call(this,e)},pointermove:function(e){sk(e)||tu.mousemove.call(this,e)},pointerup:function(e){tu.mouseup.call(this,e)},pointerout:function(e){sk(e)||tu.mouseout.call(this,e)}};G(["click","dblclick","contextmenu"],function(e){tu[e]=function(t){t=gl(this.dom,t),this.trigger(e,t)}});var lk={pointermove:function(e){sk(e)||lk.mousemove.call(this,e)},pointerup:function(e){lk.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function S8e(e,t){var r=t.domHandlers;Er.pointerEventsSupported?G(XP.pointer,function(n){dC(t,n,function(i){r[n].call(e,i)})}):(Er.touchEventsSupported&&G(XP.touch,function(n){dC(t,n,function(i){r[n].call(e,i),_8e(t)})}),G(XP.mouse,function(n){dC(t,n,function(i){i=vF(i),t.touching||r[n].call(e,i)})}))}function C8e(e,t){Er.pointerEventsSupported?G(mV.pointer,r):Er.touchEventsSupported||G(mV.mouse,r);function r(n){function i(a){a=vF(a),tne(e,a.target)||(a=b8e(e,a),t.domHandlers[n].call(e,a))}dC(t,n,i,{capture:!0})}}function dC(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,Z3(e.domTarget,t,r,n)}function YP(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&O6e(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var xV=(function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e})(),T8e=(function(e){Ae(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new xV(r,tu),WP&&(i._globalHandlerScope=new xV(document,lk)),S8e(i,i._localHandlerScope),i}return t.prototype.dispose=function(){YP(this._localHandlerScope),WP&&YP(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,WP&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?C8e(this,n):YP(n)}},t})(Gl),rne=1;Er.hasGlobalWindow&&(rne=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ST=rne,uk=.4,ck="#333",fk="#ccc",A8e="#eee",_V=DE,bV=5e-5;function iv(e){return e>bV||e<-bV}var av=[],$0=[],KP=$a(),ZP=Math.abs,xf=(function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return iv(this.rotation)||iv(this.x)||iv(this.y)||iv(this.scaleX-1)||iv(this.scaleY-1)||iv(this.skewX)||iv(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(_V(n),this.invTransform=null);return}n=n||$a(),r?this.getLocalTransform(n):_V(n),t&&(r?yc(n,t,n):PE(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(av);var n=av[0]<0?-1:1,i=av[1]<0?-1:1,a=((av[0]-n)*r+n)/av[0]||0,o=((av[1]-i)*r+i)/av[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||$a(),Tu(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||$a(),yc($0,t.invTransform,r),r=$0);var n=this.originX,i=this.originY;(n||i)&&(KP[4]=n,KP[5]=i,yc($0,r,KP),$0[4]-=n,$0[5]-=i,r=$0),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&Mi(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&Mi(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&ZP(t[0]-1)>1e-10&&ZP(t[3]-1)>1e-10?Math.sqrt(ZP(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){CT(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(n||i||s||l){var v=n+s,p=i+l;r[4]=-v*a-d*p*o,r[5]=-p*o-h*v*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=h*a,r[2]=d*o,u&&Lh(r,r,u),r[4]+=n+c,r[5]+=i+f,r},e.initDefaultProps=(function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),e})(),Pc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function CT(e,t){for(var r=0;r<Pc.length;r++){var n=Pc[r];e[n]=t[n]}}function _c(e){TS||(TS=new vm(100)),e=e||Of;var t=TS.get(e);return t||(t={font:e,strWidthCache:new vm(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:Su.measureText("国",e).width,asciiCharWidth:Su.measureText("a",e).width},TS.put(e,t)),t}var TS;function E8e(e){if(!(qP>=wV)){e=e||Of;for(var t=[],r=+new Date,n=0;n<=127;n++)t[n]=Su.measureText(String.fromCharCode(n),e).width;var i=+new Date-r;return i>16?qP=wV:i>2&&qP++,t}}var qP=0,wV=5;function nne(e,t){return e.asciiWidthMapTried||(e.asciiWidthMap=E8e(e.font),e.asciiWidthMapTried=!0),0<=t&&t<=127?e.asciiWidthMap!=null?e.asciiWidthMap[t]:e.asciiCharWidth:e.stWideCharWidth}function bc(e,t){var r=e.strWidthCache,n=r.get(t);return n==null&&(n=Su.measureText(t,e.font).width,r.put(t,n)),n}function SV(e,t,r,n){var i=bc(_c(t),e),a=_b(t),o=gm(0,i,r),s=hp(0,a,n),l=new jt(o,s,i,a);return l}function LE(e,t,r,n){var i=((e||"")+"").split(`
`),a=i.length;if(a===1)return SV(i[0],t,r,n);for(var o=new jt(0,0,0,0),s=0;s<i.length;s++){var l=SV(i[s],t,r,n);s===0?o.copy(l):o.union(l)}return o}function gm(e,t,r,n){return r==="right"?n?e+=t:e-=t:r==="center"&&(n?e+=t/2:e-=t/2),e}function hp(e,t,r,n){return r==="middle"?n?e+=t/2:e-=t/2:r==="bottom"&&(n?e+=t:e-=t),e}function _b(e){return _c(e).stWideCharWidth}function Au(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function TT(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=r.height,o=r.width,s=a/2,l=r.x,u=r.y,c="left",f="top";if(n instanceof Array)l+=Au(n[0],r.width),u+=Au(n[1],r.height),c=null,f=null;else switch(n){case"left":l-=i,u+=s,c="right",f="middle";break;case"right":l+=i+o,u+=s,f="middle";break;case"top":l+=o/2,u-=i,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+i,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=i,u+=s,f="middle";break;case"insideRight":l+=o-i,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=i,c="center";break;case"insideBottom":l+=o/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,c="right",f="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=f,e}var JP="__zr_normal__",QP=Pc.concat(["ignore"]),M8e=Cu(Pc,function(e,t){return e[t]=!0,e},{ignore:!1}),G0={},D8e=new jt(0,0,0,0),AS=[],IE=(function(){function e(t){this.id=Pre(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;a.copyTransform(r);var c=n.position!=null,f=n.autoOverflowArea,d=void 0;if((f||c)&&(d=D8e,n.layoutRect?d.copy(n.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(G0,n,d):TT(G0,n,d),a.x=G0.x,a.y=G0.y,o=G0.align,s=G0.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var v=void 0,p=void 0;h==="center"?(v=d.width*.5,p=d.height*.5):(v=Au(h[0],d.width),p=Au(h[1],d.height)),u=!0,a.originX=-a.x+v+(i?0:d.x),a.originY=-a.y+p+(i?0:d.y)}}n.rotation!=null&&(a.rotation=n.rotation);var g=n.offset;g&&(a.x+=g[0],a.y+=g[1],u||(a.originX=-g[0],a.originY=-g[1]));var m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var y=m.overflowRect=m.overflowRect||new jt(0,0,0,0);a.getLocalTransform(AS),Tu(AS,AS),jt.copy(y,d),y.applyTransform(AS)}else m.overflowRect=null;var x=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,b=void 0,w=void 0,S=void 0;x&&this.canBeInsideText()?(b=n.insideFill,w=n.insideStroke,(b==null||b==="auto")&&(b=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(b),S=!0)):(b=n.outsideFill,w=n.outsideStroke,(b==null||b==="auto")&&(b=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(b),S=!0)),b=b||"#000",(b!==m.fill||w!==m.stroke||S!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(l=!0,m.fill=b,m.stroke=w,m.autoStroke=S,m.align=o,m.verticalAlign=s,r.setDefaultTextStyle(m)),r.__dirty|=ks,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?fk:ck},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&_o(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,xc(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},He(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(Xt(t))for(var n=t,i=Lr(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==JP)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,QP)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in r)&&(r[a]=this[a])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(JP,!1,t)},e.prototype.useState=function(t,r,n,i){var a=t===JP,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(ur(s,t)>=0&&(r||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){uF("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,r,n,c),d&&d.useState(t,r,n,c),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ks),u}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,o=t.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(t[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var f=i[o-1],d=!!(f&&f.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!r&&!this.__inHover&&v&&v.duration>0,v);var p=this._textContent,g=this._textGuide;p&&p.useStates(t,r,d),g&&g.useStates(t,r,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ks)}},e.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var r=t.__hostTarget;t=r?t.ignoreHostSilent?null:r:t.parent}return!1},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=ur(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),a=ur(i,t),o=ur(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var a=t[i];He(r,a),a.textConfig&&(n=n||{},He(n,a.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=He({},i?this.textConfig:n.textConfig),He(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<QP.length;c++){var f=QP[c],d=a&&M8e[f];r&&r[f]!=null?d?(u=!0,l[f]=r[f]):this[f]=r[f]:s&&n[f]!=null&&(d?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],v=h.targetName;h.getLoop()||h.__changeFinalValue(v?(r||n)[v]:r||n)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new xf,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),He(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ks;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,a=new yF(i,r,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=ur(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!t||t===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},e.prototype.animateTo=function(t,r,n){eR(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){eR(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var a=eR(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=(function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ks;function r(n,i,a,o){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),e})();Ii(IE,Gl);Ii(IE,xf);function eR(e,t,r,n,i){r=r||{};var a=[];ine(e,"",e,t,r,n,a,i);var o=a.length,s=!1,l=r.done,u=r.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&r.during&&a[0].during(function(v,p){r.during(p)});for(var d=0;d<a.length;d++){var h=a[d];c&&h.done(c),f&&h.aborted(f),r.force&&h.duration(r.duration),h.start(r.easing)}return a}function tR(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function P8e(e){return So(e[0])}function R8e(e,t,r){if(So(t[r]))if(So(e[r])||(e[r]=[]),ys(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),tR(e[r],t[r],n))}else{var i=t[r],a=e[r],o=i.length;if(P8e(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?tR(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else tR(a,i,o);a.length=i.length}else e[r]=t[r]}function L8e(e,t){return e===t||So(e)&&So(t)&&I8e(e,t)}function I8e(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ine(e,t,r,n,i,a,o,s){for(var l=Lr(n),u=i.duration,c=i.delay,f=i.additive,d=i.setToFinal,h=!Xt(a),v=e.animators,p=[],g=0;g<l.length;g++){var m=l[g],y=n[m];if(y!=null&&r[m]!=null&&(h||a[m]))if(Xt(y)&&!So(y)&&!AE(y)){if(t){s||(r[m]=y,e.updateDuringAnimation(t));continue}ine(e,m,r[m],y,i,a&&a[m],o,s)}else p.push(m);else s||(r[m]=y,e.updateDuringAnimation(t),p.push(m))}var x=p.length;if(!f&&x)for(var b=0;b<v.length;b++){var w=v[b];if(w.targetName===t){var S=w.stopTracks(p);if(S){var C=ur(v,w);v.splice(C,1)}}}if(i.force||(p=on(p,function(D){return!L8e(n[D],r[D])}),x=p.length),x>0||i.force&&!o.length){var E=void 0,A=void 0,M=void 0;if(s){A={},d&&(E={});for(var b=0;b<x;b++){var m=p[b];A[m]=r[m],d?E[m]=n[m]:r[m]=n[m]}}else if(d){M={};for(var b=0;b<x;b++){var m=p[b];M[m]=kx(r[m]),R8e(r,n,m)}}var w=new yF(r,!1,!1,f?on(v,function(R){return R.targetName===t}):null);w.targetName=t,i.scope&&(w.scope=i.scope),d&&E&&w.whenWithKeys(0,E,p),M&&w.whenWithKeys(0,M,p),w.whenWithKeys(u??500,s?A:n,p).delay(c||0),e.addAnimator(w,t),o.push(w)}}var $t=(function(e){Ae(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=ur(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,a=ur(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new jt(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(jt.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},t})(IE);$t.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var hC={},ane={};function k8e(e){delete ane[e]}function O8e(e){if(!e)return!1;if(typeof e=="string")return bT(e,1)<uk;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=bT(t[i].color,1);return r/=n,r<uk}return!1}var F8e=(function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var a=new Z6e,o=n.renderer||"canvas";hC[o]||(o=Lr(hC)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new hC[o](r,a,n,t),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!Er.node&&!Er.worker&&!l?new T8e(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?Er.touchEventsSupported:!!c,d=44,h;f&&(h=It(n.pointerSize,d)),this.handler=new Nre(a,s,u,s.root,h),this.animation=new y8e({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=O8e(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=Rg();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=Rg();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof $t&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,k8e(this.id))},e})();function dk(e,t){var r=new F8e(Pre(),e,t);return ane[r.id]=r,r}function N8e(e,t){hC[e]=t}var hk;function B8e(e){if(typeof hk=="function")return hk(e)}function z8e(e){hk=e}var CV=1e-4,one=20;function H8e(e){return e.replace(/^\s+|\s+$/g,"")}var Gs=Math.min,Ai=Math.max,cc=Math.abs;function qr(e,t,r,n){var i=t[0],a=t[1],o=r[0],s=r[1],l=a-i,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(e<=i)return o;if(e>=a)return s}else{if(e>=i)return o;if(e<=a)return s}else{if(e===i)return o;if(e===a)return s}return(e-i)/l*u+o}var ft=V8e;function V8e(e,t,r){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return AT(e,t,r)}function AT(e,t,r){return pt(e)?H8e(e).match(/%$/)?parseFloat(e)/100*t+(r||0):parseFloat(e):e==null?NaN:+e}function ii(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),one),e=(+e).toFixed(t),r?e:+e}function Ml(e){return e.sort(function(t,r){return t-r}),e}function fc(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return xF(e)}function xF(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function sne(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),a=Math.round(r(cc(t[1]-t[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function $8e(e,t){var r=Cu(e,function(h,v){return h+(isNaN(v)?0:v)},0);if(r===0)return[];for(var n=Math.pow(10,t),i=Ye(e,function(h){return(isNaN(h)?0:h)/r*n*100}),a=n*100,o=Ye(i,function(h){return Math.floor(h)}),s=Cu(o,function(h,v){return h+v},0),l=Ye(i,function(h,v){return h-o[v]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return Ye(o,function(h){return h/n})}function G8e(e,t){var r=Math.max(fc(e),fc(t)),n=e+t;return r>one?n:ii(n,r)}var TV=9007199254740991;function lne(e){var t=Math.PI*2;return(e%t+t)%t}function S_(e){return e>-CV&&e<CV}var U8e=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Jf(e){if(e instanceof Date)return e;if(pt(e)){var t=U8e.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function W8e(e){return Math.pow(10,_F(e))}function _F(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function une(e,t){var r=_F(e),n=Math.pow(10,r),i=e/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,e=a*n,r>=-20?+e.toFixed(r<0?-r:0):e}function rR(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),i=+e[n-1],a=r-n;return a?i+a*(e[n]-i):i}function AV(e){e.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,r=1,n=0;n<e.length;){for(var i=e[n].interval,a=e[n].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-r),t=i[o],r=a[o];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(n,1):n++}return e;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Nf(e){var t=parseFloat(e);return t==e&&(t!==0||!pt(e)||e.indexOf("x")<=0)?t:NaN}function cne(e){return!isNaN(Nf(e))}function fne(){return Math.round(Math.random()*9)}function dne(e,t){return t===0?e:dne(t,e%t)}function EV(e,t){return e==null?t:t==null?e:e*t/dne(e,t)}var X8e="[ECharts] ",j8e=typeof console<"u"&&console.warn&&console.log;function Y8e(e,t,r){j8e&&console[e](X8e+t)}function hne(e,t){Y8e("error",e)}function Qr(e){throw new Error(e)}function MV(e,t,r){return(t-e)*r+e}var vne="series\0",pne="\0_ec_\0";function Mn(e){return e instanceof Array?e:e==null?[]:[e]}function Dp(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var DV=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Qm(e){return Xt(e)&&!We(e)&&!(e instanceof Date)?e.value:e}function K8e(e){return Xt(e)&&!(e instanceof Array)}function gne(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";e=e||[],t=(t||[]).slice();var o=Rt();G(t,function(l,u){if(!Xt(l)){t[u]=null;return}});var s=Z8e(e,o,r);return(n||i)&&q8e(s,e,o,t),n&&J8e(s,t),n||i?Q8e(s,t,i):a&&eHe(s,t),tHe(s),s}function Z8e(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var a=e[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:r==="replaceMerge"||C_(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function q8e(e,t,r,n){G(n,function(i,a){if(!(!i||i.id==null)){var o=Ox(i.id),s=r.get(o);if(s!=null){var l=e[s];Co(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=t[s],n[a]=null}}})}function J8e(e,t){G(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(a.id==null||r.id==null)&&!C_(r)&&!C_(a)&&mne("name",a,r)){e[i].newOption=r,t[n]=null;return}}})}function Q8e(e,t,r){G(t,function(n){if(n){for(var i,a=0;(i=e[a])&&(i.newOption||C_(i.existing)||i.existing&&n.id!=null&&!mne("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function eHe(e,t){G(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function tHe(e){var t=Rt();G(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),G(e,function(r){var n=r.newOption;Co(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),G(e,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(Xt(a)){if(o.name=a.name!=null?Ox(a.name):i?i.name:vne+n,i)o.id=Ox(i.id);else if(a.id!=null)o.id=Ox(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,r)}})}function mne(e,t,r){var n=aa(t[e],null),i=aa(r[e],null);return n!=null&&i!=null&&n===i}function Ox(e){return aa(e,"")}function aa(e,t){return e==null?t:pt(e)?e:Br(e)||G3(e)?e+"":t}function bF(e){var t=e.name;return!!(t&&t.indexOf(vne))}function C_(e){return e&&e.id!=null&&Ox(e.id).indexOf(pne)===0}function rHe(e){return pne+e}function nHe(e,t,r){G(e,function(n){var i=n.newOption;Xt(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=iHe(t,i,n.existing,r))})}function iHe(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function aHe(e,t){var r={},n={};return i(e||[],r),i(t||[],n,r),[a(r),a(n)];function i(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=aa(o[u].seriesId,null);if(f==null)return;for(var d=Mn(o[u].dataIndex),h=l&&l[f],v=0,p=d.length;v<p;v++){var g=d[v];h&&h[g]?h[g]=null:(s[f]||(s[f]={}))[g]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Pp(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return We(t.dataIndex)?Ye(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return We(t.name)?Ye(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function wr(){var e="__ec_inner_"+oHe++;return function(t){return t[e]||(t[e]={})}}var oHe=fne();function Jg(e,t,r){var n=wF(t,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,l=r?r.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=ey(e,c,u,{useDefault:l===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function wF(e,t){var r;if(pt(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=Rt(),a={},o=!1;return G(r,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&ur(t.includeMainTypes,c)<0)){o=o||!!c;var d=i.get(c)||i.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var fi={useDefault:!0,enableAll:!1,enableNone:!1},sHe={useDefault:!1,enableAll:!0,enableNone:!0};function ey(e,t,r,n){n=n||fi;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],s}if(i==="none"||i===!1){if(n.enableNone)return s.models=[],s;i=-1}return i==="all"&&(n.enableAll?i=a=o=null:i=-1),s.models=e.queryComponents({mainType:t,index:i,id:a,name:o}),s}function yne(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function lHe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function uHe(e){return e==="auto"?Er.domSupported?"html":"richText":e||"html"}function vk(e,t){var r=Rt(),n=[];return G(e,function(i){var a=t(i);(r.get(a)||(n.push(a),r.set(a,[]))).push(i)}),{keys:n,buckets:r}}function xne(e,t,r,n,i){var a=t==null||t==="auto";if(n==null)return n;if(Br(n)){var o=MV(r||0,n,i);return ii(o,a?Math.max(fc(r||0),fc(n)):t)}else{if(pt(n))return i<1?r:n;for(var s=[],l=r,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=e.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(i<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,v=u[f],o=MV(h,v,i);s[f]=ii(o,a?Math.max(fc(h),fc(v)):t)}}return s}}var uh=(function(){function e(){}return e.prototype.reset=function(t,r,n,i){return this._list=t,this._step=i=i||1,this._idx=r,this._end=n??(i>0?t.length:0),this.item=null,this.key=NaN,this},e.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},e})();function nR(e){e.option=e.parentModel=e.ecModel=null}var cHe=".",ov="___EC__COMPONENT__CONTAINER___",_ne="___EC__EXTENDED_CLASS___";function dc(e){var t={main:"",sub:""};if(e){var r=e.split(cHe);t.main=r[0]||"",t.sub=r[1]||""}return t}function fHe(e){Co(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function dHe(e){return!!(e&&e[_ne])}function SF(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return hHe(n)?i=(function(a){Ae(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(i=function(){(r.$constructor||n).apply(this,arguments)},fF(i,this)),He(i.prototype,r),i[_ne]=!0,i.extend=this.extend,i.superCall=gHe,i.superApply=mHe,i.superClass=n,i}}function hHe(e){return Ht(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function bne(e,t){e.extend=t.extend}var vHe=Math.round(Math.random()*10);function pHe(e){var t=["__\0is_clz",vHe++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function gHe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function mHe(e,t,r){return this.superClass.prototype[t].apply(e,r)}function kE(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){fHe(i),n.prototype.type=i;var a=dc(i);if(!a.sub)t[a.main]=n;else if(a.sub!==ov){var o=r(a);o[a.sub]=n}}return n},e.getClass=function(n,i,a){var o=t[n];if(o&&o[ov]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},e.getClassesByMainType=function(n){var i=dc(n),a=[],o=t[i.main];return o&&o[ov]?G(o,function(s,l){l!==ov&&a.push(s)}):a.push(o),a},e.hasClass=function(n){var i=dc(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return G(t,function(i,a){n.push(a)}),n},e.hasSubTypes=function(n){var i=dc(n),a=t[i.main];return a&&a[ov]};function r(n){var i=t[n.main];return(!i||!i[ov])&&(i=t[n.main]={},i[ov]=!0),i}}function Rp(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,a){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&ur(i,l)>=0||a&&ur(a,l)<0)){var u=n.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var yHe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],xHe=Rp(yHe),_He=(function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return xHe(this,t,r)},e})(),pk=new vm(50);function bHe(e){if(typeof e=="string"){var t=pk.get(e);return t&&t.image}else return e}function CF(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var a=pk.get(e),o={hostEl:r,cb:n,cbPayload:i};return a?(t=a.image,!OE(t)&&a.pending.push(o)):(t=Su.loadImage(e,PV,PV),t.__zrImageSrc=e,pk.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function PV(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function OE(e){return e&&e.width&&e.height}var iR=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function wHe(e,t,r,n,i,a){if(!r){e.text="",e.isTruncated=!1;return}var o=(t+"").split(`
`);a=wne(r,n,i,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)Sne(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;e.text=o.join(`
`),e.isTruncated=s}function wne(e,t,r,n){n=n||{};var i=He({},n);r=It(r,"..."),i.maxIterations=It(n.maxIterations,2);var a=i.minChar=It(n.minChar,0),o=i.fontMeasureInfo=_c(t),s=o.asciiCharWidth;i.placeholder=It(n.placeholder,"");for(var l=e=Math.max(0,e-1),u=0;u<a&&l>=s;u++)l-=s;var c=bc(o,r);return c>l&&(r="",c=0),l=e-c,i.ellipsis=r,i.ellipsisWidth=c,i.contentWidth=l,i.containerWidth=e,i}function Sne(e,t,r){var n=r.containerWidth,i=r.contentWidth,a=r.fontMeasureInfo;if(!n){e.textLine="",e.isTruncated=!1;return}var o=bc(a,t);if(o<=n){e.textLine=t,e.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=r.maxIterations){t+=r.ellipsis;break}var l=s===0?SHe(t,i,a):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,l),o=bc(a,t)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function SHe(e,t,r){for(var n=0,i=0,a=e.length;i<a&&n<t;i++)n+=nne(r,e.charCodeAt(i));return i}function CHe(e,t,r,n){var i=TF(e),a=t.overflow,o=t.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=t.font,c=a==="truncate",f=_b(u),d=It(t.lineHeight,f),h=t.lineOverflow==="truncate",v=!1,p=t.width;p==null&&r!=null&&(p=r-s);var g=t.height;g==null&&n!=null&&(g=n-l);var m;p!=null&&(a==="break"||a==="breakAll")?m=i?Cne(i,t.font,p,a==="breakAll",0).lines:[]:m=i?i.split(`
`):[];var y=m.length*d;if(g==null&&(g=y),y>g&&h){var x=Math.floor(g/d);v=v||m.length>x,m=m.slice(0,x),y=m.length*d}if(i&&c&&p!=null)for(var b=wne(p,u,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),w={},S=0;S<m.length;S++)Sne(w,m[S],b),m[S]=w.textLine,v=v||w.isTruncated;for(var C=g,E=0,A=_c(u),S=0;S<m.length;S++)E=Math.max(bc(A,m[S]),E);p==null&&(p=E);var M=p;return C+=l,M+=s,{lines:m,height:g,outerWidth:M,outerHeight:C,lineHeight:d,calculatedLineHeight:f,contentWidth:E,contentHeight:y,width:p,isTruncated:v}}var THe=(function(){function e(){}return e})(),RV=(function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e})(),AHe=(function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e})();function EHe(e,t,r,n,i){var a=new AHe,o=TF(e);if(!o)return a;var s=t.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=t.width;c==null&&r!=null&&(c=r-l);var f=t.height;f==null&&n!=null&&(f=n-u);for(var d=t.overflow,h=(d==="break"||d==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:d==="breakAll"}:null,v=iR.lastIndex=0,p;(p=iR.exec(o))!=null;){var g=p.index;g>v&&aR(a,o.substring(v,g),t,h),aR(a,p[2],t,h,p[1]),v=iR.lastIndex}v<o.length&&aR(a,o.substring(v,o.length),t,h);var m=[],y=0,x=0,b=d==="truncate",w=t.lineOverflow==="truncate",S={};function C(ve,Te,Se){ve.width=Te,ve.lineHeight=Se,y+=Se,x=Math.max(x,Te)}e:for(var E=0;E<a.lines.length;E++){for(var A=a.lines[E],M=0,D=0,R=0;R<A.tokens.length;R++){var L=A.tokens[R],k=L.styleName&&t.rich[L.styleName]||{},O=L.textPadding=k.padding,F=O?O[1]+O[3]:0,H=L.font=k.font||t.font;L.contentHeight=_b(H);var V=It(k.height,L.contentHeight);if(L.innerHeight=V,O&&(V+=O[0]+O[2]),L.height=V,L.lineHeight=$s(k.lineHeight,t.lineHeight,V),L.align=k&&k.align||i,L.verticalAlign=k&&k.verticalAlign||"middle",w&&f!=null&&y+L.lineHeight>f){var U=a.lines.length;R>0?(A.tokens=A.tokens.slice(0,R),C(A,D,M),a.lines=a.lines.slice(0,E+1)):a.lines=a.lines.slice(0,E),a.isTruncated=a.isTruncated||a.lines.length<U;break e}var K=k.width,q=K==null||K==="auto";if(typeof K=="string"&&K.charAt(K.length-1)==="%")L.percentWidth=K,m.push(L),L.contentWidth=bc(_c(H),L.text);else{if(q){var N=k.backgroundColor,W=N&&N.image;W&&(W=bHe(W),OE(W)&&(L.width=Math.max(L.width,W.width*V/W.height)))}var j=b&&c!=null?c-D:null;j!=null&&j<L.width?!q||j<F?(L.text="",L.width=L.contentWidth=0):(wHe(S,L.text,j-F,H,t.ellipsis,{minChar:t.truncateMinChar}),L.text=S.text,a.isTruncated=a.isTruncated||S.isTruncated,L.width=L.contentWidth=bc(_c(H),L.text)):L.contentWidth=bc(_c(H),L.text)}L.width+=F,D+=L.width,k&&(M=Math.max(M,L.lineHeight))}C(A,D,M)}a.outerWidth=a.width=It(c,x),a.outerHeight=a.height=It(f,y),a.contentHeight=y,a.contentWidth=x,a.outerWidth+=l,a.outerHeight+=u;for(var E=0;E<m.length;E++){var L=m[E],Z=L.percentWidth;L.width=parseInt(Z,10)/100*a.width}return a}function aR(e,t,r,n,i){var a=t==="",o=i&&r.rich[i]||{},s=e.lines,l=o.font||r.font,u=!1,c,f;if(n){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var v=Au(o.width,n.width)+h;s.length>0&&v+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=v}else{var p=Cne(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=p.accumWidth+h,f=p.linesWidths,c=p.lines}}c||(c=t.split(`
`));for(var g=_c(l),m=0;m<c.length;m++){var y=c[m],x=new THe;if(x.styleName=i,x.text=y,x.isLineHolder=!y&&!a,typeof o.width=="number"?x.width=o.width:x.width=f?f[m]:bc(g,y),!m&&!u){var b=(s[s.length-1]||(s[0]=new RV)).tokens,w=b.length;w===1&&b[0].isLineHolder?b[0]=x:(y||!w||a)&&b.push(x)}else s.push(new RV([x]))}}function MHe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var DHe=Cu(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function PHe(e){return MHe(e)?!!DHe[e]:!0}function Cne(e,t,r,n,i){for(var a=[],o=[],s="",l="",u=0,c=0,f=_c(t),d=0;d<e.length;d++){var h=e.charAt(d);if(h===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var v=nne(f,h.charCodeAt(0)),p=n?!1:!PHe(h);if(a.length?c+v>r:i+c+v>r){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=h,u+=v,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=h,c=v)):p?(a.push(l),o.push(u),l=h,u=v):(a.push(h),o.push(v));continue}c+=v,p?(l+=h,u+=v):(l&&(s+=l,l="",u=0),s+=h)}return l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}function LV(e,t,r,n,i,a){if(e.baseX=r,e.baseY=n,e.outerWidth=e.outerHeight=null,!!t){var o=t.width*2,s=t.height*2;jt.set(IV,gm(r,o,i),hp(n,s,a),o,s),jt.intersect(t,IV,null,kV);var l=kV.outIntersectRect;e.outerWidth=l.width,e.outerHeight=l.height,e.baseX=gm(l.x,l.width,i,!0),e.baseY=hp(l.y,l.height,a,!0)}}var IV=new jt(0,0,0,0),kV={outIntersectRect:{},clamp:!0};function TF(e){return e!=null?e+="":e=""}function RHe(e){var t=TF(e.text),r=e.font,n=bc(_c(r),t),i=_b(r);return gk(e,n,i,null)}function gk(e,t,r,n){var i=new jt(gm(e.x||0,t,e.textAlign),hp(e.y||0,r,e.textBaseline),t,r),a=n??(Tne(e)?e.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function Tne(e){var t=e.stroke;return t!=null&&t!=="none"&&e.lineWidth>0}var mk="__zr_style_"+Math.round(Math.random()*10),vp={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},FE={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};vp[mk]=!0;var OV=["z","z2","invisible"],LHe=["invisible"],Hl=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=Lr(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):e.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&IHe(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new jt(0,0,0,0)),n?jt.applyTransform(r,i,n):r.copy(i),(o||s||l)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(l),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+l-o));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new jt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:He(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=W1,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&W1)},t.prototype.styleUpdated=function(){this.__dirty&=~W1},t.prototype.createStyle=function(r){return ME(vp,r)},t.prototype.useStyle=function(r){r[mk]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[mk]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,OV)},t.prototype._applyStateObj=function(r,n,i,a,o,s){e.prototype._applyStateObj.call(this,r,n,i,a,o,s);var l=!(n&&a),u;if(n&&n.style?o?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Lr(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var v=Lr(u),d=0;d<v.length;d++){var h=v[d];this.style[h]=this.style[h]}this._transitionState(r,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var p=this.__inHover?LHe:OV,d=0;d<p.length;d++){var h=p[d];n&&n[h]!=null?this[h]=n[h]:l&&i[h]!=null&&(this[h]=i[h])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return He(r,n),r},t.prototype.getAnimationStyleProps=function(){return FE},t.initDefaultProps=(function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ks|W1})(),t})(IE),oR=new jt(0,0,0,0),sR=new jt(0,0,0,0);function IHe(e,t,r){return oR.copy(e.getBoundingRect()),e.transform&&oR.applyTransform(e.transform),sR.width=t,sR.height=r,!oR.intersect(sR)}var fs=Math.min,ds=Math.max,lR=Math.sin,uR=Math.cos,sv=Math.PI*2,ES=s0(),MS=s0(),DS=s0();function NE(e,t,r){if(e.length!==0){for(var n=e[0],i=n[0],a=n[0],o=n[1],s=n[1],l=1;l<e.length;l++)n=e[l],i=fs(i,n[0]),a=ds(a,n[0]),o=fs(o,n[1]),s=ds(s,n[1]);t[0]=i,t[1]=o,r[0]=a,r[1]=s}}function FV(e,t,r,n,i,a){i[0]=fs(e,r),i[1]=fs(t,n),a[0]=ds(e,r),a[1]=ds(t,n)}var NV=[],BV=[];function kHe(e,t,r,n,i,a,o,s,l,u){var c=$re,f=pa,d=c(e,r,i,o,NV);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var v=f(e,r,i,o,NV[h]);l[0]=fs(v,l[0]),u[0]=ds(v,u[0])}d=c(t,n,a,s,BV);for(var h=0;h<d;h++){var p=f(t,n,a,s,BV[h]);l[1]=fs(p,l[1]),u[1]=ds(p,u[1])}l[0]=fs(e,l[0]),u[0]=ds(e,u[0]),l[0]=fs(o,l[0]),u[0]=ds(o,u[0]),l[1]=fs(t,l[1]),u[1]=ds(t,u[1]),l[1]=fs(s,l[1]),u[1]=ds(s,u[1])}function OHe(e,t,r,n,i,a,o,s){var l=Ure,u=Na,c=ds(fs(l(e,r,i),1),0),f=ds(fs(l(t,n,a),1),0),d=u(e,r,i,c),h=u(t,n,a,f);o[0]=fs(e,i,d),o[1]=fs(t,a,h),s[0]=ds(e,i,d),s[1]=ds(t,a,h)}function FHe(e,t,r,n,i,a,o,s,l){var u=Yd,c=Kd,f=Math.abs(i-a);if(f%sv<1e-4&&f>1e-4){s[0]=e-r,s[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(ES[0]=uR(i)*r+e,ES[1]=lR(i)*n+t,MS[0]=uR(a)*r+e,MS[1]=lR(a)*n+t,u(s,ES,MS),c(l,ES,MS),i=i%sv,i<0&&(i=i+sv),a=a%sv,a<0&&(a=a+sv),i>a&&!o?a+=sv:i<a&&o&&(i+=sv),o){var d=a;a=i,i=d}for(var h=0;h<a;h+=Math.PI/2)h>i&&(DS[0]=uR(h)*r+e,DS[1]=lR(h)*n+t,u(s,DS,s),c(l,DS,l))}var Rn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lv=[],uv=[],Vu=[],bd=[],$u=[],Gu=[],cR=Math.min,fR=Math.max,cv=Math.cos,fv=Math.sin,tf=Math.abs,yk=Math.PI,Od=yk*2,dR=typeof Float32Array<"u",Jy=[];function hR(e){var t=Math.round(e/yk*1e8)/1e8;return t%2*yk}function BE(e,t){var r=hR(e[0]);r<0&&(r+=Od);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=Od?i=r+Od:t&&r-i>=Od?i=r-Od:!t&&r>i?i=r+(Od-hR(r-i)):t&&r<i&&(i=r-(Od-hR(i-r))),e[0]=r,e[1]=i}var Rc=(function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=tf(n/ST/t)||0,this._uy=tf(n/ST/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(Rn.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=tf(t-this._xi),i=tf(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Rn.L,t,r),this._ctx&&a&&this._ctx.lineTo(t,r),a)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,a,o){return this._drawPendingPt(),this.addData(Rn.C,t,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,a,o),this._xi=a,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(Rn.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,a,o){this._drawPendingPt(),Jy[0]=i,Jy[1]=a,BE(Jy,o),i=Jy[0],a=Jy[1];var s=a-i;return this.addData(Rn.A,t,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(t,r,n,i,a,o),this._xi=cv(a)*n+t,this._yi=fv(a)*n+r,this},e.prototype.arcTo=function(t,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,a),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(Rn.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Rn.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){if(this._saveData){var r=t.length;!(this.data&&this.data.length===r)&&dR&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r}},e.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,a=0;a<r;a++)n+=t[a].len();var o=this.data;if(dR&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+n),i>0&&o))for(var s=0;s<i;s++)this.data[s]=o[s];for(var a=0;a<r;a++)for(var l=t[a].data,s=0;s<l.length;s++)this.data[i++]=l[s];this._len=i}},e.prototype.addData=function(t,r,n,i,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,dR&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Vu[0]=Vu[1]=$u[0]=$u[1]=Number.MAX_VALUE,bd[0]=bd[1]=Gu[0]=Gu[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(r=t[o],n=t[o+1],i=r,a=n),s){case Rn.M:r=i=t[o++],n=a=t[o++],$u[0]=i,$u[1]=a,Gu[0]=i,Gu[1]=a;break;case Rn.L:FV(r,n,t[o],t[o+1],$u,Gu),r=t[o++],n=t[o++];break;case Rn.C:kHe(r,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],$u,Gu),r=t[o++],n=t[o++];break;case Rn.Q:OHe(r,n,t[o++],t[o++],t[o],t[o+1],$u,Gu),r=t[o++],n=t[o++];break;case Rn.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],v=t[o++]+h;o+=1;var p=!t[o++];l&&(i=cv(h)*f+u,a=fv(h)*d+c),FHe(u,c,f,d,h,v,p,$u,Gu),r=cv(v)*f+u,n=fv(v)*d+c;break;case Rn.R:i=r=t[o++],a=n=t[o++];var g=t[o++],m=t[o++];FV(i,a,i+g,a+m,$u,Gu);break;case Rn.Z:r=i,n=a;break}Yd(Vu,Vu,$u),Kd(bd,bd,Gu)}return o===0&&(Vu[0]=Vu[1]=bd[0]=bd[1]=0),new jt(Vu[0],Vu[1],bd[0]-Vu[0],bd[1]-Vu[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<r;){var h=t[d++],v=d===1;v&&(a=t[d],o=t[d+1],s=a,l=o);var p=-1;switch(h){case Rn.M:a=s=t[d++],o=l=t[d++];break;case Rn.L:{var g=t[d++],m=t[d++],y=g-a,x=m-o;(tf(y)>n||tf(x)>i||d===r-1)&&(p=Math.sqrt(y*y+x*x),a=g,o=m);break}case Rn.C:{var b=t[d++],w=t[d++],g=t[d++],m=t[d++],S=t[d++],C=t[d++];p=q6e(a,o,b,w,g,m,S,C,10),a=S,o=C;break}case Rn.Q:{var b=t[d++],w=t[d++],g=t[d++],m=t[d++];p=Q6e(a,o,b,w,g,m,10),a=g,o=m;break}case Rn.A:var E=t[d++],A=t[d++],M=t[d++],D=t[d++],R=t[d++],L=t[d++],k=L+R;d+=1,v&&(s=cv(R)*M+E,l=fv(R)*D+A),p=fR(M,D)*cR(Od,Math.abs(L)),a=cv(k)*M+E,o=fv(k)*D+A;break;case Rn.R:{s=a=t[d++],l=o=t[d++];var O=t[d++],F=t[d++];p=O*2+F*2;break}case Rn.Z:{var y=s-a,x=l-o;p=Math.sqrt(y*y+x*x),a=s,o=l;break}}p>=0&&(u[f++]=p,c+=p)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,l,u,c,f,d,h=r<1,v,p,g=0,m=0,y,x=0,b,w;if(!(h&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,p=this._pathLen,y=r*p,!y)))e:for(var S=0;S<o;){var C=n[S++],E=S===1;switch(E&&(u=n[S],c=n[S+1],s=u,l=c),C!==Rn.L&&x>0&&(t.lineTo(b,w),x=0),C){case Rn.M:s=u=n[S++],l=c=n[S++],t.moveTo(u,c);break;case Rn.L:{f=n[S++],d=n[S++];var A=tf(f-u),M=tf(d-c);if(A>i||M>a){if(h){var D=v[m++];if(g+D>y){var R=(y-g)/D;t.lineTo(u*(1-R)+f*R,c*(1-R)+d*R);break e}g+=D}t.lineTo(f,d),u=f,c=d,x=0}else{var L=A*A+M*M;L>x&&(b=f,w=d,x=L)}break}case Rn.C:{var k=n[S++],O=n[S++],F=n[S++],H=n[S++],V=n[S++],U=n[S++];if(h){var D=v[m++];if(g+D>y){var R=(y-g)/D;xh(u,k,F,V,R,lv),xh(c,O,H,U,R,uv),t.bezierCurveTo(lv[1],uv[1],lv[2],uv[2],lv[3],uv[3]);break e}g+=D}t.bezierCurveTo(k,O,F,H,V,U),u=V,c=U;break}case Rn.Q:{var k=n[S++],O=n[S++],F=n[S++],H=n[S++];if(h){var D=v[m++];if(g+D>y){var R=(y-g)/D;__(u,k,F,R,lv),__(c,O,H,R,uv),t.quadraticCurveTo(lv[1],uv[1],lv[2],uv[2]);break e}g+=D}t.quadraticCurveTo(k,O,F,H),u=F,c=H;break}case Rn.A:var K=n[S++],q=n[S++],N=n[S++],W=n[S++],j=n[S++],Z=n[S++],ve=n[S++],Te=!n[S++],Se=N>W?N:W,te=tf(N-W)>.001,pe=j+Z,Re=!1;if(h){var D=v[m++];g+D>y&&(pe=j+Z*(y-g)/D,Re=!0),g+=D}if(te&&t.ellipse?t.ellipse(K,q,N,W,ve,j,pe,Te):t.arc(K,q,Se,j,pe,Te),Re)break e;E&&(s=cv(j)*N+K,l=fv(j)*W+q),u=cv(pe)*N+K,c=fv(pe)*W+q;break;case Rn.R:s=u=n[S],l=c=n[S+1],f=n[S++],d=n[S++];var z=n[S++],J=n[S++];if(h){var D=v[m++];if(g+D>y){var se=y-g;t.moveTo(f,d),t.lineTo(f+cR(se,z),d),se-=z,se>0&&t.lineTo(f+z,d+cR(se,J)),se-=J,se>0&&t.lineTo(f+fR(z-se,0),d+J),se-=z,se>0&&t.lineTo(f,d+fR(J-se,0));break e}g+=D}t.rect(f,d,z,J);break;case Rn.Z:if(h){var D=v[m++];if(g+D>y){var R=(y-g)/D;t.lineTo(u*(1-R)+s*R,c*(1-R)+l*R);break e}g+=D}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.prototype.canSave=function(){return!!this._saveData},e.CMD=Rn,e.initDefaultProps=(function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),e})();function Vd(e,t,r,n,i,a,o){if(i===0)return!1;var s=i,l=0,u=e;if(o>t+s&&o>n+s||o<t-s&&o<n-s||a>e+s&&a>r+s||a<e-s&&a<r-s)return!1;if(e!==r)l=(t-n)/(e-r),u=(e*n-r*t)/(e-r);else return Math.abs(a-e)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function NHe(e,t,r,n,i,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>n+f&&c>a+f&&c>s+f||c<t-f&&c<n-f&&c<a-f&&c<s-f||u>e+f&&u>r+f&&u>i+f&&u>o+f||u<e-f&&u<r-f&&u<i-f&&u<o-f)return!1;var d=Gre(e,t,r,n,i,a,o,s,u,c,null);return d<=f/2}function Ane(e,t,r,n,i,a,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>n+u&&l>a+u||l<t-u&&l<n-u&&l<a-u||s>e+u&&s>r+u&&s>i+u||s<e-u&&s<r-u&&s<i-u)return!1;var c=Wre(e,t,r,n,i,a,s,l,null);return c<=u/2}var zV=Math.PI*2;function Ns(e){return e%=zV,e<0&&(e+=zV),e}var Qy=Math.PI*2;function BHe(e,t,r,n,i,a,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>r||c+u<r)return!1;if(Math.abs(n-i)%Qy<1e-4)return!0;if(a){var f=n;n=Ns(i),i=Ns(f)}else n=Ns(n),i=Ns(i);n>i&&(i+=Qy);var d=Math.atan2(l,s);return d<0&&(d+=Qy),d>=n&&d<=i||d+Qy>=n&&d+Qy<=i}function ff(e,t,r,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var o=(a-t)/(n-t),s=n<t?1:-1;(o===1||o===0)&&(s=n<t?.5:-.5);var l=o*(r-e)+e;return l===i?1/0:l>i?s:0}var wd=Rc.CMD,dv=Math.PI*2,zHe=1e-4;function HHe(e,t){return Math.abs(e-t)<zHe}var zo=[-1,-1,-1],yl=[-1,-1];function VHe(){var e=yl[0];yl[0]=yl[1],yl[1]=e}function $He(e,t,r,n,i,a,o,s,l,u){if(u>t&&u>n&&u>a&&u>s||u<t&&u<n&&u<a&&u<s)return 0;var c=xT(t,n,a,s,u,zo);if(c===0)return 0;for(var f=0,d=-1,h=void 0,v=void 0,p=0;p<c;p++){var g=zo[p],m=g===0||g===1?.5:1,y=pa(e,r,i,o,g);y<l||(d<0&&(d=$re(t,n,a,s,yl),yl[1]<yl[0]&&d>1&&VHe(),h=pa(t,n,a,s,yl[0]),d>1&&(v=pa(t,n,a,s,yl[1]))),d===2?g<yl[0]?f+=h<t?m:-m:g<yl[1]?f+=v<h?m:-m:f+=s<v?m:-m:g<yl[0]?f+=h<t?m:-m:f+=s<h?m:-m)}return f}function GHe(e,t,r,n,i,a,o,s){if(s>t&&s>n&&s>a||s<t&&s<n&&s<a)return 0;var l=J6e(t,n,a,s,zo);if(l===0)return 0;var u=Ure(t,n,a);if(u>=0&&u<=1){for(var c=0,f=Na(t,n,a,u),d=0;d<l;d++){var h=zo[d]===0||zo[d]===1?.5:1,v=Na(e,r,i,zo[d]);v<o||(zo[d]<u?c+=f<t?h:-h:c+=a<f?h:-h)}return c}else{var h=zo[0]===0||zo[0]===1?.5:1,v=Na(e,r,i,zo[0]);return v<o?0:a<t?h:-h}}function UHe(e,t,r,n,i,a,o,s){if(s-=t,s>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);zo[0]=-l,zo[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=dv-1e-4){n=0,i=dv;var c=a?1:-1;return o>=zo[0]+e&&o<=zo[1]+e?c:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=dv,i+=dv);for(var d=0,h=0;h<2;h++){var v=zo[h];if(v+e>o){var p=Math.atan2(s,v),c=a?1:-1;p<0&&(p=dv+p),(p>=n&&p<=i||p+dv>=n&&p+dv<=i)&&(p>Math.PI/2&&p<Math.PI*1.5&&(c=-c),d+=c)}}return d}function Ene(e,t,r,n,i){for(var a=e.data,o=e.len(),s=0,l=0,u=0,c=0,f=0,d,h,v=0;v<o;){var p=a[v++],g=v===1;switch(p===wd.M&&v>1&&(r||(s+=ff(l,u,c,f,n,i))),g&&(l=a[v],u=a[v+1],c=l,f=u),p){case wd.M:c=a[v++],f=a[v++],l=c,u=f;break;case wd.L:if(r){if(Vd(l,u,a[v],a[v+1],t,n,i))return!0}else s+=ff(l,u,a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case wd.C:if(r){if(NHe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],t,n,i))return!0}else s+=$He(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case wd.Q:if(r){if(Ane(l,u,a[v++],a[v++],a[v],a[v+1],t,n,i))return!0}else s+=GHe(l,u,a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case wd.A:var m=a[v++],y=a[v++],x=a[v++],b=a[v++],w=a[v++],S=a[v++];v+=1;var C=!!(1-a[v++]);d=Math.cos(w)*x+m,h=Math.sin(w)*b+y,g?(c=d,f=h):s+=ff(l,u,d,h,n,i);var E=(n-m)*b/x+m;if(r){if(BHe(m,y,b,w,w+S,C,t,E,i))return!0}else s+=UHe(m,y,b,w,w+S,C,E,i);l=Math.cos(w+S)*x+m,u=Math.sin(w+S)*b+y;break;case wd.R:c=l=a[v++],f=u=a[v++];var A=a[v++],M=a[v++];if(d=c+A,h=f+M,r){if(Vd(c,f,d,f,t,n,i)||Vd(d,f,d,h,t,n,i)||Vd(d,h,c,h,t,n,i)||Vd(c,h,c,f,t,n,i))return!0}else s+=ff(d,f,d,h,n,i),s+=ff(c,h,c,f,n,i);break;case wd.Z:if(r){if(Vd(l,u,c,f,t,n,i))return!0}else s+=ff(l,u,c,f,n,i);l=c,u=f;break}}return!r&&!HHe(u,f)&&(s+=ff(l,u,c,f,n,i)||0),s!==0}function WHe(e,t,r){return Ene(e,0,!1,t,r)}function XHe(e,t,r,n){return Ene(e,t,!0,r,n)}var ET=kt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},vp),jHe={style:kt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},FE.style)},vR=Pc.concat(["invisible","culling","z","z2","zlevel","parent"]),Cr=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<vR.length;++s)i[vR[s]]=this[vR[s]];i.__dirty|=ks}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=Lr(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?He(this.style,s):this.useStyle(s):o==="shape"?He(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(pt(r)){var n=bT(r,0);return n>.5?ck:n>.2?A8e:fk}else if(r)return fk}return ck},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(pt(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=bT(r,0)<uk;if(a===o)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Tg},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Rc(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Tg)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),XHe(s,l/u,r,n)))return!0}if(this.hasFill())return WHe(s,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Tg,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:He(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Tg)},t.prototype.createStyle=function(r){return ME(ET,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=He({},this.shape))},t.prototype._applyStateObj=function(r,n,i,a,o,s){e.prototype._applyStateObj.call(this,r,n,i,a,o,s);var l=!(n&&a),u;if(n&&n.shape?o?a?u=n.shape:(u=He({},i.shape),He(u,n.shape)):(u=He({},a?this.shape:i.shape),He(u,n.shape)):l&&(u=i.shape),u)if(o){this.shape=He({},this.shape);for(var c={},f=Lr(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(r,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return jHe},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=(function(a){Ae(o,a);function o(s){var l=a.call(this,s)||this;return r.init&&r.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Vt(r.style)},o.prototype.getDefaultShape=function(){return Vt(r.shape)},o})(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=(function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ks|W1|Tg})(),t})(Hl),YHe=kt({strokeFirst:!0,font:Of,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},ET),mm=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return Tne(this.style)},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return ME(YHe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=RHe(this.style)),this._rect},t.initDefaultProps=(function(){var r=t.prototype;r.dirtyRectTolerance=10})(),t})(Hl);mm.prototype.type="tspan";var KHe=kt({x:0,y:0},vp),ZHe={style:kt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},FE.style)};function qHe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Ra=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return ME(KHe,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=qHe(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return ZHe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new jt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t})(Hl);Ra.prototype.type="image";function JHe(e,t){var r=t.x,n=t.y,i=t.width,a=t.height,o=t.r,s,l,u,c;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),e.moveTo(r+s,n),e.lineTo(r+i-l,n),l!==0&&e.arc(r+i-l,n+l,l,-Math.PI/2,0),e.lineTo(r+i,n+a-u),u!==0&&e.arc(r+i-u,n+a-u,u,0,Math.PI/2),e.lineTo(r+c,n+a),c!==0&&e.arc(r+c,n+a-c,c,Math.PI/2,Math.PI),e.lineTo(r,n+s),s!==0&&e.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var Lg=Math.round;function zE(e,t,r){if(t){var n=t.x1,i=t.x2,a=t.y1,o=t.y2;e.x1=n,e.x2=i,e.y1=a,e.y2=o;var s=r&&r.lineWidth;return s&&(Lg(n*2)===Lg(i*2)&&(e.x1=e.x2=Bs(n,s,!0)),Lg(a*2)===Lg(o*2)&&(e.y1=e.y2=Bs(a,s,!0))),e}}function Mne(e,t,r){if(t){var n=t.x,i=t.y,a=t.width,o=t.height;e.x=n,e.y=i,e.width=a,e.height=o;var s=r&&r.lineWidth;return s&&(e.x=Bs(n,s,!0),e.y=Bs(i,s,!0),e.width=Math.max(Bs(n+a,s,!1)-e.x,a===0?0:1),e.height=Math.max(Bs(i+o,s,!1)-e.y,o===0?0:1)),e}}function Bs(e,t,r){if(!t)return e;var n=Lg(e*2);return(n+Lg(t))%2===0?n/2:(n+(r?1:-1))/2}var QHe=(function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e})(),e7e={},vr=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new QHe},t.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var l=Mne(e7e,n,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?JHe(r,n):r.rect(i,a,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(Cr);vr.prototype.type="rect";var HV={fill:"#000"},VV=2,Uu={},t7e={style:kt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},FE.style)},Pr=(function(e){Ae(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=HV,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,i7e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new jt(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(r.copy(l),r.applyTransform(u),a=a||r.clone(),a.union(r)):(a=a||l.clone(),a.union(l))}this._rect=a||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||HV},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return He(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},t.prototype._mergeRich=function(r,n){for(var i=Lr(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},He(r[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return t7e},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Of,i=r.padding,a=this._defaultStyle,o=r.x||0,s=r.y||0,l=r.align||a.align||"left",u=r.verticalAlign||a.verticalAlign||"top";LV(Uu,a.overflowRect,o,s,l,u),o=Uu.baseX,s=Uu.baseY;var c=YV(r),f=CHe(c,r,Uu.outerWidth,Uu.outerHeight),d=pR(r),h=!!r.backgroundColor,v=f.outerHeight,p=f.outerWidth,g=f.lines,m=f.lineHeight;this.isTruncated=!!f.isTruncated;var y=o,x=hp(s,f.contentHeight,u);if(d||i){var b=gm(o,p,l),w=hp(s,v,u);d&&this._renderBackground(r,r,b,w,p,v)}x+=m/2,i&&(y=jV(o,l,i),u==="top"?x+=i[0]:u==="bottom"&&(x-=i[2]));for(var S=0,C=!1,E=!1,A=XV("fill"in r?r.fill:(E=!0,a.fill)),M=WV("stroke"in r?r.stroke:!h&&(!a.autoStroke||E)?(S=VV,C=!0,a.stroke):null),D=r.textShadowBlur>0,R=0;R<g.length;R++){var L=this._getOrCreateChild(mm),k=L.createStyle();L.useStyle(k),k.text=g[R],k.x=y,k.y=x,k.textAlign=l,k.textBaseline="middle",k.opacity=r.opacity,k.strokeFirst=!0,D&&(k.shadowBlur=r.textShadowBlur||0,k.shadowColor=r.textShadowColor||"transparent",k.shadowOffsetX=r.textShadowOffsetX||0,k.shadowOffsetY=r.textShadowOffsetY||0),k.stroke=M,k.fill=A,M&&(k.lineWidth=r.lineWidth||S,k.lineDash=r.lineDash,k.lineDashOffset=r.lineDashOffset||0),k.font=n,GV(k,r),x+=m,L.setBoundingRect(gk(k,f.contentWidth,f.calculatedLineHeight,C?0:null))}},t.prototype._updateRichTexts=function(){var r=this.style,n=this._defaultStyle,i=r.align||n.align,a=r.verticalAlign||n.verticalAlign,o=r.x||0,s=r.y||0;LV(Uu,n.overflowRect,o,s,i,a),o=Uu.baseX,s=Uu.baseY;var l=YV(r),u=EHe(l,r,Uu.outerWidth,Uu.outerHeight,i),c=u.width,f=u.outerWidth,d=u.outerHeight,h=r.padding;this.isTruncated=!!u.isTruncated;var v=gm(o,f,i),p=hp(s,d,a),g=v,m=p;h&&(g+=h[3],m+=h[0]);var y=g+c;pR(r)&&this._renderBackground(r,r,v,p,f,d);for(var x=!!r.backgroundColor,b=0;b<u.lines.length;b++){for(var w=u.lines[b],S=w.tokens,C=S.length,E=w.lineHeight,A=w.width,M=0,D=g,R=y,L=C-1,k=void 0;M<C&&(k=S[M],!k.align||k.align==="left");)this._placeToken(k,r,E,m,D,"left",x),A-=k.width,D+=k.width,M++;for(;L>=0&&(k=S[L],k.align==="right");)this._placeToken(k,r,E,m,R,"right",x),A-=k.width,R-=k.width,L--;for(D+=(c-(D-g)-(y-R)-A)/2;M<=L;)k=S[M],this._placeToken(k,r,E,m,D+k.width/2,"center",x),D+=k.width,M++;m+=E}},t.prototype._placeToken=function(r,n,i,a,o,s,l){var u=n.rich[r.styleName]||{};u.text=r.text;var c=r.verticalAlign,f=a+i/2;c==="top"?f=a+r.height/2:c==="bottom"&&(f=a+i-r.height/2);var d=!r.isLineHolder&&pR(u);d&&this._renderBackground(u,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,f-r.height/2,r.width,r.height);var h=!!u.backgroundColor,v=r.textPadding;v&&(o=jV(o,s,v),f-=r.height/2-v[0]-r.innerHeight/2);var p=this._getOrCreateChild(mm),g=p.createStyle();p.useStyle(g);var m=this._defaultStyle,y=!1,x=0,b=!1,w=XV("fill"in u?u.fill:"fill"in n?n.fill:(y=!0,m.fill)),S=WV("stroke"in u?u.stroke:"stroke"in n?n.stroke:!h&&!l&&(!m.autoStroke||y)?(x=VV,b=!0,m.stroke):null),C=u.textShadowBlur>0||n.textShadowBlur>0;g.text=r.text,g.x=o,g.y=f,C&&(g.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,g.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=r.font||Of,g.opacity=$s(u.opacity,n.opacity,1),GV(g,u),S&&(g.lineWidth=$s(u.lineWidth,n.lineWidth,x),g.lineDash=It(u.lineDash,n.lineDash),g.lineDashOffset=n.lineDashOffset||0,g.stroke=S),w&&(g.fill=w),p.setBoundingRect(gk(g,r.contentWidth,r.contentHeight,b?0:null))},t.prototype._renderBackground=function(r,n,i,a,o,s){var l=r.backgroundColor,u=r.borderWidth,c=r.borderColor,f=l&&l.image,d=l&&!f,h=r.borderRadius,v=this,p,g;if(d||r.lineHeight||u&&c){p=this._getOrCreateChild(vr),p.useStyle(p.createStyle()),p.style.fill=null;var m=p.shape;m.x=i,m.y=a,m.width=o,m.height=s,m.r=h,p.dirtyShape()}if(d){var y=p.style;y.fill=l||null,y.fillOpacity=It(r.fillOpacity,1)}else if(f){g=this._getOrCreateChild(Ra),g.onload=function(){v.dirtyStyle()};var x=g.style;x.image=l.image,x.x=i,x.y=a,x.width=o,x.height=s}if(u&&c){var y=p.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=It(r.strokeOpacity,1),y.lineDash=r.borderDash,y.lineDashOffset=r.borderDashOffset||0,p.strokeContainThreshold=0,p.hasFill()&&p.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var b=(p||g).style;b.shadowBlur=r.shadowBlur||0,b.shadowColor=r.shadowColor||"transparent",b.shadowOffsetX=r.shadowOffsetX||0,b.shadowOffsetY=r.shadowOffsetY||0,b.opacity=$s(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return Pne(r)&&(n=[r.fontStyle,r.fontWeight,Dne(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&El(n)||r.textFont||r.font},t})(Hl),r7e={left:!0,right:1,center:1},n7e={top:1,bottom:1,middle:1},$V=["fontStyle","fontWeight","fontSize","fontFamily"];function Dne(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?oF+"px":e+"px"}function GV(e,t){for(var r=0;r<$V.length;r++){var n=$V[r],i=t[n];i!=null&&(e[n]=i)}}function Pne(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function i7e(e){return UV(e),G(e.rich,UV),e}function UV(e){if(e){e.font=Pr.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||r7e[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||n7e[r]?r:"top";var n=e.padding;n&&(e.padding=EE(e.padding))}}function WV(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function XV(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function jV(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function YV(e){var t=e.text;return t!=null&&(t+=""),t}function pR(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var qt=wr(),xk=function(e,t,r,n){if(n){var i=qt(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=qt(a);o.seriesIndex=e,o.dataIndex=r,o.dataType=t,o.ssrType="chart"})}},KV=1,ZV={},Rne=wr(),AF=wr(),EF=0,bb=1,HE=2,Zo=["emphasis","blur","select"],T_=["normal","emphasis","blur","select"],ty=10,a7e=9,pp="highlight",vC="downplay",MT="select",_k="unselect",DT="toggleSelect",MF="selectchanged";function U0(e){return e!=null&&e!=="none"}function VE(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function Lne(e){VE(e,"emphasis",HE)}function Ine(e){e.hoverState===HE&&VE(e,"normal",EF)}function DF(e){VE(e,"blur",bb)}function kne(e){e.hoverState===bb&&VE(e,"normal",EF)}function o7e(e){e.selected=!0}function s7e(e){e.selected=!1}function qV(e,t,r){t(e,r)}function Qf(e,t,r){qV(e,t,r),e.isGroup&&e.traverse(function(n){qV(n,t,r)})}function PT(e,t){switch(t){case"emphasis":e.hoverState=HE;break;case"normal":e.hoverState=EF;break;case"blur":e.hoverState=bb;break;case"select":e.selected=!0}}function l7e(e,t,r,n){for(var i=e.style,a={},o=0;o<t.length;o++){var s=t[o],l=i[s];a[s]=l??(n&&n[s])}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function u7e(e,t,r,n){var i=r&&ur(r,"select")>=0,a=!1;if(e instanceof Cr){var o=Rne(e),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(U0(s)||U0(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=He({},n),u=He({},u),u.fill=s):!U0(u.fill)&&U0(s)?(a=!0,n=He({},n),u=He({},u),u.fill=rk(s)):!U0(u.stroke)&&U0(l)&&(a||(n=He({},n),u=He({},u)),u.stroke=rk(l)),n.style=u}}if(n&&n.z2==null){a||(n=He({},n));var c=e.z2EmphasisLift;n.z2=e.z2+(c??ty)}return n}function c7e(e,t,r){if(r&&r.z2==null){r=He({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??a7e)}return r}function f7e(e,t,r){var n=ur(e.currentStates,t)>=0,i=e.style.opacity,a=n?null:l7e(e,["opacity"],t,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=He({},r),o=He({opacity:n?i:a.opacity*.1},o),r.style=o),r}function gR(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return u7e(this,e,t,r);if(e==="blur")return f7e(this,e,r);if(e==="select")return c7e(this,e,r)}return r}function Lp(e){e.stateProxy=gR;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=gR),r&&(r.stateProxy=gR)}function JV(e,t){!Bne(e,t)&&!e.__highByOuter&&Qf(e,Lne)}function QV(e,t){!Bne(e,t)&&!e.__highByOuter&&Qf(e,Ine)}function Bf(e,t){e.__highByOuter|=1<<(t||0),Qf(e,Lne)}function zf(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Qf(e,Ine)}function One(e){Qf(e,DF)}function PF(e){Qf(e,kne)}function Fne(e){Qf(e,o7e)}function Nne(e){Qf(e,s7e)}function Bne(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function zne(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,a){var o=AF(a),s=i==="series",l=s?e.getViewOfSeriesModel(a):e.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){kne(u)}),s&&r.push(a)),o.isBlured=!1}),G(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function bk(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&PF(d)}}if(e!=null&&!(!t||t==="none")){var o=i.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!d||t==="series"&&c)){var h=n.getViewOfSeriesModel(u);if(h.group.traverse(function(g){g.__highByOuter&&c&&t==="self"||DF(g)}),So(t))a(u.getData(),t);else if(Xt(t))for(var v=Lr(t),p=0;p<v.length;p++)a(u.getData(v[p]),t[v[p]]);l.push(u),AF(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function wk(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){AF(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){DF(a)})}}}function d7e(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var a=Pp(i,t);a=(We(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=qt(o);bk(n,u.focus,u.blurScope,r)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);c!=null&&bk(n,c,f,r)}}}function RF(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var a=n.getModel().getComponent(e,t);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),l,u=0;u<s.length;u++)if(qt(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function h7e(e,t,r){var n=qt(e),i=RF(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&wk(n.componentMainType,n.componentIndex,r),G(a,function(s){return JV(s,t)})):(bk(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&wk(n.componentMainType,n.componentIndex,r),JV(e,t))}function v7e(e,t,r){zne(r);var n=qt(e),i=RF(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?G(i,function(a){return QV(a,t)}):QV(e,t)}function p7e(e,t,r){if(Ck(t)){var n=t.dataType,i=e.getData(n),a=Pp(i,t);We(a)||(a=[a]),e[t.type===DT?"toggleSelect":t.type===MT?"select":"unselect"](a,n)}}function e$(e){var t=e.getAllData();G(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){e.isSelected(o,i)?Fne(a):Nne(a)})})}function g7e(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();G(n,function(i){i.data;var a=i.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};a!=null&&(s.dataType=a),t.push(s)}})}),t}function gp(e,t,r){qv(e,!0),Qf(e,Lp),Sk(e,t,r)}function m7e(e){qv(e,!1)}function Wn(e,t,r,n){n?m7e(e):gp(e,t,r)}function Sk(e,t,r){var n=qt(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var t$=["emphasis","blur","select"],y7e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function la(e,t,r,n){r=r||"itemStyle";for(var i=0;i<t$.length;i++){var a=t$[i],o=t.getModel([a,r]),s=e.ensureState(a);s.style=n?n(o):o[y7e[r]]()}}function qv(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function A_(e){return!!(e&&e.__highDownDispatcher)}function x7e(e,t,r){var n=qt(e);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=r}function _7e(e){var t=ZV[e];return t==null&&KV<=32&&(t=ZV[e]=KV++),t}function Ck(e){var t=e.type;return t===MT||t===_k||t===DT}function r$(e){var t=e.type;return t===pp||t===vC}function b7e(e){var t=Rne(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var W0=Rc.CMD,w7e=[[],[],[]],n$=Math.sqrt,S7e=Math.atan2;function Hne(e,t){if(t){var r=e.data,n=e.len(),i,a,o,s,l,u,c=W0.M,f=W0.C,d=W0.L,h=W0.R,v=W0.A,p=W0.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case c:a=1;break;case d:a=1;break;case f:a=3;break;case p:a=2;break;case v:var g=t[4],m=t[5],y=n$(t[0]*t[0]+t[1]*t[1]),x=n$(t[2]*t[2]+t[3]*t[3]),b=S7e(-t[1]/x,t[0]/y);r[o]*=y,r[o++]+=g,r[o]*=x,r[o++]+=m,r[o++]*=y,r[o++]*=x,r[o++]+=b,r[o++]+=b,o+=2,s=o;break;case h:u[0]=r[o++],u[1]=r[o++],Mi(u,u,t),r[s++]=u[0],r[s++]=u[1],u[0]+=r[o++],u[1]+=r[o++],Mi(u,u,t),r[s++]=u[0],r[s++]=u[1]}for(l=0;l<a;l++){var w=w7e[l];w[0]=r[o++],w[1]=r[o++],Mi(w,w,t),r[s++]=w[0],r[s++]=w[1]}}e.increaseVersion()}}var mR=Math.sqrt,PS=Math.sin,RS=Math.cos,e1=Math.PI;function i$(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Tk(e,t){return(e[0]*t[0]+e[1]*t[1])/(i$(e)*i$(t))}function a$(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Tk(e,t))}function o$(e,t,r,n,i,a,o,s,l,u,c){var f=l*(e1/180),d=RS(f)*(e-r)/2+PS(f)*(t-n)/2,h=-1*PS(f)*(e-r)/2+RS(f)*(t-n)/2,v=d*d/(o*o)+h*h/(s*s);v>1&&(o*=mR(v),s*=mR(v));var p=(i===a?-1:1)*mR((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,g=p*o*h/s,m=p*-s*d/o,y=(e+r)/2+RS(f)*g-PS(f)*m,x=(t+n)/2+PS(f)*g+RS(f)*m,b=a$([1,0],[(d-g)/o,(h-m)/s]),w=[(d-g)/o,(h-m)/s],S=[(-1*d-g)/o,(-1*h-m)/s],C=a$(w,S);if(Tk(w,S)<=-1&&(C=e1),Tk(w,S)>=1&&(C=0),C<0){var E=Math.round(C/e1*1e6)/1e6;C=e1*2+E%2*e1}c.addData(u,y,x,o,s,b,C,f,a)}var C7e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,T7e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function A7e(e){var t=new Rc;if(!e)return t;var r=0,n=0,i=r,a=n,o,s=Rc.CMD,l=e.match(C7e);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(T7e)||[],v=h.length,p=0;p<v;p++)h[p]=parseFloat(h[p]);for(var g=0;g<v;){var m=void 0,y=void 0,x=void 0,b=void 0,w=void 0,S=void 0,C=void 0,E=r,A=n,M=void 0,D=void 0;switch(f){case"l":r+=h[g++],n+=h[g++],d=s.L,t.addData(d,r,n);break;case"L":r=h[g++],n=h[g++],d=s.L,t.addData(d,r,n);break;case"m":r+=h[g++],n+=h[g++],d=s.M,t.addData(d,r,n),i=r,a=n,f="l";break;case"M":r=h[g++],n=h[g++],d=s.M,t.addData(d,r,n),i=r,a=n,f="L";break;case"h":r+=h[g++],d=s.L,t.addData(d,r,n);break;case"H":r=h[g++],d=s.L,t.addData(d,r,n);break;case"v":n+=h[g++],d=s.L,t.addData(d,r,n);break;case"V":n=h[g++],d=s.L,t.addData(d,r,n);break;case"C":d=s.C,t.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),r=h[g-2],n=h[g-1];break;case"c":d=s.C,t.addData(d,h[g++]+r,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r,h[g++]+n),r+=h[g-2],n+=h[g-1];break;case"S":m=r,y=n,M=t.len(),D=t.data,o===s.C&&(m+=r-D[M-4],y+=n-D[M-3]),d=s.C,E=h[g++],A=h[g++],r=h[g++],n=h[g++],t.addData(d,m,y,E,A,r,n);break;case"s":m=r,y=n,M=t.len(),D=t.data,o===s.C&&(m+=r-D[M-4],y+=n-D[M-3]),d=s.C,E=r+h[g++],A=n+h[g++],r+=h[g++],n+=h[g++],t.addData(d,m,y,E,A,r,n);break;case"Q":E=h[g++],A=h[g++],r=h[g++],n=h[g++],d=s.Q,t.addData(d,E,A,r,n);break;case"q":E=h[g++]+r,A=h[g++]+n,r+=h[g++],n+=h[g++],d=s.Q,t.addData(d,E,A,r,n);break;case"T":m=r,y=n,M=t.len(),D=t.data,o===s.Q&&(m+=r-D[M-4],y+=n-D[M-3]),r=h[g++],n=h[g++],d=s.Q,t.addData(d,m,y,r,n);break;case"t":m=r,y=n,M=t.len(),D=t.data,o===s.Q&&(m+=r-D[M-4],y+=n-D[M-3]),r+=h[g++],n+=h[g++],d=s.Q,t.addData(d,m,y,r,n);break;case"A":x=h[g++],b=h[g++],w=h[g++],S=h[g++],C=h[g++],E=r,A=n,r=h[g++],n=h[g++],d=s.A,o$(E,A,r,n,S,C,x,b,w,d,t);break;case"a":x=h[g++],b=h[g++],w=h[g++],S=h[g++],C=h[g++],E=r,A=n,r+=h[g++],n+=h[g++],d=s.A,o$(E,A,r,n,S,C,x,b,w,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),r=i,n=a),o=d}return t.toStatic(),t}var Vne=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t})(Cr);function $ne(e){return e.setData!=null}function Gne(e,t){var r=A7e(e),n=He({},t);return n.buildPath=function(i){var a=$ne(i);if(a&&i.canSave()){i.appendPath(r);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=a?i.getContext():i;o&&r.rebuildPath(o,1)}},n.applyTransform=function(i){Hne(r,i),this.dirtyShape()},n}function Une(e,t){return new Vne(Gne(e,t))}function E7e(e,t){var r=Gne(e,t),n=(function(i){Ae(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a})(Vne);return n}function M7e(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var a=e[i];r.push(a.getUpdatedPathProxy(!0))}var o=new Cr(t);return o.createPathProxy(),o.buildPath=function(s){if($ne(s)){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function LF(e,t){t=t||{};var r=new Cr;return e.shape&&r.setShape(e.shape),r.setStyle(e.style),t.bakeTransform?Hne(r.path,e.getComputedTransform()):t.toLocal?r.setLocalTransform(e.getComputedTransform()):r.copyTransform(e),r.buildPath=e.buildPath,r.applyTransform=r.applyTransform,r.z=e.z,r.z2=e.z2,r.zlevel=e.zlevel,r}var D7e=(function(){function e(){this.cx=0,this.cy=0,this.r=0}return e})(),ed=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new D7e},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(Cr);ed.prototype.type="circle";var P7e=(function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e})(),$E=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new P7e},t.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*i,c=l*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),r.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),r.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),r.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),r.closePath()},t})(Cr);$E.prototype.type="ellipse";var Wne=Math.PI,yR=Wne*2,hv=Math.sin,X0=Math.cos,R7e=Math.acos,lo=Math.atan2,s$=Math.abs,Fx=Math.sqrt,j1=Math.max,Wu=Math.min,Ql=1e-4;function L7e(e,t,r,n,i,a,o,s){var l=r-e,u=n-t,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<Ql))return d=(c*(t-a)-f*(e-i))/d,[e+d*l,t+d*u]}function LS(e,t,r,n,i,a,o){var s=e-r,l=t-n,u=(o?a:-a)/Fx(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,v=r+c,p=n+f,g=(d+v)/2,m=(h+p)/2,y=v-d,x=p-h,b=y*y+x*x,w=i-a,S=d*p-v*h,C=(x<0?-1:1)*Fx(j1(0,w*w*b-S*S)),E=(S*x-y*C)/b,A=(-S*y-x*C)/b,M=(S*x+y*C)/b,D=(-S*y+x*C)/b,R=E-g,L=A-m,k=M-g,O=D-m;return R*R+L*L>k*k+O*O&&(E=M,A=D),{cx:E,cy:A,x0:-c,y0:-f,x1:E*(i/w-1),y1:A*(i/w-1)}}function I7e(e){var t;if(We(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function k7e(e,t){var r,n=j1(t.r,0),i=j1(t.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=s$(u-l),v=h>yR&&h%yR;if(v>Ql&&(h=v),!(n>Ql))e.moveTo(c,f);else if(h>yR-Ql)e.moveTo(c+n*X0(l),f+n*hv(l)),e.arc(c,f,n,l,u,!d),i>Ql&&(e.moveTo(c+i*X0(u),f+i*hv(u)),e.arc(c,f,i,u,l,d));else{var p=void 0,g=void 0,m=void 0,y=void 0,x=void 0,b=void 0,w=void 0,S=void 0,C=void 0,E=void 0,A=void 0,M=void 0,D=void 0,R=void 0,L=void 0,k=void 0,O=n*X0(l),F=n*hv(l),H=i*X0(u),V=i*hv(u),U=h>Ql;if(U){var K=t.cornerRadius;K&&(r=I7e(K),p=r[0],g=r[1],m=r[2],y=r[3]);var q=s$(n-i)/2;if(x=Wu(q,m),b=Wu(q,y),w=Wu(q,p),S=Wu(q,g),A=C=j1(x,b),M=E=j1(w,S),(C>Ql||E>Ql)&&(D=n*X0(u),R=n*hv(u),L=i*X0(l),k=i*hv(l),h<Wne)){var N=L7e(O,F,L,k,D,R,H,V);if(N){var W=O-N[0],j=F-N[1],Z=D-N[0],ve=R-N[1],Te=1/hv(R7e((W*Z+j*ve)/(Fx(W*W+j*j)*Fx(Z*Z+ve*ve)))/2),Se=Fx(N[0]*N[0]+N[1]*N[1]);A=Wu(C,(n-Se)/(Te+1)),M=Wu(E,(i-Se)/(Te-1))}}}if(!U)e.moveTo(c+O,f+F);else if(A>Ql){var te=Wu(m,A),pe=Wu(y,A),Re=LS(L,k,O,F,n,te,d),z=LS(D,R,H,V,n,pe,d);e.moveTo(c+Re.cx+Re.x0,f+Re.cy+Re.y0),A<C&&te===pe?e.arc(c+Re.cx,f+Re.cy,A,lo(Re.y0,Re.x0),lo(z.y0,z.x0),!d):(te>0&&e.arc(c+Re.cx,f+Re.cy,te,lo(Re.y0,Re.x0),lo(Re.y1,Re.x1),!d),e.arc(c,f,n,lo(Re.cy+Re.y1,Re.cx+Re.x1),lo(z.cy+z.y1,z.cx+z.x1),!d),pe>0&&e.arc(c+z.cx,f+z.cy,pe,lo(z.y1,z.x1),lo(z.y0,z.x0),!d))}else e.moveTo(c+O,f+F),e.arc(c,f,n,l,u,!d);if(!(i>Ql)||!U)e.lineTo(c+H,f+V);else if(M>Ql){var te=Wu(p,M),pe=Wu(g,M),Re=LS(H,V,D,R,i,-pe,d),z=LS(O,F,L,k,i,-te,d);e.lineTo(c+Re.cx+Re.x0,f+Re.cy+Re.y0),M<E&&te===pe?e.arc(c+Re.cx,f+Re.cy,M,lo(Re.y0,Re.x0),lo(z.y0,z.x0),!d):(pe>0&&e.arc(c+Re.cx,f+Re.cy,pe,lo(Re.y0,Re.x0),lo(Re.y1,Re.x1),!d),e.arc(c,f,i,lo(Re.cy+Re.y1,Re.cx+Re.x1),lo(z.cy+z.y1,z.cx+z.x1),d),te>0&&e.arc(c+z.cx,f+z.cy,te,lo(z.y1,z.x1),lo(z.y0,z.x0),!d))}else e.lineTo(c+H,f+V),e.arc(c,f,i,u,l,d)}e.closePath()}}}var O7e=(function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e})(),To=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new O7e},t.prototype.buildPath=function(r,n){k7e(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(Cr);To.prototype.type="sector";var F7e=(function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e})(),wb=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new F7e},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},t})(Cr);wb.prototype.type="ring";function N7e(e,t,r,n){var i=[],a=[],o=[],s=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)Yd(c,c,e[d]),Kd(f,f,e[d]);Yd(c,c,n[0]),Kd(f,f,n[1])}for(var d=0,h=e.length;d<h;d++){var v=e[d];if(r)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){i.push(Tf(e[d]));continue}else l=e[d-1],u=e[d+1];Kv(a,u,l),sC(a,a,t);var p=X3(v,l),g=X3(v,u),m=p+g;m!==0&&(p/=m,g/=m),sC(o,a,-p),sC(s,a,g);var y=q9([],v,o),x=q9([],v,s);n&&(Kd(y,y,c),Yd(y,y,f),Kd(x,x,c),Yd(x,x,f)),i.push(y),i.push(x)}return r&&i.push(i.shift()),i}function Xne(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=N7e(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=i[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)e.lineTo(i[s][0],i[s][1])}r&&e.closePath()}}var B7e=(function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e})(),Ao=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new B7e},t.prototype.buildPath=function(r,n){Xne(r,n,!0)},t})(Cr);Ao.prototype.type="polygon";var z7e=(function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e})(),no=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new z7e},t.prototype.buildPath=function(r,n){Xne(r,n,!1)},t})(Cr);no.prototype.type="polyline";var H7e={},V7e=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e})(),Gi=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new V7e},t.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var l=zE(H7e,n,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(r.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),r.lineTo(o,s))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t})(Cr);Gi.prototype.type="line";var os=[],$7e=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e})();function l$(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?cV:pa)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?cV:pa)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?Q3:Na)(e.x1,e.cpx1,e.x2,t),(r?Q3:Na)(e.y1,e.cpy1,e.y2,t)]}var Sb=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $7e},t.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,d=n.percent;d!==0&&(r.moveTo(i,a),c==null||f==null?(d<1&&(__(i,l,o,d,os),l=os[1],o=os[2],__(a,u,s,d,os),u=os[1],s=os[2]),r.quadraticCurveTo(l,u,o,s)):(d<1&&(xh(i,l,c,o,d,os),l=os[1],c=os[2],o=os[3],xh(a,u,f,s,d,os),u=os[1],f=os[2],s=os[3]),r.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(r){return l$(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=l$(this.shape,r,!0);return Jm(n,n)},t})(Cr);Sb.prototype.type="bezier-curve";var G7e=(function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e})(),GE=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new G7e},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),f=Math.sin(s);r.moveTo(c*o+i,f*o+a),r.arc(i,a,o,s,l,!u)},t})(Cr);GE.prototype.type="arc";var UE=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Cr.prototype.getBoundingRect.call(this)},t})(Cr),jne=(function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e})(),ry=(function(e){Ae(t,e);function t(r,n,i,a,o,s){var l=e.call(this,o)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return t})(jne),Yne=(function(e){Ae(t,e);function t(r,n,i,a,o){var s=e.call(this,a)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return t})(jne),xR=Math.min,U7e=Math.max,IS=Math.abs,vv=[0,0],pv=[0,0],Oa=Ore(),kS=Oa.minTv,OS=Oa.maxTv,Kne=(function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Wt;for(var n=0;n<2;n++)this._axes[n]=new Wt;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,a=t.x,o=t.y,s=a+t.width,l=o+t.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),r)for(var u=0;u<4;u++)n[u].transform(r);Wt.sub(i[0],n[1],n[0]),Wt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},e.prototype.intersect=function(t,r,n){var i=!0,a=!r;return r&&Wt.set(r,0,0),Oa.reset(n,!a),!this._intersectCheckOneSide(this,t,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(t,this,a,-1)&&(i=!1,a)||!a&&!Oa.negativeSize&&Wt.copy(r,i?Oa.useDir?Oa.dirMinTv:kS:OS),i},e.prototype._intersectCheckOneSide=function(t,r,n,i){for(var a=!0,o=0;o<2;o++){var s=t._axes[o];if(t._getProjMinMaxOnAxis(o,t._corners,vv),t._getProjMinMaxOnAxis(o,r._corners,pv),Oa.negativeSize||vv[1]<pv[0]||vv[0]>pv[1]){if(a=!1,Oa.negativeSize||n)return a;var l=IS(pv[0]-vv[1]),u=IS(vv[0]-pv[1]);xR(l,u)>OS.len()&&(l<u?Wt.scale(OS,s,-l*i):Wt.scale(OS,s,u*i))}else if(!n){var l=IS(pv[0]-vv[1]),u=IS(vv[0]-pv[1]);(Oa.useDir||xR(l,u)<kS.len())&&((l<u||!Oa.bidirectional)&&(Wt.scale(kS,s,l*i),Oa.useDir&&Oa.calcDirMTV()),(l>=u||!Oa.bidirectional)&&(Wt.scale(kS,s,-u*i),Oa.useDir&&Oa.calcDirMTV()))}}return a},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],a=this._origin,o=r[0].dot(i)+a[t],s=o,l=o,u=1;u<r.length;u++){var c=r[u].dot(i)+a[t];s=xR(c,s),l=U7e(c,l)}n[0]=s+Oa.touchThreshold,n[1]=l-Oa.touchThreshold,Oa.negativeSize=n[1]<n[0]},e})(),W7e=[],X7e=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new jt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(W7e)),r.union(a)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},t})(Hl),Zne=wr();function ny(e,t,r,n,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,f=void 0;n?(u=It(n.duration,200),c=It(n.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Ht(f)&&(f=f(r,i)),Ht(u)&&(u=u(r));var d={duration:u||0,delay:f,easing:c};return d}else return null}function IF(e,t,r,n,i,a,o){var s=!1,l;Ht(i)?(o=a,a=i,i=null):Xt(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=ny(e,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,v={duration:f,delay:d||0,easing:h,done:a,force:!!a||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(r,v):t.animateTo(r,v)}else t.stopAnimation(),!s&&t.attr(r),o&&o(1),a&&a()}function Wr(e,t,r,n,i,a){IF("update",e,t,r,n,i,a)}function Hn(e,t,r,n,i,a){IF("enter",e,t,r,n,i,a)}function Qg(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function _h(e,t,r,n,i,a){Qg(e)||IF("leave",e,t,r,n,i,a)}function u$(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),_h(e,{style:{opacity:0}},t,r,n)}function Af(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||u$(i,t,r,n)}):u$(e,t,r,n)}function Vl(e){Zne(e).oldStyle=e.style}function j7e(e){return Zne(e).oldStyle}var Ak={},ir=["x","y"],Xi=["width","height"];function Y7e(e){return Cr.extend(e)}var K7e=E7e;function Z7e(e,t){return K7e(e,t)}function Ru(e,t){Ak[e]=t}function RT(e){if(Ak.hasOwnProperty(e))return Ak[e]}function E_(e,t,r,n){var i=Une(e,t);return r&&(n==="center"&&(r=Jne(r,i.getBoundingRect())),Qne(i,r)),i}function qne(e,t,r){var n=new Ra({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(Jne(t,a))}}});return n}function Jne(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var a=e.x+e.width/2,o=e.y+e.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var Tl=M7e;function Qne(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function ym(e,t){return zE(e,e,{lineWidth:t}),e}function q7e(e,t){return Mne(e,e,t),e}var pC=Bs;function mp(e,t){for(var r=DE([]);e&&e!==t;)yc(r,e.getLocalTransform(),r),e=e.parent;return r}function gu(e,t,r){return t&&!So(t)&&(t=xf.getLocalTransform(t)),r&&(t=Tu([],t)),Mi([],e,t)}function WE(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:cc(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:cc(2*t[4]/t[2]),a=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return a=gu(a,t,r),cc(a[0])>cc(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function c$(e){return!e.isGroup}function J7e(e){return e.shape!=null}function Cb(e,t,r){if(!e||!t)return;function n(o){var s={};return o.traverse(function(l){c$(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return J7e(o)&&(s.shape=Vt(o.shape)),s}var a=n(e);t.traverse(function(o){if(c$(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Wr(o,l,r,qt(o).dataIndex)}}})}function eie(e,t){return Ye(e,function(r){var n=r[0];n=Ai(n,t.x),n=Gs(n,t.x+t.width);var i=r[1];return i=Ai(i,t.y),i=Gs(i,t.y+t.height),[n,i]})}function Q7e(e,t){var r=Ai(e.x,t.x),n=Gs(e.x+e.width,t.x+t.width),i=Ai(e.y,t.y),a=Gs(e.y+e.height,t.y+t.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function Tb(e,t,r){var n=He({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),kt(i,r),new Ra(n)):E_(e.replace("path://",""),n,r,"center")}function Y1(e,t,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(tie(e,t,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function tie(e,t,r,n,i,a,o,s){var l=r-e,u=n-t,c=o-i,f=s-a,d=_R(c,f,l,u);if(e9e(d))return!1;var h=e-i,v=t-a,p=_R(h,v,l,u)/d;if(p<0||p>1)return!1;var g=_R(h,v,c,f)/d;return!(g<0||g>1)}function _R(e,t,r,n){return e*n-r*t}function e9e(e){return e<=1e-6&&e>=-1e-6}function Ip(e,t,r,n,i){return t==null||(Br(t)?jn[0]=jn[1]=jn[2]=jn[3]=t:(jn[0]=t[0],jn[1]=t[1],jn[2]=t[2],jn[3]=t[3]),n&&(jn[0]=Ai(0,jn[0]),jn[1]=Ai(0,jn[1]),jn[2]=Ai(0,jn[2]),jn[3]=Ai(0,jn[3])),r&&(jn[0]=-jn[0],jn[1]=-jn[1],jn[2]=-jn[2],jn[3]=-jn[3]),f$(e,jn,"x","width",3,1,i&&i[0]||0),f$(e,jn,"y","height",0,2,i&&i[1]||0)),e}var jn=[0,0,0,0];function f$(e,t,r,n,i,a,o){var s=t[a]+t[i],l=e[n];e[n]+=s,o=Ai(0,Gs(o,l)),e[n]<o?(e[n]=o,e[r]+=t[i]>=0?-t[i]:t[a]>=0?l+t[a]:cc(s)>1e-8?(l-o)*t[i]/s:0):e[r]-=t[i]}function td(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=pt(t)?{formatter:t}:t,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=e.formatterParamsExtra;l&&G(Lr(l),function(c){St(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=qt(e.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:n,option:kt({content:n,encodeHTMLContent:!0,formatterParams:s},i)}}function Ek(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function Ih(e,t){if(e)if(We(e))for(var r=0;r<e.length;r++)Ek(e[r],t);else Ek(e,t)}function kF(e){return!e||cc(e[1])<FS&&cc(e[2])<FS||cc(e[0])<FS&&cc(e[3])<FS}var FS=1e-5;function M_(e,t){return e?jt.copy(e,t):t.clone()}function OF(e,t){return t?PE(e||$a(),t):void 0}function kp(e){return{z:e.get("z")||0,zlevel:e.get("zlevel")||0}}function rie(e){var t=-1/0,r=1/0;Ek(e,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var s=0;s<o.length;s++)i(a.states[o[s]]);i(a)}}function i(a){if(a){var o=a.z2;o>t&&(t=o),o<r&&(r=o)}}return r>t&&(r=t=0),{min:r,max:t}}function XE(e,t,r){nie(e,t,r,-1/0)}function nie(e,t,r,n){if(e.ignoreModelZ)return n;var i=e.getTextContent(),a=e.getTextGuideLine(),o=e.isGroup;if(o)for(var s=e.childrenRef(),l=0;l<s.length;l++)n=Ai(nie(s[l],t,r,n),n);else e.z=t,e.zlevel=r,n=Ai(e.z2||0,n);if(i&&(i.z=t,i.zlevel=r,isFinite(n)&&(i.z2=n+2)),a){var u=e.textGuideLineConfig;a.z=t,a.zlevel=r,isFinite(n)&&(a.z2=n+(u&&u.showAbove?1:-1))}return n}Ru("circle",ed);Ru("ellipse",$E);Ru("sector",To);Ru("ring",wb);Ru("polygon",Ao);Ru("polyline",no);Ru("rect",vr);Ru("line",Gi);Ru("bezierCurve",Sb);Ru("arc",GE);const l0=Object.freeze(Object.defineProperty({__proto__:null,Arc:GE,BezierCurve:Sb,BoundingRect:jt,Circle:ed,CompoundPath:UE,Ellipse:$E,Group:$t,Image:Ra,IncrementalDisplayable:X7e,Line:Gi,LinearGradient:ry,OrientedBoundingRect:Kne,Path:Cr,Point:Wt,Polygon:Ao,Polyline:no,RadialGradient:Yne,Rect:vr,Ring:wb,Sector:To,Text:Pr,WH:Xi,XY:ir,applyTransform:gu,calcZ2Range:rie,clipPointsByRect:eie,clipRectByRect:Q7e,createIcon:Tb,ensureCopyRect:M_,ensureCopyTransform:OF,expandOrShrinkRect:Ip,extendPath:Z7e,extendShape:Y7e,getShapeClass:RT,getTransform:mp,groupTransition:Cb,initProps:Hn,isBoundingRectAxisAligned:kF,isElementRemoved:Qg,lineLineIntersect:tie,linePolygonIntersect:Y1,makeImage:qne,makePath:E_,mergePath:Tl,registerShape:Ru,removeElement:_h,removeElementWithFadeOut:Af,resizePath:Qne,retrieveZInfo:kp,setTooltipConfig:td,subPixelOptimize:pC,subPixelOptimizeLine:ym,subPixelOptimizeRect:q7e,transformDirection:WE,traverseElements:Ih,traverseUpdateZ:XE,updateProps:Wr},Symbol.toStringTag,{value:"Module"}));var jE={};function iie(e,t){for(var r=0;r<Zo.length;r++){var n=Zo[r],i=t[n],a=e.ensureState(n);a.style=a.style||{},a.style.text=i}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function Mk(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,o=t.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=Ht(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var l={normal:s},u=0;u<Zo.length;u++){var c=Zo[u],f=t[c];l[c]=It(n?n.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,s)}return l}function Da(e,t,r,n){r=r||jE;for(var i=e instanceof Pr,a=!1,o=0;o<T_.length;o++){var s=t[T_[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?e:e.getTextContent();if(a){i||(l||(l=new Pr,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=Mk(r,t),c=t.normal,f=!!c.getShallow("show"),d=gn(c,n&&n.normal,r,!1,!i);d.text=u.normal,i||e.setTextConfig(LT(c,r,!1));for(var o=0;o<Zo.length;o++){var h=Zo[o],s=t[h];if(s){var v=l.ensureState(h),p=!!It(s.getShallow("show"),f);if(p!==f&&(v.ignore=!p),v.style=gn(s,n&&n[h],r,!0,!i),v.style.text=u[h],!i){var g=e.ensureState(h);g.textConfig=LT(s,r,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),r.enableTextSetter&&(iy(l).setLabelText=function(m){var y=Mk(r,t,m);iie(l,y)})}else l&&(l.ignore=!0);e.dirty()}function ua(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Zo.length;n++){var i=Zo[n];r[i]=e.getModel([i,t])}return r}function gn(e,t,r,n,i){var a={};return t9e(a,e,r,n,i),t&&He(a,t),a}function LT(e,t,r){t=t||{};var n={},i,a=e.getShallow("rotate"),o=It(e.getShallow("distance"),r?null:5),s=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(n.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(n.layoutRect=t.layoutRect),n}function t9e(e,t,r,n,i){r=r||jE;var a=t.ecModel,o=a&&a.option.textStyle,s=r9e(t),l;if(s){l={};var u="richInheritPlainLabel",c=It(t.get(u),a?a.get(u):void 0);for(var f in s)if(s.hasOwnProperty(f)){var d=t.getModel(["rich",f]);p$(l[f]={},d,o,t,c,r,n,i,!1,!0)}}l&&(e.rich=l);var h=t.get("overflow");h&&(e.overflow=h);var v=t.get("lineOverflow");v&&(e.lineOverflow=v);var p=e,g=t.get("minMargin");if(g!=null)g=Br(g)?g/2:0,p.margin=[g,g,g,g],p.__marginType=Ig.minMargin;else{var m=t.get("textMargin");m!=null&&(p.margin=EE(m),p.__marginType=Ig.textMargin)}p$(e,t,o,null,null,r,n,i,!0,!1)}function r9e(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||jE).rich;if(r){t=t||{};for(var n=Lr(r),i=0;i<n.length;i++){var a=n[i];t[a]=1}}e=e.parentModel}return t}var d$=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],h$=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],v$=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function p$(e,t,r,n,i,a,o,s,l,u){r=!o&&r||jE;var c=a&&a.inheritColor,f=t.getShallow("color"),d=t.getShallow("textBorderColor"),h=It(t.getShallow("opacity"),r.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(d==="inherit"||d==="auto")&&(c?d=c:d=null),s||(f=f||r.color,d=d||r.textBorderColor),f!=null&&(e.fill=f),d!=null&&(e.stroke=d);var v=It(t.getShallow("textBorderWidth"),r.textBorderWidth);v!=null&&(e.lineWidth=v);var p=It(t.getShallow("textBorderType"),r.textBorderType);p!=null&&(e.lineDash=p);var g=It(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);g!=null&&(e.lineDashOffset=g),!o&&h==null&&!u&&(h=a&&a.defaultOpacity),h!=null&&(e.opacity=h),!o&&!s&&e.fill==null&&a.inheritColor&&(e.fill=a.inheritColor);for(var m=0;m<d$.length;m++){var y=d$[m],x=i!==!1&&n?$s(t.getShallow(y),n.getShallow(y),r[y]):It(t.getShallow(y),r[y]);x!=null&&(e[y]=x)}for(var m=0;m<h$.length;m++){var y=h$[m],x=t.getShallow(y);x!=null&&(e[y]=x)}if(e.verticalAlign==null){var b=t.getShallow("baseline");b!=null&&(e.verticalAlign=b)}if(!l||!a.disableBox){for(var m=0;m<v$.length;m++){var y=v$[m],x=t.getShallow(y);x!=null&&(e[y]=x)}var w=t.getShallow("borderType");w!=null&&(e.borderDash=w),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&c&&(e.backgroundColor=c),(e.borderColor==="auto"||e.borderColor==="inherit")&&c&&(e.borderColor=c)}}function FF(e,t){var r=t&&t.getModel("textStyle");return El([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var iy=wr();function aie(e,t,r,n){if(e){var i=iy(e);i.prevValue=i.value,i.value=r;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function oie(e,t,r,n,i){var a=iy(e);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=It(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=xne(r,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var d=Mk({labelDataIndex:t,labelFetcher:i,defaultText:o?o(f):f+""},a.statesModels,f);iie(e,d)}e.percent=0,(a.prevValue==null?Hn:Wr)(e,{percent:1},n,t,null,u)}var Ig={minMargin:1,textMargin:2},n9e=["textStyle","color"],bR=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],wR=new Pr,i9e=(function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(n9e):null)},e.prototype.getFont=function(){return FF({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<bR.length;n++)r[bR[n]]=this.getShallow(bR[n]);return wR.useStyle(r),wR.update(),wR.getBoundingRect()},e})(),sie=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],a9e=Rp(sie),o9e=(function(){function e(){}return e.prototype.getLineStyle=function(t){return a9e(this,t)},e})(),lie=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],s9e=Rp(lie),l9e=(function(){function e(){}return e.prototype.getItemStyle=function(t,r){return s9e(this,t,r)},e})(),pr=(function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){Et(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(a,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(Vt(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Er.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e})();SF(pr);pHe(pr);Ii(pr,o9e);Ii(pr,l9e);Ii(pr,_He);Ii(pr,i9e);var u9e=Math.round(Math.random()*10);function ay(e){return[e||"",u9e++].join("_")}function c9e(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=dc(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var a=dc(r).main;e.hasSubTypes(r)&&t[a]&&(i=t[a](n))}return i}}function f9e(e,t){e.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=r(o),c=u.graph,f=u.noEntryList,d={};for(G(a,function(y){d[y]=!0});f.length;){var h=f.pop(),v=c[h],p=!!d[h];p&&(s.call(l,h,v.originalDeps.slice()),delete d[h]),G(v.successor,p?m:g)}G(d,function(){var y="";throw new Error(y)});function g(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function m(y){d[y]=!0,g(y)}};function r(a){var o={},s=[];return G(a,function(l){var u=n(o,l),c=u.originalDeps=t(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),G(f,function(d){ur(u.predecessor,d)<0&&u.predecessor.push(d);var h=n(o,d);ur(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return G(a,function(l){ur(o,l)>=0&&s.push(l)}),s}}function kh(e,t){return Et(Et({},e,!0),t,!0)}const d9e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},h9e={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var IT="ZH",NF="EN",em=NF,gC={},BF={},uie=Er.domSupported?(function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||em).toUpperCase();return e.indexOf(IT)>-1?IT:em})():em;function cie(e,t){e=e.toUpperCase(),BF[e]=new pr(t),gC[e]=t}function v9e(e){if(pt(e)){var t=gC[e.toUpperCase()]||{};return e===IT||e===NF?Vt(t):Et(Vt(t),Vt(gC[em]),!1)}else return Et(Vt(e),Vt(gC[em]),!1)}function Dk(e){return BF[e]}function p9e(){return BF[em]}cie(NF,d9e);cie(IT,h9e);var Pk=null;function g9e(e){Pk||(Pk=e)}function Ui(){return Pk}var zF=1e3,HF=zF*60,Nx=HF*60,Al=Nx*24,g$=Al*365,m9e={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},mC={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},y9e="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",NS="{yyyy}-{MM}-{dd}",m$={year:"{yyyy}",month:"{yyyy}-{MM}",day:NS,hour:NS+" "+mC.hour,minute:NS+" "+mC.minute,second:NS+" "+mC.second,millisecond:y9e},Ps=["year","month","day","hour","minute","second","millisecond"],x9e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function _9e(e){return!pt(e)&&!Ht(e)?b9e(e):e}function b9e(e){e=e||{};var t={},r=!0;return G(Ps,function(n){r&&(r=e[n]==null)}),G(Ps,function(n,i){var a=e[n];t[n]={};for(var o=null,s=i;s>=0;s--){var l=Ps[s],u=Xt(a)&&!We(a)?a[l]:a,c=void 0;We(u)?(c=u.slice(),o=c[0]||""):pt(u)?(o=u,c=[o]):(o==null?o=mC[n]:m9e[l].test(o)||(o=t[l][l][0]+" "+o),c=[o],r&&(c[1]="{primary|"+o+"}")),t[n][l]=c}}),t}function Ho(e,t){return e+="","0000".substr(0,t-e.length)+e}function Bx(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function w9e(e){return e===Bx(e)}function S9e(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function YE(e,t,r,n){var i=Jf(e),a=i[fie(r)](),o=i[VF(r)]()+1,s=Math.floor((o-1)/3)+1,l=i[$F(r)](),u=i["get"+(r?"UTC":"")+"Day"](),c=i[GF(r)](),f=(c-1)%12+1,d=i[UF(r)](),h=i[WF(r)](),v=i[XF(r)](),p=c>=12?"pm":"am",g=p.toUpperCase(),m=n instanceof pr?n:Dk(n||uie)||p9e(),y=m.getModel("time"),x=y.get("month"),b=y.get("monthAbbr"),w=y.get("dayOfWeek"),S=y.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,p+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Ho(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,x[o-1]).replace(/{MMM}/g,b[o-1]).replace(/{MM}/g,Ho(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Ho(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[u]).replace(/{ee}/g,S[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Ho(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Ho(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Ho(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Ho(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Ho(v,3)).replace(/{S}/g,v+"")}function C9e(e,t,r,n,i){var a=null;if(pt(r))a=r;else if(Ht(r)){var o={time:e.time,level:e.time.level},s=Ui();s&&s.makeAxisLabelFormatterParamBreak(o,e.break),a=r(e.value,t,o)}else{var l=e.time;if(l){var u=r[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=kg(e.value,i);a=r[c][c][0]}}return YE(new Date(e.value),a,i,n)}function kg(e,t){var r=Jf(e),n=r[VF(t)]()+1,i=r[$F(t)](),a=r[GF(t)](),o=r[UF(t)](),s=r[WF(t)](),l=r[XF(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&a===0,h=d&&i===1,v=h&&n===1;return v?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function Rk(e,t,r){switch(t){case"year":e[die(r)](0);case"month":e[hie(r)](1);case"day":e[vie(r)](0);case"hour":e[pie(r)](0);case"minute":e[gie(r)](0);case"second":e[mie(r)](0)}return e}function fie(e){return e?"getUTCFullYear":"getFullYear"}function VF(e){return e?"getUTCMonth":"getMonth"}function $F(e){return e?"getUTCDate":"getDate"}function GF(e){return e?"getUTCHours":"getHours"}function UF(e){return e?"getUTCMinutes":"getMinutes"}function WF(e){return e?"getUTCSeconds":"getSeconds"}function XF(e){return e?"getUTCMilliseconds":"getMilliseconds"}function T9e(e){return e?"setUTCFullYear":"setFullYear"}function die(e){return e?"setUTCMonth":"setMonth"}function hie(e){return e?"setUTCDate":"setDate"}function vie(e){return e?"setUTCHours":"setHours"}function pie(e){return e?"setUTCMinutes":"setMinutes"}function gie(e){return e?"setUTCSeconds":"setSeconds"}function mie(e){return e?"setUTCMilliseconds":"setMilliseconds"}function kT(e){if(!cne(e))return pt(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function yie(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Ab=EE;function Lk(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&El(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?Jf(e):e;if(isNaN(+l)){if(s)return"-"}else return YE(l,n,r)}if(t==="ordinal")return G3(e)?i(e):Br(e)&&a(e)?e+"":"-";var u=Nf(e);return a(u)?kT(u):G3(e)?i(e):typeof e=="boolean"?e+"":"-"}var y$=["a","b","c","d","e","f","g"],SR=function(e,t){return"{"+e+(t??"")+"}"};function jF(e,t,r){We(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=y$[a];e=e.replace(SR(o),SR(o,0))}for(var s=0;s<n;s++)for(var l=0;l<i.length;l++){var u=t[s][i[l]];e=e.replace(SR(y$[l],s),r?$i(u):u)}return e}function A9e(e,t,r){return G(t,function(n,i){e=e.replace("{"+i+"}",n)}),e}function xie(e,t){var r=pt(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$i(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+$i(n)+";"+(t||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function E9e(e,t,r){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var n=Jf(t),i="get",a=n[i+"FullYear"](),o=n[i+"Month"]()+1,s=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),f=n[i+"Milliseconds"]();return e=e.replace("MM",Ho(o,2)).replace("M",o).replace("yyyy",a).replace("yy",Ho(a%100+"",2)).replace("dd",Ho(s,2)).replace("d",s).replace("hh",Ho(l,2)).replace("h",l).replace("mm",Ho(u,2)).replace("m",u).replace("ss",Ho(c,2)).replace("s",c).replace("SSS",Ho(f,3)),e}function Op(e,t){return t=t||"transparent",pt(e)?e:Xt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function OT(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var yC={},CR={},oy=(function(){function e(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return e.prototype.create=function(t,r){this._nonSeriesBoxMasterList=n(yC),this._normalMasterList=n(CR);function n(i,a){var o=[];return G(i,function(s,l){var u=s.create(t,r);o=o.concat(u||[])}),o}},e.prototype.update=function(t,r){G(this._normalMasterList,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},e.register=function(t,r){if(t==="matrix"||t==="calendar"){yC[t]=r;return}CR[t]=r},e.get=function(t){return CR[t]||yC[t]},e})();function M9e(e){return!!yC[e]}var Ik={coord:1,coord2:2};function D9e(e){_ie.set(e.fullType,{getCoord2:void 0}).getCoord2=e.getCoord2}var _ie=Rt();function P9e(e){var t=e.getShallow("coord",!0),r=Ik.coord;if(t==null){var n=_ie.get(e.type);n&&n.getCoord2&&(r=Ik.coord2,t=n.getCoord2(e))}return{coord:t,from:r}}var sc={none:0,dataCoordSys:1,boxCoordSys:2};function bie(e,t){var r=e.getShallow("coordinateSystem"),n=e.getShallow("coordinateSystemUsage",!0),i=sc.none;if(r){var a=e.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=sc.dataCoordSys,a||(i=sc.none)):n==="box"&&(i=sc.boxCoordSys,!a&&!M9e(r)&&(i=sc.none))}return{coordSysType:r,kind:i}}function Eb(e){var t=e.targetModel,r=e.coordSysType,n=e.coordSysProvider,i=e.isDefaultDataCoordSys;e.allowNotFound;var a=bie(t),o=a.kind,s=a.coordSysType;if(i&&o!==sc.dataCoordSys&&(o=sc.dataCoordSys,s=r),o===sc.none||s!==r)return!1;var l=n(r,t);return l?(o===sc.dataCoordSys?t.coordinateSystem=l:t.boxCoordinateSystem=l,!0):!1}var wie=function(e,t){var r=t.getReferringComponents(e,fi).models[0];return r&&r.coordinateSystem},xC=G,Sie=["left","right","top","bottom","width","height"],Jv=[["width","left","right"],["height","top","bottom"]];function YF(e,t,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,v;if(e==="horizontal"){var p=c.width+(d?-d.x+c.x:0);h=a+p,h>n||l.newline?(a=0,h=p,o+=s+r,s=c.height):s=Math.max(s,c.height)}else{var g=c.height+(d?-d.y+c.y:0);v=o+g,v>i||l.newline?(a+=s+r,o=0,v=g,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),e==="horizontal"?a=h+r:o=v+r)})}var yp=YF;lr(YF,"vertical");lr(YF,"horizontal");function Cie(e,t){return{left:e.getShallow("left",t),top:e.getShallow("top",t),right:e.getShallow("right",t),bottom:e.getShallow("bottom",t),width:e.getShallow("width",t),height:e.getShallow("height",t)}}function R9e(e,t){var r=ca(e,t,{enableLayoutOnlyByCenter:!0}),n=e.getBoxLayoutParams(),i,a;if(r.type===K1.point)a=r.refPoint,i=Dn(n,{width:t.getWidth(),height:t.getHeight()});else{var o=e.get("center"),s=We(o)?o:[o,o];i=Dn(n,r.refContainer),a=r.boxCoordFrom===Ik.coord2?r.refPoint:[ft(s[0],i.width)+i.x,ft(s[1],i.height)+i.y]}return{viewRect:i,center:a}}function Tie(e,t){var r=R9e(e,t),n=r.viewRect,i=r.center,a=e.get("radius");We(a)||(a=[0,a]);var o=ft(n.width,t.getWidth()),s=ft(n.height,t.getHeight()),l=Math.min(o,s),u=ft(a[0],l/2),c=ft(a[1],l/2);return{cx:i[0],cy:i[1],r0:u,r:c,viewRect:n}}function Dn(e,t,r){r=Ab(r||0);var n=t.width,i=t.height,a=ft(e.left,n),o=ft(e.top,i),s=ft(e.right,n),l=ft(e.bottom,i),u=ft(e.width,n),c=ft(e.height,i),f=r[2]+r[0],d=r[1]+r[3],h=e.aspect;switch(isNaN(u)&&(u=n-s-d-a),isNaN(c)&&(c=i-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(a)&&(a=n-s-u-d),isNaN(o)&&(o=i-l-c-f),e.left||e.right){case"center":a=n/2-u/2-r[3];break;case"right":a=n-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=i/2-c/2-r[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=n-d-a-(s||0)),isNaN(c)&&(c=i-f-o-(l||0));var v=new jt((t.x||0)+a+r[3],(t.y||0)+o+r[0],u,c);return v.margin=r,v}function Aie(e,t,r){var n=e.getShallow("preserveAspect",!0);if(!n)return t;var i=t.width/t.height;if(Math.abs(Math.atan(r)-Math.atan(i))<1e-9)return t;var a=e.getShallow("preserveAspectAlign",!0),o=e.getShallow("preserveAspectVerticalAlign",!0),s={width:t.width,height:t.height},l=n==="cover";return i>r&&!l||i<r&&l?(s.width=t.height*r,a==="left"?s.left=0:a==="right"?s.right=0:s.left="center"):(s.height=t.width/r,o==="top"?s.top=0:o==="bottom"?s.bottom=0:s.top="middle"),Dn(s,t)}var K1={rect:1,point:2};function ca(e,t,r){var n,i,a,o=e.boxCoordinateSystem,s;if(o){var l=P9e(e),u=l.coord,c=l.from;if(o.dataToLayout){a=K1.rect,s=c;var f=o.dataToLayout(u);n=f.contentRect||f.rect}else r&&r.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=K1.point,s=c,i=o.dataToPoint(u))}return a==null&&(a=K1.rect),a===K1.rect&&(n||(n={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:s}}function KE(e,t,r,n,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||e,a.x=e.x,a.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new jt(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Dn(kt({width:u.width,height:u.height},t),r,n),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(a.x=d,a.y=h):(a.x+=d,a.y+=h),a===e&&e.markRedraw(),!0}function L9e(e,t){return e[Jv[t][0]]!=null||e[Jv[t][1]]!=null&&e[Jv[t][2]]!=null}function D_(e){var t=e.layoutMode||e.constructor.layoutMode;return Xt(t)?t:t?{type:t}:null}function Lc(e,t,r){var n=r&&r.ignoreSize;!We(n)&&(n=[n,n]);var i=o(Jv[0],0),a=o(Jv[1],1);l(Jv[0],e,i),l(Jv[1],e,a);function o(u,c){var f={},d=0,h={},v=0,p=2;if(xC(u,function(y){h[y]=e[y]}),xC(u,function(y){St(t,y)&&(f[y]=h[y]=t[y]),s(f,y)&&d++,s(h,y)&&v++}),n[c])return s(t,u[1])?h[u[2]]=null:s(t,u[2])&&(h[u[1]]=null),h;if(v===p||!d)return h;if(d>=p)return f;for(var g=0;g<u.length;g++){var m=u[g];if(!St(f,m)&&St(e,m)){f[m]=e[m];break}}return f}function s(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){xC(u,function(d){c[d]=f[d]})}}function u0(e){return Eie({},e)}function Eie(e,t){return t&&e&&xC(Sie,function(r){St(t,r)&&(e[r]=t[r])}),e}var I9e=wr(),dr=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return a.uid=ay("ec_cpt_model"),a}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=D_(this),a=i?u0(r):{},o=n.getTheme();Et(r,o.get(this.mainType)),Et(r,this.getDefaultOption()),i&&Lc(r,a,i)},t.prototype.mergeOption=function(r,n){Et(this.option,r,!0);var i=D_(this);i&&Lc(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!dHe(r))return r.defaultOption;var n=I9e(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=Et(s,i[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return ey(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){return Cie(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=(function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0})(),t})(pr);bne(dr,pr);kE(dr);c9e(dr);f9e(dr,k9e);function k9e(e){var t=[];return G(dr.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=Ye(t,function(r){return dc(r).main}),e!=="dataset"&&ur(t,"dataset")<=0&&t.unshift("dataset"),t}var De={color:{},darkColor:{},size:{}},wi=De.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};He(wi,{primary:wi.neutral80,secondary:wi.neutral70,tertiary:wi.neutral60,quaternary:wi.neutral50,disabled:wi.neutral20,border:wi.neutral30,borderTint:wi.neutral20,borderShade:wi.neutral40,background:wi.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:wi.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:wi.neutral70,axisLineTint:wi.neutral40,axisTick:wi.neutral70,axisTickMinor:wi.neutral60,axisLabel:wi.neutral70,axisSplitLine:wi.neutral15,axisMinorSplitLine:wi.neutral05});for(var gv in wi)if(wi.hasOwnProperty(gv)){var x$=wi[gv];gv==="theme"?De.darkColor.theme=wi.theme.slice():gv==="highlight"?De.darkColor.highlight="rgba(255,231,130,0.4)":gv.indexOf("accent")===0?De.darkColor[gv]=lh(x$,null,function(e){return e*.5},function(e){return Math.min(1,1.3-e)}):De.darkColor[gv]=lh(x$,null,function(e){return e*.9},function(e){return 1-Math.pow(e,1.5)})}De.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var Mie="";typeof navigator<"u"&&(Mie=navigator.platform||"");var j0="rgba(0, 0, 0, 0.2)",Die=De.color.theme[0],O9e=lh(Die,null,null,.9);const F9e={darkMode:"auto",colorBy:"series",color:De.color.theme,gradientColor:[O9e,Die],aria:{decal:{decals:[{color:j0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:j0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:j0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:j0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:j0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:j0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Mie.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Pie=Rt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),js="original",Ga="arrayRows",Ys="objectRows",Lu="keyedColumns",ch="typedArray",Rie="unknown",mu="column",c0="row",Ya={Must:1,Might:2,Not:3},Lie=wr();function N9e(e){Lie(e).datasetMap=Rt()}function Iie(e,t,r){var n={},i=ZF(t);if(!i||!e)return n;var a=[],o=[],s=t.ecModel,l=Lie(s).datasetMap,u=i.uid+"_"+r.seriesLayoutBy,c,f;e=e.slice(),G(e,function(p,g){var m=Xt(p)?p:e[g]={name:p};m.type==="ordinal"&&c==null&&(c=g,f=v(m)),n[m.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});G(e,function(p,g){var m=p.name,y=v(p);if(c==null){var x=d.valueWayDim;h(n[m],x,y),h(o,x,y),d.valueWayDim+=y}else if(c===g)h(n[m],0,y),h(a,0,y);else{var x=d.categoryWayDim;h(n[m],x,y),h(o,x,y),d.categoryWayDim+=y}});function h(p,g,m){for(var y=0;y<m;y++)p.push(g+y)}function v(p){var g=p.dimsDef;return g?g.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function KF(e,t,r){var n={},i=ZF(e);if(!i)return n;var a=t.sourceFormat,o=t.dimensionsDefine,s;(a===Ys||a===Lu)&&G(o,function(c,f){(Xt(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},d=[],h=0,v=Math.min(5,r);h<v;h++){var p=Oie(t.data,a,t.seriesLayoutBy,o,t.startIndex,h);d.push(p);var g=p===Ya.Not;if(g&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!g&&d[c.n]===Ya.Not)&&(c.n=h),m(c)&&d[c.n]!==Ya.Not)return c;g||(p===Ya.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function m(y){return y.v!=null&&y.n!=null}return m(c)?c:m(f)?f:null})();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function ZF(e){var t=e.get("data",!0);if(!t)return ey(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},fi).models[0]}function B9e(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:ey(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},fi).models}function kie(e,t){return Oie(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Oie(e,t,r,n,i,a){var o,s=5;if(ys(e))return Ya.Not;var l,u;if(n){var c=n[a];Xt(c)?(l=c.name,u=c.type):pt(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ya.Must:Ya.Not;if(t===Ga){var f=e;if(r===c0){for(var d=f[a],h=0;h<(d||[]).length&&h<s;h++)if((o=b(d[i+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var v=f[i+h];if(v&&(o=b(v[a]))!=null)return o}}else if(t===Ys){var p=e;if(!l)return Ya.Not;for(var h=0;h<p.length&&h<s;h++){var g=p[h];if(g&&(o=b(g[l]))!=null)return o}}else if(t===Lu){var m=e;if(!l)return Ya.Not;var d=m[l];if(!d||ys(d))return Ya.Not;for(var h=0;h<d.length&&h<s;h++)if((o=b(d[h]))!=null)return o}else if(t===js)for(var y=e,h=0;h<y.length&&h<s;h++){var g=y[h],x=Qm(g);if(!We(x))return Ya.Not;if((o=b(x[a]))!=null)return o}function b(w){var S=pt(w);if(w!=null&&Number.isFinite(Number(w))&&w!=="")return S?Ya.Might:Ya.Not;if(S&&w!=="-")return Ya.Must}return Ya.Not}var kk=Rt();function z9e(e,t){Co(kk.get(e)==null&&t),kk.set(e,t)}function H9e(e,t,r){var n=kk.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var _$=wr(),V9e=wr(),qF=(function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=Mn(this.get("color",!0)),a=this.get("colorLayer",!0);return Fie(this,_$,i,a,t,r,n)},e.prototype.clearColorPalette=function(){G9e(this,_$)},e})();function Ok(e,t,r,n){var i=Mn(e.get(["aria","decal","decals"]));return Fie(e,V9e,i,null,t,r,n)}function $9e(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function Fie(e,t,r,n,i,a,o){a=a||e;var s=t(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=o==null||!n?r:$9e(n,o);if(c=c||r,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),s.paletteIdx=(l+1)%c.length,f}}function G9e(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var BS,t1,b$,w$="\0_ec_inner",U9e=1,JF=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new pr(a),this._locale=new pr(o),this._optionManager=s},t.prototype.setOption=function(r,n,i){var a=T$(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(r,n){return this._resetOption(r,T$(n))},t.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?b$(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var l=a.getMediaOption(this);l.length&&G(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Rt(),u=n&&n.replaceMergeMainTypeMap;N9e(this),G(r,function(f,d){f!=null&&(dr.hasClass(d)?d&&(s.push(d),l.set(d,!0)):i[d]=i[d]==null?Vt(f):Et(i[d],f,!0))}),u&&u.each(function(f,d){dr.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),dr.topologicalTravel(s,dr.getAllClassMainTypes(),c,this);function c(f){var d=H9e(this,f,Mn(r[f])),h=a.get(f),v=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",p=gne(h,d,v);nHe(p,f,dr),i[f]=null,a.set(f,null),o.set(f,0);var g=[],m=[],y=0,x;G(p,function(b,w){var S=b.existing,C=b.newOption;if(!C)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var E=f==="series",A=dr.getClass(f,b.keyInfo.subType,!E);if(!A)return;if(f==="tooltip"){if(x)return;x=!0}if(S&&S.constructor===A)S.name=b.keyInfo.name,S.mergeOption(C,this),S.optionUpdated(C,!1);else{var M=He({componentIndex:w},b.keyInfo);S=new A(C,this,this,M),He(S,M),b.brandNew&&(S.__requireNewView=!0),S.init(C,this,this),S.optionUpdated(null,!0)}}S?(g.push(S.option),m.push(S),y++):(g.push(void 0),m.push(void 0))},this),i[f]=g,a.set(f,m),o.set(f,y),f==="series"&&BS(this)}this._seriesIndices||BS(this)},t.prototype.getOption=function(){var r=Vt(this.option);return G(r,function(n,i){if(dr.hasClass(i)){for(var a=Mn(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!C_(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[w$],r},t.prototype.setTheme=function(r){this._theme=new pr(r),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return i!=null?(l=[],G(Mn(i),function(u){s[u]&&l.push(s[u])})):a!=null?l=S$("id",a,s):o!=null?l=S$("name",o,s):l=on(s,function(u){return!!u}),C$(l,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):on(this._componentsMap.get(i),function(u){return!!u});return l(C$(o,r));function s(u){var c=i+"Index",f=i+"Id",d=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:i,index:u[c],id:u[f],name:u[d]}:null}function l(u){return r.filter?on(u,r.filter):u}},t.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(Ht(r)){var o=n,s=r;a.each(function(f,d){for(var h=0;f&&h<f.length;h++){var v=f[h];v&&s.call(o,d,v,v.componentIndex)}})}else for(var l=pt(r)?a.get(r):Xt(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=aa(r,null);return on(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return on(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return on(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){t1(this),G(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},t.prototype.eachRawSeries=function(r,n){G(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){t1(this),G(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return G(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return t1(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){t1(this);var i=[];G(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Rt(i)},t.prototype.restoreData=function(r){BS(this);var n=this._componentsMap,i=[];n.each(function(a,o){dr.hasClass(o)&&i.push(o)}),dr.topologicalTravel(i,dr.getAllClassMainTypes(),function(a){G(n.get(a),function(o){o&&(a!=="series"||!W9e(o,r))&&o.restoreData()})})},t.internalField=(function(){BS=function(r){var n=r._seriesIndices=[];G(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=Rt(n)},t1=function(r){},b$=function(r,n){r.option={},r.option[w$]=U9e,r._componentsMap=Rt({series:[]}),r._componentsCount=Rt();var i=n.aria;Xt(i)&&i.enabled==null&&(i.enabled=!0),X9e(n,r._theme.option),Et(n,F9e,!1),r._mergeOption(n,null)}})(),t})(pr);function W9e(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function X9e(e,t){var r=e.color&&!e.colorLayer;G(t,function(n,i){i==="colorLayer"&&r||i==="color"&&e.color||dr.hasClass(i)||(typeof n=="object"?e[i]=e[i]?Et(e[i],n,!1):Vt(n):e[i]==null&&(e[i]=n))})}function S$(e,t,r){if(We(t)){var n=Rt();return G(t,function(a){if(a!=null){var o=aa(a,null);o!=null&&n.set(a,!0)}}),on(r,function(a){return a&&n.get(a[e])})}else{var i=aa(t,null);return on(r,function(a){return a&&i!=null&&a[e]===i})}}function C$(e,t){return t.hasOwnProperty("subType")?on(e,function(r){return r&&r.subType===t.subType}):e}function T$(e){var t=Rt();return e&&G(Mn(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}Ii(JF,qF);var j9e=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Nie=(function(){function e(t){G(j9e,function(r){this[r]=mt(t[r],t)},this)}return e})(),Y9e=/^(min|max)?(.+)$/,K9e=(function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(G(Mn(t.series),function(o){o&&o.data&&ys(o.data)&&pT(o.data)}),G(Mn(t.dataset),function(o){o&&o.source&&ys(o.source)&&pT(o.source)})),t=Vt(t);var i=this._optionBackup,a=Z9e(t,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Vt(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=Vt(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)q9e(i[l].query,r,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!Q9e(o,this._currentMediaIndices)&&(s=Ye(o,function(c){return Vt(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},e})();function Z9e(e,t,r){var n=[],i,a,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(e.options=e.media=null),a=e),c&&We(u)&&G(u,function(h){h&&h.option&&(h.query?n.push(h):i||(i=h))}),d(a),G(l,function(h){return d(h)}),G(n,function(h){return d(h.option)});function d(h){G(t,function(v){v(h,r)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function q9e(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return G(e,function(a,o){var s=o.match(Y9e);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();J9e(n[u],a,l)||(i=!1)}}),i}function J9e(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function Q9e(e,t){return e.join(",")===t.join(",")}var ql=G,P_=Xt,A$=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function TR(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=A$.length;r<n;r++){var i=A$[r],a=t.normal,o=t.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?Et(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?Et(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)}}function uo(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,kt(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function Z1(e){uo(e,"itemStyle"),uo(e,"lineStyle"),uo(e,"areaStyle"),uo(e,"label"),uo(e,"labelLine"),uo(e,"upperLabel"),uo(e,"edgeLabel")}function Vi(e,t){var r=P_(e)&&e[t],n=P_(r)&&r.textStyle;if(n)for(var i=0,a=DV.length;i<a;i++){var o=DV[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function ml(e){e&&(Z1(e),Vi(e,"label"),e.emphasis&&Vi(e.emphasis,"label"))}function eVe(e){if(P_(e)){TR(e),Z1(e),Vi(e,"label"),Vi(e,"upperLabel"),Vi(e,"edgeLabel"),e.emphasis&&(Vi(e.emphasis,"label"),Vi(e.emphasis,"upperLabel"),Vi(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(TR(t),ml(t));var r=e.markLine;r&&(TR(r),ml(r));var n=e.markArea;n&&ml(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var a=e.links||e.edges;if(a&&!ys(a))for(var o=0;o<a.length;o++)ml(a[o]);G(e.categories,function(u){Z1(u)})}if(i&&!ys(i))for(var o=0;o<i.length;o++)ml(i[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)ml(s[o]);if(r=e.markLine,r&&r.data)for(var l=r.data,o=0;o<l.length;o++)We(l[o])?(ml(l[o][0]),ml(l[o][1])):ml(l[o]);e.type==="gauge"?(Vi(e,"axisLabel"),Vi(e,"title"),Vi(e,"detail")):e.type==="treemap"?(uo(e.breadcrumb,"itemStyle"),G(e.levels,function(u){Z1(u)})):e.type==="tree"&&Z1(e.leaves)}}function rf(e){return We(e)?e:e?[e]:[]}function E$(e){return(We(e)?e[0]:e)||{}}function tVe(e,t){ql(rf(e.series),function(n){P_(n)&&eVe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),ql(r,function(n){ql(rf(e[n]),function(i){i&&(Vi(i,"axisLabel"),Vi(i.axisPointer,"label"))})}),ql(rf(e.parallel),function(n){var i=n&&n.parallelAxisDefault;Vi(i,"axisLabel"),Vi(i&&i.axisPointer,"label")}),ql(rf(e.calendar),function(n){uo(n,"itemStyle"),Vi(n,"dayLabel"),Vi(n,"monthLabel"),Vi(n,"yearLabel")}),ql(rf(e.radar),function(n){Vi(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),ql(rf(e.geo),function(n){P_(n)&&(ml(n),ql(rf(n.regions),function(i){ml(i)}))}),ql(rf(e.timeline),function(n){ml(n),uo(n,"label"),uo(n,"itemStyle"),uo(n,"controlStyle",!0);var i=n.data;We(i)&&G(i,function(a){Xt(a)&&(uo(a,"label"),uo(a,"itemStyle"))})}),ql(rf(e.toolbox),function(n){uo(n,"iconStyle"),ql(n.feature,function(i){uo(i,"iconStyle")})}),Vi(E$(e.axisPointer),"label"),Vi(E$(e.tooltip).axisPointer,"label")}function rVe(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function nVe(e,t,r,n){for(var i=t.split(","),a=e,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=r)}function M$(e){e&&G(iVe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var iVe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],aVe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],AR=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function r1(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<AR.length;r++){var n=AR[r][1],i=AR[r][0];t[n]!=null&&(t[i]=t[n])}}function D$(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function P$(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function oVe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function Bie(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&Bie(e[r].children,t)}function zie(e,t){tVe(e,t),e.series=Mn(e.series),G(e.series,function(r){if(Xt(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),D$(r.label);var i=r.data;if(i&&!ys(i))for(var a=0;a<i.length;a++)D$(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=rVe(r,"pointer.color");o!=null&&nVe(r,"itemStyle.color",o)}else if(n==="bar"){r1(r),r1(r.backgroundStyle),r1(r.emphasis);var i=r.data;if(i&&!ys(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(r1(i[a]),r1(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),P$(r),Bie(r.data,P$)}else n==="graph"||n==="sankey"?oVe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&kt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),M$(r)}}),e.dataRange&&(e.visualMap=e.dataRange),G(aVe,function(r){var n=e[r];n&&(We(n)||(n=[n]),G(n,function(i){M$(i)}))})}function sVe(e){var t=Rt();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.push(o)}}),t.each(function(r){if(r.length!==0){var n=r[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&r.reverse(),G(r,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?r[o-1].seriesModel:null)}),lVe(r)}})}function lVe(e){G(e,function(t,r){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return i;var h,v;s?v=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var p=NaN,g=r-1;g>=0;g--){var m=e[g];if(s||(v=m.data.rawIndexOf(m.stackedByDimension,h)),v>=0){var y=m.data.getByRawIndex(m.stackResultDimension,v);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&d>=0&&y>0||l==="samesign"&&d<=0&&y<0){d=G8e(d,y),p=y;break}}}return n[0]=d,n[1]=p,n})})}var ZE=(function(){function e(t){this.data=t.data||(t.sourceFormat===Lu?{}:[]),this.sourceFormat=t.sourceFormat||Rie,this.seriesLayoutBy=t.seriesLayoutBy||mu,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&kie(this,n)===Ya.Must&&(i.type="ordinal")}}return e})();function QF(e){return e instanceof ZE}function Fk(e,t,r){r=r||Hie(e);var n=t.seriesLayoutBy,i=cVe(e,r,n,t.sourceHeader,t.dimensions),a=new ZE({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Vt(t)});return a}function eN(e){return new ZE({data:e,sourceFormat:ys(e)?ch:js})}function uVe(e){return new ZE({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Vt(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function Hie(e){var t=Rie;if(ys(e))t=ch;else if(We(e)){e.length===0&&(t=Ga);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(We(i)||ys(i)){t=Ga;break}else if(Xt(i)){t=Ys;break}}}}else if(Xt(e)){for(var a in e)if(St(e,a)&&So(e[a])){t=Lu;break}}return t}function cVe(e,t,r,n,i){var a,o;if(!e)return{dimensionsDefine:R$(i),startIndex:o,dimensionsDetectedCount:a};if(t===Ga){var s=e;n==="auto"||n==null?L$(function(u){u!=null&&u!=="-"&&(pt(u)?o==null&&(o=1):o=0)},r,s,10):o=Br(n)?n:n?1:0,!i&&o===1&&(i=[],L$(function(u,c){i[c]=u!=null?u+"":""},r,s,1/0)),a=i?i.length:r===c0?s.length:s[0]?s[0].length:null}else if(t===Ys)i||(i=fVe(e));else if(t===Lu)i||(i=[],G(e,function(u,c){i.push(c)}));else if(t===js){var l=Qm(e[0]);a=We(l)&&l.length||1}return{startIndex:o,dimensionsDefine:R$(i),dimensionsDetectedCount:a}}function fVe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return Lr(r)}function R$(e){if(e){var t=Rt();return Ye(e,function(r,n){r=Xt(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function L$(e,t,r,n){if(t===c0)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)e(a[i],i)}function Vie(e){var t=e.sourceFormat;return t===Ys||t===Lu}var mv,yv,xv,_v,I$,k$,$ie=(function(){function e(t,r){var n=QF(t)?t:eN(t);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===ch&&(this._offset=0,this._dimSize=r,this._data=i),k$(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=(function(){var t=e.prototype;t.pure=!1,t.persistent=!0})(),e.internalField=(function(){var t;k$=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=I$[tN(u,c)];if(He(o,h),u===ch)o.getItem=r,o.count=i,o.fillStorage=n;else{var v=Gie(u,c);o.getItem=mt(v,null,s,f,d);var p=Uie(u,c);o.count=mt(p,null,s,f,d)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},n=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],v=h[0]==null?1/0:h[0],p=h[1]==null?-1/0:h[1],g=s-o,m=l[d],y=0;y<g;y++){var x=c[y*f+d];m[o+y]=x,x<v&&(v=x),x>p&&(p=x)}h[0]=v,h[1]=p}},i=function(){return this._data?this._data.length/this._dimSize:0};I$=(t={},t[Ga+"_"+mu]={pure:!0,appendData:a},t[Ga+"_"+c0]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Ys]={pure:!0,appendData:a},t[Lu]={pure:!0,appendData:function(o){var s=this._data;G(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[js]={appendData:a},t[ch]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),e})(),zS=function(e){We(e)||hne("series.data or dataset.source must be an array.")};mv={},mv[Ga+"_"+mu]=zS,mv[Ga+"_"+c0]=zS,mv[Ys]=zS,mv[Lu]=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].name;n==null&&hne("dimension name must not be null/undefined.")}},mv[js]=zS;var O$=function(e,t,r,n){return e[n]},dVe=(yv={},yv[Ga+"_"+mu]=function(e,t,r,n){return e[n+t]},yv[Ga+"_"+c0]=function(e,t,r,n,i){n+=t;for(var a=i||[],o=e,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},yv[Ys]=O$,yv[Lu]=function(e,t,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,l=s!=null?e[s]:null;a[o]=l?l[n]:null}return a},yv[js]=O$,yv);function Gie(e,t){var r=dVe[tN(e,t)];return r}var F$=function(e,t,r){return e.length},hVe=(xv={},xv[Ga+"_"+mu]=function(e,t,r){return Math.max(0,e.length-t)},xv[Ga+"_"+c0]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},xv[Ys]=F$,xv[Lu]=function(e,t,r){var n=r[0].name,i=n!=null?e[n]:null;return i?i.length:0},xv[js]=F$,xv);function Uie(e,t){var r=hVe[tN(e,t)];return r}var ER=function(e,t,r){return e[t]},vVe=(_v={},_v[Ga]=ER,_v[Ys]=function(e,t,r){return e[r]},_v[Lu]=ER,_v[js]=function(e,t,r){var n=Qm(e);return n instanceof Array?n[t]:n},_v[ch]=ER,_v);function Wie(e){var t=vVe[e];return t}function tN(e,t){return e===Ga?e+"_"+t:e}function xm(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=e.getDimensionIndex(r),s=i.getDimensionProperty(o);return Wie(a)(n,o,s)}else{var l=n;return a===js&&(l=Qm(n)),l}}}}var pVe=/\{@(.+?)\}/g,qE=(function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),a=n.getRawIndex(t),o=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,a,o){r=r||"normal";var s=this.getData(n),l=this.getDataParams(t,n);if(o&&(l.value=o.interpolatedValue),i!=null&&We(l.value)&&(l.value=l.value[i]),!a){var u=s.getItemModel(t);a=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(Ht(a))return l.status=r,l.dimensionIndex=i,a(l);if(pt(a)){var c=jF(a,l);return c.replace(pVe,function(f,d){var h=d.length,v=d;v.charAt(0)==="["&&v.charAt(h-1)==="]"&&(v=+v.slice(1,h-1));var p=xm(s,t,v);if(o&&We(o.interpolatedValue)){var g=s.getDimensionIndex(v);g>=0&&(p=o.interpolatedValue[g])}return p!=null?p+"":""})}},e.prototype.getRawValue=function(t,r){return xm(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e})();function N$(e){var t,r;return Xt(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function zx(e){return new gVe(e)}var gVe=(function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,v=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(f||h<v)){var p=this._progress;if(We(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],h,v,l,u);else this._doProgress(p,h,v,l,u)}this._dueIndex=v;var m=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,a){B$.reset(r,n,i,a),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:B$.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),We(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e})(),B$=(function(){var e,t,r,n,i,a={reset:function(l,u,c,f){t=l,e=u,r=c,n=f,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return t<e?t++:null}function s(){var l=t%i*r+Math.ceil(t/i),u=t>=e?null:l<n?l:t;return t++,u}})();function fh(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!Br(e)&&e!=null&&e!=="-"&&(e=+Jf(e)),e==null||e===""?NaN:Number(e))}var mVe=Rt({number:function(e){return parseFloat(e)},time:function(e){return+Jf(e)},trim:function(e){return pt(e)?El(e):e}});function Xie(e){return mVe.get(e)}var jie={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},yVe=(function(){function e(t,r){if(!Br(r)){var n="";Qr(n)}this._opFn=jie[t],this._rvalFloat=Nf(r)}return e.prototype.evaluate=function(t){return Br(t)?this._opFn(t,this._rvalFloat):this._opFn(Nf(t),this._rvalFloat)},e})(),Yie=(function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=Br(t)?t:Nf(t),i=Br(r)?r:Nf(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=pt(t),l=pt(r);s&&(n=l?t:0),l&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e})(),xVe=(function(){function e(t,r){this._rval=r,this._isEQ=t,this._rvalTypeof=typeof r,this._rvalFloat=Nf(r)}return e.prototype.evaluate=function(t){var r=t===this._rval;if(!r){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=Nf(t)===this._rvalFloat)}return this._isEQ?r:!r},e})();function _Ve(e,t){return e==="eq"||e==="ne"?new xVe(e==="eq",t):St(jie,e)?new yVe(e,t):null}var bVe=(function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return fh(t,r)},e})();function wVe(e,t){var r=new bVe,n=e.data,i=r.sourceFormat=e.sourceFormat,a=e.startIndex,o="";e.seriesLayoutBy!==mu&&Qr(o);var s=[],l={},u=e.dimensionsDefine;if(u)G(u,function(p,g){var m=p.name,y={index:g,name:m,displayName:p.displayName};if(s.push(y),m!=null){var x="";St(l,m)&&Qr(x),l[m]=y}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=Gie(i,mu);t.__isBuiltIn&&(r.getRawDataItem=function(p){return f(n,a,s,p)},r.getRawData=mt(SVe,null,e)),r.cloneRawData=mt(CVe,null,e);var d=Uie(i,mu);r.count=mt(d,null,n,a,s);var h=Wie(i);r.retrieveValue=function(p,g){var m=f(n,a,s,p);return v(m,g)};var v=r.retrieveValueFromItem=function(p,g){if(p!=null){var m=s[g];if(m)return h(p,g,m.name)}};return r.getDimensionInfo=mt(TVe,null,s,l),r.cloneAllDimensionInfo=mt(AVe,null,s),r}function SVe(e){var t=e.sourceFormat;if(!rN(t)){var r="";Qr(r)}return e.data}function CVe(e){var t=e.sourceFormat,r=e.data;if(!rN(t)){var n="";Qr(n)}if(t===Ga){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(t===Ys){for(var i=[],a=0,o=r.length;a<o;a++)i.push(He({},r[a]));return i}}function TVe(e,t,r){if(r!=null){if(Br(r)||!isNaN(r)&&!St(t,r))return e[r];if(St(t,r))return t[r]}}function AVe(e){return Vt(e)}var Kie=Rt();function EVe(e){e=Vt(e);var t=e.type,r="";t||Qr(r);var n=t.split(":");n.length!==2&&Qr(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,Kie.set(t,e)}function MVe(e,t,r){var n=Mn(e),i=n.length,a="";i||Qr(a);for(var o=0,s=i;o<s;o++){var l=n[o];t=DVe(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function DVe(e,t,r,n){var i="";t.length||Qr(i),Xt(e)||Qr(i);var a=e.type,o=Kie.get(a);o||Qr(i);var s=Ye(t,function(u){return wVe(u,o)}),l=Mn(o.transform({upstream:s[0],upstreamList:s,config:Vt(e.config)}));return Ye(l,function(u,c){var f="";Xt(u)||Qr(f),u.data||Qr(f);var d=Hie(u.data);rN(d)||Qr(f);var h,v=t[0];if(v&&c===0&&!u.dimensions){var p=v.startIndex;p&&(u.data=v.data.slice(0,p).concat(u.data)),h={seriesLayoutBy:mu,sourceHeader:p,dimensions:v.metaRawOption.dimensions}}else h={seriesLayoutBy:mu,sourceHeader:0,dimensions:u.dimensions};return Fk(u.data,h,null)})}function rN(e){return e===Ga||e===Ys}var JE="undefined",PVe=typeof Uint32Array===JE?Array:Uint32Array,RVe=typeof Uint16Array===JE?Array:Uint16Array,Zie=typeof Int32Array===JE?Array:Int32Array,z$=typeof Float64Array===JE?Array:Float64Array,qie={float:z$,int:Zie,ordinal:Array,number:Array,time:z$},MR;function Y0(e){return e>65535?PVe:RVe}function K0(){return[1/0,-1/0]}function LVe(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function H$(e,t,r,n,i){var a=qie[r||"float"];if(i){var o=e[t],s=o&&o.length;if(s!==n){for(var l=new a(n),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new a(n)}var Nk=(function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Rt()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=MR[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],Vie(i),this._dimensions=Ye(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(t,a),this._chunks[a]=new qie[r||"float"](this._rawCount),this._rawExtent[a]=K0(),a},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[t]=K0());for(var l=a[t],u=o;u<s;u++){var c=n[u]=r.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,r||0),u=0;u<a;u++){var c=i[u];H$(n,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,v=0;v<a;v++){var c=i[v],p=MR.arrayRows.call(this,t[h]||f,c.property,h,v);n[v][d]=p;var g=o[v];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=Ye(o,function(y){return y.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=K0()),H$(a,c,f.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,a,l);else for(var d=[],h=t;h<r;h++){d=i.getItem(h,d);for(var v=0;v<s;v++){var p=a[v],g=this._dimValueGetter(d,u[v],h,v);p[h]=g;var m=l[v];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(n+=o)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<t)i=o+1;else if(r[o]>t)a=o-1;else return o}return-1},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=r[a]}else t=new n(r.buffer,0,i)}else{var n=Y0(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=Y0(n._rawCount),o=new a(i),s=[],l=t.length,u=0,c=t[0],f=n._chunks,d=0;d<i;d++){var h=void 0,v=n.getRawIndex(d);if(l===0)h=r(d);else if(l===1){var p=f[c][v];h=r(p,d)}else{for(var g=0;g<l;g++)s[g]=f[t[g]][v];s[g]=d,h=r.apply(null,s)}h&&(o[u++]=v)}return u<i&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=Lr(t),a=i.length;if(!a)return this;var o=r.count(),s=Y0(r._rawCount),l=new s(o),u=0,c=i[0],f=t[c][0],d=t[c][1],h=r._chunks,v=!1;if(!r._indices){var p=0;if(a===1){for(var g=h[i[0]],m=0;m<n;m++){var y=g[m];(y>=f&&y<=d||isNaN(y))&&(l[u++]=p),p++}v=!0}else if(a===2){for(var g=h[i[0]],x=h[i[1]],b=t[i[1]][0],w=t[i[1]][1],m=0;m<n;m++){var y=g[m],S=x[m];(y>=f&&y<=d||isNaN(y))&&(S>=b&&S<=w||isNaN(S))&&(l[u++]=p),p++}v=!0}}if(!v)if(a===1)for(var m=0;m<o;m++){var C=r.getRawIndex(m),y=h[i[0]][C];(y>=f&&y<=d||isNaN(y))&&(l[u++]=C)}else for(var m=0;m<o;m++){for(var E=!0,C=r.getRawIndex(m),A=0;A<a;A++){var M=i[A],y=h[M][C];(y<t[M][0]||y>t[M][1])&&(E=!1)}E&&(l[u++]=r.getRawIndex(m))}return u<o&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,a=[],o=r.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<r.length;c++)u[r[c]]=K0();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=i[r[h]][d];l[o]=f;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var p=r[c],g=v[c],m=u[p],y=i[p];y&&(y[d]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,a=i[t],o=this.count(),s=0,l=Math.floor(1/r),u=this.getRawIndex(0),c,f,d,h=new(Y0(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var v=1;v<o-1;v+=l){for(var p=Math.min(v+l,o-1),g=Math.min(v+l*2,o),m=(g+p)/2,y=0,x=p;x<g;x++){var b=this.getRawIndex(x),w=a[b];isNaN(w)||(y+=w)}y/=g-p;var S=v,C=Math.min(v+l,o),E=v-1,A=a[u];c=-1,d=S;for(var M=-1,D=0,x=S;x<C;x++){var b=this.getRawIndex(x),w=a[b];if(isNaN(w)){D++,M<0&&(M=b);continue}f=Math.abs((E-m)*(w-A)-(E-x)*(y-A)),f>c&&(c=f,d=b)}D>0&&D<C-S&&(h[s++]=Math.min(M,d),d=Math.max(M,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),n._count=s,n._indices=h,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/r),o=i[t],s=this.count(),l=new(Y0(this._rawCount))(Math.ceil(s/a)*2),u=0,c=0;c<s;c+=a){var f=c,d=o[this.getRawIndex(f)],h=c,v=o[this.getRawIndex(h)],p=a;c+a>s&&(p=s-c);for(var g=0;g<p;g++){var m=this.getRawIndex(c+g),y=o[m];y<d&&(d=y,f=c+g),y>v&&(v=y,h=c+g)}var x=this.getRawIndex(f),b=this.getRawIndex(h);f<h?(l[u++]=x,l[u++]=b):(l[u++]=b,l[u++]=x)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,i){for(var a=this.clone([t],!0),o=a._chunks,s=[],l=Math.floor(1/r),u=o[t],c=this.count(),f=a._rawExtent[t]=K0(),d=new(Y0(this._rawCount))(Math.ceil(c/l)),h=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,s.length=l);for(var p=0;p<l;p++){var g=this.getRawIndex(v+p);s[p]=u[g]}var m=n(s),y=this.getRawIndex(Math.min(v+i(s,m)||0,c-1));u[y]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),d[h++]=y}return a._count=h,a._indices=d,a._updateGetRawIdx(),a},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[t[0]][s],a);break;case 2:r(i[t[0]][s],i[t[1]][s],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[t[l]][s];u[l]=a,r.apply(null,u)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=K0();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=r[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,a=t&&Cu(t,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?LVe(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Vt(this._extent),t._rawExtent=Vt(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=(function(){function t(r,n,i,a){return fh(r[a],this._dimensions[a])}MR={arrayRows:t,objectRows:function(r,n,i,a){return fh(r[n],this._dimensions[a])},keyedColumns:t,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return fh(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}})(),e})(),Jie=(function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(HS(t)){var o=t,s=void 0,l=void 0,u=void 0;if(n){var c=r[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=ys(s)?ch:js,a=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=It(f.seriesLayoutBy,d.seriesLayoutBy)||null,v=It(f.sourceHeader,d.sourceHeader),p=It(f.dimensions,d.dimensions),g=h!==d.seriesLayoutBy||!!v!=!!d.sourceHeader||p;i=g?[Fk(s,{seriesLayoutBy:h,sourceHeader:v,dimensions:p},l)]:[]}else{var m=t;if(n){var y=this._applyTransform(r);i=y.sourceList,a=y.upstreamSignList}else{var x=m.get("source",!0);i=[Fk(x,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&$$(a)}var o,s=[],l=[];return G(t,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&$$(f),s.push(c),l.push(u._getVersionSign())}),n?o=MVe(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[uVe(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];HS(this._sourceHost)&&l?s=l._innerGetDataStore(t,r,n):(s=new Nk,s.initData(new $ie(r,t.length),t)),o[n]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(HS(t)){var r=ZF(t);return r?[r.getSourceManager()]:[]}else return Ye(B9e(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(HS(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e})();function V$(e){var t=e.option.transform;t&&pT(e.option.transform)}function HS(e){return e.mainType==="series"}function $$(e){throw new Error(e)}var IVe="line-height:1";function Qie(e){var t=e.lineHeight;return t==null?IVe:"line-height:"+$i(t+"")+"px"}function eae(e,t){var r=e.color||De.color.tertiary,n=e.fontSize||12,i=e.fontWeight||"400",a=e.color||De.color.secondary,o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+$i(n+"")+"px;color:"+$i(r)+";font-weight:"+$i(i+""),valueStyle:"font-size:"+$i(o+"")+"px;color:"+$i(a)+";font-weight:"+$i(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var kVe=[0,10,20,30],OVe=["",`
`,`

`,`


`];function ji(e,t){return t.type=e,t}function Bk(e){return e.type==="section"}function tae(e){return Bk(e)?FVe:NVe}function rae(e){if(Bk(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return G(e.blocks,function(i){var a=rae(i);a>=t&&(t=a+ +(n&&(!a||Bk(i)&&!i.noHeader)))}),t}return 0}function FVe(e,t,r,n){var i=t.noHeader,a=BVe(rae(t)),o=[],s=t.blocks||[];Co(!s||We(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(St(u,l)){var c=new Yie(u[l],null);s.sort(function(p,g){return c.evaluate(p.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}G(s,function(p,g){var m=t.valueFormatter,y=tae(p)(m?He(He({},e),{valueFormatter:m}):e,p,g>0?a.html:0,n);y!=null&&o.push(y)});var f=e.renderMode==="richText"?o.join(a.richText):zk(n,o.join(""),i?r:a.html);if(i)return f;var d=Lk(t.header,"ordinal",e.useUTC),h=eae(n,e.renderMode).nameStyle,v=Qie(n);return e.renderMode==="richText"?nae(e,d,h)+a.richText+f:zk(n,'<div style="'+h+";"+v+';">'+$i(d)+"</div>"+f,r)}function NVe(e,t,r,n){var i=e.renderMode,a=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(b){return b=We(b)?b:[b],Ye(b,function(w,S){return Lk(w,We(h)?h[S]:h,u)})};if(!(a&&o)){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||De.color.secondary,i),d=a?"":Lk(l,"ordinal",u),h=t.valueType,v=o?[]:c(t.value,t.dataIndex),p=!s||!a,g=!s&&a,m=eae(n,i),y=m.nameStyle,x=m.valueStyle;return i==="richText"?(s?"":f)+(a?"":nae(e,d,y))+(o?"":VVe(e,v,p,g,x)):zk(n,(s?"":f)+(a?"":zVe(d,!s,y))+(o?"":HVe(v,p,g,x)),r)}}function G$(e,t,r,n,i,a){if(e){var o=tae(e),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,a)}}function BVe(e){return{html:kVe[e],richText:OVe[e]}}function zk(e,t,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",a=Qie(e);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function zVe(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+$i(e)+"</span>"}function HVe(e,t,r,n){var i=r?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return e=We(e)?e:[e],'<span style="'+a+";"+n+'">'+Ye(e,function(o){return $i(o)}).join("&nbsp;&nbsp;")+"</span>"}function nae(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function VVe(e,t,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(We(t)?t.join("  "):t,a)}function iae(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return Op(n)}function aae(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var DR=(function(){function e(){this.richTextStyles={},this._nextStyleNameId=fne()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,a=xie({color:r,type:t,renderMode:n,markerId:i});return pt(a)?a:(this.richTextStyles[i]=a.style,a.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};We(r)?G(r,function(a){return He(n,a)}):He(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e})();function oae(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=t.getRawValue(r),l=We(s),u=iae(t,r),c,f,d,h;if(o>1||l&&!o){var v=$Ve(s,t,r,a,u);c=v.inlineValues,f=v.inlineValueTypes,d=v.blocks,h=v.inlineValues[0]}else if(o){var p=i.getDimensionInfo(a[0]);h=c=xm(i,r,a[0]),f=p.type}else h=c=l?s[0]:s;var g=bF(t),m=g&&t.name||"",y=i.getName(r),x=n?m:y;return ji("section",{header:m,noHeader:n||!g,sortParam:h,blocks:[ji("nameValue",{markerType:"item",markerColor:u,name:x,noName:!El(x),value:c,valueType:f,dataIndex:r})].concat(d||[])})}function $Ve(e,t,r,n,i){var a=t.getData(),o=Cu(e,function(f,d,h){var v=a.getDimensionInfo(h);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],u=[];n.length?G(n,function(f){c(xm(a,r,f),f)}):G(e,c);function c(f,d){var h=a.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(ji("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Sd=wr();function VS(e,t){return e.getName(t)||e.getId(t)}var _C="__universalTransitionEnabled",Xr=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=zx({count:UVe,reset:WVe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=Sd(this).sourceManager=new Jie(this);a.prepareSource();var o=this.getInitialData(r,i);W$(o,this),this.dataTask.context.data=o,Sd(this).dataBeforeProcessed=o,U$(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=D_(this),a=i?u0(r):{},o=this.subType;dr.hasClass(o)&&(o+="Series"),Et(r,n.getTheme().get(this.subType)),Et(r,this.getDefaultOption()),Dp(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Lc(r,a,i)},t.prototype.mergeOption=function(r,n){r=Et(this.option,r,!0),this.fillDataTextStyle(r.data);var i=D_(this);i&&Lc(this.option,r,i);var a=Sd(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);W$(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Sd(this).dataBeforeProcessed=o,U$(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(r){if(r&&!ys(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&Dp(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=Hk(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return Sd(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=Hk(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}Sd(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Rt(r)},t.prototype.getSourceManager=function(){return Sd(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Sd(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.indicesOfNearest=function(r,n,i,a){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(r);if(!s||!l)return[];var u=l.dataToCoord(i);a==null&&(a=1/0);var c=[],f=1/0,d=-1,h=0;return o.each(n,function(v,p){var g=l.dataToCoord(v),m=u-g,y=Math.abs(m);y<=a&&((y<f||y===f&&m>=0&&d<0)&&(f=y,d=m,h=0),m===d&&(c[h++]=p))}),c.length=h,c},t.prototype.formatTooltip=function(r,n,i){return oae({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Er.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=qF.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var l=r[s],u=VS(o,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=Lr(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[VS(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[_C])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Xt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=n[c],d=VS(r,f);u[d]=!0,this._selectedDataIndicesMap[d]=r.getRawIndex(f)}}else if(s==="single"||s===!0){var h=n[l-1],d=VS(r,h);o.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(a={},a[d]=r.getRawIndex(h),a)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return dr.registerClass(r)},t.protoInitialize=(function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"})(),t})(dr);Ii(Xr,qE);Ii(Xr,qF);bne(Xr,dr);function U$(e){var t=e.name;bF(e)||(e.name=GVe(e)||t)}function GVe(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return G(r,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function UVe(e){return e.model.getRawData().count()}function WVe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),XVe}function XVe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function W$(e,t){G(x_(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,lr(jVe,t))})}function jVe(e,t){var r=Hk(e);return r&&r.setOutputEnd((t||this).count()),t}function Hk(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}var Cn=(function(){function e(){this.group=new $t,this.uid=ay("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e})();SF(Cn);kE(Cn);function sy(){var e=wr();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var sae=wr(),YVe=sy(),zr=(function(){function e(){this.group=new $t,this.uid=ay("viewChart"),this.renderTask=zx({plan:KVe,reset:ZVe}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var a=t.getData(i&&i.dataType);a&&j$(a,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var a=t.getData(i&&i.dataType);a&&j$(a,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){Ih(this.group,t)},e.markUpdateMethod=function(t,r){sae(t).updateMethod=r},e.protoInitialize=(function(){var t=e.prototype;t.type="chart"})(),e})();function X$(e,t,r){e&&A_(e)&&(t==="emphasis"?Bf:zf)(e,r)}function j$(e,t,r){var n=Pp(e,t),i=t&&t.highlightKey!=null?_7e(t.highlightKey):null;n!=null?G(Mn(n),function(a){X$(e.getItemGraphicEl(a),r,i)}):e.eachItemGraphicEl(function(a){X$(a,r,i)})}SF(zr);kE(zr);function KVe(e){return YVe(e.model)}function ZVe(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,o=e.view,s=i&&sae(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,r,n,i),qVe[l]}var qVe={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},FT="\0__throttleOriginMethod",Y$="\0__throttleRate",K$="\0__throttleType";function nN(e,t,r){var n,i=0,a=0,o=null,s,l,u,c;t=t||0;function f(){a=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];n=new Date().getTime(),l=this,u=h;var p=c||t,g=c||r;c=null,s=n-(g?i:a)-p,clearTimeout(o),g?o=setTimeout(f,p):s>=0?f():o=setTimeout(f,-s),i=n};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function ly(e,t,r,n){var i=e[t];if(i){var a=i[FT]||i,o=i[K$],s=i[Y$];if(s!==r||o!==n){if(r==null||!n)return e[t]=a;i=e[t]=nN(a,r,n==="debounce"),i[FT]=a,i[K$]=n,i[Y$]=r}return i}}function R_(e,t){var r=e[t];r&&r[FT]&&(r.clear&&r.clear(),e[t]=r[FT])}var Z$=wr(),q$={itemStyle:Rp(lie,!0),lineStyle:Rp(sie,!0)},JVe={lineStyle:"stroke",itemStyle:"fill"};function lae(e,t){var r=e.visualStyleMapper||q$[t];return r||(console.warn("Unknown style type '"+t+"'."),q$.itemStyle)}function uae(e,t){var r=e.visualDrawType||JVe[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var QVe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),a=lae(e,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var l=uae(e,n),u=o[l],c=Ht(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=d,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Ht(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||Ht(o.stroke)?d:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(h,v){var p=e.getDataParams(v),g=He({},o);g[l]=c(p),h.setItemVisual(v,"style",g)}}}},n1=new pr,e$e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=lae(e,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){n1.option=l[n];var u=i(n1),c=o.ensureUniqueItemVisual(s,"style");He(c,u),n1.option.decal&&(o.setItemVisual(s,"decal",n1.option.decal),n1.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},t$e={performRawSeries:!0,overallReset:function(e){var t=Rt();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),Z$(r).scope=a}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=Z$(r).scope,s=r.visualStyleAccessPath||"itemStyle",l=uae(r,s);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var d=a.ensureUniqueItemVisual(c,"style"),h=n.getName(u)||u+"",v=n.count();d[l]=r.getColorFromPalette(h,o,v)}})}})}},$S=Math.PI;function r$e(e,t){t=t||{},kt(t,{text:"loading",textColor:De.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:De.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var r=new $t,n=new vr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new Pr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new vr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(a);var o;return t.showSpinner&&(o=new GE({shape:{startAngle:-$S/2,endAngle:-$S/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:$S*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:$S*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var cae=(function(){function e(t,r,n,i){this._stageTaskMap=Rt(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=Rt();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;G(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),o="";Co(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var a=t.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(r,a)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var a=!1,o=this;G(t,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,v=d.agentStubMap;v.each(function(g){s(i,g)&&(g.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,n);var p=o.getPerformArgs(d,i.block);v.each(function(g){g.perform(p)}),d.perform(p)&&(a=!0)}else f&&f.each(function(g,m){s(i,g)&&g.dirty();var y=o.getPerformArgs(g,i.block);y.skip=!l.performRawSeries&&r.isSeriesFiltered(g.context.model),o.updatePayload(g,n),g.perform(y)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=Rt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||zx({plan:s$e,reset:l$e,count:c$e}));h.context={model:f,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(f,h)}},e.prototype._createOverallStageTask=function(t,r,n,i){var a=this,o=r.overallTask=r.overallTask||zx({reset:n$e});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Rt(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";Co(!t.createOnAllSeries,h),u?n.eachRawSeriesByType(u,v):c?c(n,i).each(v):(f=!1,G(n.getSeries(),v));function v(p){var g=p.uid,m=l.set(g,s&&s.get(g)||(d=!0,zx({reset:i$e,onDirty:o$e})));m.context={model:p,overallProgress:f},m.agent=o,m.__block=f,a._pipe(p,m)}d&&o.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return Ht(t)&&(t={overallReset:t,seriesType:f$e(t)}),t.uid=ay("stageHandler"),r&&(t.visualType=r),t},e})();function n$e(e){e.overallReset(e.ecModel,e.api,e.payload)}function i$e(e){return e.overallProgress&&a$e}function a$e(){this.agent.dirty(),this.getDownstream().dirty()}function o$e(){this.agent&&this.agent.dirty()}function s$e(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function l$e(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Mn(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Ye(t,function(r,n){return fae(n)}):u$e}var u$e=fae(0);function fae(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function c$e(e){return e.data.count()}function f$e(e){NT=null;try{e(L_,dae)}catch{}return NT}var L_={},dae={},NT;hae(L_,JF);hae(dae,Nie);L_.eachSeriesByType=L_.eachRawSeriesByType=function(e){NT=e};L_.eachComponent=function(e){e.mainType==="series"&&e.subType&&(NT=e.subType)};function hae(e,t){for(var r in t.prototype)e[r]=Ei}var Ut=De.darkColor,d$e=Ut.background,i1=function(){return{axisLine:{lineStyle:{color:Ut.axisLine}},splitLine:{lineStyle:{color:Ut.axisSplitLine}},splitArea:{areaStyle:{color:[Ut.backgroundTint,Ut.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Ut.axisMinorSplitLine}},axisLabel:{color:Ut.axisLabel},axisName:{}}},J$={label:{color:Ut.secondary},itemStyle:{borderColor:Ut.borderTint},dividerLineStyle:{color:Ut.border}},vae={darkMode:!0,color:Ut.theme,backgroundColor:d$e,axisPointer:{lineStyle:{color:Ut.border},crossStyle:{color:Ut.borderShade},label:{color:Ut.tertiary}},legend:{textStyle:{color:Ut.secondary},pageTextStyle:{color:Ut.tertiary}},textStyle:{color:Ut.secondary},title:{textStyle:{color:Ut.primary},subtextStyle:{color:Ut.quaternary}},toolbox:{iconStyle:{borderColor:Ut.accent50}},tooltip:{backgroundColor:Ut.neutral20,defaultBorderColor:Ut.border,textStyle:{color:Ut.tertiary}},dataZoom:{borderColor:Ut.accent10,textStyle:{color:Ut.tertiary},brushStyle:{color:Ut.backgroundTint},handleStyle:{color:Ut.neutral00,borderColor:Ut.accent20},moveHandleStyle:{color:Ut.accent40},emphasis:{handleStyle:{borderColor:Ut.accent50}},dataBackground:{lineStyle:{color:Ut.accent30},areaStyle:{color:Ut.accent20}},selectedDataBackground:{lineStyle:{color:Ut.accent50},areaStyle:{color:Ut.accent30}}},visualMap:{textStyle:{color:Ut.secondary},handleStyle:{borderColor:Ut.neutral30}},timeline:{lineStyle:{color:Ut.accent10},label:{color:Ut.tertiary},controlStyle:{color:Ut.accent30,borderColor:Ut.accent30}},calendar:{itemStyle:{color:Ut.neutral00,borderColor:Ut.neutral20},dayLabel:{color:Ut.tertiary},monthLabel:{color:Ut.secondary},yearLabel:{color:Ut.secondary}},matrix:{x:J$,y:J$,backgroundColor:{borderColor:Ut.axisLine},body:{itemStyle:{borderColor:Ut.borderTint}}},timeAxis:i1(),logAxis:i1(),valueAxis:i1(),categoryAxis:i1(),line:{symbol:"circle"},graph:{color:Ut.theme},gauge:{title:{color:Ut.secondary},axisLine:{lineStyle:{color:[[1,Ut.neutral05]]}},axisLabel:{color:Ut.axisLabel},detail:{color:Ut.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Ut.background}},radar:(function(){var e=i1();return e.axisName={color:Ut.axisLabel},e.axisLine.lineStyle.color=Ut.neutral20,e})(),treemap:{breadcrumb:{itemStyle:{color:Ut.neutral20,textStyle:{color:Ut.secondary}},emphasis:{itemStyle:{color:Ut.neutral30}}}},sunburst:{itemStyle:{borderColor:Ut.background}},map:{itemStyle:{borderColor:Ut.border,areaColor:Ut.neutral10},label:{color:Ut.tertiary},emphasis:{label:{color:Ut.primary},itemStyle:{areaColor:Ut.highlight}},select:{label:{color:Ut.primary},itemStyle:{areaColor:Ut.highlight}}},geo:{itemStyle:{borderColor:Ut.border,areaColor:Ut.neutral10},emphasis:{label:{color:Ut.primary},itemStyle:{areaColor:Ut.highlight}},select:{label:{color:Ut.primary},itemStyle:{color:Ut.highlight}}}};vae.categoryAxis.splitLine.show=!1;var h$e=(function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(pt(t)){var a=dc(t);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};G(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var v=u.slice(0,h);v!=="data"&&(r.mainType=v,r[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=r.cptQuery,u=r.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,r.otherQuery,i,a));function c(f,d,h,v){return f[h]==null||d[v||h]===f[h]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e})(),Vk=["symbol","symbolSize","symbolRotate","symbolOffset"],Q$=Vk.concat(["symbolKeepAspect"]),v$e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<Vk.length;o++){var s=Vk[o],l=e.get(s);Ht(l)?(a=!0,i[s]=l):n[s]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(He({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var u=Lr(i);function c(f,d){for(var h=e.getRawValue(d),v=e.getDataParams(d),p=0;p<u.length;p++){var g=u[p];f.setItemVisual(d,g,i[g](h,v))}}return{dataEach:a?c:null}}},p$e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<Q$.length;s++){var l=Q$[s],u=o.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function iN(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function Mb(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function pae(e,t,r,n){switch(r){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=n,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,r,n);break}}function gae(e,t){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:e,query:i},function(o){a.push(o.seriesIndex)}),a}G([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,o){i=He({},i),o.dispatchAction(He(i,{type:n[1],seriesIndex:r(a,i)}))})})}function Z0(e,t,r,n,i){var a=e+t;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=Pp(f,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:We(d)?f.getName(d[0]):f.getName(d),selected:pt(l)?l:He({},l)})}})}function g$e(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(Z0("map","selectchanged",t,i,n),Z0("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Z0("map","selected",t,i,n),Z0("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Z0("map","unselected",t,i,n),Z0("pie","unselected",t,i,n))})}function Qv(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var m$e=Math.round(Math.random()*9),y$e=typeof Object.defineProperty=="function",x$e=(function(){function e(){this._id="__ec_inner_"+m$e++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return y$e?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e})(),_$e=Cr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,a=t.height/2;e.moveTo(r,n-a),e.lineTo(r+i,n+a),e.lineTo(r-i,n+a),e.closePath()}}),b$e=Cr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,a=t.height/2;e.moveTo(r,n-a),e.lineTo(r+i,n),e.lineTo(r,n+a),e.lineTo(r-i,n),e.closePath()}}),w$e=Cr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),l=n-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,v=o*.7;e.moveTo(r-c,l+s),e.arc(r,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(r+c-f*h,l+s+d*h,r,n-v,r,n),e.bezierCurveTo(r,n-v,r-c+f*h,l+s+d*h,r-c,l+s),e.closePath()}}),S$e=Cr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,a=t.y,o=n/3*2;e.moveTo(i,a),e.lineTo(i+o,a+r),e.lineTo(i,a+r/4*3),e.lineTo(i-o,a+r),e.lineTo(i,a),e.closePath()}}),C$e={line:Gi,rect:vr,roundRect:vr,square:vr,circle:ed,diamond:b$e,pin:w$e,arrow:S$e,triangle:_$e},T$e={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var a=Math.min(r,n);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},BT={};G(C$e,function(e,t){BT[t]=new e});var A$e=Cr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=TT(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=BT[n];i||(n="rect",i=BT[n]),T$e[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function E$e(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||De.color.neutral00,r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function Pi(e,t,r,n,i,a,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=qne(e.slice(8),new jt(t,r,n,i),o?"center":"cover"):e.indexOf("path://")===0?l=E_(e.slice(7),{},new jt(t,r,n,i),o?"center":"cover"):l=new A$e({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),l.__isEmptyBrush=s,l.setColor=E$e,a&&l.setColor(a),l}function uy(e){return We(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function f0(e,t){if(e!=null)return We(e)||(e=[e,e]),[ft(e[0],t[0])||0,ft(It(e[1],e[0]),t[1])||0]}function ep(e){return isFinite(e)}function M$e(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=ep(n)?n:0,i=ep(i)?i:1,a=ep(a)?a:0,o=ep(o)?o:0;var s=e.createLinearGradient(n,a,i,o);return s}function D$e(e,t,r){var n=r.width,i=r.height,a=Math.min(n,i),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*n+r.x,s=s*i+r.y,l=l*a),o=ep(o)?o:.5,s=ep(s)?s:.5,l=l>=0&&ep(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function $k(e,t,r){for(var n=t.type==="radial"?D$e(e,t,r):M$e(e,t,r),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function P$e(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function GS(e){return parseInt(e,10)}function Og(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(e);return(e[i]||GS(s[n])||GS(e.style[n]))-(GS(s[a])||0)-(GS(s[o])||0)|0}function R$e(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Br(e)?[e]:We(e)?e:null}function aN(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&R$e(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=Ye(r,function(a){return a/i}),n/=i)}return[r,n]}var L$e=new Rc(!0);function zT(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function eG(e){return typeof e=="string"&&e!=="none"}function HT(e){var t=e.fill;return t!=null&&t!=="none"}function tG(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function rG(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function Gk(e,t,r){var n=CF(t.image,t.__image,r);if(OE(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*oC),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function I$e(e,t,r,n){var i,a=zT(r),o=HT(r),s=r.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||L$e,f=t.__dirty;if(!n){var d=r.fill,h=r.stroke,v=o&&!!d.colorStops,p=a&&!!h.colorStops,g=o&&!!d.image,m=a&&!!h.image,y=void 0,x=void 0,b=void 0,w=void 0,S=void 0;(v||p)&&(S=t.getBoundingRect()),v&&(y=f?$k(e,d,S):t.__canvasFillGradient,t.__canvasFillGradient=y),p&&(x=f?$k(e,h,S):t.__canvasStrokeGradient,t.__canvasStrokeGradient=x),g&&(b=f||!t.__canvasFillPattern?Gk(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=b),m&&(w=f||!t.__canvasStrokePattern?Gk(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=w),v?e.fillStyle=y:g&&(b?e.fillStyle=b:o=!1),p?e.strokeStyle=x:m&&(w?e.strokeStyle=w:a=!1)}var C=t.getGlobalScale();c.setScale(C[0],C[1],t.segmentIgnoreThreshold);var E,A;e.setLineDash&&r.lineDash&&(i=aN(t),E=i[0],A=i[1]);var M=!0;(u||f&Tg)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),M=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),M&&c.rebuildPath(e,l?s:1),E&&(e.setLineDash(E),e.lineDashOffset=A),n||(r.strokeFirst?(a&&rG(e,r),o&&tG(e,r)):(o&&tG(e,r),a&&rG(e,r))),E&&e.setLineDash([])}function k$e(e,t,r){var n=t.__image=CF(r.image,t.__image,t,t.onload);if(!(!n||!OE(n))){var i=r.x||0,a=r.y||0,o=t.getWidth(),s=t.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,c=r.sy||0;e.drawImage(n,u,c,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var u=r.sx,c=r.sy,f=o-u,d=s-c;e.drawImage(n,u,c,f,d,i,a,o,s)}else e.drawImage(n,i,a,o,s)}}function O$e(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||Of,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var a=void 0,o=void 0;e.setLineDash&&r.lineDash&&(n=aN(t),a=n[0],o=n[1]),a&&(e.setLineDash(a),e.lineDashOffset=o),r.strokeFirst?(zT(r)&&e.strokeText(i,r.x,r.y),HT(r)&&e.fillText(i,r.x,r.y)):(HT(r)&&e.fillText(i,r.x,r.y),zT(r)&&e.strokeText(i,r.x,r.y)),a&&e.setLineDash([])}}var nG=["shadowBlur","shadowOffsetX","shadowOffsetY"],iG=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function mae(e,t,r,n,i){var a=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){hs(e,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?vp.opacity:o}(n||t.blend!==r.blend)&&(a||(hs(e,i),a=!0),e.globalCompositeOperation=t.blend||vp.blend);for(var s=0;s<nG.length;s++){var l=nG[s];(n||t[l]!==r[l])&&(a||(hs(e,i),a=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(a||(hs(e,i),a=!0),e.shadowColor=t.shadowColor||vp.shadowColor),a}function aG(e,t,r,n,i){var a=I_(t,i.inHover),o=n?null:r&&I_(r,i.inHover)||{};if(a===o)return!1;var s=mae(e,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(hs(e,i),s=!0),eG(a.fill)&&(e.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(hs(e,i),s=!0),eG(a.stroke)&&(e.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(hs(e,i),s=!0),e.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(hs(e,i),s=!0),e.lineWidth=u)}for(var c=0;c<iG.length;c++){var f=iG[c],d=f[0];(n||a[d]!==o[d])&&(s||(hs(e,i),s=!0),e[d]=a[d]||f[1])}return s}function F$e(e,t,r,n,i){return mae(e,I_(t,i.inHover),r&&I_(r,i.inHover),n,i)}function yae(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function N$e(e,t,r){for(var n=!1,i=0;i<e.length;i++){var a=e[i];n=n||a.isZeroArea(),yae(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}r.allClipped=n}function B$e(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var oG=1,sG=2,lG=3,uG=4;function z$e(e){var t=HT(e),r=zT(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function hs(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function I_(e,t){return t&&e.__hoverStyle||e.style}function QE(e,t){tp(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function tp(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=~ks,t.__isRendered=!1;return}var a=t.__clipPaths,o=r.prevElClipPaths,s=!1,l=!1;if((!o||P$e(a,o))&&(o&&o.length&&(hs(e,r),e.restore(),l=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(hs(e,r),e.save(),N$e(a,e,r),s=!0),r.prevElClipPaths=a),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=r.prevEl;u||(l=s=!0);var c=t instanceof Cr&&t.autoBatch&&z$e(t.style);s||B$e(i,u.transform)?(hs(e,r),yae(e,t)):c||hs(e,r);var f=I_(t,r.inHover);t instanceof Cr?(r.lastDrawType!==oG&&(l=!0,r.lastDrawType=oG),aG(e,t,u,l,r),(!c||!r.batchFill&&!r.batchStroke)&&e.beginPath(),I$e(e,t,f,c),c&&(r.batchFill=f.fill||"",r.batchStroke=f.stroke||"")):t instanceof mm?(r.lastDrawType!==lG&&(l=!0,r.lastDrawType=lG),aG(e,t,u,l,r),O$e(e,t,f)):t instanceof Ra?(r.lastDrawType!==sG&&(l=!0,r.lastDrawType=sG),F$e(e,t,u,l,r),k$e(e,t,f)):t.getTemporalDisplayables&&(r.lastDrawType!==uG&&(l=!0,r.lastDrawType=uG),H$e(e,t,r)),c&&n&&hs(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function H$e(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=t.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),tp(e,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),tp(e,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var PR=new x$e,cG=new vm(100),fG=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function _m(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&PR.delete(e);var a=PR.get(e);if(a)return a;var o=kt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,PR.set(e,s),e.dirty=!1,s;function l(u){for(var c=[r],f=!0,d=0;d<fG.length;++d){var h=o[fG[d]];if(h!=null&&!We(h)&&!pt(h)&&!Br(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var v;if(f){v=c.join(",")+(i?"-svg":"");var p=cG.get(v);p&&(i?u.svgElement=p:u.image=p)}var g=_ae(o.dashArrayX),m=V$e(o.dashArrayY),y=xae(o.symbol),x=$$e(g),b=bae(m),w=!i&&Su.createCanvas(),S=i&&{tag:"g",attrs:{},key:"dcl",children:[]},C=A(),E;w&&(w.width=C.width*r,w.height=C.height*r,E=w.getContext("2d")),M(),f&&cG.put(v,w||S),u.image=w,u.svgElement=S,u.svgWidth=C.width,u.svgHeight=C.height;function A(){for(var D=1,R=0,L=x.length;R<L;++R)D=EV(D,x[R]);for(var k=1,R=0,L=y.length;R<L;++R)k=EV(k,y[R].length);D*=k;var O=b*x.length*y.length;return{width:Math.max(1,Math.min(D,o.maxTileWidth)),height:Math.max(1,Math.min(O,o.maxTileHeight))}}function M(){E&&(E.clearRect(0,0,w.width,w.height),o.backgroundColor&&(E.fillStyle=o.backgroundColor,E.fillRect(0,0,w.width,w.height)));for(var D=0,R=0;R<m.length;++R)D+=m[R];if(D<=0)return;for(var L=-b,k=0,O=0,F=0;L<C.height;){if(k%2===0){for(var H=O/2%y.length,V=0,U=0,K=0;V<C.width*2;){for(var q=0,R=0;R<g[F].length;++R)q+=g[F][R];if(q<=0)break;if(U%2===0){var N=(1-o.symbolSize)*.5,W=V+g[F][U]*N,j=L+m[k]*N,Z=g[F][U]*o.symbolSize,ve=m[k]*o.symbolSize,Te=K/2%y[H].length;Se(W,j,Z,ve,y[H][Te])}V+=g[F][U],++K,++U,U===g[F].length&&(U=0)}++F,F===g.length&&(F=0)}L+=m[k],++O,++k,k===m.length&&(k=0)}function Se(te,pe,Re,z,J){var se=i?1:r,he=Pi(J,te*se,pe*se,Re*se,z*se,o.color,o.symbolKeepAspect);if(i){var _e=n.painter.renderOneToVNode(he);_e&&S.children.push(_e)}else QE(E,he)}}}}function xae(e){if(!e||e.length===0)return[["rect"]];if(pt(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!pt(e[r])){t=!1;break}if(t)return xae([e]);for(var n=[],r=0;r<e.length;++r)pt(e[r])?n.push([e[r]]):n.push(e[r]);return n}function _ae(e){if(!e||e.length===0)return[[0,0]];if(Br(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!Br(e[n])){r=!1;break}if(r)return _ae([e]);for(var i=[],n=0;n<e.length;++n)if(Br(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=Ye(e[n],function(s){return Math.ceil(s)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function V$e(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Br(e)){var t=Math.ceil(e);return[t,t]}var r=Ye(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function $$e(e){return Ye(e,function(t){return bae(t)})}function bae(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function G$e(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=_m(s,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=_m(i,t)}}})}var ru=new Gl,wae={};function U$e(e,t){wae[e]=t}function Sae(e){return wae[e]}var Cae={};function W$e(e,t){Cae[e]=t}function X$e(e){return Cae[e]}var j$e=1,Y$e=800,K$e=900,Z$e=1e3,q$e=2e3,J$e=5e3,Tae=1e3,Q$e=1100,oN=2e3,Aae=3e3,eGe=4e3,eM=4500,tGe=4600,rGe=5e3,nGe=6e3,Eae=7e3,iGe={PROCESSOR:{FILTER:Z$e,SERIES_FILTER:Y$e,STATISTIC:J$e},VISUAL:{LAYOUT:Tae,PROGRESSIVE_LAYOUT:Q$e,GLOBAL:oN,CHART:Aae,POST_CHART_LAYOUT:tGe,COMPONENT:eGe,BRUSH:rGe,CHART_ITEM:eM,ARIA:nGe,DECAL:Eae}},Qi="__flagInMainProcess",US="__mainProcessVersion",Ia="__pendingUpdate",RR="__needsUpdateStatus",dG=/^[a-zA-Z0-9_]+$/,LR="__connectUpdateStatus",hG=0,aGe=1,oGe=2;function Mae(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return Pae(this,e,t)}}function Dae(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pae(this,e,t)}}function Pae(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),Gl.prototype[t].apply(e,r)}var Rae=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Gl),Lae=Rae.prototype;Lae.on=Dae("on");Lae.off=Dae("off");var bv,IR,WS,nf,XS,kR,OR,q0,J0,vG,pG,FR,gG,jS,mG,Iae,ll,yG,Q0,kae=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this,new h$e)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=r;var o="canvas",s="auto",l=!1;a[US]=1,i.ssr&&z8e(function(d){var h=qt(d),v=h.dataIndex;if(v!=null){var p=Rt();return p.set("series_index",h.seriesIndex),p.set("data_index",v),h.ssrType&&p.set("ssr_type",h.ssrType),p}});var u=a._zr=dk(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:It(i.useDirtyRect,l),useCoarsePointer:It(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=nN(mt(u.flush,u),17),a._updateTheme(n),a._locale=v9e(i.locale||uie),a._coordSysMgr=new oy;var c=a._api=mG(a);function f(d,h){return d.__prio-h.__prio}return uC($T,f),uC(Xk,f),a._scheduler=new cae(a,c,Xk,$T),a._messageCenter=new Rae,a._initEvents(),a.resize=mt(a.resize,a),u.animation.on("frame",a._onframe,a),vG(u,a),pG(u,a),pT(a),a}return t.prototype._onframe=function(){if(!this._disposed){yG(this);var r=this._scheduler;if(this[Ia]){var n=this[Ia].silent;this[Qi]=!0,Q0(this);try{bv(this),nf.update.call(this,null,this[Ia].updateParams)}catch(l){throw this[Qi]=!1,this[Ia]=null,l}this._zr.flush(),this[Qi]=!1,this[Ia]=null,q0.call(this,n),J0.call(this,n)}else if(r.unfinished){var i=j$e,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),kR(this,a),r.performVisualTasks(a),jS(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[Qi]){if(this._disposed){this.id;return}var a,o,s;if(Xt(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Qi]=!0,Q0(this),!this._model||n){var l=new K9e(this._api),u=this._theme,c=this._model=new JF;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:o},jk);var f={seriesTransition:s,optionChanged:!0};if(i)this[Ia]={silent:a,updateParams:f},this[Qi]=!1,this.getZr().wakeUp();else{try{bv(this),nf.update.call(this,null,f)}catch(d){throw this[Ia]=null,this[Qi]=!1,d}this._ssr||this._zr.flush(),this[Ia]=null,this[Qi]=!1,q0.call(this,a),J0.call(this,a)}}},t.prototype.setTheme=function(r,n){if(!this[Qi]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,o=null;this[Ia]&&(a==null&&(a=this[Ia].silent),o=this[Ia].updateParams,this[Ia]=null),this[Qi]=!0,Q0(this);try{this._updateTheme(r),i.setTheme(this._theme),bv(this),nf.update.call(this,{type:"setTheme"},o)}catch(s){throw this[Qi]=!1,s}this[Qi]=!1,q0.call(this,a),J0.call(this,a)}}},t.prototype._updateTheme=function(r){pt(r)&&(r=Oae[r]),r&&(r=Vt(r),r&&zie(r,!0),this._theme=r)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Er.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){var r=this._zr,n=r.storage.getDisplayList();return G(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;G(n,function(l){i.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return G(a,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(xG[i]){var l=s,u=s,c=-s,f=-s,d=[],h=r&&r.pixelRatio||this.getDevicePixelRatio();G(Hx,function(x,b){if(x.group===i){var w=n?x.getZr().painter.getSvgDom().innerHTML:x.renderToCanvas(Vt(r)),S=x.getDom().getBoundingClientRect();l=a(S.left,l),u=a(S.top,u),c=o(S.right,c),f=o(S.bottom,f),d.push({dom:w,left:S.left,top:S.top})}}),l*=h,u*=h,c*=h,f*=h;var v=c-l,p=f-u,g=Su.createCanvas(),m=dk(g,{renderer:n?"svg":"canvas"});if(m.resize({width:v,height:p}),n){var y="";return G(d,function(x){var b=x.left-l,w=x.top-u;y+='<g transform="translate('+b+","+w+')">'+x.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,r.connectedBackgroundColor&&m.painter.setBackgroundColor(r.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return r.connectedBackgroundColor&&m.add(new vr({shape:{x:0,y:0,width:v,height:p},style:{fill:r.connectedBackgroundColor}})),G(d,function(x){var b=new Ra({style:{x:x.left*h-l,y:x.top*h-u,image:x.dom}});m.add(b)}),m.refreshImmediately(),g.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n,i){return XS(this,"convertToPixel",r,n,i)},t.prototype.convertToLayout=function(r,n,i){return XS(this,"convertToLayout",r,n,i)},t.prototype.convertFromPixel=function(r,n,i){return XS(this,"convertFromPixel",r,n,i)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=Jg(i,r);return G(o,function(s,l){l.indexOf("Models")>=0&&G(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},t.prototype.getVisual=function(r,n){var i=this._model,a=Jg(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?iN(s,l,n):Mb(s,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;G(sGe,function(i){var a=function(o){var s=r.getModel(),l=o.target,u,c=i==="globalout";if(c?u={}:l&&Qv(l,function(p){var g=qt(p);if(g&&g.dataIndex!=null){var m=g.dataModel||s.getSeriesByIndex(g.seriesIndex);return u=m&&m.getDataParams(g.dataIndex,g.dataType,l)||{},!0}else if(g.eventData)return u=He({},g.eventData),!0},!0),u){var f=u.componentType,d=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=u.seriesIndex);var h=f&&d!=null&&s.getComponent(f,d),v=h&&r[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];u.event=o,u.type=i,r._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:h,view:v},r.trigger(i,u)}};a.zrEventfulCallAtLast=!0,r._zr.on(i,a,r)});var n=this._messageCenter;G(Wk,function(i,a){n.on(a,function(o){r.trigger(a,o)})}),g$e(n,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&yne(this.getDom(),lN,"");var n=this,i=n._api,a=n._model;G(n._componentsViews,function(o){o.dispose(a,i)}),G(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Hx[n.id]},t.prototype.resize=function(r){if(!this[Qi]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[Ia]&&(a==null&&(a=this[Ia].silent),i=!0,this[Ia]=null),this[Qi]=!0,Q0(this);try{i&&bv(this),nf.update.call(this,{type:"resize",animation:He({duration:0},r&&r.animation)})}catch(o){throw this[Qi]=!1,o}this[Qi]=!1,q0.call(this,a),J0.call(this,a)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Xt(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!Yk[r]){var i=Yk[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=He({},r);return n.type=Uk[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Xt(n)||(n={silent:!!n}),!!VT[r.type]&&this._model){if(this[Qi]){this._pendingActions.push(r);return}var i=n.silent;OR.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&Er.browser.weChat&&this._throttledZrFlush(),q0.call(this,i),J0.call(this,i)}},t.prototype.updateLabelLayout=function(){ru.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){bv=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),IR(f,!0),IR(f,!1),d.plan()},IR=function(f,d){for(var h=f._model,v=f._scheduler,p=d?f._componentsViews:f._chartsViews,g=d?f._componentsMap:f._chartsMap,m=f._zr,y=f._api,x=0;x<p.length;x++)p[x].__alive=!1;d?h.eachComponent(function(S,C){S!=="series"&&b(C)}):h.eachSeries(b);function b(S){var C=S.__requireNewView;S.__requireNewView=!1;var E="_ec_"+S.id+"_"+S.type,A=!C&&g[E];if(!A){var M=dc(S.type),D=d?Cn.getClass(M.main,M.sub):zr.getClass(M.sub);A=new D,A.init(h,y),g[E]=A,p.push(A),m.add(A.group)}S.__viewId=A.__id=E,A.__alive=!0,A.__model=S,A.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!d&&v.prepareView(A,S,h,y)}for(var x=0;x<p.length;){var w=p[x];w.__alive?x++:(!d&&w.renderTask.dispose(),m.remove(w.group),w.dispose(h,y),p.splice(x,1),g[w.__id]===w&&delete g[w.__id],w.__id=w.group.__ecComponentInfo=null)}},WS=function(f,d,h,v,p){var g=f._model;if(g.setUpdatePayload(h),!v){G([].concat(f._componentsViews).concat(f._chartsViews),w);return}var m={};m[v+"Id"]=h[v+"Id"],m[v+"Index"]=h[v+"Index"],m[v+"Name"]=h[v+"Name"];var y={mainType:v,query:m};p&&(y.subType=p);var x=h.excludeSeriesId,b;x!=null&&(b=Rt(),G(Mn(x),function(S){var C=aa(S,null);C!=null&&b.set(C,!0)})),g&&g.eachComponent(y,function(S){var C=b&&b.get(S.id)!=null;if(!C)if(r$(h))if(S instanceof Xr)h.type===pp&&!h.notBlur&&!S.get(["emphasis","disabled"])&&d7e(S,h,f._api);else{var E=RF(S.mainType,S.componentIndex,h.name,f._api),A=E.focusSelf,M=E.dispatchers;h.type===pp&&A&&!h.notBlur&&wk(S.mainType,S.componentIndex,f._api),M&&G(M,function(D){h.type===pp?Bf(D):zf(D)})}else Ck(h)&&S instanceof Xr&&(p7e(S,h,f._api),e$(S),ll(f))},f),g&&g.eachComponent(y,function(S){var C=b&&b.get(S.id)!=null;C||w(f[v==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},f);function w(S){S&&S.__alive&&S[d]&&S[d](S.__model,g,f._api,h)}},nf={prepareAndUpdate:function(f){bv(this),nf.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,v=this._api,p=this._zr,g=this._coordSysMgr,m=this._scheduler;if(h){h.setUpdatePayload(f),m.restoreData(h,f),m.performSeriesTasks(h),g.create(h,v),m.performDataProcessorTasks(h,f),kR(this,h),g.update(h,v),n(h),m.performVisualTasks(h,f);var y=h.get("backgroundColor")||"transparent";p.setBackgroundColor(y);var x=h.get("darkMode");x!=null&&x!=="auto"&&p.setDarkMode(x),FR(this,h,v,f,d),ru.trigger("afterupdate",h,v)}},updateTransform:function(f){var d=this,h=this._model,v=this._api;if(h){h.setUpdatePayload(f);var p=[];h.eachComponent(function(m,y){if(m!=="series"){var x=d.getViewOfComponentModel(y);if(x&&x.__alive)if(x.updateTransform){var b=x.updateTransform(y,h,v,f);b&&b.update&&p.push(x)}else p.push(x)}});var g=Rt();h.eachSeries(function(m){var y=d._chartsMap[m.__viewId];if(y.updateTransform){var x=y.updateTransform(m,h,v,f);x&&x.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:g}),jS(this,h,v,f,{},g),ru.trigger("afterupdate",h,v)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),zr.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),FR(this,d,this._api,f,{}),ru.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(v){v.getData().clearAllVisual()}),zr.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(v,p){if(v!=="series"){var g=d.getViewOfComponentModel(p);g&&g.__alive&&g.updateVisual(p,h,d._api,f)}}),h.eachSeries(function(v){var p=d._chartsMap[v.__viewId];p.updateVisual(v,h,d._api,f)}),ru.trigger("afterupdate",h,this._api))},updateLayout:function(f){nf.update.call(this,f)}};function r(f,d,h,v,p){if(f._disposed){f.id;return}for(var g=f._model,m=f._coordSysMgr.getCoordinateSystems(),y,x=Jg(g,h),b=0;b<m.length;b++){var w=m[b];if(w[d]&&(y=w[d](g,x,v,p))!=null)return y}}XS=r,kR=function(f,d){var h=f._chartsMap,v=f._scheduler;d.eachSeries(function(p){v.updateStreamModes(p,h[p.__viewId])})},OR=function(f,d){var h=this,v=this.getModel(),p=f.type,g=f.escapeConnect,m=VT[p],y=(m.update||"update").split(":"),x=y.pop(),b=y[0]!=null&&dc(y[0]);this[Qi]=!0,Q0(this);var w=[f],S=!1;f.batch&&(S=!0,w=Ye(f.batch,function(F){return F=kt(He({},F),f),F.batch=null,F}));var C=[],E,A=[],M=m.nonRefinedEventType,D=Ck(f),R=r$(f);if(R&&zne(this._api),G(w,function(F){var H=m.action(F,v,h._api);if(m.refineEvent?A.push(H):E=H,E=E||He({},F),E.type=M,C.push(E),R){var V=wF(f),U=V.queryOptionMap,K=V.mainTypeSpecified,q=K?U.keys()[0]:"series";WS(h,x,F,q),ll(h)}else D?(WS(h,x,F,"series"),ll(h)):b&&WS(h,x,F,b.main,b.sub)}),x!=="none"&&!R&&!D&&!b)try{this[Ia]?(bv(this),nf.update.call(this,f),this[Ia]=null):nf[x].call(this,f)}catch(F){throw this[Qi]=!1,F}if(S?E={type:M,escapeConnect:g,batch:C}:E=C[0],this[Qi]=!1,!d){var L=void 0;if(m.refineEvent){var k=m.refineEvent(A,f,v,this._api).eventContent;Co(Xt(k)),L=kt({type:m.refinedEventType},k),L.fromAction=f.type,L.fromActionPayload=f,L.escapeConnect=!0}var O=this._messageCenter;O.trigger(E.type,E),L&&O.trigger(L.type,L)}},q0=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();OR.call(this,h,f)}},J0=function(f){!f&&this.trigger("updated")},vG=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[Ia]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},pG=function(f,d){f.on("mouseover",function(h){var v=h.target,p=Qv(v,A_);p&&(h7e(p,h,d._api),ll(d))}).on("mouseout",function(h){var v=h.target,p=Qv(v,A_);p&&(v7e(p,h,d._api),ll(d))}).on("click",function(h){var v=h.target,p=Qv(v,function(y){return qt(y).dataIndex!=null},!0);if(p){var g=p.selected?"unselect":"select",m=qt(p);d._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function i(f){var d=[],h=[],v=!1;if(f.eachComponent(function(y,x){var b=x.get("zlevel")||0,w=x.get("z")||0,S=x.getZLevelKey();v=v||!!S,(y==="series"?h:d).push({zlevel:b,z:w,idx:x.componentIndex,type:y,key:S})}),v){var p=d.concat(h),g,m;uC(p,function(y,x){return y.zlevel===x.zlevel?y.z-x.z:y.zlevel-x.zlevel}),G(p,function(y){var x=f.getComponent(y.type,y.idx),b=y.zlevel,w=y.key;g!=null&&(b=Math.max(g,b)),w?(b===g&&w!==m&&b++,m=w):m&&(b===g&&b++,m=""),g=b,x.setZLevel(b)})}}FR=function(f,d,h,v,p){i(d),gG(f,d,h,v,p),G(f._chartsViews,function(g){g.__alive=!1}),jS(f,d,h,v,p),G(f._chartsViews,function(g){g.__alive||g.remove(d,h)})},gG=function(f,d,h,v,p,g){G(g||f._componentsViews,function(m){var y=m.__model;u(y,m),m.render(y,d,h,v),l(y,m),c(y,m)})},jS=function(f,d,h,v,p,g){var m=f._scheduler;p=He(p||{},{updatedSeries:d.getSeries()}),ru.trigger("series:beforeupdate",d,h,p);var y=!1;d.eachSeries(function(x){var b=f._chartsMap[x.__viewId];b.__alive=!0;var w=b.renderTask;m.updatePayload(w,v),u(x,b),g&&g.get(x.uid)&&w.dirty(),w.perform(m.getPerformArgs(w))&&(y=!0),b.group.silent=!!x.get("silent"),s(x,b),e$(x)}),m.unfinished=y||m.unfinished,ru.trigger("series:layoutlabels",d,h,p),ru.trigger("series:transition",d,h,p),d.eachSeries(function(x){var b=f._chartsMap[x.__viewId];l(x,b),c(x,b)}),o(f,d),ru.trigger("series:afterupdate",d,h,p)},ll=function(f){f[RR]=!0,f.getZr().wakeUp()},Q0=function(f){f[US]=(f[US]+1)%1e3},yG=function(f){f[RR]&&(f.getZr().storage.traverse(function(d){Qg(d)||a(d)}),f[RR]=!1)};function a(f){for(var d=[],h=f.currentStates,v=0;v<h.length;v++){var p=h[v];p==="emphasis"||p==="blur"||p==="select"||d.push(p)}f.selected&&f.states.select&&d.push("select"),f.hoverState===HE&&f.states.emphasis?d.push("emphasis"):f.hoverState===bb&&f.states.blur&&d.push("blur"),f.useStates(d)}function o(f,d){var h=f._zr,v=h.storage,p=0;v.traverse(function(g){g.isGroup||p++}),p>d.get("hoverLayerThreshold")&&!Er.node&&!Er.worker&&d.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=f._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function s(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(v){v.isGroup||(v.style.blend=h)})}function l(f,d){if(!f.preventAutoZ){var h=kp(f);d.eachRendered(function(v){return XE(v,h.z,h.zlevel),!0})}}function u(f,d){d.eachRendered(function(h){if(!Qg(h)){var v=h.getTextContent(),p=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),p=h.get("duration"),g=p>0?{duration:p,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Qg(m))return;if(m instanceof Cr&&b7e(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(v){m.stateTransition=g;var x=m.getTextContent(),b=m.getTextGuideLine();x&&(x.stateTransition=g),b&&(b.stateTransition=g)}m.__dirty&&a(m)}})}mG=function(f){return new((function(d){Ae(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(v){for(;v;){var p=v.__ecComponentInfo;if(p!=null)return f._model.getComponent(p.mainType,p.index);v=v.parent}},h.prototype.enterEmphasis=function(v,p){Bf(v,p),ll(f)},h.prototype.leaveEmphasis=function(v,p){zf(v,p),ll(f)},h.prototype.enterBlur=function(v){One(v),ll(f)},h.prototype.leaveBlur=function(v){PF(v),ll(f)},h.prototype.enterSelect=function(v){Fne(v),ll(f)},h.prototype.leaveSelect=function(v){Nne(v),ll(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},h.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},h.prototype.getMainProcessVersion=function(){return f[US]},h})(Nie))(f)},Iae=function(f){function d(h,v){for(var p=0;p<h.length;p++){var g=h[p];g[LR]=v}}G(Uk,function(h,v){f._messageCenter.on(v,function(p){if(xG[f.group]&&f[LR]!==hG){if(p&&p.escapeConnect)return;var g=f.makeActionFromEvent(p),m=[];G(Hx,function(y){y!==f&&y.group===f.group&&m.push(y)}),d(m,hG),G(m,function(y){y[LR]!==aGe&&y.dispatchAction(g)}),d(m,oGe)}})})}})(),t})(Gl),sN=kae.prototype;sN.on=Mae("on");sN.off=Mae("off");sN.one=function(e,t,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),n.off(e,i)}this.on.call(this,e,i,r)};var sGe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],VT={},Uk={},Wk={},Xk=[],jk=[],$T=[],Oae={},Yk={},Hx={},xG={},lGe=+new Date-0,lN="_echarts_instance_";function Kk(e,t,r){{var n=uGe(e);if(n)return n}var i=new kae(e,t,r);return i.id="ec_"+lGe++,Hx[i.id]=i,yne(e,lN,i.id),Iae(i),ru.trigger("afterinit",i),i}function uGe(e){return Hx[lHe(e,lN)]}function Fae(e,t){Oae[e]=t}function uN(e){ur(jk,e)<0&&jk.push(e)}function Nae(e,t){fN(Xk,e,t,q$e)}function Bae(e){cN("afterinit",e)}function zae(e){cN("afterupdate",e)}function cN(e,t){ru.on(e,t)}function Hc(e,t,r){var n,i,a,o,s;Ht(t)&&(r=t,t=""),Xt(e)?(n=e.type,i=e.event,o=e.update,s=e.publishNonRefinedEvent,r||(r=e.action),a=e.refineEvent):(n=e,i=t);function l(c){return c.toLowerCase()}i=l(i||n);var u=a?l(n):i;VT[n]||(Co(dG.test(n)&&dG.test(i)),a&&Co(i!==n),VT[n]={actionType:n,refinedEventType:i,nonRefinedEventType:u,update:o,action:r,refineEvent:a},Wk[i]=1,a&&s&&(Wk[u]=1),Uk[u]=n)}function cGe(e,t){oy.register(e,t)}function Hae(e){var t=oy.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function fGe(e,t){fN($T,e,t,Tae,"layout")}function d0(e,t){fN($T,e,t,Aae,"visual")}var _G=[];function fN(e,t,r,n,i){if((Ht(t)||Xt(t))&&(r=t,t=n),!(ur(_G,r)>=0)){_G.push(r);var a=cae.wrapStageHandler(r,i);a.__prio=t,a.__raw=r,e.push(a)}}function Vae(e,t){Yk[e]=t}function dGe(e,t,r){var n=Sae("registerMap");n&&n(e,t,r)}function Zk(e){var t=Sae("getMap");return t&&t(e)}var hGe=EVe;d0(oN,QVe);d0(eM,e$e);d0(eM,t$e);d0(oN,v$e);d0(eM,p$e);d0(Eae,G$e);uN(zie);Nae(K$e,sVe);Vae("default",r$e);Hc({type:pp,event:pp,update:pp},Ei);Hc({type:vC,event:vC,update:vC},Ei);Hc({type:MT,event:MF,update:MT,action:Ei,refineEvent:dN,publishNonRefinedEvent:!0});Hc({type:_k,event:MF,update:_k,action:Ei,refineEvent:dN,publishNonRefinedEvent:!0});Hc({type:DT,event:MF,update:DT,action:Ei,refineEvent:dN,publishNonRefinedEvent:!0});function dN(e,t,r,n){return{eventContent:{selected:g7e(r),isFromClick:t.isFromClick||!1}}}Fae("default",{});Fae("dark",vae);var bG=[],vGe={registerPreprocessor:uN,registerProcessor:Nae,registerPostInit:Bae,registerPostUpdate:zae,registerUpdateLifecycle:cN,registerAction:Hc,registerCoordinateSystem:cGe,registerLayout:fGe,registerVisual:d0,registerTransform:hGe,registerLoading:Vae,registerMap:dGe,registerImpl:U$e,PRIORITY:iGe,ComponentModel:dr,ComponentView:Cn,SeriesModel:Xr,ChartView:zr,registerComponentModel:function(e){dr.registerClass(e)},registerComponentView:function(e){Cn.registerClass(e)},registerSeriesModel:function(e){Xr.registerClass(e)},registerChartView:function(e){zr.registerClass(e)},registerCustomSeries:function(e,t){W$e(e,t)},registerSubTypeDefaulter:function(e,t){dr.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){N8e(e,t)}};function Yt(e){if(We(e)){G(e,function(t){Yt(t)});return}ur(bG,e)>=0||(bG.push(e),Ht(e)&&(e={install:e}),e.install(vGe))}function a1(e){return e==null?0:e.length||1}function wG(e){return e}var Hf=(function(){function e(t,r,n,i,a,o){this._old=t,this._new=r,this._oldKeyGetter=n||wG,this._newKeyGetter=i||wG,this.context=a,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),a=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=i[o],l=n[s],u=a1(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=n[l],c=i[l],f=a1(u),d=a1(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],a=r[i],o=a1(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[i](t[o],o);if(a||(n[o]=s),!!r){var l=r[s],u=a1(l);u===0?(r[s]=o,a&&n.push(s)):u===1?r[s]=[l,o]:l.push(o)}}},e})(),pGe=(function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e})();function gGe(e,t){var r={},n=r.encode={},i=Rt(),a=[],o=[],s={};G(e.dimensions,function(d){var h=e.getDimensionInfo(d),v=h.coordDim;if(v){var p=h.coordDimIndex;NR(n,v)[p]=d,h.isExtraCoord||(i.set(v,1),mGe(h.type)&&(a[0]=d),NR(s,v)[p]=e.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}Pie.each(function(g,m){var y=NR(n,m),x=h.otherDims[m];x!=null&&x!==!1&&(y[x]=h.name)})});var l=[],u={};i.each(function(d,h){var v=n[h];u[h]=v[0],l=l.concat(v)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=Ye(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),r.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new pGe(s,t),r}function NR(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function GT(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function mGe(e){return!(e==="ordinal"||e==="time")}var bC=(function(){function e(t){this.otherDims={},t!=null&&He(this,t)}return e})(),yGe=wr(),xGe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},$ae=(function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Wae(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return It(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=Vie(this.source),n=!Xae(t),i="",a=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=r?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=r?d.name:null,u=d.type)}a.push({property:l,type:u,ordinalMeta:c}),r&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=xGe[u]||"f",c&&(i+=c.uid),i+="$"}var h=this.source,v=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:v}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e})();function Gae(e){return e instanceof $ae}function Uae(e){for(var t=Rt(),r=0;r<(e||[]).length;r++){var n=e[r],i=Xt(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function Wae(e){var t=yGe(e);return t.dimNameMap||(t.dimNameMap=Uae(e.dimensionsDefine))}function Xae(e){return e>30}var o1=Xt,Cd=Ye,_Ge=typeof Int32Array>"u"?Array:Int32Array,bGe="e\0\0",SG=-1,wGe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],SGe=["_approximateExtent"],CG,YS,s1,l1,BR,u1,zR,oi=(function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;Gae(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],d=pt(f)?new bC({name:f}):f instanceof bC?f:new bC(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var v=d.otherDims=d.otherDims||{};o.push(h),a[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]);var p=c;Br(d.storeDimIndex)&&(p=d.storeDimIndex),v.itemName===0&&(this._nameDimIdx=p),v.itemId===0&&(this._idDimIdx=p),i&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=Rt();G(o,function(m){g.set(a[m].storeDimIndex,m)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Br(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,a;if(t instanceof Nk&&(a=t),!a){var o=this.dimensions,s=QF(t)||So(t)?new $ie(t,o.length):t;a=new Nk;var l=Cd(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=gGe(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=r[l],o&&zR(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==ch&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===js;if(l&&!i.pure)for(var u=[],c=t;c<r;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&K8e(f)&&(this.hasItemOption=!0),f){var d=f.name;a[c]==null&&d!=null&&(a[c]=aa(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=aa(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<r;c++)zR(this,c);CG(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){o1(t)?He(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=s1(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return YS(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return We(t)?i.getValues(Cd(t,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n&&n[r];return i==null||isNaN(i)?SG:i},e.prototype.each=function(t,r,n){Ht(t)&&(n=r,r=t,t=[]);var i=n||this,a=Cd(l1(t),this._getStoreDimIndex,this);this._store.each(a,i?mt(r,i):r)},e.prototype.filterSelf=function(t,r,n){Ht(t)&&(n=r,r=t,t=[]);var i=n||this,a=Cd(l1(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?mt(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=Lr(t);return G(i,function(a){var o=r._getStoreDimIndex(a);n[o]=t[a]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){Ht(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var a=n||i||this,o=Cd(l1(t),this._getStoreDimIndex,this),s=u1(this);return s._store=this._store.map(o,a?mt(r,a):r),s},e.prototype.modify=function(t,r,n,i){var a=n||i||this,o=Cd(l1(t),this._getStoreDimIndex,this);this._store.modify(o,a?mt(r,a):r)},e.prototype.downSample=function(t,r,n,i){var a=u1(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),a},e.prototype.minmaxDownSample=function(t,r){var n=u1(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=u1(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new pr(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new Hf(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return YS(t,n)},function(n){return YS(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},o1(t)?He(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[r];return a==null&&(a=this.getVisual(r),We(a)?a=a.slice():o1(a)&&(a=He({},a)),i[r]=a),a},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,o1(r)?He(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){o1(t)?He(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?He(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;xk(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){G(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Cd(this.dimensions,this._getDimInfo,this),this.hostModel)),BR(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];Ht(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(dF(arguments)))})},e.internalField=(function(){CG=function(t){var r=t._invertedIndicesMap;G(r,function(n,i){var a=t._dimInfos[i],o=a.ordinalMeta,s=t._store;if(o){n=r[i]=new _Ge(o.categories.length);for(var l=0;l<n.length;l++)n[l]=SG;for(var l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},s1=function(t,r,n){return aa(t._getCategory(r,n),null)},YS=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=s1(t,t._idDimIdx,r)),n==null&&(n=bGe+r),n},l1=function(t){return We(t)||(t=t!=null?[t]:[]),t},u1=function(t){var r=new e(t._schema?t._schema:Cd(t.dimensions,t._getDimInfo,t),t.hostModel);return BR(r,t),r},BR=function(t,r){G(wGe.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,G(SGe,function(n){t[n]=Vt(r[n])}),t._calculationInfo=He({},r._calculationInfo)},zR=function(t,r){var n=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,s=n[r],l=i[r];if(s==null&&a!=null&&(n[r]=s=s1(t,a,r)),l==null&&o!=null&&(i[r]=l=s1(t,o,r)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[r]=l}}})(),e})();function Db(e,t){return cy(e,t).dimensions}function cy(e,t){QF(e)||(e=eN(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=Rt(),a=[],o=TGe(e,r,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&Xae(o),l=n===e.dimensionsDefine,u=l?Wae(e):Uae(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var f=Rt(c),d=new Zie(o),h=0;h<d.length;h++)d[h]=-1;function v(A){var M=d[A];if(M<0){var D=n[A],R=Xt(D)?D:{name:D},L=new bC,k=R.name;k!=null&&u.get(k)!=null&&(L.name=L.displayName=k),R.type!=null&&(L.type=R.type),R.displayName!=null&&(L.displayName=R.displayName);var O=a.length;return d[A]=O,L.storeDimIndex=A,a.push(L),L}return a[M]}if(!s)for(var h=0;h<o;h++)v(h);f.each(function(A,M){var D=Mn(A).slice();if(D.length===1&&!pt(D[0])&&D[0]<0){f.set(M,!1);return}var R=f.set(M,[]);G(D,function(L,k){var O=pt(L)?u.get(L):L;O!=null&&O<o&&(R[k]=O,g(v(O),M,k))})});var p=0;G(r,function(A){var M,D,R,L;if(pt(A))M=A,L={};else{L=A,M=L.name;var k=L.ordinalMeta;L.ordinalMeta=null,L=He({},L),L.ordinalMeta=k,D=L.dimsDef,R=L.otherDims,L.name=L.coordDim=L.coordDimIndex=L.dimsDef=L.otherDims=null}var O=f.get(M);if(O!==!1){if(O=Mn(O),!O.length)for(var F=0;F<(D&&D.length||1);F++){for(;p<o&&v(p).coordDim!=null;)p++;p<o&&O.push(p++)}G(O,function(H,V){var U=v(H);if(l&&L.type!=null&&(U.type=L.type),g(kt(U,L),M,V),U.name==null&&D){var K=D[V];!Xt(K)&&(K={name:K}),U.name=U.displayName=K.name,U.defaultTooltip=K.defaultTooltip}R&&kt(U.otherDims,R)})}});function g(A,M,D){Pie.get(M)!=null?A.otherDims[M]=D:(A.coordDim=M,A.coordDimIndex=D,i.set(M,!0))}var m=t.generateCoord,y=t.generateCoordCount,x=y!=null;y=m?y||1:0;var b=m||"value";function w(A){A.name==null&&(A.name=A.coordDim)}if(s)G(a,function(A){w(A)}),a.sort(function(A,M){return A.storeDimIndex-M.storeDimIndex});else for(var S=0;S<o;S++){var C=v(S),E=C.coordDim;E==null&&(C.coordDim=AGe(b,i,x),C.coordDimIndex=0,(!m||y<=0)&&(C.isExtraCoord=!0),y--),w(C),C.type==null&&(kie(e,S)===Ya.Must||C.isExtraCoord&&(C.otherDims.itemName!=null||C.otherDims.seriesName!=null))&&(C.type="ordinal")}return CGe(a),new $ae({source:e,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function CGe(e){for(var t=Rt(),r=0;r<e.length;r++){var n=e[r],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function TGe(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return G(t,function(a){var o;Xt(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function AGe(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var EGe=(function(){function e(t){this.coordSysDims=[],this.axisMap=Rt(),this.categoryAxisMap=Rt(),this.coordSysName=t}return e})();function MGe(e){var t=e.get("coordinateSystem"),r=new EGe(t),n=DGe[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var DGe={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",fi).models[0],a=e.getReferringComponents("yAxis",fi).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),eg(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),eg(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",fi).models[0];t.coordSysDims=["single"],r.set("single",i),eg(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",fi).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),eg(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),eg(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();G(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=o[l];r.set(c,u),eg(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})},matrix:function(e,t,r,n){var i=e.getReferringComponents("matrix",fi).models[0];t.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),o=i.getDimensionModel("y");r.set("x",a),r.set("y",o),n.set("x",a),n.set("y",o)}};function eg(e){return e.get("type")==="category"}function jae(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;PGe(t)?a=t:(o=t.schema,a=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,f,d;if(G(a,function(y,x){pt(y)&&(a[x]=y={name:y}),l&&!y.isExtraCoord&&(!n&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!i||i===y.coordDim)&&(c=y))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,v=c.type,p=0;G(a,function(y){y.coordDim===h&&p++});var g={name:f,coordDim:h,coordDimIndex:p,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},m={name:d,coordDim:d,coordDimIndex:p+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(g.storeDimIndex=s.ensureCalculationDimension(d,v),m.storeDimIndex=s.ensureCalculationDimension(f,v)),o.appendCalculationDimension(g),o.appendCalculationDimension(m)):(a.push(g),a.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:d,stackResultDimension:f}}function PGe(e){return!Gae(e.schema)}function Vf(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function hN(e,t){return Vf(e,t)?e.getCalculationInfo("stackResultDimension"):t}function RGe(e,t){var r=e.get("coordinateSystem"),n=oy.get(r),i;return t&&t.coordSysDims&&(i=Ye(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var l=s.get("type");o.type=GT(l)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function LGe(e,t,r){var n,i;return r&&G(e,function(a,o){var s=a.coordDim,l=r.categoryAxisMap.get(s);l&&(n==null&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function Vc(e,t,r){r=r||{};var n=t.getSourceManager(),i,a=!1;e?(a=!0,i=eN(e)):(i=n.getSource(),a=i.sourceFormat===js);var o=MGe(t),s=RGe(t,o),l=r.useEncodeDefaulter,u=Ht(l)?l:l?lr(Iie,s,t):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=cy(i,c),d=LGe(f.dimensions,r.createInvertedIndices,o),h=a?null:n.getSharedDataStore(f),v=jae(t,{schema:f,store:h}),p=new oi(f,t);p.setCalculationInfo(v);var g=d!=null&&IGe(i)?function(m,y,x,b){return b===d?x:this.defaultDimValueGetter(m,y,x,b)}:null;return p.hasItemOption=!1,p.initData(a?i:h,null,g),p}function IGe(e){if(e.sourceFormat===js){var t=kGe(e.data||[]);return!We(Qm(t))}}function kGe(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}function qk(e){return e.type==="interval"||e.type==="log"}function OGe(e,t,r,n,i){var a={},o=a.interval=une(t/r);n!=null&&o<n&&(o=a.interval=n),i!=null&&o>i&&(o=a.interval=i);var s=a.intervalPrecision=k_(o),l=a.niceTickExtent=[ii(Math.ceil(e[0]/o)*o,s),ii(Math.floor(e[1]/o)*o,s)];return FGe(l,e),a}function HR(e){var t=Math.pow(10,_F(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,ii(r*t)}function k_(e){return fc(e)+2}function TG(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function FGe(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),TG(e,0,t),TG(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function vN(e,t){return e>=t[0]&&e<=t[1]}var NGe=(function(){function e(){this.normalize=AG,this.scale=EG}return e.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=mt(t.normalize,t),this.scale=mt(t.scale,t)):(this.normalize=AG,this.scale=EG)},e})();function AG(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function EG(e,t){return e*(t[1]-t[0])+t[0]}function Jk(e,t,r){var n=Math.log(e);return[Math.log(r?t[0]:Math.max(0,t[0]))/n,Math.log(r?t[1]:Math.max(0,t[1]))/n]}var Oh=(function(){function e(t){this._calculator=new NGe,this._setting=t||{},this._extent=[1/0,-1/0];var r=Ui();r&&(this._brkCtx=r.createScaleBreakContext(),this._brkCtx.update(this._extent))}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype._innerUnionExtent=function(t){var r=this._extent;this._innerSetExtent(t[0]<r[0]?t[0]:r[0],t[1]>r[1]?t[1]:r[1])},e.prototype.unionExtentFromData=function(t,r){this._innerUnionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){this._innerSetExtent(t,r)},e.prototype._innerSetExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r),this._brkCtx&&this._brkCtx.update(n)},e.prototype.setBreaksFromOption=function(t){var r=Ui();r&&this._innerSetBreak(r.parseAxisBreakOption(t,mt(this.parse,this)))},e.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},e.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},e.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e})();kE(Oh);var BGe=0,bm=(function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++BGe,this._onCollect=t.onCollect}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&Ye(n,zGe);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!pt(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,this._onCollect&&this._onCollect(t,r),r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r),this._onCollect&&this._onCollect(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Rt(this.categories))},e})();function zGe(e){return Xt(e)&&e.value!=null?e.value:e+""}var wm=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new bm({})),We(i)&&(i=new bm({categories:Ye(i,function(a){return Xt(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:pt(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return vN(r,this._extent)&&r>=0&&r<this._ordinalMeta.categories.length},t.prototype.normalize=function(r){return r=this._getTickNumber(r),this._calculator.normalize(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(this._calculator.scale(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Oh);Oh.registerClass(wm);var Td=ii,$f=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r==null||r===""?NaN:Number(r)},t.prototype.contain=function(r){return vN(r,this._extent)},t.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},t.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=k_(r)},t.prototype.getTicks=function(r){r=r||{};var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=Ui(),l=[];if(!n)return l;if(r.breakTicks==="only_break"&&s)return s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;i[0]<a[0]&&(r.expandToNicedExtent?l.push({value:Td(a[0]-n,o)}):l.push({value:i[0]}));for(var c=function(v,p){return Math.round((p-v)/n)},f=a[0];f<=a[1];){if(l.push({value:f}),f=Td(f+n,o),this._brkCtx){var d=this._brkCtx.calcNiceTickMultiple(f,c);d>=0&&(f=Td(f+d*n,o))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var h=l.length?l[l.length-1].value:a[1];return i[1]>h&&(r.expandToNicedExtent?l.push({value:Td(h+n,o)}):l.push({value:i[1]})),s&&s.pruneTicksByBreak(r.pruneByBreak,l,this._brkCtx.breaks,function(v){return v.value},this._interval,this._extent),r.breakTicks!=="none"&&s&&s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),o=1;o<n.length;o++){var s=n[o],l=n[o-1];if(!(l.break||s.break)){for(var u=0,c=[],f=s.value-l.value,d=f/r,h=k_(d);u<r-1;){var v=Td(l.value+(u+1)*d,h);v>a[0]&&v<a[1]&&c.push(v),u++}var p=Ui();p&&p.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(g){return g},this._interval,a),i.push(c)}}return i},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=fc(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Td(r.value,i,!0);return kT(a)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var s=OGe(a,o,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval,s=this._intervalPrecision;r.fixMin||(n[0]=Td(Math.floor(n[0]/o)*o,s)),r.fixMax||(n[1]=Td(Math.ceil(n[1]/o)*o,s)),this._innerSetExtent(n[0],n[1])},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t})(Oh);Oh.registerClass($f);var Yae=typeof Float32Array<"u",HGe=Yae?Float32Array:Array;function hc(e){return We(e)?Yae?new Float32Array(e):e:new HGe(e)}var Qk="__ec_stack_";function Kae(e){return e.get("stack")||Qk+e.seriesIndex}function pN(e){return e.dim+e.index}function VGe(e){var t=[],r=e.axis,n="axis0";if(r.type==="category"){for(var i=r.getBandWidth(),a=0;a<e.count;a++)t.push(kt({bandWidth:i,axisKey:n,stackId:Qk+a},e));for(var o=Jae(t),s=[],a=0;a<e.count;a++){var l=o[n][Qk+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function Zae(e,t){var r=[];return t.eachSeriesByType(e,function(n){toe(n)&&r.push(n)}),r}function $Ge(e){var t={};G(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),p=0,g=v.count();p<g;++p){var m=v.get(h,p);t[d]?t[d].push(m):t[d]=[m]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}r[n]=a}}return r}function qae(e){var t=$Ge(e),r=[];return G(e,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=t[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=n.getData();s=Math.abs(o[1]-o[0])/h.count()}var v=ft(n.get("barWidth"),s),p=ft(n.get("barMaxWidth"),s),g=ft(n.get("barMinWidth")||(roe(n)?.5:1),s),m=n.get("barGap"),y=n.get("barCategoryGap"),x=n.get("defaultBarGap");r.push({bandWidth:s,barWidth:v,barMaxWidth:p,barMinWidth:g,barGap:m,barCategoryGap:y,defaultBarGap:x,axisKey:pN(a),stackId:Kae(n)})}),Jae(r)}function Jae(e){var t={};G(e,function(n,i){var a=n.axisKey,o=n.bandWidth,s=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=s.stacks;t[a]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var d=n.barMinWidth;d&&(l[u].minWidth=d);var h=n.barGap;h!=null&&(s.gap=h);var v=n.barCategoryGap;v!=null&&(s.categoryGap=v)});var r={};return G(t,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=Lr(a).length;s=Math.max(35-l*4,15)+"%"}var u=ft(s,o),c=ft(n.gap,1),f=n.remainedWidth,d=n.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),G(a,function(m){var y=m.maxWidth,x=m.minWidth;if(m.width){var b=m.width;y&&(b=Math.min(b,y)),x&&(b=Math.max(b,x)),m.width=b,f-=b+c*b,d--}else{var b=h;y&&y<b&&(b=Math.min(y,f)),x&&x>b&&(b=x),b!==h&&(m.width=b,f-=b+c*b,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var v=0,p;G(a,function(m,y){m.width||(m.width=h),p=m,v+=m.width*(1+c)}),p&&(v-=p.width*c);var g=-v/2;G(a,function(m,y){r[i][y]=r[i][y]||{bandWidth:o,offset:g,width:m.width},g+=m.width*(1+c)})}),r}function GGe(e,t,r){if(e&&t){var n=e[pN(t)];return n}}function Qae(e,t){var r=Zae(e,t),n=qae(r);G(r,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=Kae(i),u=n[pN(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function eoe(e){return{seriesType:e,plan:sy(),reset:function(t){if(toe(t)){var r=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=r.getDimensionIndex(r.mapDimension(a.dim)),s=r.getDimensionIndex(r.mapDimension(i.dim)),l=t.get("showBackground",!0),u=r.mapDimension(a.dim),c=r.getCalculationInfo("stackResultDimension"),f=Vf(r,u)&&!!r.getCalculationInfo("stackedOnSeries"),d=a.isHorizontal(),h=UGe(i,a),v=roe(t),p=t.get("barMinHeight")||0,g=c&&r.getDimensionIndex(c),m=r.getLayout("size"),y=r.getLayout("offset");return{progress:function(x,b){for(var w=x.count,S=v&&hc(w*3),C=v&&l&&hc(w*3),E=v&&hc(w),A=n.master.getRect(),M=d?A.width:A.height,D,R=b.getStore(),L=0;(D=x.next())!=null;){var k=R.get(f?g:o,D),O=R.get(s,D),F=h,H=void 0;f&&(H=+k-R.get(o,D));var V=void 0,U=void 0,K=void 0,q=void 0;if(d){var N=n.dataToPoint([k,O]);if(f){var W=n.dataToPoint([H,O]);F=W[0]}V=F,U=N[1]+y,K=N[0]-F,q=m,Math.abs(K)<p&&(K=(K<0?-1:1)*p)}else{var N=n.dataToPoint([O,k]);if(f){var W=n.dataToPoint([O,H]);F=W[1]}V=N[0]+y,U=F,K=m,q=N[1]-F,Math.abs(q)<p&&(q=(q<=0?-1:1)*p)}v?(S[L]=V,S[L+1]=U,S[L+2]=d?K:q,C&&(C[L]=d?A.x:V,C[L+1]=d?U:A.y,C[L+2]=M),E[D]=D):b.setItemLayout(D,{x:V,y:U,width:K,height:q}),L+=3}v&&b.setLayout({largePoints:S,largeDataIndices:E,largeBackgroundPoints:C,valueAxisHorizontal:d})}}}}}}function toe(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function roe(e){return e.pipelineContext&&e.pipelineContext.large}function UGe(e,t){var r=t.model.get("startValue");return r||(r=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var WGe=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},gN=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return YE(r.value,m$[S9e(Bx(this._minLevelUnit))]||m$.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return C9e(r,n,i,o,a)},t.prototype.getTicks=function(r){r=r||{};var n=this._interval,i=this._extent,a=Ui(),o=[];if(!n)return o;var s=this.getSetting("useUTC");if(a&&r.breakTicks==="only_break")return Ui().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var l=kg(i[1],s);o.push({value:i[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=JGe(this._minLevelUnit,this._approxInterval,s,i,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=kg(i[1],s);o.push({value:i[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),d=Ps.length-1,h=0;return G(o,function(v){d=Math.min(d,ur(Ps,v.time.upperTimeUnit)),h=Math.max(h,v.time.level)}),a&&Ui().pruneTicksByBreak(r.pruneByBreak,o,this._brkCtx.breaks,function(v){return v.value},this._approxInterval,this._extent),a&&r.breakTicks!=="none"&&Ui().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(v){for(var p=Math.max(ur(Ps,kg(v.vmin,f)),ur(Ps,kg(v.vmax,f))),g=0,m=0;m<Ps.length;m++)if(!noe(Ps[m],v.vmin,v.vmax,f)){g=m;break}var y=Math.min(g,d),x=Math.max(y,p);return{level:h,lowerTimeUnit:Ps[x],upperTimeUnit:Ps[y]}}),o},t.prototype.calcNiceExtent=function(r){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=Al,n[1]+=Al),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Al}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=KS.length,s=Math.min(WGe(KS,this._approxInterval,0,o),o-1);this._interval=KS[s][1],this._intervalPrecision=k_(this._interval),this._minLevelUnit=KS[Math.max(s-1,0)][0]},t.prototype.parse=function(r){return Br(r)?r:+Jf(r)},t.prototype.contain=function(r){return vN(r,this._extent)},t.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},t.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},t.type="time",t})($f),KS=[["second",zF],["minute",HF],["hour",Nx],["quarter-day",Nx*6],["half-day",Nx*12],["day",Al*1.2],["half-week",Al*3.5],["week",Al*7],["month",Al*31],["quarter",Al*95],["half-year",g$/2],["year",g$]];function noe(e,t,r,n){return Rk(new Date(t),e,n).getTime()===Rk(new Date(r),e,n).getTime()}function XGe(e,t){return e/=Al,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function jGe(e){var t=30*Al;return e/=t,e>6?6:e>3?3:e>2?2:1}function YGe(e){return e/=Nx,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function MG(e,t){return e/=t?HF:zF,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function KGe(e){return une(e)}function ZGe(e,t,r){var n=Math.max(0,ur(Ps,t)-1);return Rk(new Date(e),Ps[n],r).getTime()}function qGe(e,t){var r=new Date(0);r[e](1);var n=r.getTime();r[e](1+t);var i=r.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/i))}}function JGe(e,t,r,n,i,a){var o=1e4,s=x9e,l=0;function u(L,k,O,F,H,V,U){for(var K=qGe(H,L),q=k,N=new Date(q);q<O&&q<=n[1]&&(U.push({value:q}),!(l++>o));)if(N[H](N[F]()+L),q=N.getTime(),a){var W=a.calcNiceTickMultiple(q,K);W>0&&(N[H](N[F]()+W*L),q=N.getTime())}U.push({value:q,notAdd:!0})}function c(L,k,O){var F=[],H=!k.length;if(!noe(Bx(L),n[0],n[1],r)){H&&(k=[{value:ZGe(n[0],L,r)},{value:n[1]}]);for(var V=0;V<k.length-1;V++){var U=k[V].value,K=k[V+1].value;if(U!==K){var q=void 0,N=void 0,W=void 0,j=!1;switch(L){case"year":q=Math.max(1,Math.round(t/Al/365)),N=fie(r),W=T9e(r);break;case"half-year":case"quarter":case"month":q=jGe(t),N=VF(r),W=die(r);break;case"week":case"half-week":case"day":q=XGe(t),N=$F(r),W=hie(r),j=!0;break;case"half-day":case"quarter-day":case"hour":q=YGe(t),N=GF(r),W=vie(r);break;case"minute":q=MG(t,!0),N=UF(r),W=pie(r);break;case"second":q=MG(t,!1),N=WF(r),W=gie(r);break;case"millisecond":q=KGe(t),N=XF(r),W=mie(r);break}K>=n[0]&&U<=n[1]&&u(q,U,K,N,W,j,F),L==="year"&&O.length>1&&V===0&&O.unshift({value:O[0].value-q})}}for(var V=0;V<F.length;V++)O.push(F[V])}}for(var f=[],d=[],h=0,v=0,p=0;p<s.length;++p){var g=Bx(s[p]);if(w9e(s[p])){c(s[p],f[f.length-1]||[],d);var m=s[p+1]?Bx(s[p+1]):null;if(g!==m){if(d.length){v=h,d.sort(function(L,k){return L.value-k.value});for(var y=[],x=0;x<d.length;++x){var b=d[x].value;(x===0||d[x-1].value!==b)&&(y.push(d[x]),b>=n[0]&&b<=n[1]&&h++)}var w=i/t;if(h>w*1.5&&v>w/1.5||(f.push(y),h>w||e===s[p]))break}d=[]}}}for(var S=on(Ye(f,function(L){return on(L,function(k){return k.value>=n[0]&&k.value<=n[1]&&!k.notAdd})}),function(L){return L.length>0}),C=[],E=S.length-1,p=0;p<S.length;++p)for(var A=S[p],M=0;M<A.length;++M){var D=kg(A[M].value,r);C.push({value:A[M].value,time:{level:E-p,upperTimeUnit:D,lowerTimeUnit:D}})}C.sort(function(L,k){return L.value-k.value});for(var R=[],p=0;p<C.length;++p)(p===0||C[p].value!==C[p-1].value)&&R.push(C[p]);return R}Oh.registerClass(gN);var e4=ii,QGe=Math.floor,eUe=Math.ceil,ZS=Math.pow,qS=Math.log,ioe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new $f,r}return t.prototype.getTicks=function(r){r=r||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=e.prototype.getTicks.call(this,r),o=this.base,s=this._originalScale._innerGetBreaks(),l=Ui();return Ye(a,function(u){var c=u.value,f=null,d=ZS(o,c);c===n[0]&&this._fixMin?f=i[0]:c===n[1]&&this._fixMax&&(f=i[1]);var h;if(l){var v=l.getTicksLogTransformBreak(u,o,s,JS);h=v.vBreak,f==null&&(f=v.brkRoundingCriterion)}return f!=null&&(d=JS(d,f)),{value:d,break:h}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(r,n){this._originalScale.setExtent(r,n);var i=Jk(this.base,[r,n]);e.prototype.setExtent.call(this,i[0],i[1])},t.prototype.getExtent=function(){var r=this.base,n=e.prototype.getExtent.call(this);n[0]=ZS(r,n[0]),n[1]=ZS(r,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=JS(n[0],i[0])),this._fixMax&&(n[1]=JS(n[1],i[1])),n},t.prototype.unionExtentFromData=function(r,n){this._originalScale.unionExtentFromData(r,n);var i=Jk(this.base,r.getApproximateExtent(n),!0);this._innerUnionExtent(i)},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=W8e(i),o=r/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[e4(eUe(n[0]/a)*a),e4(QGe(n[1]/a)*a)];this._interval=a,this._intervalPrecision=k_(a),this._niceExtent=s}},t.prototype.calcNiceExtent=function(r){e.prototype.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.contain=function(r){return r=qS(r)/qS(this.base),e.prototype.contain.call(this,r)},t.prototype.normalize=function(r){return r=qS(r)/qS(this.base),e.prototype.normalize.call(this,r)},t.prototype.scale=function(r){return r=e.prototype.scale.call(this,r),ZS(this.base,r)},t.prototype.setBreaksFromOption=function(r){var n=Ui();if(n){var i=n.logarithmicParseBreaksFromOption(r,this.base,mt(this.parse,this)),a=i.parsedOriginal,o=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},t.type="log",t})($f);function JS(e,t){return e4(e,fc(t))}Oh.registerClass(ioe);var tUe=(function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var o=this._modelMinRaw=a;Ht(o)?this._modelMinNum=QS(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=QS(t,o));var s=this._modelMaxRaw=r.get("max",!0);if(Ht(s)?this._modelMaxNum=QS(t,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=QS(t,s)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),u=We(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Au(u[0],1),Au(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?i?0:NaN:r-a[0]*o),l==null&&(l=t?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=xo(s)||xo(l)||t&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},e.prototype.modifyDataMinMax=function(t,r){this[nUe[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=rUe[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e})(),rUe={min:"_determinedMin",max:"_determinedMax"},nUe={min:"_dataMin",max:"_dataMax"};function aoe(e,t,r){var n=e.rawExtentInfo;return n||(n=new tUe(e,t,r),e.rawExtentInfo=n,n)}function QS(e,t){return t==null?null:xo(t)?NaN:e.parse(t)}function ooe(e,t){var r=e.type,n=aoe(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,a=n.max,o=t.ecModel;if(o&&r==="time"){var s=Zae("bar",o),l=!1;if(G(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=qae(s),c=iUe(i,a,t,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function iUe(e,t,r,n){var i=r.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=GGe(n,r.axis);if(o===void 0)return{min:e,max:t};var s=1/0;G(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;G(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,f=1-(s+l)/a,d=c/f-c;return t+=d*(l/u),e-=d*(s/u),{min:e,max:t}}function Fp(e,t){var r=t,n=ooe(e,r),i=n.extent,a=r.get("splitNumber");e instanceof ioe&&(e.base=r.get("logBase"));var o=e.type,s=r.get("interval"),l=o==="interval"||o==="time";e.setBreaksFromOption(loe(r)),e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function Pb(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new wm({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new gN({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Oh.getClass(t)||$f)}}function aUe(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function fy(e){var t=e.getLabelModel().get("formatter");if(e.type==="time"){var r=_9e(t);return function(i,a){return e.scale.getFormattedLabel(i,a,r)}}else{if(pt(t))return function(i){var a=e.scale.getLabel(i),o=t.replace("{value}",a??"");return o};if(Ht(t)){if(e.type==="category")return function(i,a){return t(UT(e,i),i.value-e.scale.getExtent()[0],null)};var n=Ui();return function(i,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,i.break)),t(UT(e,i),a,o)}}else return function(i){return e.scale.getLabel(i)}}}function UT(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function mN(e){var t=e.get("interval");return t??"auto"}function soe(e){return e.type==="category"&&mN(e.getLabelModel())===0}function WT(e,t){var r={};return G(e.mapDimensionsAll(t),function(n){r[hN(e,n)]=!0}),Lr(r)}function oUe(e,t,r){t&&G(WT(t,r),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}function Sm(e){return e==="middle"||e==="center"}function O_(e){return e.getShallow("show")}function loe(e){var t=e.get("breaks",!0);if(t!=null)return!Ui()||!sUe(e.axis)?void 0:t}function sUe(e){return(e.dim==="x"||e.dim==="y"||e.dim==="z"||e.dim==="single")&&e.type!=="category"}var dy=(function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e})();function lUe(e){return Vc(null,e)}var yN={isDimensionStacked:Vf,enableDataStack:jae,getStackedDimension:hN};function xN(e,t){var r=t;t instanceof pr||(r=new pr(t));var n=Pb(r);return n.setExtent(e[0],e[1]),Fp(n,r),n}function uUe(e){Ii(e,dy)}var cUe=1e-8;function DG(e,t){return Math.abs(e-t)<cUe}function $v(e,t,r){var n=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var o=e[a];n+=ff(i[0],i[1],o[0],o[1],t,r),i=o}var s=e[0];return(!DG(i[0],s[0])||!DG(i[1],s[1]))&&(n+=ff(i[0],i[1],s[0],s[1],t,r)),n!==0}var fUe=[];function VR(e,t){for(var r=0;r<e.length;r++)Mi(e[r],e[r],t)}function PG(e,t,r,n){for(var i=0;i<e.length;i++){var a=e[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Yd(t,t,a),Kd(r,r,a))}}function dUe(e){for(var t=0,r=0,n=0,i=e.length,a=e[i-1][0],o=e[i-1][1],s=0;s<i;s++){var l=e[s][0],u=e[s][1],c=a*u-l*o;t+=c,r+=(a+l)*c,n+=(o+u)*c,a=l,o=u}return t?[r/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var uoe=(function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e})(),RG=(function(){function e(t,r){this.type="polygon",this.exterior=t,this.interiors=r}return e})(),LG=(function(){function e(t){this.type="linestring",this.points=t}return e})(),coe=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this,r)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var r=this.geometries,n,i=0,a=0;a<r.length;a++){var o=r[a],s=o.exterior,l=s&&s.length;l>i&&(n=o,i=l)}if(n)return dUe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return G(o,function(s){s.type==="polygon"?PG(s.exterior,i,a,r):G(s.points,function(l){PG(l,i,a,r)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new jt(i[0],i[1],a[0]-i[0],a[1]-i[1]),r||(this._rect=n),n},t.prototype.contain=function(r){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if($v(l,r[0],r[1])){for(var c=0;c<(u?u.length:0);c++)if($v(u[c],r[0],r[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(r,n,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new jt(r,n,i,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(VR(d.exterior,u),G(d.interiors,function(h){VR(h,u)})):G(d.points,function(h){VR(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new t(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t})(uoe),hUe=(function(e){Ae(t,e);function t(r,n){var i=e.call(this,r)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=DE(fUe),o=r;o&&!o.isGeoSVGGraphicRoot;)yc(a,o.getLocalTransform(),a),o=o.parent;return Tu(a,a),Mi(i,i,a),i},t})(uoe);function vUe(e){if(!e.UTF8Encoding)return e;var t=e,r=t.UTF8Scale;r==null&&(r=1024);var n=t.features;return G(n,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=foe(s,o,r);break;case"Polygon":$R(s,o,r);break;case"MultiLineString":$R(s,o,r);break;case"MultiPolygon":G(s,function(l,u){return $R(l,o[u],r)})}}),t.UTF8Encoding=!1,t}function $R(e,t,r){for(var n=0;n<e.length;n++)e[n]=foe(e[n],t[n],r)}function foe(e,t,r){for(var n=[],i=t[0],a=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=a,i=s,a=l,n.push([s/r,l/r])}return n}function t4(e,t){return e=vUe(e),Ye(on(e.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,i=r.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new RG(o[0],o.slice(1)));break;case"MultiPolygon":G(i.coordinates,function(l){l[0]&&a.push(new RG(l[0],l.slice(1)))});break;case"LineString":a.push(new LG([i.coordinates]));break;case"MultiLineString":a.push(new LG(i.coordinates))}var s=new coe(n[t||"name"],a,n.cp);return s.properties=n,s})}var pUe=wr(),Vx=wr(),Eu={estimate:1,determine:2};function XT(e){return{out:{noPxChangeTryDetermine:[]},kind:e}}function doe(e,t){var r=Ye(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function gUe(e,t){var r=e.getLabelModel().get("customValues");if(r){var n=fy(e),i=e.scale.getExtent(),a=doe(e,r),o=on(a,function(s){return s>=i[0]&&s<=i[1]});return{labels:Ye(o,function(s){var l={value:s};return{formattedLabel:n(l),rawLabel:e.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return e.type==="category"?yUe(e,t):_Ue(e)}function mUe(e,t,r){var n=e.getTickModel().get("customValues");if(n){var i=e.scale.getExtent(),a=doe(e,n);return{ticks:on(a,function(o){return o>=i[0]&&o<=i[1]})}}return e.type==="category"?xUe(e,t):{ticks:Ye(e.scale.getTicks(r),function(o){return o.value})}}function yUe(e,t){var r=e.getLabelModel(),n=hoe(e,r,t);return!r.get("show")||e.scale.isBlank()?{labels:[]}:n}function hoe(e,t,r){var n=wUe(e),i=mN(t),a=r.kind===Eu.estimate;if(!a){var o=poe(n,i);if(o)return o}var s,l;Ht(i)?s=yoe(e,i):(l=i==="auto"?SUe(e,r):i,s=moe(e,l));var u={labels:s,labelCategoryInterval:l};return a?r.out.noPxChangeTryDetermine.push(function(){return r4(n,i,u),!0}):r4(n,i,u),u}function xUe(e,t){var r=bUe(e),n=mN(t),i=poe(r,n);if(i)return i;var a,o;if((!t.get("show")||e.scale.isBlank())&&(a=[]),Ht(n))a=yoe(e,n,!0);else if(n==="auto"){var s=hoe(e,e.getLabelModel(),XT(Eu.determine));o=s.labelCategoryInterval,a=Ye(s.labels,function(l){return l.tickValue})}else o=n,a=moe(e,o,!0);return r4(r,n,{ticks:a,tickCategoryInterval:o})}function _Ue(e){var t=e.scale.getTicks(),r=fy(e);return{labels:Ye(t,function(n,i){return{formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var bUe=voe("axisTick"),wUe=voe("axisLabel");function voe(e){return function(r){return Vx(r)[e]||(Vx(r)[e]={list:[]})}}function poe(e,t){for(var r=0;r<e.list.length;r++)if(e.list[r].key===t)return e.list[r].value}function r4(e,t,r){return e.list.push({key:t,value:r}),r}function SUe(e,t){if(t.kind===Eu.estimate){var r=e.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return Vx(e).autoInterval=r,!0}),r}var n=Vx(e).autoInterval;return n??(Vx(e).autoInterval=e.calculateCategoryInterval(t))}function CUe(e,t){var r=t.kind,n=AUe(e),i=fy(e),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=e.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=s[0],d=e.dataToCoord(f+1)-e.dataToCoord(f),h=Math.abs(d*Math.cos(a)),v=Math.abs(d*Math.sin(a)),p=0,g=0;f<=s[1];f+=u){var m=0,y=0,x=LE(i({value:f}),n.font,"center","top");m=x.width*1.3,y=x.height*1.3,p=Math.max(p,m,7),g=Math.max(g,y,7)}var b=p/h,w=g/v;isNaN(b)&&(b=1/0),isNaN(w)&&(w=1/0);var S=Math.max(0,Math.floor(Math.min(b,w)));if(r===Eu.estimate)return t.out.noPxChangeTryDetermine.push(mt(TUe,null,e,S,l)),S;var C=goe(e,S,l);return C??S}function TUe(e,t,r){return goe(e,t,r)==null}function goe(e,t,r){var n=pUe(e.model),i=e.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-t)<=1&&Math.abs(o-r)<=1&&a>t&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=r,n.lastAutoInterval=t,n.axisExtent0=i[0],n.axisExtent1=i[1]}function AUe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function moe(e,t,r){var n=fy(e),i=e.scale,a=i.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=soe(e),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==a[0]&&p(a[0]);for(var v=u;v<=a[1];v+=l)p(v);h&&v-l!==a[1]&&p(a[1]);function p(g){var m={value:g};s.push(r?g:{formattedLabel:n(m),rawLabel:i.getLabel(m),tickValue:g,time:void 0,break:void 0})}return s}function yoe(e,t,r){var n=e.scale,i=fy(e),a=[];return G(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;t(o.value,s)&&a.push(r?l:{formattedLabel:i(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),a}var IG=[0,1],es=(function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return sne(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(i.parse(t)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),kG(n,i.count())),qr(t,IG,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),kG(n,i.count()));var a=qr(t,n,IG,r);return this.scale.scale(a)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=mUe(this,r,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),i=n.ticks,a=Ye(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return EUe(this,a,o,t.clamp),a},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=Ye(n,function(a){return Ye(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},e.prototype.getViewLabels=function(t){return t=t||XT(Eu.determine),gUe(this,t).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(t){return t=t||XT(Eu.determine),CUe(this,t)},e})();function kG(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function EUe(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var a=e.getExtent(),o,s;if(i===1)t[0].coord=a[0],t[0].onBand=!0,o=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;G(t,function(h){h.coord-=u/2,h.onBand=!0});var c=e.scale.getExtent();s=1+c[1]-t[i-1].tickValue,o={coord:t[i-1].coord+u*s,tickValue:c[1]+1,onBand:!0},t.push(o)}var f=a[0]>a[1];d(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&d(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),d(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&d(o.coord,a[1])&&t.push({coord:a[1],onBand:!0});function d(h,v){return h=ii(h),v=ii(v),f?h>v:h<v}}var c1=Math.PI*2,wv=Rc.CMD,MUe=["top","right","bottom","left"];function DUe(e,t,r,n,i){var a=r.width,o=r.height;switch(e){case"top":n.set(r.x+a/2,r.y-t),i.set(0,-1);break;case"bottom":n.set(r.x+a/2,r.y+o+t),i.set(0,1);break;case"left":n.set(r.x-t,r.y+o/2),i.set(-1,0);break;case"right":n.set(r.x+a+t,r.y+o/2),i.set(1,0);break}}function PUe(e,t,r,n,i,a,o,s,l){o-=e,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*r+e,f=s*r+t;if(Math.abs(n-i)%c1<1e-4)return l[0]=c,l[1]=f,u-r;if(a){var d=n;n=Ns(i),i=Ns(d)}else n=Ns(n),i=Ns(i);n>i&&(i+=c1);var h=Math.atan2(s,o);if(h<0&&(h+=c1),h>=n&&h<=i||h+c1>=n&&h+c1<=i)return l[0]=c,l[1]=f,u-r;var v=r*Math.cos(n)+e,p=r*Math.sin(n)+t,g=r*Math.cos(i)+e,m=r*Math.sin(i)+t,y=(v-o)*(v-o)+(p-s)*(p-s),x=(g-o)*(g-o)+(m-s)*(m-s);return y<x?(l[0]=v,l[1]=p,Math.sqrt(y)):(l[0]=g,l[1]=m,Math.sqrt(x))}function jT(e,t,r,n,i,a,o,s){var l=i-e,u=a-t,c=r-e,f=n-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,v=h/d;s&&(v=Math.min(Math.max(v,0),1)),v*=d;var p=o[0]=e+v*c,g=o[1]=t+v*f;return Math.sqrt((p-i)*(p-i)+(g-a)*(g-a))}function xoe(e,t,r,n,i,a,o){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n);var s=e+r,l=t+n,u=o[0]=Math.min(Math.max(i,e),s),c=o[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var au=[];function RUe(e,t,r){var n=xoe(t.x,t.y,t.width,t.height,e.x,e.y,au);return r.set(au[0],au[1]),n}function LUe(e,t,r){for(var n=0,i=0,a=0,o=0,s,l,u=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var v=c[h++];h===1&&(n=c[h],i=c[h+1],a=n,o=i);var p=u;switch(v){case wv.M:a=c[h++],o=c[h++],n=a,i=o;break;case wv.L:p=jT(n,i,c[h],c[h+1],f,d,au,!0),n=c[h++],i=c[h++];break;case wv.C:p=Gre(n,i,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,au),n=c[h++],i=c[h++];break;case wv.Q:p=Wre(n,i,c[h++],c[h++],c[h],c[h+1],f,d,au),n=c[h++],i=c[h++];break;case wv.A:var g=c[h++],m=c[h++],y=c[h++],x=c[h++],b=c[h++],w=c[h++];h+=1;var S=!!(1-c[h++]);s=Math.cos(b)*y+g,l=Math.sin(b)*x+m,h<=1&&(a=s,o=l);var C=(f-g)*x/y+g;p=PUe(g,m,x,b,b+w,S,C,d,au),n=Math.cos(b+w)*y+g,i=Math.sin(b+w)*x+m;break;case wv.R:a=n=c[h++],o=i=c[h++];var E=c[h++],A=c[h++];p=xoe(a,o,E,A,f,d,au);break;case wv.Z:p=jT(n,i,a,o,f,d,au,!0),n=a,i=o;break}p<u&&(u=p,r.set(au[0],au[1]))}return u}var fu=new Wt,Bn=new Wt,Si=new Wt,vc=new Wt,lc=new Wt;function OG(e,t){if(e){var r=e.getTextGuideLine(),n=e.getTextContent();if(n&&r){var i=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||MUe,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=e.getComputedTransform(),f=c&&Tu([],c),d=t.get("length2")||0;u&&Si.copy(u);for(var h=0;h<o.length;h++){var v=o[h];DUe(v,0,s,fu,vc),Wt.scaleAndAdd(Bn,fu,vc,d),Bn.transform(f);var p=e.getBoundingRect(),g=u?u.distance(Bn):e instanceof Cr?LUe(Bn,e.path,Si):RUe(Bn,p,Si);g<l&&(l=g,Bn.transform(c),Si.transform(c),Si.toArray(a[0]),Bn.toArray(a[1]),fu.toArray(a[2]))}_oe(a,t.get("minTurnAngle")),r.setShape({points:a})}}}var YT=[],Vo=new Wt;function _oe(e,t){if(t<=180&&t>0){t=t/180*Math.PI,fu.fromArray(e[0]),Bn.fromArray(e[1]),Si.fromArray(e[2]),Wt.sub(vc,fu,Bn),Wt.sub(lc,Si,Bn);var r=vc.len(),n=lc.len();if(!(r<.001||n<.001)){vc.scale(1/r),lc.scale(1/n);var i=vc.dot(lc),a=Math.cos(t);if(a<i){var o=jT(Bn.x,Bn.y,Si.x,Si.y,fu.x,fu.y,YT,!1);Vo.fromArray(YT),Vo.scaleAndAdd(lc,o/Math.tan(Math.PI-t));var s=Si.x!==Bn.x?(Vo.x-Bn.x)/(Si.x-Bn.x):(Vo.y-Bn.y)/(Si.y-Bn.y);if(isNaN(s))return;s<0?Wt.copy(Vo,Bn):s>1&&Wt.copy(Vo,Si),Vo.toArray(e[1])}}}}function IUe(e,t,r){if(r<=180&&r>0){r=r/180*Math.PI,fu.fromArray(e[0]),Bn.fromArray(e[1]),Si.fromArray(e[2]),Wt.sub(vc,Bn,fu),Wt.sub(lc,Si,Bn);var n=vc.len(),i=lc.len();if(!(n<.001||i<.001)){vc.scale(1/n),lc.scale(1/i);var a=vc.dot(t),o=Math.cos(r);if(a<o){var s=jT(Bn.x,Bn.y,Si.x,Si.y,fu.x,fu.y,YT,!1);Vo.fromArray(YT);var l=Math.PI/2,u=Math.acos(lc.dot(t)),c=l+u-r;if(c>=l)Wt.copy(Vo,Si);else{Vo.scaleAndAdd(lc,s/Math.tan(Math.PI/2-c));var f=Si.x!==Bn.x?(Vo.x-Bn.x)/(Si.x-Bn.x):(Vo.y-Bn.y)/(Si.y-Bn.y);if(isNaN(f))return;f<0?Wt.copy(Vo,Bn):f>1&&Wt.copy(Vo,Si)}Vo.toArray(e[1])}}}}function GR(e,t,r,n){var i=r==="normal",a=i?e:e.ensureState(r);a.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();i?e.useStyle(s):a.style=s}function kUe(e,t){var r=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=jd(n[0],n[1]),a=jd(n[1],n[2]);if(!i||!a){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*r,s=lC([],n[1],n[0],o/i),l=lC([],n[1],n[2],o/a),u=lC([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function _N(e,t,r){var n=e.getTextGuideLine(),i=e.getTextContent();if(!i){n&&e.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),s=i.ignore,l=0;l<T_.length;l++){var u=T_[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:It(i.states[u]&&i.states[u].ignore,s);if(h||!It(d,o)){var v=f?n:n&&n.states[u];v&&(v.ignore=!0),n&&GR(n,!0,u,c);continue}n||(n=new no,e.setTextGuideLine(n),!f&&(s||!o)&&GR(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),GR(n,!1,u,c)}}if(n){kt(n.style,r),n.style.fill=null;var p=a.get("showAbove"),g=e.textGuideLineConfig=e.textGuideLineConfig||{};g.showAbove=p||!1,n.buildPath=kUe}}function bN(e,t){t=t||"labelLine";for(var r={normal:e.getModel(t)},n=0;n<Zo.length;n++){var i=Zo[n];r[i]=e.getModel([i,t])}return r}var FG=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],OUe=1,KT=2,boe=OUe|KT;function ZT(e,t,r){r=r||boe,t?e.dirty|=r:e.dirty&=~r}function woe(e,t){return t=t||boe,e.dirty==null||!!(e.dirty&t)}function Ic(e){if(e)return woe(e)&&Soe(e,e.label,e),e}function Soe(e,t,r){var n=t.getComputedTransform();e.transform=OF(e.transform,n);var i=e.localRect=M_(e.localRect,t.getBoundingRect()),a=t.style,o=a.margin,s=r&&r.marginForce,l=r&&r.minMarginForce,u=r&&r.marginDefault,c=a.__marginType;c==null&&u&&(o=u,c=Ig.textMargin);for(var f=0;f<4;f++)UR[f]=c===Ig.minMargin&&l&&l[f]!=null?l[f]:s&&s[f]!=null?s[f]:o?o[f]:0;c===Ig.textMargin&&Ip(i,UR,!1,!1);var d=e.rect=M_(e.rect,i);return n&&d.applyTransform(n),c===Ig.minMargin&&Ip(d,UR,!1,!1),e.axisAligned=kF(n),(e.label=e.label||{}).ignore=t.ignore,ZT(e,!1),ZT(e,!0,KT),e}var UR=[0,0,0,0];function FUe(e,t,r){return e.transform=OF(e.transform,r),e.localRect=M_(e.localRect,t),e.rect=M_(e.rect,t),r&&e.rect.applyTransform(r),e.axisAligned=kF(r),e.obb=void 0,(e.label=e.label||{}).ignore=!1,e}function n4(e,t){if(e){e.label.x+=t.x,e.label.y+=t.y,e.label.markRedraw();var r=e.transform;r&&(r[4]+=t.x,r[5]+=t.y);var n=e.rect;n&&(n.x+=t.x,n.y+=t.y);var i=e.obb;i&&i.fromBoundingRect(e.localRect,r)}}function i4(e,t){for(var r=0;r<FG.length;r++){var n=FG[r];e[n]==null&&(e[n]=t[n])}return Ic(e)}function NG(e){var t=e.obb;return(!t||woe(e,KT))&&(e.obb=t=t||new Kne,t.fromBoundingRect(e.localRect,e.transform),ZT(e,!1,KT)),t}function a4(e,t,r,n,i){var a=e.length,o=ir[t],s=Xi[t];if(a<2)return!1;e.sort(function(C,E){return C.rect[o]-E.rect[o]});for(var l=0,u,c=!1,f=0;f<a;f++){var d=e[f],h=d.rect;u=h[o]-l,u<0&&(h[o]-=u,d.label[o]-=u,c=!0),l=h[o]+h[s]}var v=e[0],p=e[a-1],g,m;y(),g<0&&w(-g,.8),m<0&&w(m,.8),y(),x(g,m,1),x(m,g,-1),y(),g<0&&S(-g),m<0&&S(m);function y(){g=v.rect[o]-r,m=n-p.rect[o]-p.rect[s]}function x(C,E,A){if(C<0){var M=Math.min(E,-C);if(M>0){b(M*A,0,a);var D=M+C;D<0&&w(-D*A,1)}else w(-C*A,1)}}function b(C,E,A){C!==0&&(c=!0);for(var M=E;M<A;M++){var D=e[M],R=D.rect;R[o]+=C,D.label[o]+=C}}function w(C,E){for(var A=[],M=0,D=1;D<a;D++){var R=e[D-1].rect,L=Math.max(e[D].rect[o]-R[o]-R[s],0);A.push(L),M+=L}if(M){var k=Math.min(Math.abs(C)/M,E);if(C>0)for(var D=0;D<a-1;D++){var O=A[D]*k;b(O,0,D+1)}else for(var D=a-1;D>0;D--){var O=A[D-1]*k;b(-O,D,a)}}}function S(C){var E=C<0?-1:1;C=Math.abs(C);for(var A=Math.ceil(C/(a-1)),M=0;M<a-1;M++)if(E>0?b(A,0,M+1):b(-A,a-M-1,a),C-=A,C<=0)return}return c}function NUe(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.defaultAttr,i=r.labelLine;r.label.attr("ignore",n.ignore),i&&i.attr("ignore",n.labelGuideIgnore)}}function Coe(e){var t=[];e.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function r(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<e.length;n++){var i=Ic(e[n]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,s=!1,l=0;l<t.length;l++)if(tM(i,t[l],null,{touchThreshold:.05})){s=!0;break}s?(r(a),o&&r(o)):t.push(i)}}}function tM(e,t,r,n){return!e||!t||e.label&&e.label.ignore||t.label&&t.label.ignore||!e.rect.intersect(t.rect,r,n)?!1:e.axisAligned&&t.axisAligned?!0:NG(e).intersect(NG(t),r,n)}function BUe(e){if(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice());return t}}function zUe(e,t){var r=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:BUe(n&&n.shape.points)}}var BG=["align","verticalAlign","width","height","fontSize"],Io=new xf,WR=wr(),HUe=wr();function e2(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];t[i]!=null&&(e[i]=t[i])}}var t2=["x","y","rotation"],VUe=(function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,r,n,i,a){var o=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();jt.applyTransform(c,c,u),u?Io.setLocalTransform(u):(Io.x=Io.y=Io.rotation=Io.originX=Io.originY=0,Io.scaleX=Io.scaleY=1),Io.rotation=Ns(Io.rotation);var f=i.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();jt.applyTransform(d,d,h)}var v=d&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:t,dataType:r,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:Io.x,y:Io.y,scaleX:Io.scaleX,scaleY:Io.scaleY,rotation:Io.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(Ht(i)||Lr(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=qt(a);o&&!o.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,o,i)})},e.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),n=t.getHeight();function i(x,b){return function(){OG(x,b)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Ht(o.layoutOptionOrCb)?c=o.layoutOptionOrCb(zUe(o,l)):c=o.layoutOptionOrCb,c=c||{},o.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=ft(c.x,r),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=ft(c.y,n),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var v=WR(s);v.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var p=0;p<BG.length;p++){var g=BG[p];s.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var m=o.seriesModel;if(o.dataIndex!=null){var y=o.seriesModel.getData(o.dataType);m=y.getItemModel(o.dataIndex)}s.on("drag",i(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var r=t.getWidth(),n=t.getHeight(),i=[];G(this._labelList,function(l){l.defaultAttr.ignore||i.push(i4({},l))});var a=on(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=on(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});a4(a,0,0,r),a4(o,1,0,n);var s=on(i,function(l){return l.layoutOption.hideOverlap});NUe(s),Coe(s)},e.prototype.processLabelsOverall=function(){var t=this;G(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,a=n.isAnimationEnabled();r.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=WR(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,n),a&&t._animateLabels(o,n)})})},e.prototype._updateLabelLine=function(t,r){var n=t.getTextContent(),i=qt(t),a=i.dataIndex;if(n&&a!=null){var o=r.getData(i.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");_N(t,bN(s),l),OG(t,f)}},e.prototype._animateLabels=function(t,r){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Qg(t))){var a=WR(n),o=a.oldLayout,s=qt(t),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(o){n.attr(o);var d=t.prevStates;d&&(ur(d,"select")>=0&&n.attr(a.oldLayoutSelect),ur(d,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Wr(n,u,r,l)}else if(n.attr(u),!iy(n).valueAnimation){var f=It(n.style.opacity,1);n.style.opacity=0,Hn(n,{style:{opacity:f}},r,l)}if(a.oldLayout=u,n.states.select){var h=a.oldLayoutSelect={};e2(h,u,t2),e2(h,n.states.select,t2)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};e2(v,u,t2),e2(v,n.states.emphasis,t2)}oie(n,l,c,r,r)}if(i&&!i.ignore&&!i.invisible){var a=HUe(i),o=a.oldLayout,p={points:i.shape.points};o?(i.attr({shape:o}),Wr(i,{shape:p},r)):(i.setShape(p),i.style.strokePercent=0,Hn(i,{style:{strokePercent:1}},r)),a.oldLayout=p}},e})(),XR=wr();function Toe(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){var i=XR(r).labelManager;i||(i=XR(r).labelManager=new VUe),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,r,n){var i=XR(r).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var jR=Math.sin,YR=Math.cos,Aoe=Math.PI,Sv=Math.PI*2,$Ue=180/Aoe,Eoe=(function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,a,o){this._add("C",t,r,n,i,a,o)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,a,o){this.ellipse(t,r,n,n,0,i,a,o)},e.prototype.ellipse=function(t,r,n,i,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),d=Jd(f-Sv)||(c?u>=Sv:-u>=Sv),h=u>0?u%Sv:u%Sv+Sv,v=!1;d?v=!0:Jd(f)?v=!1:v=h>=Aoe==!!c;var p=t+n*YR(o),g=r+i*jR(o);this._start&&this._add("M",p,g);var m=Math.round(a*$Ue);if(d){var y=1/this._p,x=(c?1:-1)*(Sv-y);this._add("A",n,i,m,1,+c,t+n*YR(o+x),r+i*jR(o+x)),y>.01&&this._add("A",n,i,m,0,+c,p,g)}else{var b=t+n*YR(s),w=r+i*jR(s);this._add("A",n,i,m,+v,+c,b,w)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,a,o,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e})(),wN="none",GUe=Math.round;function UUe(e){var t=e.fill;return t!=null&&t!==wN}function WUe(e){var t=e.stroke;return t!=null&&t!==wN}var o4=["lineCap","miterLimit","lineJoin"],XUe=Ye(o4,function(e){return"stroke-"+e.toLowerCase()});function jUe(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Ra){e("opacity",i);return}if(UUe(t)){var a=w_(t.fill);e("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;o<1&&e("fill-opacity",o)}else e("fill",wN);if(WUe(t)){var s=w_(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?r.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*i:s.opacity*i,f=t.strokeFirst;if(u!==1&&e("stroke-width",u),f&&e("paint-order",f?"stroke":"fill"),c<1&&e("stroke-opacity",c),t.lineDash){var d=aN(r),h=d[0],v=d[1];h&&(v=GUe(v||0),e("stroke-dasharray",h.join(",")),(v||n)&&e("stroke-dashoffset",v))}for(var p=0;p<o4.length;p++){var g=o4[p];if(t[g]!==ET[g]){var m=t[g]||ET[g];m&&e(XUe[p],m)}}}}var Moe="http://www.w3.org/2000/svg",Doe="http://www.w3.org/1999/xlink",YUe="http://www.w3.org/2000/xmlns/",KUe="http://www.w3.org/XML/1998/namespace",zG="ecmeta_";function Poe(e){return document.createElementNS(Moe,e)}function xa(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function ZUe(e,t){var r=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),r.push(a))}return"<"+e+" "+r.join(" ")+">"}function qUe(e){return"</"+e+">"}function SN(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var a=i.children,o=i.tag,s=i.attrs,l=i.text;return ZUe(o,s)+(o!=="style"?$i(l):l||"")+(a?""+r+Ye(a,function(u){return n(u)}).join(r)+r:"")+qUe(o)}return n(e)}function JUe(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,a=n+"}",o=Ye(Lr(e),function(l){return l+i+Ye(Lr(e[l]),function(u){return u+":"+e[l][u]+";"}).join(n)+a}).join(n),s=Ye(Lr(t),function(l){return"@keyframes "+l+i+Ye(Lr(t[l]),function(u){return u+i+Ye(Lr(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(n)}function s4(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function HG(e,t,r,n){return xa("svg","root",{width:e,height:t,xmlns:Moe,"xmlns:xlink":Doe,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var QUe=0;function Roe(){return QUe++}var VG={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},kv="transform-origin";function eWe(e,t,r){var n=He({},e.shape);He(n,t),e.buildPath(r,n);var i=new Eoe;return i.reset(Jre(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function tWe(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[kv]=r+"px "+n+"px")}var rWe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Loe(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function nWe(e,t,r){var n=e.shape.paths,i={},a,o;if(G(n,function(l){var u=s4(r.zrId);u.animation=!0,rM(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=Lr(c),h=d.length;if(h){o=d[h-1];var v=c[o];for(var p in v){var g=v[p];i[p]=i[p]||{d:""},i[p].d+=g.d||""}for(var m in f){var y=f[m].animation;y.indexOf(o)>=0&&(a=y)}}}),!!a){t.d=!1;var s=Loe(i,r);return a.replace(o,s)}}function $G(e){return pt(e)?VG[e]?"cubic-bezier("+VG[e]+")":gF(e)?e:"":""}function rM(e,t,r,n){var i=e.animators,a=i.length,o=[];if(e instanceof UE){var s=nWe(e,t,r);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],d=$G(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function p(y){var x=y[1],b=x.length,w={},S={},C={},E="animation-timing-function";function A(Se,te,pe){for(var Re=Se.getTracks(),z=Se.getMaxTime(),J=0;J<Re.length;J++){var se=Re[J];if(se.needsAnimate()){var he=se.keyframes,_e=se.propName;if(pe&&(_e=pe(_e)),_e)for(var ge=0;ge<he.length;ge++){var $e=he[ge],Le=Math.round($e.time/z*100)+"%",fe=$G($e.easing),de=$e.rawValue;(pt(de)||Br(de))&&(te[Le]=te[Le]||{},te[Le][_e]=$e.rawValue,fe&&(te[Le][E]=fe))}}}}for(var M=0;M<b;M++){var D=x[M],R=D.targetName;R?R==="shape"&&A(D,S):!n&&A(D,w)}for(var L in w){var k={};CT(k,e),He(k,w[L]);var O=Qre(k),F=w[L][E];C[L]=O?{transform:O}:{},tWe(C[L],k),F&&(C[L][E]=F)}var H,V=!0;for(var L in S){C[L]=C[L]||{};var U=!H,F=S[L][E];U&&(H=new Rc);var K=H.len();H.reset(),C[L].d=eWe(e,S[L],H);var q=H.len();if(!U&&K!==q){V=!1;break}F&&(C[L][E]=F)}if(!V)for(var L in C)delete C[L].d;if(!n)for(var M=0;M<b;M++){var D=x[M],R=D.targetName;R==="style"&&A(D,C,function(Re){return rWe[Re]})}for(var N=Lr(C),W=!0,j,M=1;M<N.length;M++){var Z=N[M-1],ve=N[M];if(C[Z][kv]!==C[ve][kv]){W=!1;break}j=C[Z][kv]}if(W&&j){for(var L in C)C[L][kv]&&delete C[L][kv];t[kv]=j}if(on(N,function(Se){return Lr(C[Se]).length>0}).length){var Te=Loe(C,r);return Te+" "+y[0]+" both"}}for(var g in l){var s=p(l[g]);s&&o.push(s)}if(o.length){var m=r.zrId+"-cls-"+Roe();r.cssNodes["."+m]={animation:o.join(",")},t.class=m}}function iWe(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};GG(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},a=i.fill;if(!a){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||o;l&&(a=rk(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&e.transform?e.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),GG(n,t,r)}}function GG(e,t,r,n){var i=JSON.stringify(e),a=r.cssStyleCache[i];a||(a=r.zrId+"-cls-"+Roe(),r.cssStyleCache[i]=a,r.cssNodes["."+a+":hover"]=e),t.class=t.class?t.class+" "+a:a}var F_=Math.round;function Ioe(e){return e&&pt(e.src)}function koe(e){return e&&Ht(e.toDataURL)}function CN(e,t,r,n){jUe(function(i,a){var o=i==="fill"||i==="stroke";o&&qre(a)?Foe(t,e,i,n):o&&mF(a)?Noe(r,e,i,n):e[i]=a,o&&n.ssr&&a==="none"&&(e["pointer-events"]="visible")},t,r,!1),fWe(r,e,n)}function TN(e,t){var r=B8e(t);r&&(r.each(function(n,i){n!=null&&(e[(zG+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[zG+"silent"]="true"))}function UG(e){return Jd(e[0]-1)&&Jd(e[1])&&Jd(e[2])&&Jd(e[3]-1)}function aWe(e){return Jd(e[4])&&Jd(e[5])}function AN(e,t,r){if(t&&!(aWe(t)&&UG(t))){var n=1e4;e.transform=UG(t)?"translate("+F_(t[4]*n)/n+" "+F_(t[5]*n)/n+")":o8e(t)}}function WG(e,t,r){for(var n=e.points,i=[],a=0;a<n.length;a++)i.push(F_(n[a][0]*r)/r),i.push(F_(n[a][1]*r)/r);t.points=i.join(" ")}function XG(e){return!e.smooth}function oWe(e){var t=Ye(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var a=0;a<t.length;a++){var o=t[a],s=r[o[0]];s!=null&&(n[o[1]]=F_(s*i)/i)}}}var sWe={circle:[oWe(["cx","cy","r"])],polyline:[WG,XG],polygon:[WG,XG]};function lWe(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function Ooe(e,t){var r=e.style,n=e.shape,i=sWe[e.type],a={},o=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&Jre(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(o&&lWe(e))&&!(l<1)){s=e.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var f=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;f&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var h=d.getVersion(),v=e,p=v.__svgPathBuilder;(v.__svgPathVersion!==h||!p||l!==v.__svgPathStrokePercent)&&(p||(p=v.__svgPathBuilder=new Eoe),p.reset(u),d.rebuildPath(p,l),p.generateStr(),v.__svgPathVersion=h,v.__svgPathStrokePercent=l),a.d=p.getStr()}return AN(a,e.transform),CN(a,r,e,t),TN(a,e),t.animation&&rM(e,a,t),t.emphasis&&iWe(e,a,t),xa(s,e.id+"",a)}function uWe(e,t){var r=e.style,n=r.image;if(n&&!pt(n)&&(Ioe(n)?n=n.src:koe(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,a=r.y||0,o=r.width,s=r.height,l={href:n,width:o,height:s};return i&&(l.x=i),a&&(l.y=a),AN(l,e.transform),CN(l,r,e,t),TN(l,e),t.animation&&rM(e,l,t),xa("image",e.id+"",l)}}function cWe(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||Of,a=r.x||0,o=l8e(r.y||0,_b(i),r.textBaseline),s=s8e[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(Pne(r)){var u="",c=r.fontStyle,f=Dne(r.fontSize);if(!parseFloat(f))return;var d=r.fontFamily||Ere,h=r.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),AN(l,e.transform),CN(l,r,e,t),TN(l,e),t.animation&&rM(e,l,t),xa("text",e.id+"",l,void 0,n)}}function jG(e,t){if(e instanceof Cr)return Ooe(e,t);if(e instanceof Ra)return uWe(e,t);if(e instanceof mm)return cWe(e,t)}function fWe(e,t,r){var n=e.style;if(u8e(n)){var i=c8e(e),a=r.shadowCache,o=a[i];if(!o){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,d=n.shadowBlur,h=w_(n.shadowColor),v=h.opacity,p=h.color,g=d/2/l,m=d/2/u,y=g+" "+m;o=r.zrId+"-s"+r.shadowIdx++,r.defs[o]=xa("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[xa("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:y,"flood-color":p,"flood-opacity":v})]),a[i]=o}t.filter=RE(o)}}function Foe(e,t,r,n){var i=e[r],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Kre(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(Zre(i))a="radialGradient",o.cx=It(i.x,.5),o.cy=It(i.y,.5),o.r=It(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=nk(s[u].offset)*100+"%",d=s[u].color,h=w_(d),v=h.color,p=h.opacity,g={offset:f};g["stop-color"]=v,p<1&&(g["stop-opacity"]=p),l.push(xa("stop",u+"",g))}var m=xa(a,"",o,l),y=SN(m),x=n.gradientCache,b=x[y];b||(b=n.zrId+"-g"+n.gradientIdx++,x[y]=b,o.id=b,n.defs[b]=xa(a,b,o,l)),t[r]=RE(b)}function Noe(e,t,r,n){var i=e.style[r],a=e.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(Yre(i)){var d=i.imageWidth,h=i.imageHeight,v=void 0,p=i.image;if(pt(p)?v=p:Ioe(p)?v=p.src:koe(p)&&(v=p.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";Co(d,g),Co(h,g)}else if(d==null||h==null){var m=function(M,D){if(M){var R=M.elm,L=d||D.width,k=h||D.height;M.tag==="pattern"&&(u?(k=1,L/=a.width):c&&(L=1,k/=a.height)),M.attrs.width=L,M.attrs.height=k,R&&(R.setAttribute("width",L),R.setAttribute("height",k))}},y=CF(v,null,e,function(M){l||m(S,M),m(f,M)});y&&y.width&&y.height&&(d=d||y.width,h=h||y.height)}f=xa("image","img",{href:v,width:d,height:h}),o.width=d,o.height=h}else i.svgElement&&(f=Vt(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(f){var x,b;l?x=b=1:u?(b=1,x=o.width/a.width):c?(x=1,b=o.height/a.height):o.patternUnits="userSpaceOnUse",x!=null&&!isNaN(x)&&(o.width=x),b!=null&&!isNaN(b)&&(o.height=b);var w=Qre(i);w&&(o.patternTransform=w);var S=xa("pattern","",o,[f]),C=SN(S),E=n.patternCache,A=E[C];A||(A=n.zrId+"-p"+n.patternIdx++,E[C]=A,o.id=A,S=n.defs[A]=xa("pattern",A,o,[f])),t[r]=RE(A)}}function dWe(e,t,r){var n=r.clipPathCache,i=r.defs,a=n[e.id];if(!a){a=r.zrId+"-c"+r.clipPathIdx++;var o={id:a};n[e.id]=a,i[a]=xa("clipPath",a,o,[Ooe(e,r)])}t["clip-path"]=RE(a)}function YG(e){return document.createTextNode(e)}function Gv(e,t,r){e.insertBefore(t,r)}function KG(e,t){e.removeChild(t)}function ZG(e,t){e.appendChild(t)}function Boe(e){return e.parentNode}function zoe(e){return e.nextSibling}function KR(e,t){e.textContent=t}var qG=58,hWe=120,vWe=xa("","");function l4(e){return e===void 0}function tc(e){return e!==void 0}function pWe(e,t,r){for(var n={},i=t;i<=r;++i){var a=e[i].key;a!==void 0&&(n[a]=i)}return n}function q1(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function N_(e){var t,r=e.children,n=e.tag;if(tc(n)){var i=e.elm=Poe(n);if(EN(vWe,e),We(r))for(t=0;t<r.length;++t){var a=r[t];a!=null&&ZG(i,N_(a))}else tc(e.text)&&!Xt(e.text)&&ZG(i,YG(e.text))}else e.elm=YG(e.text);return e.elm}function Hoe(e,t,r,n,i){for(;n<=i;++n){var a=r[n];a!=null&&Gv(e,N_(a),t)}}function qT(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(tc(i.tag)){var a=Boe(i.elm);KG(a,i.elm)}else KG(e,i.elm)}}function EN(e,t){var r,n=t.elm,i=e&&e.attrs||{},a=t.attrs||{};if(i!==a){for(r in a){var o=a[r],s=i[r];s!==o&&(o===!0?n.setAttribute(r,""):o===!1?n.removeAttribute(r):r==="style"?n.style.cssText=o:r.charCodeAt(0)!==hWe?n.setAttribute(r,o):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(YUe,r,o):r.charCodeAt(3)===qG?n.setAttributeNS(KUe,r,o):r.charCodeAt(5)===qG?n.setAttributeNS(Doe,r,o):n.setAttribute(r,o))}for(r in i)r in a||n.removeAttribute(r)}}function gWe(e,t,r){for(var n=0,i=0,a=t.length-1,o=t[0],s=t[a],l=r.length-1,u=r[0],c=r[l],f,d,h,v;n<=a&&i<=l;)o==null?o=t[++n]:s==null?s=t[--a]:u==null?u=r[++i]:c==null?c=r[--l]:q1(o,u)?(Ag(o,u),o=t[++n],u=r[++i]):q1(s,c)?(Ag(s,c),s=t[--a],c=r[--l]):q1(o,c)?(Ag(o,c),Gv(e,o.elm,zoe(s.elm)),o=t[++n],c=r[--l]):q1(s,u)?(Ag(s,u),Gv(e,s.elm,o.elm),s=t[--a],u=r[++i]):(l4(f)&&(f=pWe(t,n,a)),d=f[u.key],l4(d)?Gv(e,N_(u),o.elm):(h=t[d],h.tag!==u.tag?Gv(e,N_(u),o.elm):(Ag(h,u),t[d]=void 0,Gv(e,h.elm,o.elm))),u=r[++i]);(n<=a||i<=l)&&(n>a?(v=r[l+1]==null?null:r[l+1].elm,Hoe(e,v,r,i,l)):qT(e,t,n,a))}function Ag(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(EN(e,t),l4(t.text)?tc(n)&&tc(i)?n!==i&&gWe(r,n,i):tc(i)?(tc(e.text)&&KR(r,""),Hoe(r,null,i,0,i.length-1)):tc(n)?qT(r,n,0,n.length-1):tc(e.text)&&KR(r,""):e.text!==t.text&&(tc(n)&&qT(r,n,0,n.length-1),KR(r,t.text)))}function mWe(e,t){if(q1(e,t))Ag(e,t);else{var r=e.elm,n=Boe(r);N_(t),n!==null&&(Gv(n,t.elm,zoe(r)),qT(n,[e],0,0))}return t}var yWe=0,xWe=(function(){function e(t,r,n){if(this.type="svg",this.refreshHover=JG(),this.configLayer=JG(),this.storage=r,this._opts=n=He({},n),this.root=t,this._id="zr"+yWe++,this._oldVNode=HG(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Poe("svg");EN(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",mWe(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return jG(t,s4(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=s4(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=_We(n,i,this._backgroundColor,a);s&&o.push(s);var l=t.compress?null:this._mainVNode=xa("g","main",{},[]);this._paintList(r,a,l?l.children:o),l&&o.push(l);var u=Ye(Lr(a.defs),function(d){return a.defs[d]});if(u.length&&o.push(xa("defs","defs",{},u)),t.animation){var c=JUe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=xa("style","stl",{},[],c);o.push(f)}}return HG(n,i,o,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},SN(this.renderToVNode({animation:It(t.cssAnimation,!0),emphasis:It(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:It(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,a=[],o=0,s,l,u=0,c=0;c<i;c++){var f=t[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,v=l&&l.length||0,p=void 0;for(p=Math.max(h-1,v-1);p>=0&&!(d&&l&&d[p]===l[p]);p--);for(var g=v-1;g>p;g--)o--,s=a[o-1];for(var m=p+1;m<h;m++){var y={};dWe(d[m],y,r);var x=xa("g","clip-g-"+u++,y,[]);(s?s.children:n).push(x),a[o++]=x,s=x}l=d;var b=jG(f,r);b&&(s?s.children:n).push(b)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&a&&(a.style.display="none",t=Og(i,0,n),r=Og(i,1,n),a.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,a){var o=a.style;o.width=t+"px",o.height=r+"px"}if(mF(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=d8e(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e})();function JG(e){return function(){}}function _We(e,t,r,n){var i;if(r&&r!=="none")if(i=xa("rect","bg",{width:e,height:t,x:"0",y:"0"}),qre(r))Foe({fill:r},i.attrs,"fill",n);else if(mF(r))Noe({style:{fill:r},dirty:Ei,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var a=w_(r),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function bWe(e){e.registerPainter("svg",xWe)}function QG(e,t,r){var n=Su.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",e)),n.width=i*r,n.height=a*r,n}var ZR=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||ST,typeof r=="string"?o=QG(r,n,i):Xt(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(Ire(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=QG("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new jt(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var x=new jt(0,0,0,0);x.copy(y),o.push(x)}else{for(var b=!1,w=1/0,S=0,C=0;C<o.length;++C){var E=o[C];if(E.intersect(y)){var A=new jt(0,0,0,0);A.copy(E),A.union(y),o[C]=A,b=!0;break}else if(l){u.copy(y),u.union(E);var M=y.width*y.height,D=E.width*E.height,R=u.width*u.height,L=R-M-D;L<w&&(w=L,S=C)}}if(l&&(o[S].union(y),b=!0),!b){var x=new jt(0,0,0,0);x.copy(y),o.push(x)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=r[f];if(d){var h=d.shouldBePainted(i,a,!0,!0),v=d.__isRendered&&(d.__dirty&ks||!h)?d.getPrevPaintRect():null;v&&c(v);var p=h&&(d.__dirty&ks||!d.__isRendered)?d.getPaintRect():null;p&&c(p)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=n[f],h=d&&d.shouldBePainted(i,a,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var v=d.getPrevPaintRect();v&&c(v)}}var g;do{g=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var m=f+1;m<o.length;)o[f].intersect(o[m])?(g=!0,o[f].union(o[m]),o.splice(m,1)):m++;f++}}while(g);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!r,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var h=this.domBack;function v(p,g,m,y){if(o.clearRect(p,g,m,y),n&&n!=="transparent"){var x=void 0;if(AE(n)){var b=n.global||n.__width===m&&n.__height===y;x=b&&n.__canvasGradient||$k(o,n,{x:0,y:0,width:m,height:y}),n.__canvasGradient=x,n.__width=m,n.__height=y}else m6e(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,x=Gk(o,n,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=x||n,o.fillRect(p,g,m,y),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,p,g,m,y),o.restore())}!i||u?v(0,0,s,l):i.length&&G(i,function(p){v(p.x*f,p.y*f,p.width*f,p.height*f)})},t})(Gl),eU=1e5,Cv=314159,r2=.01,wWe=.001;function SWe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function CWe(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var TWe=(function(){function e(t,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=He({},n||{}),this.dpr=n.devicePixelRatio||ST,this._singleCanvas=a,this.root=t;var o=t.style;o&&(Ire(t),t.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,f=c.width,d=c.height;n.width!=null&&(f=n.width),n.height!=null&&(d=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new ZR(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Cv]=h,h.zlevel=Cv,s.push(Cv),this._domRoot=t}else{this._width=Og(t,0,n),this._height=Og(t,1,n);var u=this._domRoot=CWe(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=t[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(eU)),a||(a=n.ctx,a.save()),tp(a,s,i,o===r-1))}a&&a.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(eU)},e.prototype.paintOne=function(t,r){QE(t,r)},e.prototype._paintList=function(t,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;mT(function(){l._paintList(t,r,n,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Cv).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,d=function(p){var g=a[p],m=g.ctx,y=o&&g.createRepaintRects(t,r,h._width,h._height),x=n?g.__startIndex:g.__drawIndex,b=!n&&g.incremental&&Date.now,w=b&&Date.now(),S=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,S,y);else if(x===g.__startIndex){var C=t[x];(!C.incremental||!C.notClear||n)&&g.clear(!1,S,y)}x===-1&&(console.error("For some unknown reason. drawIndex is -1"),x=g.__startIndex);var E,A=function(L){var k={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(E=x;E<g.__endIndex;E++){var O=t[E];if(O.__inHover&&(f=!0),i._doPaintEl(O,g,o,L,k,E===g.__endIndex-1),b){var F=Date.now()-w;if(F>15)break}}k.prevElClipPaths&&m.restore()};if(y)if(y.length===0)E=g.__endIndex;else for(var M=h.dpr,D=0;D<y.length;++D){var R=y[D];m.save(),m.beginPath(),m.rect(R.x*M,R.y*M,R.width*M,R.height*M),m.clip(),A(R),m.restore()}else m.save(),A(),m.restore();g.__drawIndex=E,g.__drawIndex<g.__endIndex&&(c=!1)},h=this,v=0;v<a.length;v++)d(v);return Er.wxa&&G(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:c,needsRefreshHover:f}},e.prototype._doPaintEl=function(t,r,n,i,a,o){var s=r.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(tp(s,t,a,o),t.setPrevPaintRect(l))}else tp(s,t,a,o)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Cv);var n=this._layers[t];return n||(n=new ZR("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Et(n,this._layerConfig[t],!0):this._layerConfig[t-r2]&&Et(n,this._layerConfig[t-r2],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!n[t]&&SWe(r)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);s=n[i[l]]}if(i.splice(l+1,0,t),n[t]=r,!r.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(r.dom,u.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(r,this._layers[a],a)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&t.call(r,o,a)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||t.call(r,o,a)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function r(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?(c=this.getLayer(u+wWe,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?r2:0),this._needsManuallyCompositing),c.__builtin__||uF("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,r(l),a=c),i.__dirty&ks&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,G(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?Et(n[t],r,!0):n[t]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+r2){var o=this._layers[a];Et(o,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],n.splice(ur(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=Og(a,0,i),r=Og(a,1,i),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(Cv).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Cv].dom;var r=new ZR("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];tp(n,c,o,l===u-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e})();function Voe(e){e.registerPainter("canvas",TWe)}var AWe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return Vc(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new $t,i=Pi("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=r.itemHeight*.8,u=Pi(s,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?o:r.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=De.color.neutral00,u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(Xr);function Cm(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=xm(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(xm(e,t,r[o]));return a.join(" ")}}function $oe(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!We(t))return t+"";for(var n=[],i=0;i<r.length;i++){var a=e.getDimensionIndex(r[i]);a>=0&&n.push(t[a])}return n.join(" ")}var Rb=(function(e){Ae(t,e);function t(r,n,i,a){var o=e.call(this)||this;return o.updateData(r,n,i,a),o}return t.prototype._createSymbol=function(r,n,i,a,o,s){this.removeAll();var l=Pi(r,-1,-1,2,2,null,s);l.attr({z2:It(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=EWe,this._symbolType=r,this.add(l)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Bf(this.childAt(0))},t.prototype.downplay=function(){zf(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,a){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,l=t.getSymbolSize(r,n),u=t.getSymbolZ2(r,n),c=o!==this._symbolType,f=a&&a.disableAnimation;if(c){var d=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,l,u,d)}else{var h=this.childAt(0);h.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};f?h.attr(v):Wr(h,v,s,n),Vl(h)}if(this._updateCommon(r,n,l,i,a),c){var h=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Hn(h,v,s,n)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,a,o){var s=this.childAt(0),l=r.hostModel,u,c,f,d,h,v,p,g,m;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,d=a.focus,h=a.blurScope,p=a.labelStatesModels,g=a.hoverScale,m=a.cursorStyle,v=a.emphasisDisabled),!a||r.hasItemOption){var y=a&&a.itemModel?a.itemModel:r.getItemModel(n),x=y.getModel("emphasis");u=x.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),d=x.get("focus"),h=x.get("blurScope"),v=x.get("disabled"),p=ua(y),g=x.getShallow("scale"),m=y.getShallow("cursor")}var b=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var w=f0(r.getItemVisual(n,"symbolOffset"),i);w&&(s.x=w[0],s.y=w[1]),m&&s.attr("cursor",m);var S=r.getItemVisual(n,"style"),C=S.fill;if(s instanceof Ra){var E=s.style;s.useStyle(He({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},S))}else s.__isEmptyBrush?s.useStyle(He({},S)):s.useStyle(S),s.style.decal=null,s.setColor(C,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var A=r.getItemVisual(n,"liftZ"),M=this._z2;A!=null?M==null&&(this._z2=s.z2,s.z2+=A):M!=null&&(s.z2=M,this._z2=null);var D=o&&o.useNameLabel;Da(s,p,{labelFetcher:l,labelDataIndex:n,defaultText:R,inheritColor:C,defaultOpacity:S.opacity});function R(O){return D?r.getName(O):Cm(r,O)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var L=s.ensureState("emphasis");L.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var k=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;L.scaleX=this._sizeX*k,L.scaleY=this._sizeY*k,this.setSymbolScale(1),Wn(this,d,h,v)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),o=qt(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&_h(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();_h(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},t.getSymbolSize=function(r,n){return uy(r.getItemVisual(n,"symbolSize"))},t.getSymbolZ2=function(r,n){return r.getItemVisual(n,"z2")},t})($t);function EWe(e,t){this.parent.drift(e,t)}function qR(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function tU(e){return e!=null&&!Xt(e)&&(e={isIgnore:e}),e||{}}function rU(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:ua(t),cursorStyle:t.get("cursor")}}var Lb=(function(){function e(t){this.group=new $t,this._SymbolCtor=t||Rb}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=tU(r);var n=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,s=r.disableAnimation,l=rU(t),u={disableAnimation:s},c=r.getSymbolPoint||function(f){return t.getItemLayout(f)};a||n.removeAll(),t.diff(a).add(function(f){var d=c(f);if(qR(t,d,f,r)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),n.add(h)}}).update(function(f,d){var h=a.getItemGraphicEl(d),v=c(f);if(!qR(t,v,f,r)){n.remove(h);return}var p=t.getItemVisual(f,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==p)n.remove(h),h=new o(t,f,l,u),h.setPosition(v);else{h.updateData(t,f,l,u);var m={x:v[0],y:v[1]};s?h.attr(m):Wr(h,m,i)}n.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=a.getItemGraphicEl(f);d&&d.fadeOut(function(){n.remove(d)},i)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=rU(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=tU(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=r.getItemLayout(a);if(qR(r,o,a,n)){var s=new this._SymbolCtor(r,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){Ih(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e})();function Goe(e,t,r){var n=e.getBaseAxis(),i=e.getOtherAxis(n),a=MWe(i,r),o=n.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=Ye(e.dimensions,function(v){return t.mapDimension(v)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return Vf(t,f[0])&&(d=!0,f[0]=h),Vf(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function MWe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:Br(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function Uoe(e,t,r,n){var i=NaN;e.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var a=e.baseDataOffset,o=[];return o[a]=r.get(e.baseDim,n),o[1-a]=i,t.dataToPoint(o)}function DWe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function PWe(e,t,r,n,i,a,o,s){for(var l=DWe(e,t),u=[],c=[],f=[],d=[],h=[],v=[],p=[],g=Goe(i,t,o),m=e.getLayout("points")||[],y=t.getLayout("points")||[],x=0;x<l.length;x++){var b=l[x],w=!0,S=void 0,C=void 0;switch(b.cmd){case"=":S=b.idx*2,C=b.idx1*2;var E=m[S],A=m[S+1],M=y[C],D=y[C+1];(isNaN(E)||isNaN(A))&&(E=M,A=D),u.push(E,A),c.push(M,D),f.push(r[S],r[S+1]),d.push(n[C],n[C+1]),p.push(t.getRawIndex(b.idx1));break;case"+":var R=b.idx,L=g.dataDimsForPoint,k=i.dataToPoint([t.get(L[0],R),t.get(L[1],R)]);C=R*2,u.push(k[0],k[1]),c.push(y[C],y[C+1]);var O=Uoe(g,i,t,R);f.push(O[0],O[1]),d.push(n[C],n[C+1]),p.push(t.getRawIndex(R));break;case"-":w=!1}w&&(h.push(b),v.push(v.length))}v.sort(function(Z,ve){return p[Z]-p[ve]});for(var F=u.length,H=hc(F),V=hc(F),U=hc(F),K=hc(F),q=[],x=0;x<v.length;x++){var N=v[x],W=x*2,j=N*2;H[W]=u[j],H[W+1]=u[j+1],V[W]=c[j],V[W+1]=c[j+1],U[W]=f[j],U[W+1]=f[j+1],K[W]=d[j],K[W+1]=d[j+1],q[x]=h[N]}return{current:H,next:V,stackedOnCurrent:U,stackedOnNext:K,status:q}}var Ad=Math.min,Ed=Math.max;function xp(e,t){return isNaN(e)||isNaN(t)}function u4(e,t,r,n,i,a,o,s,l){for(var u,c,f,d,h,v,p=r,g=0;g<n;g++){var m=t[p*2],y=t[p*2+1];if(p>=i||p<0)break;if(xp(m,y)){if(l){p+=a;continue}break}if(p===r)e[a>0?"moveTo":"lineTo"](m,y),f=m,d=y;else{var x=m-u,b=y-c;if(x*x+b*b<.5){p+=a;continue}if(o>0){for(var w=p+a,S=t[w*2],C=t[w*2+1];S===m&&C===y&&g<n;)g++,w+=a,p+=a,S=t[w*2],C=t[w*2+1],m=t[p*2],y=t[p*2+1],x=m-u,b=y-c;var E=g+1;if(l)for(;xp(S,C)&&E<n;)E++,w+=a,S=t[w*2],C=t[w*2+1];var A=.5,M=0,D=0,R=void 0,L=void 0;if(E>=n||xp(S,C))h=m,v=y;else{M=S-u,D=C-c;var k=m-u,O=S-m,F=y-c,H=C-y,V=void 0,U=void 0;if(s==="x"){V=Math.abs(k),U=Math.abs(O);var K=M>0?1:-1;h=m-K*V*o,v=y,R=m+K*U*o,L=y}else if(s==="y"){V=Math.abs(F),U=Math.abs(H);var q=D>0?1:-1;h=m,v=y-q*V*o,R=m,L=y+q*U*o}else V=Math.sqrt(k*k+F*F),U=Math.sqrt(O*O+H*H),A=U/(U+V),h=m-M*o*(1-A),v=y-D*o*(1-A),R=m+M*o*A,L=y+D*o*A,R=Ad(R,Ed(S,m)),L=Ad(L,Ed(C,y)),R=Ed(R,Ad(S,m)),L=Ed(L,Ad(C,y)),M=R-m,D=L-y,h=m-M*V/U,v=y-D*V/U,h=Ad(h,Ed(u,m)),v=Ad(v,Ed(c,y)),h=Ed(h,Ad(u,m)),v=Ed(v,Ad(c,y)),M=m-h,D=y-v,R=m+M*U/V,L=y+D*U/V}e.bezierCurveTo(f,d,h,v,m,y),f=R,d=L}else e.lineTo(m,y)}u=m,c=y,p+=a}return g}var Woe=(function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e})(),RWe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Woe},t.prototype.buildPath=function(r,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&xp(i[o*2-2],i[o*2-1]);o--);for(;a<o&&xp(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=u4(r,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=Rc.CMD,s,l,u=n==="x",c=[],f=0;f<a.length;){var d=a[f++],h=void 0,v=void 0,p=void 0,g=void 0,m=void 0,y=void 0,x=void 0;switch(d){case o.M:s=a[f++],l=a[f++];break;case o.L:if(h=a[f++],v=a[f++],x=u?(r-s)/(h-s):(r-l)/(v-l),x<=1&&x>=0){var b=u?(v-l)*x+l:(h-s)*x+s;return u?[r,b]:[b,r]}s=h,l=v;break;case o.C:h=a[f++],v=a[f++],p=a[f++],g=a[f++],m=a[f++],y=a[f++];var w=u?xT(s,h,p,m,r,c):xT(l,v,g,y,r,c);if(w>0)for(var S=0;S<w;S++){var C=c[S];if(C<=1&&C>=0){var b=u?pa(l,v,g,y,C):pa(s,h,p,m,C);return u?[r,b]:[b,r]}}s=m,l=y;break}}},t})(Cr),LWe=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Woe),Xoe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new LWe},t.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&xp(i[s*2-2],i[s*2-1]);s--);for(;o<s&&xp(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=u4(r,i,o,s,s,1,n.smooth,l,n.connectNulls);u4(r,a,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,r.closePath()}},t})(Cr);function joe(e,t,r,n,i){var a=e.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=r.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new vr({shape:{x:o,y:s,width:l,height:u}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),v=d.inverse;h?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var p=Ht(i)?function(g){i(g,f)}:null;Hn(f,{shape:{width:l,height:u,x:o,y:s}},r,null,n,p)}return f}function Yoe(e,t,r){var n=e.getArea(),i=ii(n.r0,1),a=ii(n.r,1),o=new To({shape:{cx:ii(e.cx,1),cy:ii(e.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,Hn(o,{shape:{endAngle:n.endAngle,r:a}},r)}return o}function Ib(e,t,r,n,i){if(e){if(e.type==="polar")return Yoe(e,t,r);if(e.type==="cartesian2d")return joe(e,t,r,n,i)}else return null;return null}function bh(e,t){return e.type===t}function nU(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function iU(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<e.length;){var o=e[a++],s=e[a++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),i=Math.max(s,i))}return[[t,r],[n,i]]}function aU(e,t){var r=iU(e),n=r[0],i=r[1],a=iU(t),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function oU(e){return Br(e)?e:e?.5:0}function IWe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),i=hc(n*2),a=0;a<n;a++){var o=Uoe(r,e,t,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Md(e,t,r,n,i){var a=r.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(i){for(l=0;l<e.length;l+=2){var h=t||e;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(e[l],e[l+1])}e=d}for(l=0;l<e.length-2;l+=2)switch(f[0]=e[l+2],f[1]=e[l+3],c[0]=e[l],c[1]=e[l+1],s.push(c[0],c[1]),n){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var v=(c[o]+f[o])/2,p=[];u[o]=p[o]=v,u[1-o]=c[1-o],p[1-o]=f[1-o],s.push(u[0],u[1]),s.push(p[0],p[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(e[l++],e[l++]),s}function kWe(e,t){var r=[],n=e.length,i,a;function o(c,f,d){var h=c.coord,v=(d-h)/(f.coord-h),p=a8e(v,[c.color,f.color]);return{coord:d,color:p}}for(var s=0;s<n;s++){var l=e[s],u=l.coord;if(u<0)i=l;else if(u>t){a?r.push(o(a,l,t)):i&&r.push(o(i,l,0),o(i,l,t));break}else i&&(r.push(o(i,l,0)),i=null),r.push(l),a=l}return r}function OWe(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=e.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var l=t.getAxis(i),u=Ye(a.stops,function(x){return{coord:l.toGlobalCoord(l.dataToCoord(x.value)),color:x.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=kWe(u,i==="x"?r.getWidth():r.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,p=d[0].coord-v,g=d[h-1].coord+v,m=g-p;if(m<.001)return"transparent";G(d,function(x){x.offset=(x.coord-p)/m}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var y=new ry(0,0,0,0,d,!0);return y[i]=p,y[i+"2"]=g,y}}}function FWe(e,t,r){var n=e.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&NWe(a,t))){var o=t.mapDimension(a.dim),s={};return G(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function NWe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(Rb.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function BWe(e,t){return isNaN(e)||isNaN(t)}function zWe(e){for(var t=e.length/2;t>0&&BWe(e[t*2-2],e[t*2-1]);t--);return t-1}function sU(e,t){return[e[t*2],e[t*2+1]]}function HWe(e,t,r){for(var n=e.length/2,i=r==="x"?0:1,a,o,s=0,l=-1,u=0;u<n;u++)if(o=e[u*2+i],!(isNaN(o)||isNaN(e[u*2+1-i]))){if(u===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){l=u;break}s=u,a=o}return{range:[s,l],t:(t-a)/(o-a)}}function Koe(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Zo.length;t++)if(e.get([Zo[t],"endLabel","show"]))return!0;return!1}function JR(e,t,r,n){if(bh(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=Koe(n)?function(h,v){e._endLabelOnDuring(h,v,o,s,a,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=joe(t,r,n,function(){var h=e._endLabel;h&&r&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return Yoe(t,r,n)}function VWe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||o}}}var $We=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new $t,n=new Lb;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=mt(this._changePolyState,this)},t.prototype.render=function(r,n,i){var a=r.coordinateSystem,o=this.group,s=r.getData(),l=r.getModel("lineStyle"),u=r.getModel("areaStyle"),c=s.getLayout("points")||[],f=a.type==="polar",d=this._coordSys,h=this._symbolDraw,v=this._polyline,p=this._polygon,g=this._lineGroup,m=!n.ssr&&r.get("animation"),y=!u.isEmpty(),x=u.get("origin"),b=Goe(a,s,x),w=y&&IWe(a,s,b),S=r.get("showSymbol"),C=r.get("connectNulls"),E=S&&!f&&FWe(r,s,a),A=this._data;A&&A.eachItemGraphicEl(function(Z,ve){Z.__temp&&(o.remove(Z),A.setItemGraphicEl(ve,null))}),S||h.remove(),o.add(g);var M=f?!1:r.get("step"),D;a&&a.getArea&&r.get("clip",!0)&&(D=a.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var R=OWe(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&d.type===a.type&&M===this._step))S&&h.updateData(s,{isIgnore:E,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Z){return[c[Z*2],c[Z*2+1]]}}),m&&this._initSymbolLabelAnimation(s,a,D),M&&(w&&(w=Md(w,c,a,M,C)),c=Md(c,null,a,M,C)),v=this._newPolyline(c),y?p=this._newPolygon(c,w):p&&(g.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(r,a,Op(R)),g.setClipPath(JR(this,a,!0,r));else{y&&!p?p=this._newPolygon(c,w):p&&!y&&(g.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(r,a,Op(R));var L=g.getClipPath();if(L){var k=JR(this,a,!1,r);Hn(L,{shape:k.shape},r)}else g.setClipPath(JR(this,a,!0,r));S&&h.updateData(s,{isIgnore:E,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Z){return[c[Z*2],c[Z*2+1]]}}),(!nU(this._stackedOnPoints,w)||!nU(this._points,c))&&(m?this._doUpdateAnimation(s,w,a,i,M,x,C):(M&&(w&&(w=Md(w,c,a,M,C)),c=Md(c,null,a,M,C)),v.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:w})))}var O=r.getModel("emphasis"),F=O.get("focus"),H=O.get("blurScope"),V=O.get("disabled");if(v.useStyle(kt(l.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),la(v,r,"lineStyle"),v.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var U=v.getState("emphasis").style;U.lineWidth=+v.style.lineWidth+1}qt(v).seriesIndex=r.seriesIndex,Wn(v,F,H,V);var K=oU(r.get("smooth")),q=r.get("smoothMonotone");if(v.setShape({smooth:K,smoothMonotone:q,connectNulls:C}),p){var N=s.getCalculationInfo("stackedOnSeries"),W=0;p.useStyle(kt(u.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),N&&(W=oU(N.get("smooth"))),p.setShape({smooth:K,stackedOnSmooth:W,smoothMonotone:q,connectNulls:C}),la(p,r,"areaStyle"),qt(p).seriesIndex=r.seriesIndex,Wn(p,F,H,V)}var j=this._changePolyState;s.eachItemGraphicEl(function(Z){Z&&(Z.onHoverStateChange=j)}),this._polyline.onHoverStateChange=j,this._data=s,this._coordSys=a,this._stackedOnPoints=w,this._points=c,this._step=M,this._valueOrigin=x,r.get("triggerLineEvent")&&(this.packEventData(r,v),p&&this.packEventData(r,p))},t.prototype.packEventData=function(r,n){qt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,i,a){var o=r.getData(),s=Pp(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=r.get("zlevel")||0,h=r.get("z")||0;u=new Rb(o,s),u.x=c,u.y=f,u.setZ(d,h);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=d,v.z=h,v.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else zr.prototype.highlight.call(this,r,n,i,a)},t.prototype.downplay=function(r,n,i,a){var o=r.getData(),s=Pp(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else zr.prototype.downplay.call(this,r,n,i,a)},t.prototype._changePolyState=function(r){var n=this._polygon;PT(this._polyline,r),n&&PT(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new RWe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Xoe({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(r,n,i){var a,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var u=r.hostModel,c=u.get("animationDuration");Ht(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=Ht(f)?f(null):f;r.eachItemGraphicEl(function(h,v){var p=h;if(p){var g=[h.x,h.y],m=void 0,y=void 0,x=void 0;if(i)if(o){var b=i,w=n.pointToCoord(g);a?(m=b.startAngle,y=b.endAngle,x=-w[1]/180*Math.PI):(m=b.r0,y=b.r,x=w[0])}else{var S=i;a?(m=S.x,y=S.x+S.width,x=h.x):(m=S.y+S.height,y=S.y,x=h.y)}var C=y===m?0:(x-m)/(y-m);l&&(C=1-C);var E=Ht(f)?f(v):c*C+d,A=p.getSymbolPath(),M=A.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:E}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:E}),A.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(Koe(r)){var o=r.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Pr({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=zWe(l);c>=0&&(Da(s,ua(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?$oe(o,h):Cm(o,f)},enableTextSetter:!0},VWe(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,i,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){r<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),v=s.get("precision"),p=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),y=g.inverse,x=n.shape,b=y?m?x.x:x.y+x.height:m?x.x+x.width:x.y,w=(m?p:0)*(y?-1:1),S=(m?0:-p)*(y?-1:1),C=m?"x":"y",E=HWe(f,b,C),A=E.range,M=A[1]-A[0],D=void 0;if(M>=1){if(M>1&&!h){var R=sU(f,A[0]);u.attr({x:R[0]+w,y:R[1]+S}),o&&(D=d.getRawValue(A[0]))}else{var R=c.getPointOn(b,C);R&&u.attr({x:R[0]+w,y:R[1]+S});var L=d.getRawValue(A[0]),k=d.getRawValue(A[1]);o&&(D=xne(i,v,L,k,E.t))}a.lastFrameIndex=A[0]}else{var O=r===1||a.lastFrameIndex>0?A[0]:0,R=sU(f,O);o&&(D=d.getRawValue(O)),u.attr({x:R[0]+w,y:R[1]+S})}if(o){var F=iy(u);typeof F.setLabelText=="function"&&F.setLabelText(D)}}},t.prototype._doUpdateAnimation=function(r,n,i,a,o,s,l){var u=this._polyline,c=this._polygon,f=r.hostModel,d=PWe(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),h=d.current,v=d.stackedOnCurrent,p=d.next,g=d.stackedOnNext;if(o&&(v=Md(d.stackedOnCurrent,d.current,i,o,l),h=Md(d.current,null,i,o,l),g=Md(d.stackedOnNext,d.next,i,o,l),p=Md(d.next,null,i,o,l)),aU(h,p)>3e3||c&&aU(v,g)>3e3){u.stopAnimation(),u.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:g}));return}u.shape.__points=d.current,u.shape.points=h;var m={shape:{points:p}};d.current!==h&&(m.shape.__points=d.next),u.stopAnimation(),Wr(u,m,f),c&&(c.setShape({points:h,stackedOnPoints:v}),c.stopAnimation(),Wr(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],x=d.status,b=0;b<x.length;b++){var w=x[b].cmd;if(w==="="){var S=r.getItemGraphicEl(x[b].idx1);S&&y.push({el:S,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,E=0;E<y.length;E++){var A=y[E].el,M=y[E].ptIdx*2;A.x=C[M],A.y=C[M+1],A.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(zr);function kb(e,t){return{seriesType:e,plan:sy(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,a=r.pipelineContext,o=t||a.large;if(i){var s=Ye(i.dimensions,function(h){return n.mapDimension(h)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");Vf(n,s[0])&&(s[0]=u),Vf(n,s[1])&&(s[1]=u);var c=n.getStore(),f=n.getDimensionIndex(s[0]),d=n.getDimensionIndex(s[1]);return l&&{progress:function(h,v){for(var p=h.end-h.start,g=o&&hc(p*l),m=[],y=[],x=h.start,b=0;x<h.end;x++){var w=void 0;if(l===1){var S=c.get(f,x);w=i.dataToPoint(S,null,y)}else m[0]=c.get(f,x),m[1]=c.get(d,x),w=i.dataToPoint(m,null,y);o?(g[b++]=w[0],g[b++]=w[1]):v.setItemLayout(x,w.slice())}o&&v.setLayout("points",g)}}}}}}var GWe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},UWe=function(e){return Math.round(e.length/2)};function Zoe(e){return{seriesType:e,reset:function(t,r,n){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/h));var v=void 0;pt(a)?v=GWe[a]:Ht(a)&&(v=a),v&&t.setData(i.downSample(i.mapDimension(u.dim),1/h,v,UWe))}}}}}function WWe(e){e.registerChartView($We),e.registerSeriesModel(AWe),e.registerLayout(kb("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Zoe("line"))}var B_=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Vc(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(r),s=a.dataToPoint(o);if(i)G(a.getAxes(),function(d,h){if(d.type==="category"&&n!=null){var v=d.getTicksCoords(),p=d.getTickModel().get("alignWithLabel"),g=o[h],m=n[h]==="x1"||n[h]==="y1";if(m&&!p&&(g+=1),v.length<2)return;if(v.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var y=void 0,x=void 0,b=1,w=0;w<v.length;w++){var S=v[w].coord,C=w===v.length-1?v[w-1].tickValue+b:v[w].tickValue;if(C===g){x=S;break}else if(C<g)y=S;else if(y!=null&&C>g){x=(S+y)/2;break}w===1&&(b=C-v[0].tickValue)}x==null&&(y?y&&(x=v[v.length-1].coord):x=v[0].coord),s[h]=d.toGlobalCoord(x)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t})(Xr);Xr.registerClass(B_);var XWe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return Vc(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=kh(B_.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:De.color.primary,borderWidth:2}},realtimeSort:!1}),t})(B_),jWe=(function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e})(),JT=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new jWe},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,f=n.endAngle,d=n.clockwise,h=Math.PI*2,v=d?f-c<h:c-f<h;v||(c=f-(d?h:-h));var p=Math.cos(c),g=Math.sin(c),m=Math.cos(f),y=Math.sin(f);v?(r.moveTo(p*o+i,g*o+a),r.arc(p*u+i,g*u+a,l,-Math.PI+c,c,!d)):r.moveTo(p*s+i,g*s+a),r.arc(i,a,s,c,f,!d),r.arc(m*u+i,y*u+a,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&r.arc(i,a,o,f,c,d)},t})(Cr);function YWe(e,t){t=t||{};var r=t.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return TT(n,i,a);var s=e(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,v=(d+h)/2,p=u.startAngle,g=u.endAngle,m=(p+g)/2,y=r?Math.abs(d-h)/2:0,x=Math.cos,b=Math.sin,w=c+d*x(p),S=f+d*b(p),C="left",E="top";switch(s){case"startArc":w=c+(h-l)*x(m),S=f+(h-l)*b(m),C="center",E="top";break;case"insideStartArc":w=c+(h+l)*x(m),S=f+(h+l)*b(m),C="center",E="bottom";break;case"startAngle":w=c+v*x(p)+n2(p,l+y,!1),S=f+v*b(p)+i2(p,l+y,!1),C="right",E="middle";break;case"insideStartAngle":w=c+v*x(p)+n2(p,-l+y,!1),S=f+v*b(p)+i2(p,-l+y,!1),C="left",E="middle";break;case"middle":w=c+v*x(m),S=f+v*b(m),C="center",E="middle";break;case"endArc":w=c+(d+l)*x(m),S=f+(d+l)*b(m),C="center",E="bottom";break;case"insideEndArc":w=c+(d-l)*x(m),S=f+(d-l)*b(m),C="center",E="top";break;case"endAngle":w=c+v*x(g)+n2(g,l+y,!0),S=f+v*b(g)+i2(g,l+y,!0),C="left",E="middle";break;case"insideEndAngle":w=c+v*x(g)+n2(g,-l+y,!0),S=f+v*b(g)+i2(g,-l+y,!0),C="right",E="middle";break;default:return TT(n,i,a)}return n=n||{},n.x=w,n.y=S,n.align=C,n.verticalAlign=E,n}}function KWe(e,t,r,n){if(Br(n)){e.setTextConfig({rotation:n});return}else if(We(t)){e.setTextConfig({rotation:0});return}var i=e.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,l,u=r(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function n2(e,t,r){return t*Math.sin(e)*(r?-1:1)}function i2(e,t,r){return t*Math.cos(e)*(r?1:-1)}function pc(e,t,r){var n=e.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;We(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Ye(n,function(a){return Au(a,i)})}}var QR=Math.max,eL=Math.min;function ZWe(e,t){var r=e.getArea&&e.getArea();if(bh(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var qWe=(function(e){Ae(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,i,a){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,a))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){Ih(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,i,a){var o=this.group,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=r.isAnimationEnabled()?r:null,h=JWe(r,u);h&&this._enableRealtimeSort(h,s,i);var v=r.get("clip",!0)||h,p=ZWe(u,s);o.removeClipPath();var g=r.get("roundCap",!0),m=r.get("showBackground",!0),y=r.getModel("backgroundStyle"),x=y.get("borderRadius")||0,b=[],w=this._backgroundEls,S=a&&a.isInitSort,C=a&&a.type==="changeAxisOrder";function E(D){var R=a2[u.type](s,D);if(!R)return null;var L=aXe(u,f,R);return L.useStyle(y.getItemStyle()),u.type==="cartesian2d"?L.setShape("r",x):L.setShape("cornerRadius",x),b[D]=L,L}s.diff(l).add(function(D){var R=s.getItemModel(D),L=a2[u.type](s,D,R);if(L&&(m&&E(D),!(!s.hasValue(D)||!dU[u.type](L)))){var k=!1;v&&(k=lU[u.type](p,L));var O=uU[u.type](r,s,D,L,f,d,c.model,!1,g);h&&(O.forceLabelAnimation=!0),hU(O,s,D,R,L,r,f,u.type==="polar"),S?O.attr({shape:L}):h?cU(h,d,O,L,D,f,!1,!1):Hn(O,{shape:L},r,D),s.setItemGraphicEl(D,O),o.add(O),O.ignore=k}}).update(function(D,R){var L=s.getItemModel(D),k=a2[u.type](s,D,L);if(k){if(m){var O=void 0;w.length===0?O=E(R):(O=w[R],O.useStyle(y.getItemStyle()),u.type==="cartesian2d"?O.setShape("r",x):O.setShape("cornerRadius",x),b[D]=O);var F=a2[u.type](s,D),H=Joe(f,F,u);Wr(O,{shape:H},d,D)}var V=l.getItemGraphicEl(R);if(!s.hasValue(D)||!dU[u.type](k)){o.remove(V);return}var U=!1;v&&(U=lU[u.type](p,k),U&&o.remove(V));var K=V&&(V.type==="sector"&&g||V.type==="sausage"&&!g);if(K&&(V&&Af(V,r,R),V=null),V?Vl(V):V=uU[u.type](r,s,D,k,f,d,c.model,!0,g),h&&(V.forceLabelAnimation=!0),C){var q=V.getTextContent();if(q){var N=iy(q);N.prevValue!=null&&(N.prevValue=N.value)}}else hU(V,s,D,L,k,r,f,u.type==="polar");S?V.attr({shape:k}):h?cU(h,d,V,k,D,f,!0,C):Wr(V,{shape:k},r,D,null),s.setItemGraphicEl(D,V),V.ignore=U,o.add(V)}}).remove(function(D){var R=l.getItemGraphicEl(D);R&&Af(R,r,D)}).execute();var A=this._backgroundGroup||(this._backgroundGroup=new $t);A.removeAll();for(var M=0;M<b.length;++M)A.add(b[M]);o.add(A),this._backgroundEls=b,this._data=s},t.prototype._renderLarge=function(r,n,i){this._clear(),pU(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),pU(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&Ib(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,i){var a=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,i){var a=[];return r.each(r.mapDimension(n.dim),function(o,s){var l=i(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Ye(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var a=i.scale,o=r.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=r.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(r,n,i,a){if(this._isOrderChangedWithinSameData(r,n,i)){var o=this._dataSort(r,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(r,n,i){var a=n.baseAxis,o=this._dataSort(r,a,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Af(a,r,qt(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(zr),lU={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,a=e.y+e.height,o=QR(t.x,e.x),s=eL(t.x+t.width,i),l=QR(t.y,e.y),u=eL(t.y+t.height,a),c=s<o,f=u<l;return t.x=c&&o>i?s:o,t.y=f&&l>a?u:l,t.width=c?0:s-o,t.height=f?0:u-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var i=eL(t.r,e.r),a=QR(t.r0,e.r0);t.r=i,t.r0=a;var o=i-a<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},uU={cartesian2d:function(e,t,r,n,i,a,o,s,l){var u=new vr({shape:He({},n),z2:1});if(u.__dataIndex=r,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(e,t,r,n,i,a,o,s,l){var u=!i&&l?JT:To,c=new u({shape:n,z2:1});c.name="item";var f=qoe(i);if(c.calculateTextPosition=YWe(f,{isRoundCap:u===JT}),a){var d=c.shape,h=i?"r":"endAngle",v={};d[h]=i?n.r0:n.startAngle,v[h]=n[h],(s?Wr:Hn)(c,{shape:v},a)}return c}};function JWe(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function cU(e,t,r,n,i,a,o,s){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?Wr:Hn)(r,{shape:l},t,i,null);var c=t?e.baseAxis.model:null;(o?Wr:Hn)(r,{shape:u},c,i)}function fU(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var QWe=["x","y","width","height"],eXe=["cx","cy","r","startAngle","endAngle"],dU={cartesian2d:function(e){return!fU(e,QWe)},polar:function(e){return!fU(e,eXe)}},a2={cartesian2d:function(e,t,r){var n=e.getItemLayout(t);if(!n)return null;var i=r?rXe(r,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function tXe(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function qoe(e){return(function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}})(e)}function hU(e,t,r,n,i,a,o,s){var l=t.getItemVisual(r,"style");if(s){if(!a.get("roundCap")){var c=e.shape,f=pc(n.getModel("itemStyle"),c,!0);He(c,f),e.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var d=n.getShallow("cursor");d&&e.attr("cursor",d);var h=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=ua(n);Da(e,v,{labelFetcher:a,labelDataIndex:r,defaultText:Cm(a.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=e.getTextContent();if(s&&p){var g=n.get(["label","position"]);e.textConfig.inside=g==="middle"?!0:null,KWe(e,g==="outside"?h:g,qoe(o),n.get(["label","rotate"]))}aie(p,v,a.getRawValue(r),function(y){return $oe(t,y)});var m=n.getModel(["emphasis"]);Wn(e,m.get("focus"),m.get("blurScope"),m.get("disabled")),la(e,n),tXe(i)&&(e.style.fill="none",e.style.stroke="none",G(e.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function rXe(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var nXe=(function(){function e(){}return e})(),vU=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new nXe},t.prototype.buildPath=function(r,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],r.rect(s[0],s[1],l[0],l[1])},t})(Cr);function pU(e,t,r,n){var i=e.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new vU({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),r&&r.push(c)}var f=new vU({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,qt(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",gU),f.on("mousemove",gU)),r&&r.push(f)}var gU=nN(function(e){var t=this,r=iXe(t,e.offsetX,e.offsetY);qt(t).dataIndex=r>=0?r:null},30,!1);function iXe(e,t,r){for(var n=e.baseDimIdx,i=1-n,a=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,f=a.length/3;c<f;c++){var d=c*3;if(l[n]=u,l[i]=a[d+2],s[n]=a[d+n],s[i]=a[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1])return o[c]}return-1}function Joe(e,t,r){if(bh(r,"cartesian2d")){var n=t,i=r.getArea();return{x:e?n.x:i.x,y:e?i.y:n.y,width:e?n.width:i.width,height:e?i.height:n.height}}else{var i=r.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:a.r0,r:e?i.r:a.r,startAngle:e?a.startAngle:0,endAngle:e?a.endAngle:Math.PI*2}}}function aXe(e,t,r){var n=e.type==="polar"?To:vr;return new n({shape:Joe(t,r,e),silent:!0,z2:0})}function oXe(e){e.registerChartView(qWe),e.registerSeriesModel(XWe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,lr(Qae,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,eoe("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Zoe("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var mU=Math.PI*2,o2=Math.PI/180;function sXe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.getData(),a=i.mapDimension("value"),o=Tie(n,r),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=o.viewRect,d=-n.get("startAngle")*o2,h=n.get("endAngle"),v=n.get("padAngle")*o2;h=h==="auto"?d-mU:-h*o2;var p=n.get("minAngle")*o2,g=p+v,m=0;i.each(a,function(H){!isNaN(H)&&m++});var y=i.getSum(a),x=Math.PI/(y||m)*2,b=n.get("clockwise"),w=n.get("roseType"),S=n.get("stillShowZeroSum"),C=i.getDataExtent(a);C[0]=0;var E=b?1:-1,A=[d,h],M=E*v/2;BE(A,!b),d=A[0],h=A[1];var D=Qoe(n);D.startAngle=d,D.endAngle=h,D.clockwise=b,D.cx=s,D.cy=l,D.r=u,D.r0=c;var R=Math.abs(h-d),L=R,k=0,O=d;if(i.setLayout({viewRect:f,r:u}),i.each(a,function(H,V){var U;if(isNaN(H)){i.setItemLayout(V,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:s,cy:l,r0:c,r:w?NaN:u});return}w!=="area"?U=y===0&&S?x:H*x:U=R/m,U<g?(U=g,L-=g):k+=H;var K=O+E*U,q=0,N=0;v>U?(q=O+E*U/2,N=q):(q=O+M,N=K-M),i.setItemLayout(V,{angle:U,startAngle:q,endAngle:N,clockwise:b,cx:s,cy:l,r0:c,r:w?qr(H,C,[c,u]):u}),O=K}),L<mU&&m)if(L<=.001){var F=R/m;i.each(a,function(H,V){if(!isNaN(H)){var U=i.getItemLayout(V);U.angle=F;var K=0,q=0;F<v?(K=d+E*(V+1/2)*F,q=K):(K=d+E*V*F+M,q=d+E*(V+1)*F-M),U.startAngle=K,U.endAngle=q}})}else x=L/k,O=d,i.each(a,function(H,V){if(!isNaN(H)){var U=i.getItemLayout(V),K=U.angle===g?g:H*x,q=0,N=0;K<v?(q=O+E*K/2,N=q):(q=O+M,N=O+E*K-M),U.startAngle=q,U.endAngle=N,O+=E*K}})})}var Qoe=wr();function hy(e){return{seriesType:e,reset:function(t,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var lXe=Math.PI/180;function yU(e,t,r,n,i,a,o,s,l,u){if(e.length<2)return;function c(p){for(var g=p.rB,m=g*g,y=0;y<p.list.length;y++){var x=p.list[y],b=Math.abs(x.label.y-r),w=n+x.len,S=w*w,C=Math.sqrt(Math.abs((1-b*b/m)*S)),E=t+(C+x.len2)*i,A=E-x.label.x,M=x.targetTextWidth-A*i;ese(x,M,!0),x.label.x=E}}function f(p){for(var g={list:[],maxY:0},m={list:[],maxY:0},y=0;y<p.length;y++)if(p[y].labelAlignTo==="none"){var x=p[y],b=x.label.y>r?m:g,w=Math.abs(x.label.y-r);if(w>=b.maxY){var S=x.label.x-t-x.len2*i,C=n+x.len,E=Math.abs(S)<C?Math.sqrt(w*w/(1-S*S/C/C)):C;b.rB=E,b.maxY=w}b.list.push(x)}c(g),c(m)}for(var d=e.length,h=0;h<d;h++)if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var v=e[h].label.x-u;e[h].linePoints[1][0]+=v,e[h].label.x=u}a4(e,1,l,l+o)&&f(e)}function uXe(e,t,r,n,i,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;tL(e[d])||(h.x<t?(c=Math.min(c,h.x),l.push(e[d])):(f=Math.max(f,h.x),u.push(e[d])))}for(var d=0;d<e.length;d++){var v=e[d];if(!tL(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var h=v.label,p=v.linePoints,g=void 0;v.labelAlignTo==="edge"?h.x<t?g=p[2][0]-v.labelDistance-o-v.edgeDistance:g=o+i-v.edgeDistance-p[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?h.x<t?g=c-o-v.bleedMargin:g=o+i-f-v.bleedMargin:h.x<t?g=h.x-o-v.bleedMargin:g=o+i-h.x-v.bleedMargin,v.targetTextWidth=g,ese(v,g,!1)}}yU(u,t,r,n,1,i,a,o,s,f),yU(l,t,r,n,-1,i,a,o,s,c);for(var d=0;d<e.length;d++){var v=e[d];if(!tL(v)&&v.linePoints){var h=v.label,p=v.linePoints,m=v.labelAlignTo==="edge",y=h.style.padding,x=y?y[1]+y[3]:0,b=h.style.backgroundColor?0:x,w=v.rect.width+b,S=p[1][0]-p[2][0];m?h.x<t?p[2][0]=o+v.edgeDistance+w+v.labelDistance:p[2][0]=o+i-v.edgeDistance-w-v.labelDistance:(h.x<t?p[2][0]=h.x+v.labelDistance:p[2][0]=h.x-v.labelDistance,p[1][0]=p[2][0]+S),p[1][1]=p[2][1]=h.y}}}function ese(e,t,r){if(e.labelStyleWidth==null){var n=e.label,i=n.style,a=e.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=a.width+(o?0:l);if(t<c||r){if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var d=t-l,h=t<c?d:r?d>e.unconstrainedWidth?null:d:null;n.setStyle("width",h)}tse(a,n)}}}function tse(e,t){xU.rect=e,Soe(xU,t,cXe)}var cXe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},xU={};function tL(e){return e.position==="center"}function fXe(e){var t=e.getData(),r=[],n,i,a=!1,o=(e.get("minShowLabelAngle")||0)*lXe,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(S){S.ignore=!0}function v(S){if(!S.ignore)return!0;for(var C in S.states)if(S.states[C].ignore===!1)return!0;return!1}t.each(function(S){var C=t.getItemGraphicEl(S),E=C.shape,A=C.getTextContent(),M=C.getTextGuideLine(),D=t.getItemModel(S),R=D.getModel("label"),L=R.get("position")||D.get(["emphasis","label","position"]),k=R.get("distanceToLabelLine"),O=R.get("alignTo"),F=ft(R.get("edgeDistance"),u),H=R.get("bleedMargin");H==null&&(H=Math.min(u,d)>200?10:2);var V=D.getModel("labelLine"),U=V.get("length");U=ft(U,u);var K=V.get("length2");if(K=ft(K,u),Math.abs(E.endAngle-E.startAngle)<o){G(A.states,h),A.ignore=!0,M&&(G(M.states,h),M.ignore=!0);return}if(v(A)){var q=(E.startAngle+E.endAngle)/2,N=Math.cos(q),W=Math.sin(q),j,Z,ve,Te;n=E.cx,i=E.cy;var Se=L==="inside"||L==="inner";if(L==="center")j=E.cx,Z=E.cy,Te="center";else{var te=(Se?(E.r+E.r0)/2*N:E.r*N)+n,pe=(Se?(E.r+E.r0)/2*W:E.r*W)+i;if(j=te+N*3,Z=pe+W*3,!Se){var Re=te+N*(U+l-E.r),z=pe+W*(U+l-E.r),J=Re+(N<0?-1:1)*K,se=z;O==="edge"?j=N<0?c+F:c+u-F:j=J+(N<0?-k:k),Z=se,ve=[[te,pe],[Re,z],[J,se]]}Te=Se?"center":O==="edge"?N>0?"right":"left":N>0?"left":"right"}var he=Math.PI,_e=0,ge=R.get("rotate");if(Br(ge))_e=ge*(he/180);else if(L==="center")_e=0;else if(ge==="radial"||ge===!0){var $e=N<0?-q+he:-q;_e=$e}else if(ge==="tangential"&&L!=="outside"&&L!=="outer"){var Le=Math.atan2(N,W);Le<0&&(Le=he*2+Le);var fe=W>0;fe&&(Le=he+Le),_e=Le-he}if(a=!!_e,A.x=j,A.y=Z,A.rotation=_e,A.setStyle({verticalAlign:"middle"}),Se){A.setStyle({align:Te});var Ve=A.states.select;Ve&&(Ve.x+=A.x,Ve.y+=A.y)}else{var de=new jt(0,0,0,0);tse(de,A),r.push({label:A,labelLine:M,position:L,len:U,len2:K,minTurnAngle:V.get("minTurnAngle"),maxSurfaceAngle:V.get("maxSurfaceAngle"),surfaceNormal:new Wt(N,W),linePoints:ve,textAlign:Te,labelDistance:k,labelAlignTo:O,edgeDistance:F,bleedMargin:H,rect:de,unconstrainedWidth:de.width,labelStyleWidth:A.style.width})}C.setTextConfig({inside:Se})}}),!a&&e.get("avoidLabelOverlap")&&uXe(r,n,i,l,u,d,c,f);for(var p=0;p<r.length;p++){var g=r[p],m=g.label,y=g.labelLine,x=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),x&&(G(m.states,h),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(y){var w=g.linePoints;x||!w?(G(y.states,h),y.ignore=!0):(_oe(w,g.minTurnAngle),IUe(w,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:w}),m.__hostTarget.textGuideLineConfig={anchor:new Wt(w[0][0],w[0][1])})}}}var dXe=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this)||this;a.z2=2;var o=new Pr;return a.setTextContent(o),a.updateData(r,n,i,!0),a}return t.prototype.updateData=function(r,n,i,a){var o=this,s=r.hostModel,l=r.getItemModel(n),u=l.getModel("emphasis"),c=r.getItemLayout(n),f=He(pc(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(Hn(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,Hn(o,{shape:{r:c.r}},s,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Hn(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,Wr(o,{shape:{endAngle:c.endAngle}},s,n))}else Vl(o),Wr(o,{shape:f},s,n);o.useStyle(r.getItemVisual(n,"style")),la(o,l);var h=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),p=Math.cos(h)*v,g=Math.sin(h)*v,m=l.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(s,r,n),o.ensureState("emphasis").shape=He({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},pc(u.getModel("itemStyle"),c)),He(o.ensureState("select"),{x:p,y:g,shape:pc(l.getModel(["select","itemStyle"]),c)}),He(o.ensureState("blur"),{shape:pc(l.getModel(["blur","itemStyle"]),c)});var y=o.getTextGuideLine(),x=o.getTextContent();y&&He(y.ensureState("select"),{x:p,y:g}),He(x.ensureState("select"),{x:p,y:g}),Wn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n,i){var a=this,o=n.getItemModel(i),s=o.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Da(a,ua(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=o.get(["label","position"]);if(d!=="outside"&&d!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new no,this.setTextGuideLine(h)),_N(this,bN(o),{stroke:u,opacity:$s(s.get(["lineStyle","opacity"]),c,1)})}},t})(To),hXe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i,a){var o=r.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&r.get("showEmptyCircle")){var d=Qoe(r),h=new To({shape:Vt(d)});h.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}o.diff(s).add(function(v){var p=new dXe(o,v,u);o.setItemGraphicEl(v,p),l.add(p)}).update(function(v,p){var g=s.getItemGraphicEl(p);g.updateData(o,v,u),g.off("click"),l.add(g),o.setItemGraphicEl(v,g)}).remove(function(v){var p=s.getItemGraphicEl(v);Af(p,r,v)}).execute(),fXe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=r[0]-a.cx,s=r[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="pie",t})(zr);function vy(e,t,r){t=We(t)&&{coordDimensions:t}||He({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=cy(n,t).dimensions,a=new oi(i,e);return a.initData(n,r),a}var py=(function(){function e(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},e.prototype.getItemVisual=function(t,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,r)},e})(),vXe=wr(),rse=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new py(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return vy(this,{coordDimensions:["value"],encodeDefaulter:lr(KF,this)})},t.prototype.getDataParams=function(r){var n=this.getData(),i=vXe(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),a=i.seats=$8e(o,n.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,r);return s.percent=a[r]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(r){Dp(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(Xr);D9e({fullType:rse.type,getCoord2:function(e){return e.getShallow("center")}});function pXe(e){return{seriesType:e,reset:function(t,r){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Br(o)&&!isNaN(o)&&o<0)})}}}function gXe(e){e.registerChartView(hXe),e.registerSeriesModel(rse),gae("pie",e.registerAction),e.registerLayout(lr(sXe,"pie")),e.registerProcessor(hy("pie")),e.registerProcessor(pXe("pie"))}var mXe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Vc(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:De.color.primary}},universalTransition:{divideShape:"clone"}},t})(Xr),nse=4,yXe=(function(){function e(){}return e})(),xXe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new yXe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,a=n.size,o=this.symbolProxy,s=o.shape,l=r.getContext?r.getContext():r,u=l&&a[0]<nse,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var d=i[f++],h=i[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(s.x=d-a[0]/2,s.y=h-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(r,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,d=a[c+1]-l/2;if(r>=f&&n>=d&&r<=f+s&&n<=d+l)return u}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(r=i[0],n=i[1],a.contain(r,n)){var o=this.hoverDataIdx=this.findDataIndex(r,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,a=n.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<i.length;){var h=i[d++],v=i[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(v,u),f=Math.max(v,f)}r=this._rect=new jt(l-o/2,u-s/2,c-l+o,f-u+s)}return r},t})(Cr),_Xe=(function(){function e(){this.group=new $t}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;r=new Float32Array(r.buffer,a,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],a=r.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new xXe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var a=r.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Pi(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<nse;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=r.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=qt(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e})(),bXe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),o=this._updateSymbolDraw(a,r);o.updateData(a,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var a=r.getData(),o=this._updateSymbolDraw(a,r);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var a=r.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=kb("").reset(r,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new _Xe:new Lb,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(zr),ise={left:0,right:0,top:0,bottom:0},QT=["25%","25%"],wXe=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(r,n){var i=u0(r.outerBounds);e.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&r.outerBounds&&Lc(r.outerBounds,i)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&r.outerBounds&&Lc(this.option.outerBounds,r.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:ise,outerBoundsContain:"all",outerBoundsClampWidth:QT[0],outerBoundsClampHeight:QT[1],backgroundColor:De.color.transparent,borderWidth:1,borderColor:De.color.neutral30},t})(dr),c4=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",fi).models[0]},t.type="cartesian2dAxis",t})(dr);Ii(c4,dy);var ase={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:De.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:De.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:De.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[De.color.backgroundTint,De.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:De.color.neutral00,borderColor:De.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},SXe=Et({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},ase),MN=Et({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:De.color.axisMinorSplitLine,width:1}}},ase),CXe=Et({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},MN),TXe=kt({logBase:10},MN);const ose={category:SXe,value:MN,time:CXe,log:TXe};var AXe={value:1,category:1,time:1,log:1},f4=null;function EXe(e){f4||(f4=e)}function Ob(){return f4}function Tm(e,t,r,n){G(AXe,function(i,a){var o=Et(Et({},ose[a],!0),n,!0),s=(function(l){Ae(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=D_(this),h=d?u0(c):{},v=f.getTheme();Et(c,v.get(a+"Axis")),Et(c,this.getDefaultOption()),c.type=_U(c),d&&Lc(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=bm.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=Ob();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=t+"Axis."+a,u.defaultOption=o,u})(r);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",_U)}function _U(e){return e.type||(e.data?"category":"value")}var DN=(function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return Ye(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),on(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e})(),d4=["x","y"];function bU(e){return(e.type==="interval"||e.type==="time")&&!e.hasBreaks()}var MXe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=d4,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!bU(r)||!bU(n))){var i=r.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-i[0]*c,h=o[1]-a[0]*f,v=this._transform=[c,0,0,f,d,h];this._invTransform=Tu([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),o=this.getArea(),s=new jt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],o=r[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Mi(i,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(o,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(r[0]),u=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(r,n,i){if(i=i||[],this._invTransform)return Mi(i,r,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=o.coordToData(o.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-r,o=Math.min(i[0],i[1])-r,s=Math.max(n[0],n[1])-a+r,l=Math.max(i[0],i[1])-o+r;return new jt(a,o,s,l)},t})(DN),sse=(function(e){Ae(t,e);function t(r,n,i,a,o){var s=e.call(this,r,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t})(es),nM="expandAxisBreak",lse="collapseAxisBreak",use="toggleAxisBreak",PN="axisbreakchanged",DXe={type:nM,event:PN,update:"update",refineEvent:RN},PXe={type:lse,event:PN,update:"update",refineEvent:RN},RXe={type:use,event:PN,update:"update",refineEvent:RN};function RN(e,t,r,n){var i=[];return G(e,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function LXe(e){e.registerAction(DXe,t),e.registerAction(PXe,t),e.registerAction(RXe,t);function t(r,n){var i=[],a=Jg(n,r);function o(s,l){G(a[s],function(u){var c=u.updateAxisBreaks(r);G(c.breaks,function(f){var d;i.push(kt((d={},d[l]=u.componentIndex,d),f))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var Qd=Math.PI,IXe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],kXe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Am=wr(),cse=wr(),fse=(function(){function e(t){this.recordMap={},this.resolveAxisNameOverlap=t}return e.prototype.ensureRecord=function(t){var r=t.axis.dim,n=t.componentIndex,i=this.recordMap,a=i[r]||(i[r]=[]);return a[n]||(a[n]={ready:{}})},e})();function OXe(e,t,r,n){var i=r.axis,a=t.ensureRecord(r),o=[],s,l=LN(e.axisName)&&Sm(e.nameLocation);G(n,function(v){var p=Ic(v);if(!(!p||p.label.ignore)){o.push(p);var g=a.transGroup;l&&(g.transform?Tu(f1,g.transform):DE(f1),p.transform&&yc(f1,f1,p.transform),jt.copy(s2,p.localRect),s2.applyTransform(f1),s?s.union(s2):jt.copy(s=new jt(0,0,0,0),s2))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(o.sort(function(v,p){return Math.abs(v.label[u]-c)-Math.abs(p.label[u]-c)}),l&&s){var f=i.getExtent(),d=Math.min(f[0],f[1]),h=Math.max(f[0],f[1])-d;s.union(new jt(d,0,h,1))}a.stOccupiedRect=s,a.labelInfoList=o}var f1=$a(),s2=new jt(0,0,0,0),dse=function(e,t,r,n,i,a){if(Sm(e.nameLocation)){var o=a.stOccupiedRect;o&&hse(FUe({},o,a.transGroup.transform),n,i)}else vse(a.labelInfoList,a.dirVec,n,i)};function hse(e,t,r){var n=new Wt;tM(e,t,n,{direction:Math.atan2(r.y,r.x),bidirectional:!1,touchThreshold:.05})&&n4(t,n)}function vse(e,t,r,n){for(var i=Wt.dot(n,t)>=0,a=0,o=e.length;a<o;a++){var s=e[i?a:o-1-a];s.label.ignore||hse(s,r,n)}}var jo=(function(){function e(t,r,n,i){this.group=new $t,this._axisModel=t,this._api=r,this._local={},this._shared=i||new fse(dse),this._resetCfgDetermined(n)}return e.prototype.updateCfg=function(t){var r=this._cfg.raw;r.position=t.position,r.labelOffset=t.labelOffset,this._resetCfgDetermined(r)},e.prototype.__getRawCfg=function(){return this._cfg.raw},e.prototype._resetCfgDetermined=function(t){var r=this._axisModel,n=r.getDefaultOption?r.getDefaultOption():{},i=It(t.axisName,r.get("name")),a=r.get("nameMoveOverlap");(a==null||a==="auto")&&(a=It(t.defaultNameMoveOverlap,!0));var o={raw:t,position:t.position,rotation:t.rotation,nameDirection:It(t.nameDirection,1),tickDirection:It(t.tickDirection,1),labelDirection:It(t.labelDirection,1),labelOffset:It(t.labelOffset,0),silent:It(t.silent,!0),axisName:i,nameLocation:$s(r.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:LN(i)&&a,optionHideOverlap:r.get(["axisLabel","hideOverlap"]),showMinorTicks:r.get(["minorTick","show"])};this._cfg=o;var s=new $t({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(r);l.transGroup=this._transformGroup,l.dirVec=new Wt(Math.cos(-o.rotation),Math.sin(-o.rotation))},e.prototype.build=function(t,r){var n=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),G(FXe,function(i){t[i]&&NXe[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,r||{})}),this},e.innerTextLayout=function(t,r,n){var i=lne(r-t),a,o;return S_(i)?(o=n>0?"top":"bottom",a="center"):S_(i-Qd)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<Qd?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e})(),FXe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],NXe={axisLine:function(e,t,r,n,i,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&(s=!0,e.raw.axisLineAutoShow!=null&&(s=!!e.raw.axisLineAutoShow)),!!s){var l=n.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],d=c[0]>f[0];u&&(Mi(c,c,u),Mi(f,f,u));var h=He({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),v={strokeContainThreshold:e.raw.strokeContainThreshold||5,silent:!0,z2:1,style:h};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())Ob().buildAxisBreakLine(n,i,a,v);else{var p=new Gi(He({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},v));ym(p.shape,p.style.lineWidth),p.anid="line",i.add(p)}var g=n.get(["axisLine","symbol"]);if(g!=null){var m=n.get(["axisLine","symbolSize"]);pt(g)&&(g=[g,g]),(pt(m)||Br(m))&&(m=[m,m]);var y=f0(n.get(["axisLine","symbolOffset"])||0,m),x=m[0],b=m[1];G([{rotate:e.rotation+Math.PI/2,offset:y[0],r:0},{rotate:e.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(w,S){if(g[S]!=="none"&&g[S]!=null){var C=Pi(g[S],-x/2,-b/2,x,b,h.stroke,!0),E=w.r+w.offset,A=d?f:c;C.attr({rotation:w.rotate,x:A[0]+E*Math.cos(e.rotation),y:A[1]-E*Math.sin(e.rotation),silent:!0,z2:11}),i.add(C)}})}}},axisTickLabelEstimate:function(e,t,r,n,i,a,o,s){var l=SU(t,i,s);l&&wU(e,t,r,n,i,a,o,Eu.estimate)},axisTickLabelDetermine:function(e,t,r,n,i,a,o,s){var l=SU(t,i,s);l&&wU(e,t,r,n,i,a,o,Eu.determine);var u=VXe(e,i,a,n);HXe(e,t.labelLayoutList,u),$Xe(e,i,a,n,e.tickDirection)},axisName:function(e,t,r,n,i,a,o,s){var l=r.ensureRecord(n);t.nameEl&&(i.remove(t.nameEl),t.nameEl=l.nameLayout=l.nameLocation=null);var u=e.axisName;if(LN(u)){var c=e.nameLocation,f=e.nameDirection,d=n.getModel("nameTextStyle"),h=n.get("nameGap")||0,v=n.axis.getExtent(),p=n.axis.inverse?-1:1,g=new Wt(0,0),m=new Wt(0,0);c==="start"?(g.x=v[0]-p*h,m.x=-p):c==="end"?(g.x=v[1]+p*h,m.x=p):(g.x=(v[0]+v[1])/2,g.y=e.labelOffset+f*h,m.y=f);var y=$a();m.transform(Lh(y,y,e.rotation));var x=n.get("nameRotate");x!=null&&(x=x*Qd/180);var b,w;Sm(c)?b=jo.innerTextLayout(e.rotation,x??e.rotation,f):(b=BXe(e.rotation,c,x||0,v),w=e.raw.axisNameAvailableWidth,w!=null&&(w=Math.abs(w/Math.sin(b.rotation)),!isFinite(w)&&(w=null)));var S=d.getFont(),C=n.get("nameTruncate",!0)||{},E=C.ellipsis,A=Qa(e.raw.nameTruncateMaxWidth,C.maxWidth,w),M=s.nameMarginLevel||0,D=new Pr({x:g.x,y:g.y,rotation:b.rotation,silent:jo.isLabelSilent(n),style:gn(d,{text:u,font:S,overflow:"truncate",width:A,ellipsis:E,fill:d.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:d.get("align")||b.textAlign,verticalAlign:d.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(td({el:D,componentModel:n,itemName:u}),D.__fullText=u,D.anid="name",n.get("triggerEvent")){var R=jo.makeAxisEventDataBase(n);R.targetType="axisName",R.name=u,qt(D).eventData=R}a.add(D),D.updateTransform(),t.nameEl=D;var L=l.nameLayout=Ic({label:D,priority:D.z2,defaultAttr:{ignore:D.ignore},marginDefault:Sm(c)?IXe[M]:kXe[M]});if(l.nameLocation=c,i.add(D),D.decomposeTransform(),e.shouldNameMoveOverlap&&L){var k=r.ensureRecord(n);r.resolveAxisNameOverlap(e,r,n,L,m,k)}}}};function wU(e,t,r,n,i,a,o,s){gse(t)||GXe(e,t,i,s,n,o);var l=t.labelLayoutList;UXe(e,n,l,a),jXe(n,e.rotation,l);var u=e.optionHideOverlap;zXe(n,l,u),u&&Coe(on(l,function(c){return c&&!c.label.ignore})),OXe(e,r,n,l)}function BXe(e,t,r,n){var i=lne(r-e),a,o,s=n[0]>n[1],l=t==="start"&&!s||t!=="start"&&s;return S_(i-Qd/2)?(o=l?"bottom":"top",a="center"):S_(i-Qd*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<Qd*1.5&&i>Qd/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function zXe(e,t,r){if(soe(e.axis))return;function n(s,l,u){var c=Ic(t[l]),f=Ic(t[u]);if(!(!c||!f)){if(s===!1||c.suggestIgnore){J1(c.label);return}if(f.suggestIgnore){J1(f.label);return}var d=.1;if(!r){var h=[0,0,0,0];c=i4({marginForce:h},c),f=i4({marginForce:h},f)}tM(c,f,null,{touchThreshold:d})&&J1(s?f.label:c.label)}}var i=e.get(["axisLabel","showMinLabel"]),a=e.get(["axisLabel","showMaxLabel"]),o=t.length;n(i,0,1),n(a,o-1,o-2)}function HXe(e,t,r){e.showMinorTicks||G(t,function(n){if(n&&n.label.ignore)for(var i=0;i<r.length;i++){var a=r[i],o=cse(a),s=Am(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){J1(a);return}}})}function J1(e){e&&(e.ignore=!0)}function pse(e,t,r,n,i){for(var a=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=r,t&&(Mi(o,o,t),Mi(s,s,t));var c=new Gi({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});ym(c.shape,c.style.lineWidth),c.anid=i+"_"+e[l].tickValue,a.push(c);var f=cse(c);f.onBand=!!e[l].onBand,f.tickValue=e[l].tickValue}return a}function VXe(e,t,r,n){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,e.raw.axisTickAutoShow!=null&&(o=!!e.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var s=a.getModel("lineStyle"),l=e.tickDirection*a.get("length"),u=i.getTicksCoords(),c=pse(u,r.transform,l,kt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)t.add(c[f]);return c}function $Xe(e,t,r,n,i){var a=n.axis,o=n.getModel("minorTick");if(!(!e.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=i*o.get("length"),c=kt(l.getLineStyle(),kt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var d=pse(s[f],r.transform,u,c,"minorticks_"+f),h=0;h<d.length;h++)t.add(d[h])}}function SU(e,t,r){if(gse(e)){var n=e.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(r.noPxChange){for(var a=!0,o=0;o<i.length;o++)a=a&&i[o]();if(a)return!1}i.length&&(t.remove(e.labelGroup),h4(e,null,null,null))}return!0}function GXe(e,t,r,n,i,a){var o=i.axis,s=Qa(e.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new $t;r.add(l);var u=XT(n);if(!s||o.scale.isBlank()){h4(t,[],l,u);return}var c=i.getModel("axisLabel"),f=o.getViewLabels(u),d=(Qa(e.raw.labelRotate,c.get("rotate"))||0)*Qd/180,h=jo.innerTextLayout(e.rotation,d,e.labelDirection),v=i.getCategories&&i.getCategories(!0),p=[],g=i.get("triggerEvent"),m=1/0,y=-1/0;G(f,function(b,w){var S,C=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,E=b.formattedLabel,A=b.rawLabel,M=c;if(v&&v[C]){var D=v[C];Xt(D)&&D.textStyle&&(M=new pr(D.textStyle,c,i.ecModel))}var R=M.getTextColor()||i.get(["axisLine","lineStyle","color"]),L=M.getShallow("align",!0)||h.textAlign,k=It(M.getShallow("alignMinLabel",!0),L),O=It(M.getShallow("alignMaxLabel",!0),L),F=M.getShallow("verticalAlign",!0)||M.getShallow("baseline",!0)||h.textVerticalAlign,H=It(M.getShallow("verticalAlignMinLabel",!0),F),V=It(M.getShallow("verticalAlignMaxLabel",!0),F),U=10+(((S=b.time)===null||S===void 0?void 0:S.level)||0);m=Math.min(m,U),y=Math.max(y,U);var K=new Pr({x:0,y:0,rotation:0,silent:jo.isLabelSilent(i),z2:U,style:gn(M,{text:E,align:w===0?k:w===f.length-1?O:L,verticalAlign:w===0?H:w===f.length-1?V:F,fill:Ht(R)?R(o.type==="category"?A:o.type==="value"?C+"":C,w):R})});K.anid="label_"+C;var q=Am(K);if(q.break=b.break,q.tickValue=C,q.layoutRotation=h.rotation,td({el:K,componentModel:i,itemName:E,formatterParamsExtra:{isTruncated:function(){return K.isTruncated},value:A,tickIndex:w}}),g){var N=jo.makeAxisEventDataBase(i);N.targetType="axisLabel",N.value=A,N.tickIndex=w,b.break&&(N.break={start:b.break.parsedBreak.vmin,end:b.break.parsedBreak.vmax}),o.type==="category"&&(N.dataIndex=C),qt(K).eventData=N,b.break&&XXe(i,a,K,b.break)}p.push(K),l.add(K)});var x=Ye(p,function(b){return{label:b,priority:Am(b).break?b.z2+(y-m+1):b.z2,defaultAttr:{ignore:b.ignore}}});h4(t,x,l,u)}function gse(e){return!!e.labelLayoutList}function h4(e,t,r,n){e.labelLayoutList=t,e.labelGroup=r,e.axisLabelsCreationContext=n}function UXe(e,t,r,n){var i=t.get(["axisLabel","margin"]);G(r,function(a,o){var s=Ic(a);if(s){var l=s.label,u=Am(l);s.suggestIgnore=l.ignore,l.ignore=!1,CT(af,WXe),af.x=t.axis.dataToCoord(u.tickValue),af.y=e.labelOffset+e.labelDirection*i,af.rotation=u.layoutRotation,n.add(af),af.updateTransform(),n.remove(af),af.decomposeTransform(),CT(l,af),l.markRedraw(),ZT(s,!0),Ic(s)}})}var af=new vr,WXe=new vr;function LN(e){return!!e}function XXe(e,t,r,n){r.on("click",function(i){var a={type:nM,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[e.axis.dim+"AxisIndex"]=e.componentIndex,t.dispatchAction(a)})}function jXe(e,t,r){var n=Ui();if(n){var i=n.retrieveAxisBreakPairs(r,function(o){return o&&Am(o.label).break},!0),a=e.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&G(i,function(o){Ob().adjustBreakLabelPair(e.axis.inverse,t,[Ic(r[o[0]]),Ic(r[o[1]])])})}}function eA(e,t,r){r=r||{};var n=t.axis,i={},a=n.getAxesOnZeroOf()[0],o=n.position,s=a?"onZero":o,l=n.dim,u=[e.x,e.x+e.width,e.y,e.y+e.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,d=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var h=a.toGlobalCoord(a.dataToCoord(0));d[c.onZero]=Math.max(Math.min(h,d[1]),d[0])}i.position=[l==="y"?d[c[s]]:u[0],l==="x"?d[c[s]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=v[o],i.labelOffset=a?d[c[o]]-d[c.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Qa(r.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var p=t.get(["axisLabel","rotate"]);return i.labelRotate=s==="top"?-p:p,i.z2=1,i}function YXe(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function CU(e){var t={xAxisModel:null,yAxisModel:null};return G(t,function(r,n){var i=n.replace(/Model$/,""),a=e.getReferringComponents(i,fi).models[0];t[n]=a}),t}function KXe(e,t,r,n,i,a){for(var o=eA(e,r),s=!1,l=!1,u=0;u<t.length;u++)qk(t[u].getOtherAxis(r.axis).scale)&&(s=l=!0,r.axis.type==="category"&&r.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=a,new jo(r,n,o,i)}function ZXe(e,t,r){var n=eA(t,r);e.updateCfg(n)}function mse(e,t,r){var n=$f.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,{expandToNicedExtent:!0}),o=i.length-1,s=n.getInterval.call(r),l=ooe(e,t),u=l.extent,c=l.fixMin,f=l.fixMax;e.type==="log"&&(u=Jk(e.base,u,!0)),e.setBreaksFromOption(loe(t)),e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var d=n.getExtent.call(e);c&&(u[0]=d[0]),f&&(u[1]=d[1]);var h=n.getInterval.call(e),v=u[0],p=u[1];if(c&&f)h=(p-v)/o;else if(c)for(p=u[0]+h*o;p<u[1]&&isFinite(p)&&isFinite(u[1]);)h=HR(h),p=u[0]+h*o;else if(f)for(v=u[1]-h*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)h=HR(h),v=u[1]-h*o;else{var g=e.getTicks().length-1;g>o&&(h=HR(h));var m=h*o;p=Math.ceil(u[1]/h)*h,v=ii(p-m),v<0&&u[0]>=0?(v=0,p=ii(m)):p>0&&u[1]<=0&&(p=0,v=-ii(m))}var y=(i[0].value-a[0].value)/s,x=(i[o].value-a[o].value)/s;n.setExtent.call(e,v+h*y,p+h*x),n.setInterval.call(e,h),(y||x)&&n.setNiceExtent.call(e,v+h,p-h)}var TU=[[3,1],[0,2]],qXe=(function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=d4,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=Lr(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],v=h.model,p=h.scale;qk(p)&&v.get("alignTicks")&&v.get("interval")==null?c.push(h):(Fp(p,v),qk(p)&&(s=h))}c.length&&(s||(s=c.pop(),Fp(s.scale,s.model)),G(c,function(g){mse(g.scale,g.model,s.scale)}))}}i(n.x),i(n.y);var a={};G(n.x,function(o){AU(n,"y",o,a)}),G(n.y,function(o){AU(n,"x",o,a)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=ca(t,r),a=this._rect=Dn(t.getBoxLayoutParams(),i.refContainer),o=this._axesMap,s=this._coordsList,l=t.get("containLabel");if(v4(o,a),!n){var u=eje(a,s,o,l,r),c=void 0;if(l)p4?(p4(this._axesList,a),v4(o,a)):c=DU(a.clone(),"axisLabel",null,a,o,u,i);else{var f=tje(t,a,i),d=f.outerBoundsRect,h=f.parsedOuterBoundsContain,v=f.outerBoundsClamp;d&&(c=DU(d,h,v,a,o,u,i))}yse(a,o,Eu.determine,null,c,i)}G(this._coordsList,function(p){p.calcAffineTransform()})},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}Xt(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===r)return a[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",fi).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",fi).models[0],a=t.gridModel,o=this._coordsList,s,l;if(r)s=r.coordinateSystem,ur(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,G(s.x,function(c,f){G(s.y,function(d,h){var v="x"+f+"y"+h,p=new MXe(v);p.master=i,p.model=t,i._coordsMap[v]=p,i._coordsList.push(p),p.addAxis(c),p.addAxis(d)})});function u(c){return function(f,d){if(rL(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var v=new sse(c,Pb(f),[0,0],f.get("type"),h),p=v.type==="category";v.onBand=p&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=d,a._axesList.push(v),s[c][d]=v,l[c]++}}}},e.prototype._updateScale=function(t,r){G(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(YXe(i)){var a=CU(i),o=a.xAxisModel,s=a.yAxisModel;if(!rL(o,r)||!rL(s,r))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(i,a){G(WT(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return G(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);ur(r,a)<0&&r.push(a),ur(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,a){var o=new e(i,t,r);o.name="grid_"+a,o.resize(i,r,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(i){Eb({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=CU(i),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(s.componentIndex,l.componentIndex)}}),n},e.dimensions=d4,e})();function rL(e,t){return e.getCoordSysModel()===t}function AU(e,t,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=e[t],a,o=r.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)EU(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&EU(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function EU(e){return e&&e.type!=="category"&&e.type!=="time"&&aUe(e)}function JXe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}function v4(e,t){G(e.x,function(r){return MU(r,t.x,t.width)}),G(e.y,function(r){return MU(r,t.y,t.height)})}function MU(e,t,r){var n=[0,r],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),JXe(e,t)}var p4;function QXe(e){p4=e}function DU(e,t,r,n,i,a,o){yse(n,i,Eu.estimate,t,!1,o);var s=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=o0(s,function(d){return d>0})==null;return Ip(n,s,!0,!0,r),v4(i,n),l;function u(d){G(i[ir[d]],function(h){if(O_(h.model)){var v=a.ensureRecord(h.model),p=v.labelInfoList;if(p)for(var g=0;g<p.length;g++){var m=p[g],y=h.scale.normalize(Am(m.label).tickValue);y=d===1?1-y:y,c(m.rect,d,y),c(m.rect,1-d,NaN)}var x=v.nameLayout;if(x){var y=Sm(v.nameLocation)?.5:NaN;c(x.rect,d,y),c(x.rect,1-d,NaN)}}})}function c(d,h,v){var p=e[ir[h]]-d[ir[h]],g=d[Xi[h]]+d[ir[h]]-(e[Xi[h]]+e[ir[h]]);p=f(p,1-v),g=f(g,v);var m=TU[h][0],y=TU[h][1];s[m]=Ai(s[m],p),s[y]=Ai(s[y],g)}function f(d,h){return d>0&&!xo(h)&&h>1e-4&&(d/=h),d}}function eje(e,t,r,n,i){var a=new fse(rje);return G(r,function(o){return G(o,function(s){if(O_(s.model)){var l=!n;s.axisBuilder=KXe(e,t,s.model,i,a,l)}})}),a}function yse(e,t,r,n,i,a){var o=r===Eu.determine;G(t,function(u){return G(u,function(c){O_(c.model)&&(ZXe(c.axisBuilder,e,c.model),c.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[ir[1-u]]=e[Xi[u]]<=a.refContainer[Xi[u]]*.5?0:1-u===1?2:1}G(t,function(u,c){return G(u,function(f){O_(f.model)&&((n==="all"||o)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:s[c]}),o&&f.axisBuilder.build({axisLine:!0}))})})}function tje(e,t,r){var n,i=e.get("outerBoundsMode",!0);i==="same"?n=t.clone():(i==null||i==="auto")&&(n=Dn(e.get("outerBounds",!0)||ise,r.refContainer));var a=e.get("outerBoundsContain",!0),o;a==null||a==="auto"||ur(["all","axisLabel"],a)<0?o="all":o=a;var s=[AT(It(e.get("outerBoundsClampWidth",!0),QT[0]),t.width),AT(It(e.get("outerBoundsClampHeight",!0),QT[1]),t.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var rje=function(e,t,r,n,i,a){var o=r.axis.dim==="x"?"y":"x";dse(e,t,r,n,i,a),Sm(e.nameLocation)||G(t.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&vse(s.labelInfoList,s.dirVec,n,i)})};function nje(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ije(r,e,t),r.seriesInvolved&&oje(r,e),r}function ije(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];G(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=z_(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",n);if(G(s.getAxes(),lr(p,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&G(v.baseAxes,lr(p,h?"cross":!0,d)),h&&G(v.otherAxes,lr(p,"cross",!1))}function p(g,m,y){var x=y.model.getModel("axisPointer",i),b=x.get("show");if(!(!b||b==="auto"&&!g&&!g4(x))){m==null&&(m=x.get("triggerTooltip")),x=g?aje(y,f,i,t,g,m):x;var w=x.get("snap"),S=x.get("triggerEmphasis"),C=z_(y.model),E=m||w||y.type==="category",A=e.axesInfo[C]={key:C,axis:y,coordSys:s,axisPointerModel:x,triggerTooltip:m,triggerEmphasis:S,involveSeries:E,snap:w,useHandle:g4(x),seriesModels:[],linkGroup:null};u[C]=A,e.seriesInvolved=e.seriesInvolved||E;var M=sje(a,y);if(M!=null){var D=o[M]||(o[M]={axesInfo:{}});D.axesInfo[C]=A,D.mapper=a[M].mapper,A.linkGroup=D}}}})}function aje(e,t,r,n,i,a){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};G(s,function(d){l[d]=Vt(o.get(d))}),l.snap=e.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&kt(u,f.textStyle)}}return e.model.getModel("axisPointer",new pr(l,r,n))}function oje(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||G(e.coordSysAxesInfo[z_(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function sje(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var a=e[i]||{};if(nL(a[n+"AxisId"],r.id)||nL(a[n+"AxisIndex"],r.componentIndex)||nL(a[n+"AxisName"],r.name))return i}}function nL(e,t){return e==="all"||We(e)&&ur(e,t)>=0||e===t}function lje(e){var t=IN(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,a=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=g4(r);a==null&&(i.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function IN(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[z_(e)]}function uje(e){var t=IN(e);return t&&t.axisPointerModel}function g4(e){return!!e.get(["handle","show"])}function z_(e){return e.type+"||"+e.id}var PU={},h0=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this.axisPointerClass&&lje(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=uje(r);o?(this._axisPointer||(this._axisPointer=new a)).render(r,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){PU[r]=n},t.getAxisPointerClass=function(r){return r&&PU[r]},t.type="axis",t})(Cn),m4=wr();function xse(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=s.length,f=m4(e).splitAreaColors,d=Rt(),h=0;if(f)for(var v=0;v<u.length;v++){var p=f.get(u[v].tickValue);if(p!=null){h=(p+(c-1)*v)%c;break}}var g=i.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=We(s)?s:[s];for(var v=1;v<u.length;v++){var y=i.toGlobalCoord(u[v].coord),x=void 0,b=void 0,w=void 0,S=void 0;i.isHorizontal()?(x=g,b=l.y,w=y-x,S=l.height,g=x+w):(x=l.x,b=g,w=l.width,S=y-b,g=b+S);var C=u[v-1].tickValue;C!=null&&d.set(C,h),t.add(new vr({anid:C!=null?"area_"+C:null,shape:{x,y:b,width:w,height:S},style:kt({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%c}m4(e).splitAreaColors=d}}}function _se(e){m4(e).splitAreaColors=null}var cje=["splitArea","splitLine","minorSplitLine","breakArea"],bse=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new $t,this.group.add(this._axisGroup),!!O_(r)){this._axisGroup.add(r.axis.axisBuilder.group),G(cje,function(l){r.get([l,"show"])&&fje[l](this,this._axisGroup,r,r.getCoordSysModel(),i)},this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;s||Cb(o,this._axisGroup,r),e.prototype.render.call(this,r,n,i,a)}},t.prototype.remove=function(){_se(this)},t.type="cartesianAxis",t})(h0),fje={splitLine:function(e,t,r,n,i){var a=r.axis;if(!a.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;l=We(l)?l:[l];for(var f=n.coordinateSystem.getRect(),d=a.isHorizontal(),h=0,v=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],g=[],m=s.getLineStyle(),y=0;y<v.length;y++){var x=a.toGlobalCoord(v[y].coord);if(!(y===0&&!u||y===v.length-1&&!c)){var b=v[y].tickValue;d?(p[0]=x,p[1]=f.y,g[0]=x,g[1]=f.y+f.height):(p[0]=f.x,p[1]=x,g[0]=f.x+f.width,g[1]=x);var w=h++%l.length,S=new Gi({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:kt({stroke:l[w]},m),silent:!0});ym(S.shape,m.lineWidth),t.add(S)}}}},minorSplitLine:function(e,t,r,n,i){var a=r.axis,o=r.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],d=[],h=s.getLineStyle(),v=0;v<c.length;v++)for(var p=0;p<c[v].length;p++){var g=a.toGlobalCoord(c[v][p].coord);u?(f[0]=g,f[1]=l.y,d[0]=g,d[1]=l.y+l.height):(f[0]=l.x,f[1]=g,d[0]=l.x+l.width,d[1]=g);var m=new Gi({anid:"minor_line_"+c[v][p].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:h,silent:!0});ym(m.shape,h.lineWidth),t.add(m)}},splitArea:function(e,t,r,n,i){xse(e,t,r,n)},breakArea:function(e,t,r,n,i){var a=Ob(),o=r.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,e,r,n.coordinateSystem.getRect(),i)}},wse=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t})(bse),dje=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=wse.type,r}return t.type="yAxis",t})(bse),hje=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new vr({shape:r.coordinateSystem.getRect(),style:kt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Cn),RU={offset:0};function Sse(e){e.registerComponentView(hje),e.registerComponentModel(wXe),e.registerCoordinateSystem("cartesian2d",qXe),Tm(e,"x",c4,RU),Tm(e,"y",c4,RU),e.registerComponentView(wse),e.registerComponentView(dje),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function vje(e,t){var r=e.coordinateSystem,n=r&&r.type,i=r&&r.getBaseAxis&&r.getBaseAxis(),a=i&&i.scale&&i.scale.type,o=n==="cartesian2d"&&a==="ordinal"||n==="single",s=t.model.get("jitter")>0;return o&&s}var pje=wr();function LU(e,t,r,n){if(e instanceof sse){var i=e.scale.type;if(i!=="category"&&i!=="ordinal")return r}var a=e.model,o=a.get("jitter"),s=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=e.scale.type==="ordinal"?e.getBandWidth():null;return o>0?s?Cse(r,o,u,n):gje(e,t,r,n,o,l):r}function Cse(e,t,r,n){if(r===null)return e+(Math.random()-.5)*t;var i=r-n*2,a=Math.min(Math.max(0,t),i);return e+(Math.random()-.5)*a}function gje(e,t,r,n,i,a){var o=pje(e);o.items||(o.items=[]);var s=o.items,l=IU(s,t,r,n,i,a,1),u=IU(s,t,r,n,i,a,-1),c=Math.abs(l-r)<Math.abs(u-r)?l:u,f=e.scale.type==="ordinal"?e.getBandWidth():null,d=Math.abs(c-r);return d>i/2||f&&d>f/2-n?Cse(r,i,f,n):(s.push({fixedCoord:t,floatCoord:c,r:n}),c)}function IU(e,t,r,n,i,a,o){for(var s=r,l=0;l<e.length;l++){var u=e[l],c=t-u.fixedCoord,f=s-u.floatCoord,d=c*c+f*f,h=n+u.r+a;if(d<h*h){var v=u.floatCoord+Math.sqrt(h*h-c*c)*o;if(Math.abs(v-r)>i/2)return Number.MAX_VALUE;if(o===1&&v>s||o===-1&&v<s){s=v,l=-1;continue}}}return s}function mje(e){e.eachSeriesByType("scatter",function(t){var r=t.coordinateSystem;if(r&&(r.type==="cartesian2d"||r.type==="single")){var n=r.getBaseAxis?r.getBaseAxis():null,i=n&&vje(t,n);if(i){var a=t.getData();a.each(function(o){var s=n.dim,l=n.orient,u=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",c=a.getItemLayout(o),f=a.getItemVisual(o,"symbolSize"),d=f instanceof Array?(f[1]+f[0])/2:f;if(s==="y"||s==="single"&&u){var h=LU(n,c[0],c[1],d/2);a.setItemLayout(o,[c[0],h])}else if(s==="x"||s==="single"&&!u){var h=LU(n,c[1],c[0],d/2);a.setItemLayout(o,[h,c[1]])}})}}})}function yje(e){Yt(Sse),e.registerSeriesModel(mXe),e.registerChartView(bXe),e.registerLayout(kb("scatter"))}function xje(e){e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,mje)}function _je(e){e.eachSeriesByType("radar",function(t){var r=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();G(a,function(o,s){r.each(r.mapDimension(a[s].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,s);n[u][s]=kU(c)?c:OU(i)})}),r.each(function(o){var s=o0(n[o],function(l){return kU(l)})||OU(i);n[o].push(s.slice()),r.setItemLayout(o,n[o])})}})}function kU(e){return!isNaN(e[0])&&!isNaN(e[1])}function OU(e){return[e.cx,e.cy]}function bje(e){var t=e.polar;if(t){We(t)||(t=[t]);var r=[];G(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],We(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):r.push(n)}),e.polar=r}G(e.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var wje=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.coordinateSystem,o=this.group,s=r.getData(),l=this._data;function u(d,h){var v=d.getItemVisual(h,"symbol")||"circle";if(v!=="none"){var p=uy(d.getItemVisual(h,"symbolSize")),g=Pi(v,-1,-1,2,2),m=d.getItemVisual(h,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:m*Math.PI/180||0}),g}}function c(d,h,v,p,g,m){v.removeAll();for(var y=0;y<h.length-1;y++){var x=u(p,g);x&&(x.__dimIdx=y,d[y]?(x.setPosition(d[y]),l0[m?"initProps":"updateProps"](x,{x:h[y][0],y:h[y][1]},r,g)):x.setPosition(h[y]),v.add(x))}}function f(d){return Ye(d,function(h){return[a.cx,a.cy]})}s.diff(l).add(function(d){var h=s.getItemLayout(d);if(h){var v=new Ao,p=new no,g={shape:{points:h}};v.shape.points=f(h),p.shape.points=f(h),Hn(v,g,r,d),Hn(p,g,r,d);var m=new $t,y=new $t;m.add(p),m.add(v),m.add(y),c(p.shape.points,h,y,s,d,!0),s.setItemGraphicEl(d,m)}}).update(function(d,h){var v=l.getItemGraphicEl(h),p=v.childAt(0),g=v.childAt(1),m=v.childAt(2),y={shape:{points:s.getItemLayout(d)}};y.shape.points&&(c(p.shape.points,y.shape.points,m,s,d,!1),Vl(g),Vl(p),Wr(p,y,r),Wr(g,y,r),s.setItemGraphicEl(d,v))}).remove(function(d){o.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,h){var v=s.getItemModel(h),p=d.childAt(0),g=d.childAt(1),m=d.childAt(2),y=s.getItemVisual(h,"style"),x=y.fill;o.add(d),p.useStyle(kt(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:x})),la(p,v,"lineStyle"),la(g,v,"areaStyle");var b=v.getModel("areaStyle"),w=b.isEmpty()&&b.parentModel.isEmpty();g.ignore=w,G(["emphasis","select","blur"],function(C){var E=v.getModel([C,"areaStyle"]),A=E.isEmpty()&&E.parentModel.isEmpty();g.ensureState(C).ignore=A&&w;var M=v.getModel([C,"lineStyle"]).getLineStyle();p.ensureState(C).style=M;var D=E.getAreaStyle();g.ensureState(C).style=D;var R=v.getModel([C,"itemStyle"]).getItemStyle();m.eachChild(function(L){L.ensureState(C).style=Vt(R)})}),g.useStyle(kt(v.getModel("areaStyle").getAreaStyle(),{fill:x,opacity:.7,decal:y.decal}));var S=v.getModel("emphasis");m.eachChild(function(C){if(C instanceof Ra){var E=C.style;C.useStyle(He({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},y))}else C.useStyle(y),C.setColor(x),C.style.strokeNoScale=!0;var A=s.getStore().get(s.getDimensionIndex(C.__dimIdx),h);(A==null||isNaN(A))&&(A=""),Da(C,ua(v),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:C.__dimIdx,defaultText:A,inheritColor:x,defaultOpacity:y.opacity})}),Wn(d,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t})(zr),Sje=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new py(mt(this.getData,this),mt(this.getRawData,this))},t.prototype.getInitialData=function(r,n){return vy(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(r),u=l===""?this.name:l,c=iae(this,r);return ji("section",{header:u,sortBlocks:!0,blocks:Ye(s,function(f){var d=a.get(a.mapDimension(f.dim),r);return ji("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},t.prototype.getTooltipPosition=function(r){if(r!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Ye(i.dimensions,function(u){return n.mapDimension(u)}),r),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t})(Xr),d1=ose.value;function l2(e,t){return kt({show:t},e)}var Cje=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=Ye(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var p=l;v.color!=null&&(p=kt({color:v.color},l));var g=Et(Vt(v),{boundaryGap:r,splitNumber:n,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:v.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:p,triggerEvent:d},!1);if(pt(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else Ht(c)&&(g.name=c(g.name,g));var y=new pr(g,null,this.ecModel);return Ii(y,dy.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:De.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Et({lineStyle:{color:De.color.neutral20}},d1.axisLine),axisLabel:l2(d1.axisLabel,!1),axisTick:l2(d1.axisTick,!1),splitLine:l2(d1.splitLine,!0),splitArea:l2(d1.splitArea,!0),indicator:[]},t})(dr),Tje=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group;a.removeAll(),this._buildAxes(r,i),this._buildSplitLineAndArea(r)},t.prototype._buildAxes=function(r,n){var i=r.coordinateSystem,a=i.getIndicatorAxes(),o=Ye(a,function(s){var l=s.model.get("showName")?s.name:"",u=new jo(s.model,n,{axisName:l,position:[i.cx,i.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});G(o,function(s){s.build(),this.group.add(s.group)},this)},t.prototype._buildSplitLineAndArea=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=r.get("shape"),o=r.getModel("splitLine"),s=r.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),d=l.get("color"),h=u.get("color"),v=We(d)?d:[d],p=We(h)?h:[h],g=[],m=[];function y(O,F,H){var V=H%F.length;return O[V]=O[V]||[],V}if(a==="circle")for(var x=i[0].getTicksCoords(),b=n.cx,w=n.cy,S=0;S<x.length;S++){if(c){var C=y(g,v,S);g[C].push(new ed({shape:{cx:b,cy:w,r:x[S].coord}}))}if(f&&S<x.length-1){var C=y(m,p,S);m[C].push(new wb({shape:{cx:b,cy:w,r0:x[S].coord,r:x[S+1].coord}}))}}else for(var E,A=Ye(i,function(O,F){var H=O.getTicksCoords();return E=E==null?H.length-1:Math.min(H.length-1,E),Ye(H,function(V){return n.coordToPoint(V.coord,F)})}),M=[],S=0;S<=E;S++){for(var D=[],R=0;R<i.length;R++)D.push(A[R][S]);if(D[0]&&D.push(D[0].slice()),c){var C=y(g,v,S);g[C].push(new no({shape:{points:D}}))}if(f&&M){var C=y(m,p,S-1);m[C].push(new Ao({shape:{points:D.concat(M)}}))}M=D.slice().reverse()}var L=l.getLineStyle(),k=u.getAreaStyle();G(m,function(O,F){this.group.add(Tl(O,{style:kt({stroke:"none",fill:p[F%p.length]},k),silent:!0}))},this),G(g,function(O,F){this.group.add(Tl(O,{style:kt({fill:"none",stroke:v[F%v.length]},L),silent:!0}))},this)},t.type="radar",t})(Cn),Aje=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t})(es),Eje=(function(){function e(t,r,n){this.dimensions=[],this._model=t,this._indicatorAxes=Ye(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new Aje(o,new $f);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,r){var n=this._indicatorAxes[r];return this.coordToPoint(n.dataToCoord(t),r)},e.prototype.coordToPoint=function(t,r){var n=this._indicatorAxes[r],i=n.angle,a=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[a,o]},e.prototype.pointToData=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(r*r+n*n);r/=i,n/=i;for(var a=Math.atan2(-n,r),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(i))]},e.prototype.resize=function(t,r){var n=ca(t,r).refContainer,i=t.get("center"),a=Math.min(n.width,n.height)/2;this.cx=ft(i[0],n.width)+n.x,this.cy=ft(i[1],n.height)+n.y,this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(pt(o)||Br(o))&&(o=[0,o]),this.r0=ft(o[0],a),this.r=ft(o[1],a),G(this._indicatorAxes,function(s,l){s.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},e.prototype.update=function(t,r){var n=this._indicatorAxes,i=this._model;G(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();G(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),o=new $f;o.setExtent(0,a),o.setInterval(1),G(n,function(s,l){mse(s.scale,s.model,o)})},e.prototype.convertToPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,r){var n=[];return t.eachComponent("radar",function(i){var a=new e(i,t,r);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},e.dimensions=[],e})();function Mje(e){e.registerCoordinateSystem("radar",Eje),e.registerComponentModel(Cje),e.registerComponentView(Tje),e.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(n){r.setItemVisual(n,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function Dje(e){Yt(Mje),e.registerChartView(wje),e.registerSeriesModel(Sje),e.registerLayout(_je),e.registerProcessor(hy("radar")),e.registerPreprocessor(bje)}var kN=wr();function Pje(e,t,r){kN(e)[t]=r}function Rje(e,t,r){var n=kN(e),i=n[t];i===r&&(n[t]=null)}function FU(e,t){return!!kN(e)[t]}Hc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ei);var Lje={axisPointer:1,tooltip:1,brush:1};function Tse(e,t,r){var n=t.getComponentByElement(e.topTarget);if(!n||n===r||Lje.hasOwnProperty(n.mainType))return!1;var i=n.coordinateSystem;if(!i||i.model===r)return!1;var a=kp(n),o=kp(r);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var v0=(function(e){Ae(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var i=mt(n._mousedownHandler,n),a=mt(n._mousemoveHandler,n),o=mt(n._mouseupHandler,n),s=mt(n._mousewheelHandler,n),l=mt(n._pinchHandler,n);return n.enable=function(u,c){var f=c.zInfo,d=kp(f.component),h=d.z,v=d.zlevel,p={component:f.component,z:h,zlevel:v,z2:It(f.z2,-1/0)},g=He({},c.triggerInfo);this._opt=kt(He({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:p,triggerInfo:g}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(v1(r,"mousedown",i,p),v1(r,"mousemove",a,p),v1(r,"mouseup",o,p)),(u===!0||u==="scale"||u==="zoom")&&(v1(r,"mousewheel",s,p),v1(r,"pinch",l,p)))},n.disable=function(){this._enabled=!1,p1(r,"mousedown",i),p1(r,"mousemove",a),p1(r,"mouseup",o),p1(r,"mousewheel",s),p1(r,"pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(r,n,i){var a=this._opt,o=a.zInfoParsed;if(Tse(r,a.api,o.component))return!1;var s=a.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(r,n,i)),u&&s.isInClip&&!s.isInClip(r,n,i)&&(u=!1),u},t.prototype._decideCursorStyle=function(r,n,i,a){var o=r.target;if(!o&&this._checkPointer(r,n,i))return"grab";if(a)return o&&o.cursor||"default"},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!(eV(r)||h1(r))){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,a=r.offsetY;this._checkPointer(r,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){var n=this._zr;if(!(r.gestureEvent==="pinch"||FU(n,"globalPan")||h1(r))){var i=r.offsetX,a=r.offsetY;if(!this._dragging||!wC("moveOnMouseMove",r,this._opt)){var o=this._decideCursorStyle(r,i,a,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var s=this._x,l=this._y,u=i-s,c=a-l;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&Ff(r.event),r.__ecRoamConsumed=!0,NU(this,"pan","moveOnMouseMove",r,{dx:u,dy:c,oldX:s,oldY:l,newX:i,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){if(!h1(r)){var n=this._zr;if(!eV(r)){this._dragging=!1;var i=this._decideCursorStyle(r,r.offsetX,r.offsetY,!0);i&&n.setCursorStyle(i)}}},t.prototype._mousewheelHandler=function(r){if(!h1(r)){var n=wC("zoomOnMouseWheel",r,this._opt),i=wC("moveOnMouseWheel",r,this._opt),a=r.wheelDelta,o=Math.abs(a),s=r.offsetX,l=r.offsetY;if(!(a===0||!n&&!i)){if(n){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",r,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),d=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(r){if(!(FU(this._zr,"globalPan")||h1(r))){var n=r.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(r,n,i,a,o){r._checkPointer(a,o.originX,o.originY)&&(Ff(a.event),a.__ecRoamConsumed=!0,NU(r,n,i,a,o))},t})(Gl);function h1(e){return e.__ecRoamConsumed}var Ije=wr();function iM(e){var t=Ije(e);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function v1(e,t,r,n){for(var i=iM(e),a=i.roam,o=a[t]=a[t]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}o.splice(s,0,{listener:r,zInfoParsed:n}),kje(e,t)}function p1(e,t,r){for(var n=iM(e),i=n.roam[t]||[],a=0;a<i.length;a++)if(i[a].listener===r){i.splice(a,1),i.length||Oje(e,t);return}}function kje(e,t){var r=iM(e);r.uniform[t]||e.on(t,r.uniform[t]=function(n){var i=r.roam[t];if(i)for(var a=0;a<i.length;a++)i[a].listener(n)})}function Oje(e,t){var r=iM(e),n=r.uniform;n[t]&&(e.off(t,n[t]),n[t]=null)}function NU(e,t,r,n,i){i.isAvailableBehavior=mt(wC,null,r,n),e.trigger(t,i)}function wC(e,t,r){var n=r[e];return!e||n&&(!pt(n)||t.event[n+"Key"])}function ON(e,t,r){var n=e.target;n.x+=t,n.y+=r,n.dirty()}function FN(e,t,r,n){var i=e.target,a=e.zoomLimit,o=e.zoom=e.zoom||1;o*=t,o=NN(o,a);var s=o/e.zoom;e.zoom=o,Ese(i,r,n,s),i.dirty()}function Ase(e,t,r,n,i,a){var o=new jt(0,0,0,0);n.enable(e.get("roam"),{api:t,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(u,c,f){return o.copy(r.getBoundingRect()),o.applyTransform(r.getComputedTransform()),o.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),i.zoomLimit=e.get("scaleLimit");var s=e.coordinateSystem;i.zoom=s?s.getZoom():1;var l=e.subType+"Roam";n.off("pan").off("zoom").on("pan",function(u){ON(i,u.dx,u.dy),t.dispatchAction({seriesId:e.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){FN(i,u.scale,u.originX,u.originY),t.dispatchAction({seriesId:e.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),t.updateLabelLayout()})}function BU(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function aM(e,t,r){var n=e.getZoom(),i=e.getCenter(),a=t.zoom,o=e.projectedToPoint?e.projectedToPoint(i):e.dataToPoint(i);return t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(BU(e,o))),a!=null&&(a=NN(n*a,r)/n,Ese(e,t.originX,t.originY,a),e.updateTransform(),e.setCenter(BU(e,o)),e.setZoom(a*n)),{center:e.getCenter(),zoom:e.getZoom()}}function Ese(e,t,r,n){e.x-=(t-e.x)*(n-1),e.y-=(r-e.y)*(n-1),e.scaleX*=n,e.scaleY*=n}function NN(e,t){if(t){var r=t.min||0,n=t.max||1/0;e=Math.max(Math.min(n,e),r)}return e}function Mse(e){if(pt(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var r=e;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var iL,tA={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},zU=Lr(tA),rA={"alignment-baseline":"textBaseline","stop-color":"stopColor"},HU=Lr(rA),Fje=(function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,r){r=r||{};var n=Mse(t);this._defsUsePending=[];var i=new $t;this._root=i;var a=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Ds(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;zje(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var d=oM(o);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=Pse(c,{x:0,y:0,width:s,height:l}),!r.ignoreViewBox)){var h=i;i=new $t,i.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!r.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new vr({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},e.prototype._parseNode=function(t,r,n,i,a,o){var s=t.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=r;else{if(!a){var c=iL[s];if(c&&St(iL,s)){l=c.call(this,t,r);var f=t.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};n.push(d),s==="g"&&(u=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});r.add(l)}}var h=VU[s];if(h&&St(VU,s)){var v=h.call(this,t),p=t.getAttribute("id");p&&(this._defs[p]=v)}}if(l&&l.isGroup)for(var g=t.firstChild;g;)g.nodeType===1?this._parseNode(g,l,n,u,a,o):g.nodeType===3&&o&&this._parseText(g,l),g=g.nextSibling},e.prototype._parseText=function(t,r){var n=new mm({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),Nje(n,r);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=n.getBoundingRect();return this._textX+=s.width,r.add(n),n},e.internalField=(function(){iL={g:function(t,r){var n=new $t;return ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),n},rect:function(t,r){var n=new vr;return ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,r){var n=new ed;return ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,r){var n=new Gi;return ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,r){var n=new $E;return ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,r){var n=t.getAttribute("points"),i;n&&(i=UU(n));var a=new Ao({shape:{points:i||[]},silent:!0});return ul(r,a),Ds(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,r){var n=t.getAttribute("points"),i;n&&(i=UU(n));var a=new no({shape:{points:i||[]},silent:!0});return ul(r,a),Ds(t,a,this._defsUsePending,!1,!1),a},image:function(t,r){var n=new Ra;return ul(r,n),Ds(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,r){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new $t;return ul(r,s),Ds(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,r){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new $t;return ul(r,s),Ds(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(t,r){var n=t.getAttribute("d")||"",i=Une(n);return ul(r,i),Ds(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),e})(),VU={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),r=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),a=new ry(t,r,n,i);return $U(e,a),GU(e,a),a},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),r=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),i=new Yne(t,r,n);return $U(e,i),GU(e,i),i}};function $U(e,t){var r=e.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(t.global=!0)}function GU(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};Dse(r,a,a);var o=a.stopColor||r.getAttribute("stop-color")||"#000000",s=a.stopOpacity||r.getAttribute("stop-opacity");if(s){var l=_o(o),u=l&&l[3];u&&(l[3]*=sh(s),o=xc(l,"rgba"))}t.colorStops.push({offset:i,color:o})}r=r.nextSibling}}function ul(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),kt(t.__inheritedStyle,e.__inheritedStyle))}function UU(e){for(var t=oM(e),r=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);r.push([i,a])}return r}function Ds(e,t,r,n,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};e.nodeType===1&&($je(e,t),Dse(e,o,s),n||Gje(e,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=WU(a,"fill",o.fill,r)),o.stroke!=null&&(a.style.stroke=WU(a,"stroke",o.stroke,r)),G(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),G(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=Ye(oM(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function Nje(e,t){var r=t.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),e.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),e.style.textAlign=s)}}var Bje=/^url\(\s*#(.*?)\)/;function WU(e,t,r,n){var i=r&&r.match(Bje);if(i){var a=El(i[1]);n.push([e,t,a]);return}return r==="none"&&(r=null),r}function zje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n[0].style[n[1]]=e[n[2]]}}var Hje=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function oM(e){return e.match(Hje)||[]}var Vje=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,aL=Math.PI/180;function $je(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(Vje,function(f,d,h){return n.push(d,h),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],s=n[a-1],l=oM(o);switch(i=i||$a(),s){case"translate":Dc(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":pF(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Lh(i,i,-parseFloat(l[0])*aL,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*aL);yc(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*aL);yc(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var XU=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Dse(e,t,r){var n=e.getAttribute("style");if(n){XU.lastIndex=0;for(var i;(i=XU.exec(n))!=null;){var a=i[1],o=St(tA,a)?tA[a]:null;o&&(t[o]=i[2]);var s=St(rA,a)?rA[a]:null;s&&(r[s]=i[2])}}}function Gje(e,t,r){for(var n=0;n<zU.length;n++){var i=zU[n],a=e.getAttribute(i);a!=null&&(t[tA[i]]=a)}for(var n=0;n<HU.length;n++){var i=HU[n],a=e.getAttribute(i);a!=null&&(r[rA[i]]=a)}}function Pse(e,t){var r=t.width/e.width,n=t.height/e.height,i=Math.min(r,n);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function Uje(e,t){var r=new Fje;return r.parse(e,t)}var Wje=Rt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Xje=(function(){function e(t,r){this.type="geoSVG",this._usedGraphicMap=Rt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Mse(r)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=Yje(t.named),n=r.regions,i=r.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var r,n;try{r=t&&Uje(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=r.root,Co(n!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new $t;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=r.width,o=r.height,s=r.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,d=o):s&&(c=s.y,d=s.height),u==null||c==null){var h=n.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new jt(u,c,f,d)}if(s){var v=Pse(s,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}i.setClipPath(new vr({shape:l.plain()}));var p=[];return G(r.named,function(g){Wje.get(g.svgNodeTagLower)!=null&&(p.push(g),jje(g.el))}),{root:i,boundingRect:l,named:p}},e.prototype.useGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(t,n),n)},e.prototype.freeGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);n&&(r.removeKey(t),this._freedGraphics.push(n))},e})();function jje(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function Yje(e){var t=[],r=Rt();return G(e,function(n){if(n.namedFrom==null){var i=new hUe(n.name,n.el);t.push(i),r.set(n.name,i)}}),{regions:t,regionsMap:r}}var y4=[126,25],jU="南海诸岛",Ov=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Tv=0;Tv<Ov.length;Tv++)for(var tg=0;tg<Ov[Tv].length;tg++)Ov[Tv][tg][0]/=10.5,Ov[Tv][tg][1]/=-10.5/.75,Ov[Tv][tg][0]+=y4[0],Ov[Tv][tg][1]+=y4[1];function Kje(e,t){if(e==="china"){for(var r=0;r<t.length;r++)if(t[r].name===jU)return;t.push(new coe(jU,Ye(Ov,function(n){return{type:"polygon",exterior:n}}),y4))}}var Zje={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function Rse(e,t){if(e==="china"){var r=Zje[t.name];if(r){var n=t.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),t.setCenter(n)}}}var qje=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Jje(e,t){e==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:qje[0]})}var Qje="name",eYe=(function(){function e(t,r,n){this.type="geoJSON",this._parsedMap=Rt(),this._mapName=t,this._specialAreas=n,this._geoJSON=rYe(r)}return e.prototype.load=function(t,r){r=r||Qje;var n=this._parsedMap.get(r);if(!n){var i=this._parseToRegions(r);n=this._parsedMap.set(r,{regions:i,boundingRect:tYe(i)})}var a=Rt(),o=[];return G(n.regions,function(s){var l=s.name;t&&St(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:n.boundingRect||new jt(0,0,0,0),regionsMap:a}},e.prototype._parseToRegions=function(t){var r=this._mapName,n=this._geoJSON,i;try{i=n?t4(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return Kje(r,i),G(i,function(a){var o=a.name;Rse(r,a),Jje(r,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e})();function tYe(e){for(var t,r=0;r<e.length;r++){var n=e[r].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function rYe(e){return pt(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var g1=Rt();const Gf={registerMap:function(e,t,r){if(t.svg){var n=new Xje(e,t.svg);g1.set(e,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?r=t.specialAreas:i=t;var n=new eYe(e,i,r);g1.set(e,n)}},getGeoResource:function(e){return g1.get(e)},getMapForUser:function(e){var t=g1.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,r){var n=g1.get(e);if(n)return n.load(t,r)}};var BN=["rect","circle","line","ellipse","polygon","polyline","path"],nYe=Rt(BN),iYe=Rt(BN.concat(["g"])),aYe=Rt(BN.concat(["g"])),Lse=wr();function u2(e){var t=e.getItemStyle(),r=e.get("areaColor");return r!=null&&(t.fill=r),t}function YU(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Ise=(function(){function e(t){var r=this.group=new $t,n=this._transformGroup=new $t;r.add(n),this.uid=ay("ec_map_draw"),this._controller=new v0(t.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new $t),n.add(this._svgGroup=new $t)}return e.prototype.draw=function(t,r,n,i,a){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&r.eachComponent({mainType:"series",subType:"map"},function(x){!s&&x.getHostGeoModel()===t&&(s=x.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),d=f.raw,h=f.roam,v=!u.childAt(0)||a,p=t.getShallow("clip",!0),g;p?(g=l.getViewRect().clone(),this.group.setClipPath(new vr({shape:g.clone()}))):this.group.removeClipPath(),v?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):Wr(c,h,t);var m=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,y={api:n,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:m,isGeo:o,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(y):l.resourceType==="geoSVG"&&this._buildSVG(y),this._updateController(t,g,r,n),this._updateMapSelectHandler(t,u,n,i)},e.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=Rt(),n=Rt(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(h,v){return v&&(h=v(h)),h&&[h[0]*a.scaleX+a.x,h[1]*a.scaleY+a.y]}function f(h){for(var v=[],p=!u&&l&&l.project,g=0;g<h.length;++g){var m=c(h[g],p);m&&v.push(m)}return v}function d(h){return{shape:{points:f(h)}}}i.removeAll(),G(t.geo.regions,function(h){var v=h.name,p=r.get(v),g=n.get(v)||{},m=g.dataIdx,y=g.regionModel;if(!p){p=r.set(v,new $t),i.add(p),m=s?s.indexOfName(v):null,y=t.isGeo?o.getRegionModel(v):s?s.getItemModel(m):null;var x=y.get("silent",!0);x!=null&&(p.silent=x),n.set(v,{dataIdx:m,regionModel:y})}var b=[],w=[];G(h.geometries,function(E){if(E.type==="polygon"){var A=[E.exterior].concat(E.interiors||[]);u&&(A=eW(A,u)),G(A,function(D){b.push(new Ao(d(D)))})}else{var M=E.points;u&&(M=eW(M,u,!0)),G(M,function(D){w.push(new no(d(D)))})}});var S=c(h.getCenter(),l&&l.project);function C(E,A){if(E.length){var M=new UE({culling:!0,segmentIgnoreThreshold:1,shape:{paths:E}});p.add(M),KU(t,M,m,y),ZU(t,M,v,y,o,m,S),A&&(YU(M),G(M.states,YU))}}C(b),C(w,!0)}),r.each(function(h,v){var p=n.get(v),g=p.dataIdx,m=p.regionModel;qU(t,h,v,m,o,g),JU(t,h,v,m,o),QU(t,h,v,m,o)},this)},e.prototype._buildSVG=function(t){var r=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var i=this._svgDispatcherMap=Rt(),a=!1;G(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,f=o.el,d=u?u.indexOfName(s):null,h=l.getRegionModel(s);nYe.get(c)!=null&&f instanceof Hl&&KU(t,f,d,h),f instanceof Hl&&(f.culling=!0);var v=h.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!o.namedFrom&&(aYe.get(c)!=null&&ZU(t,f,s,h,l,d,null),qU(t,f,s,h,l,d),JU(t,f,s,h,l),iYe.get(c)!=null)){var p=QU(t,f,s,h,l);p==="self"&&(a=!0);var g=i.get(s)||i.set(s,[]);g.push(f)}},this),this._enableBlurEntireSVG(a,t)},e.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var n=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Lp(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,r){if(t==null)return[];var n=r.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var r=Gf.getGeoResource(t);if(r&&r.type==="geoSVG"){var n=r.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var r=Gf.getGeoResource(t);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,r,n,i){var a=t.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=a.getZoom(),o.enable(t.get("roam")||!1,{api:i,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(c,f,d){return a.containPoint([f,d])},isInClip:function(c,f,d){return!r||r.contain(f,d)}}});var l=t.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=t.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,ON(s,c.dx,c.dy),i.dispatchAction(He(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,FN(s,c.scale,c.originX,c.originY),i.dispatchAction(He(u(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=Lse(r).ignore)})},e.prototype._updateMapSelectHandler=function(t,r,n,i){var a=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){a._mouseDownFlag=!0}),r.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},e})();function KU(e,t,r,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=u2(i),u=u2(a),c=u2(s),f=u2(o),d=e.data;if(d){var h=d.getItemVisual(r,"style"),v=d.getItemVisual(r,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),v&&(l.decal=_m(v,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,Lp(t)}function ZU(e,t,r,n,i,a,o){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?r:a,d=void 0;(!s||a>=0)&&(d=i);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Da(t,ua(n),{labelFetcher:d,labelDataIndex:f,defaultText:r},h);var v=t.getTextContent();if(v&&(Lse(v).ignore=v.ignore,t.textConfig&&o)){var p=t.getBoundingRect().clone();t.textConfig.layoutRect=p,t.textConfig.position=[(o[0]-p.x)/p.width*100+"%",(o[1]-p.y)/p.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function qU(e,t,r,n,i,a){e.data?e.data.setItemGraphicEl(a,t):qt(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:r,region:n&&n.option||{}}}function JU(e,t,r,n,i){e.data||td({el:t,componentModel:i,itemName:r,itemTooltipOption:n.get("tooltip")})}function QU(e,t,r,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return Wn(t,o,a.get("blurScope"),a.get("disabled")),e.isGeo&&x7e(t,i,r),o}function eW(e,t,r){var n=[],i;function a(){i=[]}function o(){i.length&&(n.push(i),i=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!r&&s.polygonStart(),G(e,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!r&&s.polygonEnd(),n}var oYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===r.id){var s=this._mapDraw;s&&o.add(s.group)}else if(r.needsDrawMap){var s=this._mapDraw||new Ise(i);o.add(s.group),s.draw(r,n,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(r,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(r,n,i){var a=r.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new ed({style:{fill:r.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:ty+1)});if(!f){var h=r.mainSeries.getData(),v=a.getName(l),p=h.indexOfName(v),g=a.getItemModel(l),m=g.getModel("label"),y=h.getItemGraphicEl(p);Da(d,ua(g),{labelFetcher:{getFormattedLabel:function(x,b){return r.getFormattedLabel(p,b)}},defaultText:v}),d.disableLabelAnimation=!0,m.get("position")||d.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(x){PT(d,x)}}o.add(d)}}})},t.type="map",t})(zr),sYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},r}return t.prototype.getInitialData=function(r){for(var n=vy(this,{coordDimensions:["value"],encodeDefaulter:lr(KF,this)}),i=Rt(),a=[],o=0,s=n.count();o<s;o++){var l=n.getName(o);i.set(l,o)}var u=Gf.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return G(u.regions,function(c){var f=c.name,d=i.get(f),h=c.properties&&c.properties.echartsStyle,v;d==null?(v={name:f},a.push(v)):v=n.getRawDataItem(d),h&&Et(v,h)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){if(bie(this).kind!==sc.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(r){var n=this.getData();return n.get(n.mapDimension("value"),r)},t.prototype.getRegionModel=function(r){var n=this.getData();return n.getItemModel(n.indexOfName(r))},t.prototype.formatTooltip=function(r,n,i){for(var a=this.getData(),o=this.getRawValue(r),s=a.getName(r),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=a.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return ji("section",{header:u.join(", "),noHeader:!u.length,blocks:[ji("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.getLegendIcon=function(r){var n=r.icon||"roundRect",i=Pi(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return i.setStyle(r.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=De.color.neutral00,i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:De.color.tertiary},itemStyle:{borderWidth:.5,borderColor:De.color.border,areaColor:De.color.background},emphasis:{label:{show:!0,color:De.color.primary},itemStyle:{areaColor:De.color.highlight}},select:{label:{show:!0,color:De.color.primary},itemStyle:{color:De.color.highlight}},nameProperty:"name"},t})(Xr);function lYe(e,t){var r={};return G(e,function(n){n.each(n.mapDimension("value"),function(i,a){var o="ec-"+n.getName(a);r[o]=r[o]||[],isNaN(i)||r[o].push(i)})}),e[0].map(e[0].mapDimension("value"),function(n,i){for(var a="ec-"+e[0].getName(i),o=0,s=1/0,l=-1/0,u=r[a].length,c=0;c<u;c++)s=Math.min(s,r[a][c]),l=Math.max(l,r[a][c]),o+=r[a][c];var f;return t==="min"?f=s:t==="max"?f=l:t==="average"?f=o/u:f=o,u===0?NaN:f})}function uYe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getHostGeoModel(),i=n?"o"+n.id:"i"+r.getMapType();(t[i]=t[i]||[]).push(r)}),G(t,function(r,n){for(var i=lYe(Ye(r,function(o){return o.getData()}),r[0].get("mapValueCalculation")),a=0;a<r.length;a++)r[a].originalData=r[a].getData();for(var a=0;a<r.length;a++)r[a].seriesGroup=r,r[a].needsDrawMap=a===0&&!r[a].getHostGeoModel(),r[a].setData(i.cloneShallow()),r[a].mainSeries=r[0]})}function cYe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getMapType();if(!(r.getHostGeoModel()||t[n])){var i={};G(r.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var h=i[f]||0,v=s.dataToPoint(d.getCenter());i[f]=h+1,l.setItemLayout(c,{point:v,offset:h})}})});var a=r.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!i[s],a.setItemLayout(o,l)}),t[n]=!0}})}var tW=Mi,p0=(function(e){Ae(t,e);function t(r,n){var i=e.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new xf,i._rawTransformable=new xf,i.name=r,i._opt=n,i}return t.prototype.setBoundingRect=function(r,n,i,a){return this._rect=new jt(r,n,i,a),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(r,n,i,a){this._transformTo(r,n,i,a),this._viewRect=new jt(r,n,i,a)},t.prototype._transformTo=function(r,n,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new jt(r,n,i,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(r){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&r&&(r=[ft(r[0],n.api.getWidth()),ft(r[1],n.api.getWidth())]),this._centerOption=Vt(r),this._updateCenterAndZoom()},t.prototype.setZoom=function(r){this._zoom=NN(r||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,i=r.y+r.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var r=this._centerOption,n=this._rect;r&&n&&(this._center=[ft(r[0],n.width,n.x),ft(r[1],n.height,n.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=Mi([],s,i),o=Mi([],o,i),a.originX=s[0],a.originY=s[1],a.x=o[0]-s[0],a.y=o[1]-s[1],a.scaleX=a.scaleY=l,this._updateTransform()},t.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),PE(this.transform||(this.transform=[]),n.transform||$a()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Tu(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,i=new xf;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},t.prototype.dataToPoint=function(r,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?tW(i,r,a):No(i,r)},t.prototype.pointToData=function(r,n,i){i=i||[];var a=this.invTransform;return a?tW(i,r,a):(i[0]=r[0],i[1]=r[1],i)},t.prototype.convertToPixel=function(r,n,i){var a=rW(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var a=rW(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},t.dimensions=["x","y"],t})(xf);function rW(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var fYe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},kse=["lng","lat"],x4=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this,r,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=kse,a.type="geo",a._nameCoordMap=Rt(),a.map=n;var o=i.projection,s=Gf.load(n,i.nameMap,i.nameProperty),l=Gf.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=fYe[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(o);f=f||h.clone(),f.union(h)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:It(i.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return t.prototype._transformTo=function(r,n,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new jt(r,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(r){return this._regionsMap.get(r)},t.prototype.getRegionByCoord=function(r){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(r))return n[i]}},t.prototype.addGeoCoord=function(r,n){this._nameCoordMap.set(r,n)},t.prototype.getGeoCoord=function(r){var n=this._regionsMap.get(r);return this._nameCoordMap.get(r)||n&&n.getCenter()},t.prototype.dataToPoint=function(r,n,i){if(pt(r)&&(r=this.getGeoCoord(r)),r){var a=this.projection;return a&&(r=a.project(r)),r&&this.projectedToPoint(r,n,i)}},t.prototype.pointToData=function(r,n,i){var a=this.projection;return a&&(r=a.unproject(r)),r&&this.pointToProjected(r,i)},t.prototype.pointToProjected=function(r,n){return e.prototype.pointToData.call(this,r,0,n)},t.prototype.projectedToPoint=function(r,n,i){return e.prototype.dataToPoint.call(this,r,n,i)},t.prototype.convertToPixel=function(r,n,i){var a=nW(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var a=nW(n);return a===this?a.pointToData(i):null},t})(p0);Ii(x4,p0);function nW(e){var t=e.geoModel,r=e.seriesModel;return t?t.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",fi).models[0]||{}).coordinateSystem:null}function iW(e,t){var r=e.get("boundingCoords");if(r!=null){var n=r[0],i=r[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=n[0],s=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(w,S,C,E){for(var A=C-w,M=E-S,D=0;D<=100;D++){var R=D/100,L=a.project([w+A*R,S+M*R]);Yd(n,n,L),Kd(i,i,L)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var f=this.getBoundingRect(),d=e.get("layoutCenter"),h=e.get("layoutSize"),v=ca(e,t).refContainer,p=f.width/f.height*this.aspectScale,g=!1,m,y;d&&h&&(m=[ft(d[0],v.width)+v.x,ft(d[1],v.height)+v.y],y=ft(h,Math.min(v.width,v.height)),!isNaN(m[0])&&!isNaN(m[1])&&!isNaN(y)&&(g=!0));var x;if(g)x={},p>1?(x.width=y,x.height=y/p):(x.height=y,x.width=y*p),x.y=m[1]-x.height/2,x.x=m[0]-x.width/2;else{var b=e.getBoxLayoutParams();b.aspect=p,x=Dn(b,v),x=Aie(e,x,p)}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function dYe(e,t){G(t.get("geoCoord"),function(r,n){e.addGeoCoord(n,r)})}var hYe=(function(){function e(){this.dimensions=kse}return e.prototype.create=function(t,r){var n=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new x4(l+s,l,He({nameMap:o.get("nameMap"),api:r,ecModel:t},i(o)));u.zoomLimit=o.get("scaleLimit"),n.push(u),o.coordinateSystem=u,u.model=o,u.resize=iW,u.resize(o,r)}),t.eachSeries(function(o){Eb({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var s=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",fi).models[0];return s&&s.coordinateSystem},allowNotFound:!0})});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),G(a,function(o,s){var l=Ye(o,function(c){return c.get("nameMap")}),u=new x4(s,s,He({nameMap:cF(l),api:r,ecModel:t},i(o[0])));u.zoomLimit=Qa.apply(null,Ye(o,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=iW,u.resize(o[0],r),G(o,function(c){c.coordinateSystem=u,dYe(u,c)})}),n},e.prototype.getFilledRegions=function(t,r,n,i){for(var a=(t||[]).slice(),o=Rt(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=Gf.load(r,n,i);return G(l.regions,function(u){var c=u.name,f=o.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),d&&Et(f,d)}),a},e})(),Ose=new hYe,vYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i);var a=Gf.getGeoResource(r.map);if(a&&a.type==="geoJSON"){var o=r.itemStyle=r.itemStyle||{};"color"in o||(o.color=r.defaultItemStyleColor||De.color.backgroundTint)}Dp(r,"label",["show"])},t.prototype.optionUpdated=function(){var r=this,n=this.option;n.regions=Ose.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Cu(n.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new pr(o,r,r.ecModel)),o.selected&&(i[s]=!0)),a},Rt()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new pr(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(r,n){var i=this.getRegionModel(r),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:r};if(Ht(a))return o.status=n,a(o);if(pt(a))return a.replace("{a}",r??"")},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.select=function(r){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[r]=!0}},t.prototype.unSelect=function(r){var n=this.option.selectedMap;n&&(n[r]=!1)},t.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},t.prototype.isSelected=function(r){var n=this.option.selectedMap;return!!(n&&n[r])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:De.color.tertiary},itemStyle:{borderWidth:.5,borderColor:De.color.border},emphasis:{label:{show:!0,color:De.color.primary},itemStyle:{color:De.color.highlight}},select:{label:{show:!0,color:De.color.primary},itemStyle:{color:De.color.highlight}},regions:[]},t})(dr),pYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.focusBlurEnabled=!0,r}return t.prototype.init=function(r,n){this._api=n},t.prototype.render=function(r,n,i,a){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Ise(i));var o=this._mapDraw;o.draw(r,n,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=r.get("silent"),this.group.add(o.group),this.updateSelectStatus(r,n,i)},t.prototype._handleRegionClick=function(r){var n;Qv(r.target,function(i){return(n=qt(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(r,n,i){var a=this;this._mapDraw.group.traverse(function(o){var s=qt(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t})(Cn);function gYe(e,t,r){Gf.registerMap(e,t,r)}function Fse(e){e.registerCoordinateSystem("geo",Ose),e.registerComponentModel(vYe),e.registerComponentView(pYe),e.registerImpl("registerMap",gYe),e.registerImpl("getMap",function(r){return Gf.getMapForUser(r)});function t(r,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[r](i.name);var u=l.coordinateSystem;G(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];G(o,function(f,d){o[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,n,i){var a=r.componentType;a||(r.geoId!=null?a="geo":r.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:r},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=aM(s,r,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&G(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function mYe(e){Yt(Fse),e.registerChartView(oYe),e.registerSeriesModel(sYe),e.registerLayout(cYe),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,uYe),gae("map",e.registerAction)}function yYe(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[t],n,i;n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(s)}}function xYe(e,t){var r=e.isExpand?e.children:[],n=e.parentNode.children,i=e.hierNode.i?n[e.hierNode.i-1]:null;if(r.length){bYe(e);var a=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=wYe(e,i,e.parentNode.hierNode.defaultAncestor||n[0],t)}function _Ye(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function aW(e){return arguments.length?e:TYe}function Q1(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function bYe(e){for(var t=e.children,r=t.length,n=0,i=0;--r>=0;){var a=t[r];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function wYe(e,t,r,n){if(t){for(var i=e,a=e,o=a.parentNode.children[0],s=t,l=i.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=oL(s),a=sL(a),s&&a;){i=oL(i),o=sL(o),i.hierNode.ancestor=e;var d=s.hierNode.prelim+f-a.hierNode.prelim-u+n(s,a);d>0&&(CYe(SYe(s,e,r),e,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!oL(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-l),a&&!sL(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,r=e)}return r}function oL(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function sL(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function SYe(e,t,r){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:r}function CYe(e,t,r){var n=r/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=r,t.hierNode.modifier+=r,t.hierNode.prelim+=r,e.hierNode.change+=n}function TYe(e,t){return e.parentNode===t.parentNode?1:2}var AYe=(function(){function e(){this.parentPoint=[],this.childPoints=[]}return e})(),EYe=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new AYe},t.prototype.buildPath=function(r,n){var i=n.childPoints,a=i.length,o=n.parentPoint,s=i[0],l=i[a-1];if(a===1){r.moveTo(o[0],o[1]),r.lineTo(s[0],s[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=ft(n.forkPosition,1),h=[];h[c]=o[c],h[f]=o[f]+(l[f]-o[f])*d,r.moveTo(o[0],o[1]),r.lineTo(h[0],h[1]),r.moveTo(s[0],s[1]),h[c]=s[c],r.lineTo(h[0],h[1]),h[c]=l[c],r.lineTo(h[0],h[1]),r.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var p=i[v];r.moveTo(p[0],p[1]),h[c]=p[c],r.lineTo(h[0],h[1])}},t})(Cr),MYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._mainGroup=new $t,r}return t.prototype.init=function(r,n){this._controller=new v0(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(r,n,i){var a=r.getData(),o=r.layoutInfo,s=this._mainGroup,l=r.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(r,i),this._updateController(r,null,n,i);var u=this._data;a.diff(u).add(function(c){oW(a,c)&&sW(a,c,null,s,r)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!oW(a,c)){d&&uW(u,f,d,s,r);return}sW(a,c,d,s,r)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&uW(u,c,f,s,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:f})})}),this._data=a},t.prototype._updateViewCoordSys=function(r,n){var i=r.getData(),a=[];i.each(function(f){var d=i.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&a.push([+d.x,+d.y])});var o=[],s=[];NE(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=r.coordinateSystem=new p0(null,{api:n,ecModel:r.ecModel});c.zoomLimit=r.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(r.get("center")),c.setZoom(r.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(r,n,i,a){var o=this;Ase(r,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(s){o._updateNodeAndLinkScale(r)})},t.prototype._updateNodeAndLinkScale=function(r){var n=r.getData(),i=this._getNodeGlobalScale(r);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),s=(o-1)*i+1;return s/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t})(zr);function oW(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)}function sW(e,t,r,n,i){var a=!r,o=e.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:De.color.neutral00,c=e.tree.root,f=o.parentNode===c?o:o.parentNode||o,d=e.getItemGraphicEl(f.dataIndex),h=f.getLayout(),v=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,p=o.getLayout();a?(r=new Rb(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),r.x=v.x,r.y=v.y):r.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=p.rawX,r.__radialRawY=p.rawY,n.add(r),e.setItemGraphicEl(t,r),r.__oldX=r.x,r.__oldY=r.y,Wr(r,{x:p.x,y:p.y},i);var g=r.getSymbolPath();if(i.get("layout")==="radial"){var m=c.children[0],y=m.getLayout(),x=m.children.length,b=void 0,w=void 0;if(p.x===y.x&&o.isExpand===!0&&m.children.length){var S={x:(m.children[0].getLayout().x+m.children[x-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[x-1].getLayout().y)/2};b=Math.atan2(S.y-y.y,S.x-y.x),b<0&&(b=Math.PI*2+b),w=S.x<y.x,w&&(b=b-Math.PI)}else b=Math.atan2(p.y-y.y,p.x-y.x),b<0&&(b=Math.PI*2+b),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(w=p.x<y.x,w&&(b=b-Math.PI)):(w=p.x>y.x,w||(b=b-Math.PI));var C=w?"left":"right",E=s.getModel("label"),A=E.get("rotate"),M=A*(Math.PI/180),D=g.getTextContent();D&&(g.setTextConfig({position:E.get("position")||C,rotation:A==null?-b:M,origin:"center"}),D.setStyle("verticalAlign","middle"))}var R=s.get(["emphasis","focus"]),L=R==="relative"?x_(o.getAncestorsIndices(),o.getDescendantIndices()):R==="ancestor"?o.getAncestorsIndices():R==="descendant"?o.getDescendantIndices():null;L&&(qt(r).focus=L),DYe(i,o,c,r,v,h,p,n),r.__edge&&(r.onHoverStateChange=function(k){if(k!=="blur"){var O=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);O&&O.hoverState===bb||PT(r.__edge,k)}})}function DYe(e,t,r,n,i,a,o,s){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),f=e.getOrient(),d=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),p=n.__edge;if(u==="curve")t.parentNode&&t.parentNode!==r&&(p||(p=n.__edge=new Sb({shape:_4(c,f,d,i,i)})),Wr(p,{shape:_4(c,f,d,a,o)},e));else if(u==="polyline"&&c==="orthogonal"&&t!==r&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var g=t.children,m=[],y=0;y<g.length;y++){var x=g[y].getLayout();m.push([x.x,x.y])}p||(p=n.__edge=new EYe({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:h}})),Wr(p,{shape:{parentPoint:[o.x,o.y],childPoints:m}},e)}p&&!(u==="polyline"&&!t.isExpand)&&(p.useStyle(kt({strokeNoScale:!0,fill:null},v)),la(p,l,"lineStyle"),Lp(p),s.add(p))}function lW(e,t,r,n,i){var a=t.tree.root,o=Nse(a,e),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),h=n.get("edgeShape"),v=n.get("layout"),p=n.get("orient"),g=n.get(["lineStyle","curveness"]);d&&(h==="curve"?_h(d,{shape:_4(v,p,g,l,l),style:{opacity:0}},n,{cb:function(){r.remove(d)},removeOpt:i}):h==="polyline"&&n.get("layout")==="orthogonal"&&_h(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){r.remove(d)},removeOpt:i}))}}function Nse(e,t){for(var r=t.parentNode===e?t:t.parentNode||t,n;n=r.getLayout(),n==null;)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function uW(e,t,r,n,i){var a=e.tree.getNodeByDataIndex(t),o=e.tree.root,s=Nse(o,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};_h(r,{x:s.x+1,y:s.y+1},i,{cb:function(){n.remove(r),e.setItemGraphicEl(t,null)},removeOpt:l}),r.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){lW(u,e,n,i,l)}),lW(a,e,n,i,l)}function _4(e,t,r,n,i){var a,o,s,l,u,c,f,d;if(e==="radial"){u=n.rawX,f=n.rawY,c=i.rawX,d=i.rawY;var h=Q1(u,f),v=Q1(u,f+(d-f)*r),p=Q1(c,d+(f-d)*r),g=Q1(c,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:p.x||0,cpy2:p.y||0}}else u=n.x,f=n.y,c=i.x,d=i.y,(t==="LR"||t==="RL")&&(a=u+(c-u)*r,o=f,s=c+(u-c)*r,l=d),(t==="TB"||t==="BT")&&(a=u,o=f+(d-f)*r,s=c,l=d+(f-d)*r);return{x1:u,y1:f,x2:c,y2:d,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var Ll=wr();function zN(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,Bse(t,r,e),G(r,function(n){G(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,lr(PYe,e))})}),t.wrapMethod("cloneShallow",lr(LYe,e)),G(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,lr(RYe,e))}),Co(r[t.dataType]===t)}function PYe(e,t){if(OYe(this)){var r=He({},Ll(this).datas);r[this.dataType]=t,Bse(t,r,e)}else HN(t,this.dataType,Ll(this).mainData,e);return t}function RYe(e,t){return e.struct&&e.struct.update(),t}function LYe(e,t){return G(Ll(t).datas,function(r,n){r!==t&&HN(r.cloneShallow(),n,t,e)}),t}function IYe(e){var t=Ll(this).mainData;return e==null||t==null?t:Ll(t).datas[e]}function kYe(){var e=Ll(this).mainData;return e==null?[{data:e}]:Ye(Lr(Ll(e).datas),function(t){return{type:t,data:Ll(e).datas[t]}})}function OYe(e){return Ll(e).mainData===e}function Bse(e,t,r){Ll(e).datas={},G(t,function(n,i){HN(n,i,e,r)})}function HN(e,t,r,n){Ll(r).datas[t]=e,Ll(e).mainData=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=IYe,e.getLinkedDataAll=kYe}var FYe=(function(){function e(t,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=r}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,r,n){Ht(t)&&(n=r,r=t,t=null),t=t||{},pt(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],o;i==="preorder"&&(o=r.call(n,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(t,r,n);i==="postorder"&&r.call(n,this)},e.prototype.updateDepthAndHeight=function(t){var r=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>r&&(r=i.height)}this.height=r+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var r=0,n=this.children,i=n.length;r<i;r++){var a=n[r].getNodeById(t);if(a)return a}},e.prototype.contains=function(t){if(t===this)return!0;for(var r=0,n=this.children,i=n.length;r<i;r++){var a=n[r].contains(t);if(a)return a}},e.prototype.getAncestors=function(t){for(var r=[],n=t?this:this.parentNode;n;)r.push(n),n=n.parentNode;return r.reverse(),r},e.prototype.getAncestorsIndices=function(){for(var t=[],r=this;r;)t.push(r.dataIndex),r=r.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(r){t.push(r.dataIndex)}),t},e.prototype.getValue=function(t){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,r)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostTree,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,r)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,r=0;r<t.length;++r)if(t[r]===this)return r;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var r=t.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e})(),VN=(function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,r,n){this.root.eachNode(t,r,n)},e.prototype.getNodeByDataIndex=function(t){var r=this.data.getRawIndex(t);return this._nodes[r]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,r=this._nodes,n=0,i=r.length;n<i;n++)r[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)r[t.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,r,n){var i=new e(r),a=[],o=1;s(t);function s(c,f){var d=c.value;o=Math.max(o,We(d)?d.length:1),a.push(c);var h=new FYe(aa(c.name,""),i);f?NYe(h,f):i.root=h,i._nodes.push(h);var v=c.children;if(v)for(var p=0;p<v.length;p++)s(v[p],h)}i.root.updateDepthAndHeight(0);var l=cy(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new oi(l,r);return u.initData(a),n&&n(u),zN({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},e})();function NYe(e,t){var r=t.children;e.parentNode!==t&&(r.push(e),e.parentNode=t)}function H_(e,t,r){if(e&&ur(t,e.type)>=0){var n=r.getData().tree.root,i=e.targetNode;if(pt(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=e.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function zse(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function $N(e,t){var r=zse(e);return ur(r,t)>=0}function sM(e,t){for(var r=[];e;){var n=e.dataIndex;r.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return r.reverse(),r}var BYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r){var n={name:r.name,children:r.data},i=r.leaves||{},a=new pr(i,this,this.ecModel),o=VN.createTree(n,this,s);function s(f){f.wrapMethod("getItemModel",function(d,h){var v=o.getNodeByDataIndex(h);return v&&v.children.length&&v.isExpand||(d.parentModel=a),d})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=r.expandAndCollapse,c=u&&r.initialTreeDepth>=0?r.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),o.data},t.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.formatTooltip=function(r,n,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(r),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return ji("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=sM(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:De.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t})(Xr);function zYe(e,t,r){for(var n=[e],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=i.pop();)t(a,r)}function m1(e,t){for(var r=[e],n;n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)r.push(i[a])}}function HYe(e,t){e.eachSeriesByType("tree",function(r){VYe(r,t)})}function VYe(e,t){var r=ca(e,t).refContainer,n=Dn(e.getBoxLayoutParams(),r);e.layoutInfo=n;var i=e.get("layout"),a=0,o=0,s=null;i==="radial"?(a=2*Math.PI,o=Math.min(n.height,n.width)/2,s=aW(function(b,w){return(b.parentNode===w.parentNode?1:2)/b.depth})):(a=n.width,o=n.height,s=aW());var l=e.getData().tree.root,u=l.children[0];if(u){yYe(l),zYe(u,xYe,s),l.hierNode.modifier=-u.hierNode.prelim,m1(u,_Ye);var c=u,f=u,d=u;m1(u,function(b){var w=b.getLayout().x;w<c.getLayout().x&&(c=b),w>f.getLayout().x&&(f=b),b.depth>d.depth&&(d=b)});var h=c===f?1:s(c,f)/2,v=h-c.getLayout().x,p=0,g=0,m=0,y=0;if(i==="radial")p=a/(f.getLayout().x+h+v),g=o/(d.depth-1||1),m1(u,function(b){m=(b.getLayout().x+v)*p,y=(b.depth-1)*g;var w=Q1(m,y);b.setLayout({x:w.x,y:w.y,rawX:m,rawY:y},!0)});else{var x=e.getOrient();x==="RL"||x==="LR"?(g=o/(f.getLayout().x+h+v),p=a/(d.depth-1||1),m1(u,function(b){y=(b.getLayout().x+v)*g,m=x==="LR"?(b.depth-1)*p:a-(b.depth-1)*p,b.setLayout({x:m,y},!0)})):(x==="TB"||x==="BT")&&(p=a/(f.getLayout().x+h+v),g=o/(d.depth-1||1),m1(u,function(b){m=(b.getLayout().x+v)*p,y=x==="TB"?(b.depth-1)*g:o-(b.depth-1)*g,b.setLayout({x:m,y},!0)}))}}}function $Ye(e){e.eachSeriesByType("tree",function(t){var r=t.getData(),n=r.tree;n.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=r.ensureUniqueItemVisual(i.dataIndex,"style");He(s,o)})})}function GYe(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,o=aM(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}function UYe(e){e.registerChartView(MYe),e.registerSeriesModel(BYe),e.registerLayout(HYe),e.registerVisual($Ye),GYe(e)}var cW=["treemapZoomToNode","treemapRender","treemapMove"];function WYe(e){for(var t=0;t<cW.length;t++)e.registerAction({type:cW[t],update:"updateView"},Ei);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"treemap",query:r},i);function i(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=H_(r,s,a);if(l){var u=a.getViewRoot();u&&(r.direction=$N(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Hse(e){var t=e.getData(),r=t.tree,n={};r.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=Ok(e.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",o)})}var XYe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventUsingHoverLayer=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};Vse(i);var a=r.levels||[],o=this.designatedVisualItemStyle={},s=new pr({itemStyle:o},this,n);a=r.levels=jYe(a,n);var l=Ye(a||[],function(f){return new pr(f,s,n)},this),u=VN.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var v=u.getNodeByDataIndex(h),p=v?l[v.depth]:null;return d.parentModel=p||s,d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),o=this.getRawValue(r),s=a.getName(r);return ji("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=sM(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},He(this.layoutInfo,r)},t.prototype.mapIdToIndex=function(r){var n=this._idIndexMap;n||(n=this._idIndexMap=Rt(),this._idIndexMapCount=0);var i=n.get(r);return i==null&&n.set(r,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){Hse(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:De.size.l,top:De.size.xxxl,right:De.size.l,bottom:De.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:De.size.m,emptyItemWidth:25,itemStyle:{color:De.color.backgroundShade,textStyle:{color:De.color.secondary}},emphasis:{itemStyle:{color:De.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:De.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:De.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(Xr);function Vse(e){var t=0;G(e.children,function(n){Vse(n);var i=n.value;We(i)&&(i=i[0]),t+=i});var r=e.value;We(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),We(e.value)?e.value[0]=r:e.value=r}function jYe(e,t){var r=Mn(t.get("color")),n=Mn(t.get(["aria","decal","decals"]));if(r){e=e||[];var i,a;G(e,function(s){var l=new pr(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=e[0]||(e[0]={});return i||(o.color=r.slice()),!a&&n&&(o.decal=n.slice()),e}}var YYe=8,fW=8,lL=5,KYe=(function(){function e(t){this.group=new $t,t.add(this.group)}return e.prototype.render=function(t,r,n,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=ca(t,r).refContainer,d={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},h={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},v=Dn(d,f);this._prepare(n,h,u),this._renderContent(t,h,v,s,l,u,c,i),KE(o,d,f)}},e.prototype._prepare=function(t,r,n){for(var i=t;i;i=i.parentNode){var a=aa(i.getModel().get("name"),""),o=n.getTextRect(a),s=Math.max(o.width+YYe*2,r.emptyItemWidth);r.totalWidth+=s+fW,r.renderList.push({node:i,text:a,width:s})}},e.prototype._renderContent=function(t,r,n,i,a,o,s,l){for(var u=0,c=r.emptyItemWidth,f=t.get(["breadcrumb","height"]),d=r.totalWidth,h=r.renderList,v=a.getModel("itemStyle").getItemStyle(),p=h.length-1;p>=0;p--){var g=h[p],m=g.node,y=g.width,x=g.text;d>n.width&&(d-=y-c,y=c,x=null);var b=new Ao({shape:{points:ZYe(u,0,y,f,p===h.length-1,p===0)},style:kt(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Pr({style:gn(o,{text:x})}),textConfig:{position:"inside"},z2:ty*1e4,onclick:lr(l,m)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=gn(s,{text:x}),b.ensureState("emphasis").style=v,Wn(b,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(b),qYe(b,t,m),u+=y+fW}},e.prototype.remove=function(){this.group.removeAll()},e})();function ZYe(e,t,r,n,i,a){var o=[[i?e:e-lL,t],[e+r,t],[e+r,t+n],[i?e:e-lL,t+n]];return!a&&o.splice(2,0,[e+r+lL,t+n/2]),!i&&o.push([e,t+n/2]),o}function qYe(e,t,r){qt(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&sM(r,t)}}var JYe=(function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,r,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:r,duration:n,delay:i,easing:a}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,r=this._storage.length,n=function(){r--,r<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e})();function QYe(){return new JYe}var b4=$t,dW=vr,hW=3,vW="label",pW="upperLabel",eKe=ty*10,tKe=ty*2,rKe=ty*3,Fv=Rp([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gW=function(e){var t=Fv(e);return t.stroke=t.fill=t.lineWidth=null,t},nA=wr(),nKe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._state="ready",r._storage=y1(),r}return t.prototype.render=function(r,n,i,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(ur(o,r)<0)){this.seriesModel=r,this.api=i,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],l=H_(a,s,r),u=a&&a.type,c=r.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),p=r.get("animation"),g=this._doRender(v,r,h);p&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,g,r,h):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(r,i,l)}},t.prototype._giveContainerGroup=function(r){var n=this._containerGroup;return n||(n=this._containerGroup=new b4,this._initEvents(n),this.group.add(n)),n.x=r.x,n.y=r.y,n},t.prototype._doRender=function(r,n,i){var a=n.getData().tree,o=this._oldTree,s=y1(),l=y1(),u=this._storage,c=[];function f(y,x,b,w){return iKe(n,l,u,i,s,c,y,x,b,w)}p(a.root?[a.root]:[],o&&o.root?[o.root]:[],r,a===o||!o,0);var d=g(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===h.width&&v.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:m};function p(y,x,b,w,S){w?(x=y,G(y,function(A,M){!A.isRemoved()&&E(M,M)})):new Hf(x,y,C,C).add(E).update(E).remove(lr(E,null)).execute();function C(A){return A.getId()}function E(A,M){var D=A!=null?y[A]:null,R=M!=null?x[M]:null,L=f(D,R,b,S);L&&p(D&&D.viewChildren||[],R&&R.viewChildren||[],L,w,S+1)}}function g(y){var x=y1();return y&&G(y,function(b,w){var S=x[w];G(b,function(C){C&&(S.push(C),nA(C).willDelete=!0)})}),x}function m(){G(d,function(y){G(y,function(x){x.parent&&x.parent.remove(x)})}),G(c,function(y){y.invisible=!0,y.dirty()})}},t.prototype._doAnimation=function(r,n,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(Ht(o)?0:o)||0,u=(Ht(s)?null:s)||"cubicOut",c=QYe();G(n.willDeleteEls,function(f,d){G(f,function(h,v){if(!h.invisible){var p=h.parent,g,m=nA(p);if(a&&a.direction==="drillDown")g=p===a.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,x=0;m.willDelete||(y=m.nodeWidth/2,x=m.nodeHeight/2),g=d==="nodeGroup"?{x:y,y:x,style:{opacity:0}}:{shape:{x:y,y:x,width:0,height:0},style:{opacity:0}}}g&&c.add(h,g,l,0,u)}})}),G(this._storage,function(f,d){G(f,function(h,v){var p=n.lastsForAnimation[d][v],g={};p&&(h instanceof $t?p.oldX!=null&&(g.x=h.x,g.y=h.y,h.x=p.oldX,h.y=p.oldY):(p.oldShape&&(g.shape=He({},h.shape),h.setShape(p.oldShape)),p.fadein?(h.setStyle("opacity",0),g.style={opacity:1}):h.style.opacity!==1&&(g.style={opacity:1})),c.add(h,g,l,0,u))})},this),this._state="animating",c.finished(mt(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(r){var n=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;i||(i=this._controller=new v0(r.getZr()),i.on("pan",mt(this._onPan,this)),i.on("zoom",mt(this._onZoom,this))),i.enable(o.get("roam"),{api:r,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(s,l,u){var c=n._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},t.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},t.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>hW||Math.abs(r.dy)>hW)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+r.dx,y:i.y+r.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(r){var n=r.originX,i=r.originY,a=r.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new jt(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var v=f/c.zoom;c.zoom=f;var p=this.seriesModel.layoutInfo;n-=p.x,i-=p.y;var g=$a();Dc(g,g,[-n,-i]),pF(g,g,[v,v]),Dc(g,g,[n,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(r){var n=this;r.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&OT(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(r,n,i){var a=this;i||(i=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new KYe(this.group))).render(r,n,i.node,function(o){a._state!=="animating"&&($N(r.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=y1(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype.findTarget=function(r,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(r,n),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t})(zr);function y1(){return{nodeGroup:[],background:[],content:[]}}function iKe(e,t,r,n,i,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=e.getData(),d=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var h=c.width,v=c.height,p=c.borderWidth,g=c.invisible,m=o.getRawIndex(),y=s&&s.getRawIndex(),x=o.viewChildren,b=c.upperHeight,w=x&&x.length,S=d.getModel("itemStyle"),C=d.getModel(["emphasis","itemStyle"]),E=d.getModel(["blur","itemStyle"]),A=d.getModel(["select","itemStyle"]),M=S.get("borderRadius")||0,D=Z("nodeGroup",b4);if(!D)return;if(l.add(D),D.x=c.x||0,D.y=c.y||0,D.markRedraw(),nA(D).nodeWidth=h,nA(D).nodeHeight=v,c.isAboveViewRoot)return D;var R=Z("background",dW,u,tKe);R&&K(D,R,w&&c.upperLabelHeight);var L=d.getModel("emphasis"),k=L.get("focus"),O=L.get("blurScope"),F=L.get("disabled"),H=k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():k;if(w)A_(D)&&qv(D,!1),R&&(qv(R,!F),f.setItemGraphicEl(o.dataIndex,R),Sk(R,H,O));else{var V=Z("content",dW,u,rKe);V&&q(D,V),R.disableMorphing=!0,R&&A_(R)&&qv(R,!1),qv(D,!F),f.setItemGraphicEl(o.dataIndex,D);var U=d.getShallow("cursor");U&&V.attr("cursor",U),Sk(D,H,O)}return D;function K(Se,te,pe){var Re=qt(te);if(Re.dataIndex=o.dataIndex,Re.seriesIndex=e.seriesIndex,te.setShape({x:0,y:0,width:h,height:v,r:M}),g)N(te);else{te.invisible=!1;var z=o.getVisual("style"),J=z.stroke,se=gW(S);se.fill=J;var he=Fv(C);he.fill=C.get("borderColor");var _e=Fv(E);_e.fill=E.get("borderColor");var ge=Fv(A);if(ge.fill=A.get("borderColor"),pe){var $e=h-2*p;W(te,J,z.opacity,{x:p,y:0,width:$e,height:b})}else te.removeTextContent();te.setStyle(se),te.ensureState("emphasis").style=he,te.ensureState("blur").style=_e,te.ensureState("select").style=ge,Lp(te)}Se.add(te)}function q(Se,te){var pe=qt(te);pe.dataIndex=o.dataIndex,pe.seriesIndex=e.seriesIndex;var Re=Math.max(h-2*p,0),z=Math.max(v-2*p,0);if(te.culling=!0,te.setShape({x:p,y:p,width:Re,height:z,r:M}),g)N(te);else{te.invisible=!1;var J=o.getVisual("style"),se=J.fill,he=gW(S);he.fill=se,he.decal=J.decal;var _e=Fv(C),ge=Fv(E),$e=Fv(A);W(te,se,J.opacity,null),te.setStyle(he),te.ensureState("emphasis").style=_e,te.ensureState("blur").style=ge,te.ensureState("select").style=$e,Lp(te)}Se.add(te)}function N(Se){!Se.invisible&&a.push(Se)}function W(Se,te,pe,Re){var z=d.getModel(Re?pW:vW),J=aa(d.get("name"),null),se=z.getShallow("show");Da(Se,ua(d,Re?pW:vW),{defaultText:se?J:null,inheritColor:te,defaultOpacity:pe,labelFetcher:e,labelDataIndex:o.dataIndex});var he=Se.getTextContent();if(he){var _e=he.style,ge=EE(_e.padding||0);Re&&(Se.setTextConfig({layoutRect:Re}),he.disableLabelLayout=!0),he.beforeUpdate=function(){var Le=Math.max((Re?Re.width:Se.shape.width)-ge[1]-ge[3],0),fe=Math.max((Re?Re.height:Se.shape.height)-ge[0]-ge[2],0);(_e.width!==Le||_e.height!==fe)&&he.setStyle({width:Le,height:fe})},_e.truncateMinChar=2,_e.lineOverflow="truncate",j(_e,Re,c);var $e=he.getState("emphasis");j($e?$e.style:null,Re,c)}}function j(Se,te,pe){var Re=Se?Se.text:null;if(!te&&pe.isLeafRoot&&Re!=null){var z=e.get("drillDownIcon",!0);Se.text=z?z+" "+Re:Re}}function Z(Se,te,pe,Re){var z=y!=null&&r[Se][y],J=i[Se];return z?(r[Se][y]=null,ve(J,z)):g||(z=new te,z instanceof Hl&&(z.z2=aKe(pe,Re)),Te(J,z)),t[Se][m]=z}function ve(Se,te){var pe=Se[m]={};te instanceof b4?(pe.oldX=te.x,pe.oldY=te.y):pe.oldShape=He({},te.shape)}function Te(Se,te){var pe=Se[m]={},Re=o.parentNode,z=te instanceof $t;if(Re&&(!n||n.direction==="drillDown")){var J=0,se=0,he=i.background[Re.getRawIndex()];!n&&he&&he.oldShape&&(J=he.oldShape.width,se=he.oldShape.height),z?(pe.oldX=0,pe.oldY=se):pe.oldShape={x:J,y:se,width:0,height:0}}pe.fadein=!z}}function aKe(e,t){return e*eKe+t}var V_=G,oKe=Xt,iA=-1,Aa=(function(){function e(t){var r=t.mappingMethod,n=t.type,i=this.option=Vt(t);this.type=n,this.mappingMethod=r,this._normalizeData=uKe[r];var a=e.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[r],r==="piecewise"?(uL(i),sKe(i)):r==="category"?i.categories?lKe(i):uL(i,!0):(Co(r!=="linear"||i.dataExtent),uL(i))}return e.prototype.mapValueToVisual=function(t){var r=this._normalizeData(t);return this._normalizedToVisual(r,t)},e.prototype.getNormalizer=function(){return mt(this._normalizeData,this)},e.listVisualTypes=function(){return Lr(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,r,n){Xt(t)?G(t,r,n):r.call(n,t)},e.mapVisual=function(t,r,n){var i,a=We(t)?[]:Xt(t)?{}:(i=!0,null);return e.eachVisual(t,function(o,s){var l=r.call(n,o,s);i?a=l:a[s]=l}),a},e.retrieveVisuals=function(t){var r={},n;return t&&V_(e.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(r[a]=t[a],n=!0)}),n?r:null},e.prepareVisualTypes=function(t){if(We(t))t=t.slice();else if(oKe(t)){var r=[];V_(t,function(n,i){r.push(i)}),t=r}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,r){return r==="color"?!!(t&&t.indexOf(r)===0):t===r},e.findPieceIndex=function(t,r,n){for(var i,a=1/0,o=0,s=r.length;o<s;o++){var l=r[o].value;if(l!=null){if(l===t||pt(l)&&l===t+"")return o;n&&d(l,o)}}for(var o=0,s=r.length;o<s;o++){var u=r[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(f2(f[1],t,c[1]))return o}else if(c[1]===1/0){if(f2(f[0],c[0],t))return o}else if(f2(f[0],c[0],t)&&f2(f[1],t,c[1]))return o;n&&d(c[0],o),n&&d(c[1],o)}}if(n)return t===1/0?r.length-1:t===-1/0?0:i;function d(h,v){var p=Math.abs(h-t);p<a&&(a=p,i=v)}},e.visualHandlers={color:{applyVisual:x1("color"),getColorMapper:function(){var t=this.option;return mt(t.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),ex.call(this,r)}:function(r,n,i){var a=!!i;return!n&&(r=this._normalizeData(r)),i=GP(r,t.parsedVisual,i),a?i:xc(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return xc(GP(t,this.option.parsedVisual),"rgba")},category:ex,piecewise:function(t,r){var n=S4.call(this,r);return n==null&&(n=xc(GP(t,this.option.parsedVisual),"rgba")),n},fixed:Nv}},colorHue:c2(function(t,r){return lh(t,r)}),colorSaturation:c2(function(t,r){return lh(t,null,r)}),colorLightness:c2(function(t,r){return lh(t,null,null,r)}),colorAlpha:c2(function(t,r){return _T(t,r)}),decal:{applyVisual:x1("decal"),_normalizedToVisual:{linear:null,category:ex,piecewise:null,fixed:null}},opacity:{applyVisual:x1("opacity"),_normalizedToVisual:w4([0,1])},liftZ:{applyVisual:x1("liftZ"),_normalizedToVisual:{linear:Nv,category:Nv,piecewise:Nv,fixed:Nv}},symbol:{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:mW,category:ex,piecewise:function(t,r){var n=S4.call(this,r);return n==null&&(n=mW.call(this,t)),n},fixed:Nv}},symbolSize:{applyVisual:x1("symbolSize"),_normalizedToVisual:w4([0,1])}},e})();function sKe(e){var t=e.pieceList;e.hasSpecialVisual=!1,G(t,function(r,n){r.originIndex=n,r.visual!=null&&(e.hasSpecialVisual=!0)})}function lKe(e){var t=e.categories,r=e.categoryMap={},n=e.visual;if(V_(t,function(o,s){r[o]=s}),!We(n)){var i=[];Xt(n)?V_(n,function(o,s){var l=r[s];i[l??iA]=o}):i[iA]=n,n=$se(e,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete r[t[a]],t.pop())}function uL(e,t){var r=e.visual,n=[];Xt(r)?V_(r,function(a){n.push(a)}):r!=null&&n.push(r);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(e.type)&&(n[1]=n[0]),$se(e,n)}function c2(e){return{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("color",e(r("color"),i))},_normalizedToVisual:w4([0,1])}}function mW(e){var t=this.option.visual;return t[Math.round(qr(e,[0,1],[0,t.length-1],!0))]||{}}function x1(e){return function(t,r,n){n(e,this.mapValueToVisual(t))}}function ex(e){var t=this.option.visual;return t[this.option.loop&&e!==iA?e%t.length:e]}function Nv(){return this.option.visual[0]}function w4(e){return{linear:function(t){return qr(t,e,this.option.visual,!0)},category:ex,piecewise:function(t,r){var n=S4.call(this,r);return n==null&&(n=qr(t,e,this.option.visual,!0)),n},fixed:Nv}}function S4(e){var t=this.option,r=t.pieceList;if(t.hasSpecialVisual){var n=Aa.findPieceIndex(e,r),i=r[n];if(i&&i.visual)return i.visual[this.type]}}function $se(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=Ye(t,function(r){var n=_o(r);return n||[0,0,0,1]})),t}var uKe={linear:function(e){return qr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,r=Aa.findPieceIndex(e,t,!0);if(r!=null)return qr(r,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??iA},fixed:Ei};function f2(e,t,r){return e?t<=r:t<r}var cKe="itemStyle",Gse=wr();const fKe={seriesType:"treemap",reset:function(e){var t=e.getData().tree,r=t.root;r.isRemoved()||Use(r,{},e.getViewRoot().getAncestors(),e)}};function Use(e,t,r,n){var i=e.getModel(),a=e.getLayout(),o=e.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=i.getModel(cKe),l=dKe(s,t,n),u=o.ensureUniqueItemVisual(e.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=yW(l),c=hKe(f,d)),u.stroke=c;var h=e.viewChildren;if(!h||!h.length)d=yW(l),u.fill=d;else{var v=vKe(e,i,a,s,l,h);G(h,function(p,g){if(p.depth>=r.length||p===r[p.depth]){var m=pKe(i,l,p,g,v,n);Use(p,m,r,n)}})}}}function dKe(e,t,r){var n=He({},t),i=r.designatedVisualItemStyle;return G(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=e.get(a);i[a]=null,o!=null&&(n[a]=o)}),n}function yW(e){var t=cL(e,"color");if(t){var r=cL(e,"colorAlpha"),n=cL(e,"colorSaturation");return n&&(t=lh(t,null,null,n)),r&&(t=_T(t,r)),t}}function hKe(e,t){return t!=null?lh(t,null,null,e):null}function cL(e,t){var r=e[t];if(r!=null&&r!=="none")return r}function vKe(e,t,r,n,i,a){if(!(!a||!a.length)){var o=fL(t,"color")||i.color!=null&&i.color!=="none"&&(fL(t,"colorAlpha")||fL(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new Aa(f);return Gse(d).drColorMappingBy=c,d}}}function fL(e,t){var r=e.get(t);return We(r)&&r.length?{name:t,range:r}:null}function pKe(e,t,r,n,i,a){var o=He({},t);if(i){var s=i.type,l=s==="color"&&Gse(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var $_=Math.max,aA=Math.min,xW=Qa,GN=G,Wse=["itemStyle","borderWidth"],gKe=["itemStyle","gapWidth"],mKe=["upperLabel","show"],yKe=["upperLabel","height"];const xKe={seriesType:"treemap",reset:function(e,t,r,n){var i=e.option,a=ca(e,r).refContainer,o=Dn(e.getBoxLayoutParams(),a),s=i.size||[],l=ft(xW(o.width,s[0]),a.width),u=ft(xW(o.height,s[1]),a.height),c=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],d=H_(n,f,e),h=c==="treemapRender"||c==="treemapMove"?n.rootRect:null,v=e.getViewRoot(),p=zse(v);if(c!=="treemapMove"){var g=c==="treemapZoomToNode"?TKe(e,d,v,l,u):h?[h.width,h.height]:[l,u],m=i.sort;m&&m!=="asc"&&m!=="desc"&&(m="desc");var y={squareRatio:i.squareRatio,sort:m,leafDepth:i.leafDepth};v.hostTree.clearLayouts();var x={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};v.setLayout(x),Xse(v,y,!1,0),x=v.getLayout(),GN(p,function(w,S){var C=(p[S+1]||v).getValue();w.setLayout(He({dataExtent:[C,C],borderWidth:0,upperHeight:0},x))})}var b=e.getData().tree.root;b.setLayout(AKe(o,h,d),!0),e.setLayoutInfo(o),jse(b,new jt(-o.x,-o.y,r.getWidth(),r.getHeight()),p,v,0)}};function Xse(e,t,r,n){var i,a;if(!e.isRemoved()){var o=e.getLayout();i=o.width,a=o.height;var s=e.getModel(),l=s.get(Wse),u=s.get(gKe)/2,c=Yse(s),f=Math.max(l,c),d=l-u,h=f-u;e.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=$_(i-2*d,0),a=$_(a-d-h,0);var v=i*a,p=_Ke(e,s,v,t,r,n);if(p.length){var g={x:d,y:h,width:i,height:a},m=aA(i,a),y=1/0,x=[];x.area=0;for(var b=0,w=p.length;b<w;){var S=p[b];x.push(S),x.area+=S.getLayout().area;var C=CKe(x,m,t.squareRatio);C<=y?(b++,y=C):(x.area-=x.pop().getLayout().area,_W(x,m,g,u,!1),m=aA(g.width,g.height),x.length=x.area=0,y=1/0)}if(x.length&&_W(x,m,g,u,!0),!r){var E=s.get("childrenVisibleMin");E!=null&&v<E&&(r=!0)}for(var b=0,w=p.length;b<w;b++)Xse(p[b],t,r,n+1)}}}function _Ke(e,t,r,n,i,a){var o=e.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return e.viewChildren=[];o=on(o,function(h){return!h.isRemoved()}),wKe(o,s);var u=SKe(t,o,s);if(u.sum===0)return e.viewChildren=[];if(u.sum=bKe(t,r,u.sum,s,o),u.sum===0)return e.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var d=o[c].getValue()/u.sum*r;o[c].setLayout({area:d})}return l&&(o.length&&e.setLayout({isLeafRoot:!0},!0),o.length=0),e.viewChildren=o,e.setLayout({dataExtent:u.dataExtent},!0),o}function bKe(e,t,r,n,i){if(!n)return r;for(var a=e.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[n==="asc"?o-l-1:l].getValue();u/r*t<a&&(s=l,r-=u)}return n==="asc"?i.splice(0,o-s):i.splice(s,o-s),r}function wKe(e,t){return t&&e.sort(function(r,n){var i=t==="asc"?r.getValue()-n.getValue():n.getValue()-r.getValue();return i===0?t==="asc"?r.dataIndex-n.dataIndex:n.dataIndex-r.dataIndex:i}),e}function SKe(e,t,r){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var o=e.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&r?(s=[t[t.length-1].getValue(),t[0].getValue()],r==="asc"&&s.reverse()):(s=[1/0,-1/0],GN(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:n,dataExtent:s}}function CKe(e,t,r){for(var n=0,i=1/0,a=0,o=void 0,s=e.length;a<s;a++)o=e[a].getLayout().area,o&&(o<i&&(i=o),o>n&&(n=o));var l=e.area*e.area,u=t*t*r;return l?$_(u*n/l,l/(u*i)):1/0}function _W(e,t,r,n,i){var a=t===r.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=r[s[a]],c=t?e.area/t:0;(i||c>r[l[o]])&&(c=r[l[o]]);for(var f=0,d=e.length;f<d;f++){var h=e[f],v={},p=c?h.getLayout().area/c:0,g=v[l[o]]=$_(c-2*n,0),m=r[s[a]]+r[l[a]]-u,y=f===d-1||m<p?m:p,x=v[l[a]]=$_(y-2*n,0);v[s[o]]=r[s[o]]+aA(n,g/2),v[s[a]]=u+aA(n,x/2),u+=y,h.setLayout(v,!0)}r[s[o]]+=c,r[l[o]]-=c}function TKe(e,t,r,n,i){var a=(t||{}).node,o=[n,i];if(!a||a===r)return o;for(var s,l=n*i,u=l*e.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var v=a.getValue();if(v===0)return o;u*=c/v;var p=s.getModel(),g=p.get(Wse),m=Math.max(g,Yse(p));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>TV&&(u=TV),a=s}u<l&&(u=l);var y=Math.pow(u/l,.5);return[n*y,i*y]}function AKe(e,t,r){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!r)return n;var i=r.node,a=i.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function jse(e,t,r,n,i){var a=e.getLayout(),o=r[i],s=o&&o===e;if(!(o&&!s||i===r.length&&e!==n)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new jt(t.x-a.x,t.y-a.y,t.width,t.height);GN(e.viewChildren||[],function(u){jse(u,l,r,n,i+1)})}}function Yse(e){return e.get(mKe)?e.get(yKe):0}function EKe(e){e.registerSeriesModel(XYe),e.registerChartView(nKe),e.registerVisual(fKe),e.registerLayout(xKe),WYe(e)}function MKe(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getGraph(),a=i.data,o=n.mapArray(n.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){Br(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function DKe(e){var t={};e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var l=n.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=r.getColorFromPalette(s,t)),n.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&n.setItemVisual(o,c[f],d)}}),n.count()&&i.each(function(o){var s=i.getItemModel(o),l=s.getShallow("category");if(l!=null){pt(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(o,"style");He(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)i.setItemVisual(o,f[d],n.getItemVisual(l,f[d]))}})})}function d2(e){return e instanceof Array||(e=[e,e]),e}function PKe(e){e.eachSeriesByType("graph",function(t){var r=t.getGraph(),n=t.getEdgeData(),i=d2(t.get("edgeSymbol")),a=d2(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),l=r.getEdgeByIndex(o),u=d2(s.getShallow("symbol",!0)),c=d2(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=n.ensureUniqueItemVisual(o,"style");switch(He(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var C4="-->",lM=function(e){return e.get("autoCurveness")||null},Kse=function(e,t){var r=lM(e),n=20,i=[];if(Br(r))n=r;else if(We(r)){e.__curvenessList=r;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=i},G_=function(e,t,r){var n=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[r.uid,n,i].join(C4)},Zse=function(e){var t=e.split(C4);return[t[0],t[2],t[1]].join(C4)},RKe=function(e,t){var r=G_(e.node1,e.node2,t);return t.__edgeMap[r]},LKe=function(e,t){var r=T4(G_(e.node1,e.node2,t),t),n=T4(G_(e.node2,e.node1,t),t);return r+n},T4=function(e,t){var r=t.__edgeMap;return r[e]?r[e].length:0};function IKe(e){lM(e)&&(e.__curvenessList=[],e.__edgeMap={},Kse(e))}function kKe(e,t,r,n){if(lM(r)){var i=G_(e,t,r),a=r.__edgeMap,o=a[Zse(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function UN(e,t,r,n){var i=lM(t),a=We(i);if(!i)return null;var o=RKe(e,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===r){s=l;break}var u=LKe(e,t);Kse(t,u),e.lineStyle=e.lineStyle||{};var c=G_(e.node1,e.node2,t),f=t.__curvenessList,d=a||u%2?0:1;if(o.isForward)return f[d+s];var h=Zse(c),v=T4(h,t),p=f[s+v+d];return n?a?i&&i[0]===0?(v+d)%2?p:-p:((v%2?0:1)+d)%2?p:-p:(v+d)%2?p:-p:f[s+v+d]}function qse(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var r=e.getGraph();r.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),WN(r,e)}}function WN(e,t){e.eachEdge(function(r,n){var i=$s(r.getModel().get(["lineStyle","curveness"]),-UN(r,t,n,!0),0),a=Tf(r.node1.getLayout()),o=Tf(r.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),r.setLayout(s)})}function OKe(e,t){e.eachSeriesByType("graph",function(r){var n=r.get("layout"),i=r.coordinateSystem;if(i&&i.type!=="view"){var a=r.getData(),o=[];G(i.dimensions,function(d){o=o.concat(a.mapDimensionsAll(d))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,i.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}WN(a.graph,r)}else(!n||n==="none")&&qse(r)})}function tx(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var r=e.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*r+1;return a/n}function rx(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var bW=Math.PI,dL=[];function XN(e,t,r,n){var i=e.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=e.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(r){var d=i.pointToData(n),h=d[0],v=d[1],p=[h-l,v-u];Jm(p,p),sC(p,p,c),r.setLayout([l+p[0],u+p[1]],!0);var g=e.get(["circular","rotateLabel"]);Jse(r,g,l,u)}FKe[t](e,s,o,c,l,u,f),s.eachEdge(function(m,y){var x=$s(m.getModel().get(["lineStyle","curveness"]),UN(m,e,y),0),b=Tf(m.node1.getLayout()),w=Tf(m.node2.getLayout()),S,C=(b[0]+w[0])/2,E=(b[1]+w[1])/2;+x&&(x*=3,S=[l*x+C*(1-x),u*x+E*(1-x)]),m.setLayout([b,w,S])})}}}var FKe={value:function(e,t,r,n,i,a,o){var s=0,l=r.getSum("value"),u=Math.PI*2/(l||o);t.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([n*Math.cos(s)+i,n*Math.sin(s)+a]),s+=d})},symbolSize:function(e,t,r,n,i,a,o){var s=0;dL.length=o;var l=tx(e);t.eachNode(function(f){var d=rx(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/n);isNaN(h)&&(h=bW/2),dL[f.dataIndex]=h,s+=h*2});var u=(2*bW-s)/o/2,c=0;t.eachNode(function(f){var d=u+dL[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=d})}};function Jse(e,t,r,n){var i=e.getGraphicEl();if(i){var a=e.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-n,l[0]-r);u<0&&(u=Math.PI*2+u);var c=l[0]<r;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");He(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function NKe(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&XN(t,"symbolSize")})}var rg=U3;function BKe(e,t,r){for(var n=e,i=t,a=r.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=r.gravity==null?.1:r.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=s0(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=Tf(f.p),f.edges=null}var d=r.friction==null?.6:r.friction,h=d,v,p;return{warmUp:function(){h=d*.8},setFixed:function(g){n[g].fixed=!0},setUnfixed:function(g){n[g].fixed=!1},beforeStep:function(g){v=g},afterStep:function(g){p=g},step:function(g){v&&v(n,i);for(var m=[],y=n.length,x=0;x<i.length;x++){var b=i[x];if(!b.ignoreForceLayout){var w=b.n1,S=b.n2;Kv(m,S.p,w.p);var C=W3(m)-b.d,E=S.w/(w.w+S.w);isNaN(E)&&(E=0),Jm(m,m),!w.fixed&&rg(w.p,w.p,m,E*C*h),!S.fixed&&rg(S.p,S.p,m,-(1-E)*C*h)}}for(var x=0;x<y;x++){var A=n[x];A.fixed||(Kv(m,l,A.p),rg(A.p,A.p,m,u*h))}for(var x=0;x<y;x++)for(var w=n[x],M=x+1;M<y;M++){var S=n[M];Kv(m,S.p,w.p);var C=W3(m);C===0&&(hF(m,Math.random()-.5,Math.random()-.5),C=1);var D=(w.rep+S.rep)/C/C;!w.fixed&&rg(w.pp,w.pp,m,D),!S.fixed&&rg(S.pp,S.pp,m,-D)}for(var R=[],x=0;x<y;x++){var A=n[x];A.fixed||(Kv(R,A.p,A.pp),rg(A.p,A.p,R,h),No(A.pp,A.p))}h=h*.992;var L=h<.01;p&&p(n,i,L),g&&g(L)}}}function zKe(e){e.eachSeriesByType("graph",function(t){var r=t.coordinateSystem;if(!(r&&r.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(x){var b=a.getId(x);a.setItemLayout(x,n[b]||[NaN,NaN])}):!l||l==="none"?qse(t):l==="circular"&&XN(t,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),h=We(f)?f:[f,f],v=We(d)?d:[d,d];v=[v[1],v[0]];var p=a.mapArray("value",function(x,b){var w=a.getItemLayout(b),S=qr(x,u,h);return isNaN(S)&&(S=(h[0]+h[1])/2),{w:S,rep:S,fixed:a.getItemModel(b).get("fixed"),p:!w||isNaN(w[0])||isNaN(w[1])?null:w}}),g=o.mapArray("value",function(x,b){var w=i.getEdgeByIndex(b),S=qr(x,c,v);isNaN(S)&&(S=(v[0]+v[1])/2);var C=w.getModel(),E=$s(w.getModel().get(["lineStyle","curveness"]),-UN(w,t,b,!0),0);return{n1:p[w.node1.dataIndex],n2:p[w.node2.dataIndex],d:S,curveness:E,ignoreForceLayout:C.get("ignoreForceLayout")}}),m=r.getBoundingRect(),y=BKe(p,g,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});y.beforeStep(function(x,b){for(var w=0,S=x.length;w<S;w++)x[w].fixed&&No(x[w].p,i.getNodeByIndex(w).getLayout())}),y.afterStep(function(x,b,w){for(var S=0,C=x.length;S<C;S++)x[S].fixed||i.getNodeByIndex(S).setLayout(x[S].p),n[a.getId(S)]=x[S].p;for(var S=0,C=b.length;S<C;S++){var E=b[S],A=i.getEdgeByIndex(S),M=E.n1.p,D=E.n2.p,R=A.getLayout();R=R?R.slice():[],R[0]=R[0]||[],R[1]=R[1]||[],No(R[0],M),No(R[1],D),+E.curveness&&(R[2]=[(M[0]+D[0])/2-(M[1]-D[1])*E.curveness,(M[1]+D[1])/2-(D[0]-M[0])*E.curveness]),A.setLayout(R)}}),t.forceLayout=y,t.preservedPoints=n,y.step()}else t.forceLayout=null})}function HKe(e,t,r){var n=ca(e,t),i=He(e.getBoxLayoutParams(),{aspect:r}),a=Dn(i,n.refContainer);return Aie(e,a,r)}function VKe(e,t){var r=[];return e.eachSeriesByType("graph",function(n){Eb({targetModel:n,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=n.getData(),o=a.mapArray(function(v){var p=a.getItemModel(v);return[+p.get("x"),+p.get("y")]}),s=[],l=[];NE(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=HKe(n,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],h=new p0(null,{api:t,ecModel:e});return h.zoomLimit=n.get("scaleLimit"),h.setBoundingRect(s[0],s[1],f,d),h.setViewRect(c.x,c.y,c.width,c.height),h.setCenter(n.get("center")),h.setZoom(n.get("zoom")),r.push(h),h}}),r}var wW=Gi.prototype,hL=Sb.prototype,Qse=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e})();(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Qse);function vL(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var ele=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Qse},t.prototype.buildPath=function(r,n){vL(n)?wW.buildPath.call(this,r,n):hL.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return vL(this.shape)?wW.pointAt.call(this,r):hL.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=vL(n)?[n.x2-n.x1,n.y2-n.y1]:hL.tangentAt.call(this,r);return Jm(i,i)},t})(Cr),pL=["fromSymbol","toSymbol"];function SW(e){return"_"+e+"Type"}function CW(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var i=t.getItemVisual(r,e+"Size"),a=t.getItemVisual(r,e+"Rotate"),o=t.getItemVisual(r,e+"Offset"),s=t.getItemVisual(r,e+"KeepAspect"),l=uy(i),u=f0(o||0,l);return n+l+u+(a||"")+(s||"")}function TW(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),a=t.getItemVisual(r,e+"Rotate"),o=t.getItemVisual(r,e+"Offset"),s=t.getItemVisual(r,e+"KeepAspect"),l=uy(i),u=f0(o||0,l),c=Pi(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=e,c}}function $Ke(e){var t=new ele({name:"line",subPixelOptimize:!0});return A4(t.shape,e),t}function A4(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var jN=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this)||this;return a._createLine(r,n,i),a}return t.prototype._createLine=function(r,n,i){var a=r.hostModel,o=r.getItemLayout(n),s=r.getItemVisual(n,"z2"),l=$Ke(o);l.shape.percent=0,Hn(l,{z2:It(s,0),shape:{percent:1}},a,n),this.add(l),G(pL,function(u){var c=TW(u,r,n);this.add(c),this[SW(u)]=CW(u,r,n)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var a=r.hostModel,o=this.childOfName("line"),s=r.getItemLayout(n),l={shape:{}};A4(l.shape,s),Wr(o,l,a,n),G(pL,function(u){var c=CW(u,r,n),f=SW(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=TW(u,r,n);this.add(d)}this[f]=c},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var a=r.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||r.hasItemOption){var v=r.getItemModel(n),p=v.getModel("emphasis");s=p.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),f=p.get("disabled"),d=p.get("focus"),h=p.get("blurScope"),c=ua(v)}var g=r.getItemVisual(n,"style"),m=g.stroke;o.useStyle(g),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,G(pL,function(S){var C=this.childOfName(S);if(C){C.setColor(m),C.style.opacity=g.opacity;for(var E=0;E<Zo.length;E++){var A=Zo[E],M=o.getState(A);if(M){var D=M.style||{},R=C.ensureState(A),L=R.style||(R.style={});D.stroke!=null&&(L[C.__isEmptyBrush?"stroke":"fill"]=D.stroke),D.opacity!=null&&(L.opacity=D.opacity)}}C.markRedraw()}},this);var y=a.getRawValue(n);Da(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(S,C){return a.getFormattedLabel(S,C,r.dataType)}},inheritColor:m||De.color.neutral99,defaultOpacity:g.opacity,defaultText:(y==null?r.getName(n):isFinite(y)?ii(y):y)+""});var x=this.getTextContent();if(x){var b=c.normal;x.__align=x.style.align,x.__verticalAlign=x.style.verticalAlign,x.__position=b.get("position")||"middle";var w=b.get("distance");We(w)||(w=[w,w]),x.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),Wn(this,d,h,f)},t.prototype.highlight=function(){Bf(this)},t.prototype.downplay=function(){zf(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");A4(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),a=r.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=Kv([],f,c);Jm(d,d);function h(M,D){var R=M.__specifiedRotation;if(R==null){var L=l.tangentAt(D);M.attr("rotation",(D===1?-1:1)*Math.PI/2-Math.atan2(L[1],L[0]))}else M.attr("rotation",R)}if(n&&(n.setPosition(c),h(n,0),n.scaleX=n.scaleY=o*u,n.markRedraw()),i&&(i.setPosition(f),h(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,p=void 0,g=a.__labelDistance,m=g[0]*o,y=g[1]*o,x=u/2,b=l.tangentAt(x),w=[b[1],-b[0]],S=l.pointAt(x);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var C=b[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var E=-Math.atan2(b[1],b[0]);f[0]<c[0]&&(E=Math.PI+E),a.rotation=E}var A=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":A=-y,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":A=y,p="top";break;default:A=0,p="middle"}switch(a.__position){case"end":a.x=d[0]*m+f[0],a.y=d[1]*y+f[1],v=d[0]>.8?"left":d[0]<-.8?"right":"center",p=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":a.x=-d[0]*m+c[0],a.y=-d[1]*y+c[1],v=d[0]>.8?"right":d[0]<-.8?"left":"center",p=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=m*C+c[0],a.y=c[1]+A,v=b[0]<0?"right":"left",a.originX=-m*C,a.originY=-A;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=S[0],a.y=S[1]+A,v="center",a.originY=-A;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-m*C+f[0],a.y=f[1]+A,v=b[0]>=0?"right":"left",a.originX=m*C,a.originY=-A;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||p,align:a.__align||v})}},t})($t),YN=(function(){function e(t){this.group=new $t,this._LineCtor=t||jN}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var o=AW(t);t.diff(a).add(function(s){r._doAdd(t,s,o)}).update(function(s,l){r._doUpdate(a,t,l,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=AW(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(s){!s.isGroup&&!GKe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=r.getItemLayout(i);if(gL(a)){var o=new this._LineCtor(r,i,this._seriesScope);o.traverse(n),this.group.add(o),r.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){Ih(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(gL(i)){var a=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,a),this.group.add(a)}},e.prototype._doUpdate=function(t,r,n,i,a){var o=t.getItemGraphicEl(n);if(!gL(r.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(r,i,a):o=new this._LineCtor(r,i,a),r.setItemGraphicEl(i,o),this.group.add(o)},e})();function GKe(e){return e.animators&&e.animators.length>0}function AW(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:ua(t)}}function EW(e){return isNaN(e[0])||isNaN(e[1])}function gL(e){return e&&!EW(e[0])&&!EW(e[1])}var mL=[],yL=[],xL=[],ng=Na,_L=dp,MW=Math.abs;function DW(e,t,r){for(var n=e[0],i=e[1],a=e[2],o=1/0,s,l=r*r,u=.1,c=.1;c<=.9;c+=.1){mL[0]=ng(n[0],i[0],a[0],c),mL[1]=ng(n[1],i[1],a[1],c);var f=MW(_L(mL,t)-l);f<o&&(o=f,s=c)}for(var d=0;d<32;d++){var h=s+u;yL[0]=ng(n[0],i[0],a[0],s),yL[1]=ng(n[1],i[1],a[1],s),xL[0]=ng(n[0],i[0],a[0],h),xL[1]=ng(n[1],i[1],a[1],h);var f=_L(yL,t)-l;if(MW(f)<.01)break;var v=_L(xL,t)-l;u/=2,f<0?v>=0?s=s+u:s=s-u:v>=0?s=s-u:s=s+u}return s}function bL(e,t){var r=[],n=__,i=[[],[],[]],a=[[],[]],o=[];t/=2,e.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[Tf(u[0]),Tf(u[1])],u[2]&&u.__original.push(Tf(u[2])));var d=u.__original;if(u[2]!=null){if(No(i[0],d[0]),No(i[1],d[2]),No(i[2],d[1]),c&&c!=="none"){var h=rx(s.node1),v=DW(i,d[0],h*t);n(i[0][0],i[1][0],i[2][0],v,r),i[0][0]=r[3],i[1][0]=r[4],n(i[0][1],i[1][1],i[2][1],v,r),i[0][1]=r[3],i[1][1]=r[4]}if(f&&f!=="none"){var h=rx(s.node2),v=DW(i,d[1],h*t);n(i[0][0],i[1][0],i[2][0],v,r),i[1][0]=r[1],i[2][0]=r[2],n(i[0][1],i[1][1],i[2][1],v,r),i[1][1]=r[1],i[2][1]=r[2]}No(u[0],i[0]),No(u[1],i[2]),No(u[2],i[1])}else{if(No(a[0],d[0]),No(a[1],d[1]),Kv(o,a[1],a[0]),Jm(o,o),c&&c!=="none"){var h=rx(s.node1);U3(a[0],a[0],o,h*t)}if(f&&f!=="none"){var h=rx(s.node2);U3(a[1],a[1],o,-h*t)}No(u[0],a[0]),No(u[1],a[1])}})}var tle=wr();function UKe(e){if(e)return tle(e).bridge}function PW(e,t){e&&(tle(e).bridge=t)}function RW(e){return e.type==="view"}var WKe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){var i=new Lb,a=new YN,o=this.group,s=new $t;this._controller=new v0(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),o.add(s),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=s,this._firstRender=!0},t.prototype.render=function(r,n,i){var a=this,o=r.coordinateSystem,s=!1;this._model=r,this._api=i,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(i);var u=this._symbolDraw,c=this._lineDraw;if(RW(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(f):Wr(this._mainGroup,f,r)}bL(r.getGraph(),tx(r));var d=r.getData();u.updateData(d);var h=r.getEdgeData();c.updateData(h),this._updateNodeAndLinkScale(),this._updateController(null,r,i),clearTimeout(this._layoutTimeout);var v=r.forceLayout,p=r.get(["force","layoutAnimation"]);v&&(s=!0,this._startForceLayoutIteration(v,i,p));var g=r.get("layout");d.graph.eachNode(function(b){var w=b.dataIndex,S=b.getGraphicEl(),C=b.getModel();if(S){S.off("drag").off("dragend");var E=C.get("draggable");E&&S.on("drag",function(M){switch(g){case"force":v.warmUp(),!a._layouting&&a._startForceLayoutIteration(v,i,p),v.setFixed(w),d.setItemLayout(w,[S.x,S.y]);break;case"circular":d.setItemLayout(w,[S.x,S.y]),b.setLayout({fixed:!0},!0),XN(r,"symbolSize",b,[M.offsetX,M.offsetY]),a.updateLayout(r);break;case"none":default:d.setItemLayout(w,[S.x,S.y]),WN(r.getGraph(),r),a.updateLayout(r);break}}).on("dragend",function(){v&&v.setUnfixed(w)}),S.setDraggable(E,!!C.get("cursor"));var A=C.get(["emphasis","focus"]);A==="adjacency"&&(qt(S).focus=b.getAdjacentDataIndices())}}),d.graph.eachEdge(function(b){var w=b.getGraphicEl(),S=b.getModel().get(["emphasis","focus"]);w&&S==="adjacency"&&(qt(w).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var m=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),y=d.getLayout("cx"),x=d.getLayout("cy");d.graph.eachNode(function(b){Jse(b,m,y,x)}),this._firstRender=!1,s||this._renderThumbnail(r,i,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(r,n,i){var a=this,o=!1;(function s(){r.step(function(l){a.updateLayout(a._model),(l||!o)&&(o=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(i?a._layoutTimeout=setTimeout(s,16):s())})})()},t.prototype._updateController=function(r,n,i){var a=this._controller,o=this._controllerHost,s=n.coordinateSystem;if(!RW(s)){a.disable();return}a.enable(n.get("roam"),{api:i,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,u,c){return s.containPoint([u,c])},isInClip:function(l,u,c){return!r||r.contain(u,c)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=s.getZoom(),a.off("pan").off("zoom").on("pan",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},t.prototype.updateViewOnPan=function(r,n,i){this._active&&(ON(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(r,n,i){this._active&&(FN(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),bL(r.getGraph(),tx(r)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),i=tx(r);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(r){this._active&&(bL(r.getGraph(),tx(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var r=this._model,n=r.coordinateSystem;if(n.type==="view"){var i=UKe(r);if(i)return{bridge:i,coordSys:n}}},t.prototype._updateThumbnailWindow=function(){var r=this._getThumbnailInfo();r&&r.bridge.updateWindow(r.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(r,n,i,a){var o=this._getThumbnailInfo();if(o){var s=new $t,l=i.group.children(),u=a.group.children(),c=new $t,f=new $t;s.add(f),s.add(c);for(var d=0;d<l.length;d++){var h=l[d],v=h.children()[0],p=h.x,g=h.y,m=Vt(v.shape),y=He(m,{width:v.scaleX,height:v.scaleY,x:p-v.scaleX/2,y:g-v.scaleY/2}),x=Vt(v.style),b=new v.constructor({shape:y,style:x,z2:151});f.add(b)}for(var d=0;d<u.length;d++){var h=u[d],w=h.children()[0],x=Vt(w.style),y=Vt(w.shape),S=new ele({style:x,shape:y,z2:151});c.add(S)}o.bridge.renderContent({api:n,roamType:r.get("roam"),viewportRect:null,group:s,targetTrans:o.coordSys.transform})}},t.type="graph",t})(zr);function ig(e){return"_EC_"+e}var rle=(function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,r){t=t==null?""+r:""+t;var n=this._nodesMap;if(!n[ig(t)]){var i=new Bv(t,r);return i.hostGraph=this,this.nodes.push(i),n[ig(t)]=i,i}},e.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},e.prototype.getNodeById=function(t){return this._nodesMap[ig(t)]},e.prototype.addEdge=function(t,r,n){var i=this._nodesMap,a=this._edgesMap;if(Br(t)&&(t=this.nodes[t]),Br(r)&&(r=this.nodes[r]),t instanceof Bv||(t=i[ig(t)]),r instanceof Bv||(r=i[ig(r)]),!(!t||!r)){var o=t.id+"-"+r.id,s=new nle(t,r,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),r.inEdges.push(s)),t.edges.push(s),t!==r&&r.edges.push(s),this.edges.push(s),a[o]=s,s}},e.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},e.prototype.getEdge=function(t,r){t instanceof Bv&&(t=t.id),r instanceof Bv&&(r=r.id);var n=this._edgesMap;return this._directed?n[t+"-"+r]:n[t+"-"+r]||n[r+"-"+t]},e.prototype.eachNode=function(t,r){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(r,n[a],a)},e.prototype.eachEdge=function(t,r){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(r,n[a],a)},e.prototype.breadthFirstTraverse=function(t,r,n,i){if(r instanceof Bv||(r=this._nodesMap[ig(r)]),!!r){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,r,null))for(var s=[r];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(i,f,l))return;s.push(f),f.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,r=this.edgeData,n=this.nodes,i=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a;r.filterSelf(function(s){var l=i[r.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=r.count();a<o;a++)i[r.getRawIndex(a)].dataIndex=a},e.prototype.clone=function(){for(var t=new e(this._directed),r=this.nodes,n=this.edges,i=0;i<r.length;i++)t.addNode(r[i].id,r[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e})(),Bv=(function(){function e(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=r??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Rt(),r=Rt(),n=0,i=this.edges.length;n<i;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var o=[a.node1],s=[a.node2],l=0;l<o.length;){var u=o[l];l++,r.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,d=c.length,h=void 0,v=void 0;f<d;f++)h=c[f],v=h.dataIndex,v>=0&&!t.hasKey(v)&&(t.set(v,!0),o.push(h.node1))}for(l=0;l<s.length;){var p=s[l];l++,r.set(p.dataIndex,!0);for(var g=p.outEdges,f=0,m=g.length,y=void 0,x=void 0;f<m;f++)y=g[f],x=y.dataIndex,x>=0&&!t.hasKey(x)&&(t.set(x,!0),s.push(y.node2))}}}return{edge:t.keys(),node:r.keys()}},e})(),nle=(function(){function e(t,r,n){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=n??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Rt(),r=Rt();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var o=n[a];a++,r.set(o.dataIndex,!0);for(var s=o.inEdges,l=0,u=s.length,c=void 0,f=void 0;l<u;l++)c=o.inEdges[l],f=c.dataIndex,f>=0&&!t.hasKey(f)&&(t.set(f,!0),n.push(c.node1))}for(a=0;a<i.length;){var d=i[a];a++,r.set(d.dataIndex,!0);for(var h=d.outEdges,l=0,u=h.length,v=void 0,p=void 0;l<u;l++)v=d.outEdges[l],p=v.dataIndex,p>=0&&!t.hasKey(p)&&(t.set(p,!0),i.push(v.node2))}return{edge:t.keys(),node:r.keys()}},e})();function ile(e,t){return{getValue:function(r){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}Ii(Bv,ile("hostGraph","data"));Ii(nle,ile("hostGraph","edgeData"));function KN(e,t,r,n,i){for(var a=new rle(n),o=0;o<e.length;o++)a.addNode(Qa(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;a.addEdge(f,d,u)&&(l.push(c),s.push(Qa(aa(c.id,null),f+" > "+d)),u++)}var h=r.get("coordinateSystem"),v;if(h==="cartesian2d"||h==="polar"||h==="matrix")v=Vc(e,r);else{var p=oy.get(h),g=p?p.dimensions||[]:[];ur(g,"value")<0&&g.concat(["value"]);var m=cy(e,{coordDimensions:g,encodeDefine:r.getEncode()}).dimensions;v=new oi(m,r),v.initData(e)}var y=new oi(["value"],r);return y.initData(l,s),i&&i(v,y),zN({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var XKe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new py(i,i),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(r){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Dp(r,"edgeLabel",["show"])},t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],o=this;if(a&&i){IKe(this);var s=KN(a,i,this,!0,l);return G(s.edges,function(u){kKe(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var p=o._categoriesModels,g=v.getShallow("category"),m=p[g];return m&&(m.parentModel=v.parentModel,v.parentModel=m),v});var f=pr.prototype.getModel;function d(v,p){var g=f.call(this,v,p);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=h,v.getModel=d,v});function h(v){if(v&&(v[0]==="label"||v[1]==="label")){var p=v.slice();return v[0]==="label"?p[0]="edgeLabel":v[1]==="label"&&(p[1]="edgeLabel"),p}return v}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(r,n,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(r,i),s=a.graph.getEdgeByIndex(r),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ji("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=oae({series:this,dataIndex:r,multipleSeries:n});return f},t.prototype._updateCategoriesData=function(){var r=Ye(this.option.categories||[],function(i){return i.value!=null?i:He({value:0},i)}),n=new oi(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:De.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:De.color.primary}}},t})(Xr);function jKe(e){e.registerChartView(WKe),e.registerSeriesModel(XKe),e.registerProcessor(MKe),e.registerVisual(DKe),e.registerVisual(PKe),e.registerLayout(OKe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,NKe),e.registerLayout(zKe),e.registerCoordinateSystem("graphView",{dimensions:p0.dimensions,create:VKe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ei),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ei),e.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",query:t},function(i){var a=n.getViewOfSeriesModel(i);a&&(t.dx!=null&&t.dy!=null&&a.updateViewOnPan(i,n,t),t.zoom!=null&&t.originX!=null&&t.originY!=null&&a.updateViewOnZoom(i,n,t));var o=i.coordinateSystem,s=aM(o,t,i.get("scaleLimit"));i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var LW=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this)||this;qt(a).dataType="node",a.z2=2;var o=new Pr;return a.setTextContent(o),a.updateData(r,n,i,!0),a}return t.prototype.updateData=function(r,n,i,a){var o=this,s=r.graph.getNodeByIndex(n),l=r.hostModel,u=s.getModel(),c=u.getModel("emphasis"),f=r.getItemLayout(n),d=He(pc(u.getModel("itemStyle"),f,!0),f),h=this;if(isNaN(d.startAngle)){h.setShape(d);return}a?h.setShape(d):Wr(h,{shape:d},l,n);var v=He(pc(u.getModel("itemStyle"),f,!0),f);o.setShape(v),o.useStyle(r.getItemVisual(n,"style")),la(o,u),this._updateLabel(l,u,s),r.setItemGraphicEl(n,h),la(h,u,"itemStyle");var p=c.get("focus");Wn(this,p==="adjacency"?s.getAdjacentDataIndices():p,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r,n,i){var a=this.getTextContent(),o=i.getLayout(),s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),c=n.getModel("label");a.ignore=!c.get("show");var f=ua(n),d=i.getVisual("style");Da(a,f,{labelFetcher:{getFormattedLabel:function(y,x,b,w,S,C){return r.getFormattedLabel(y,x,"node",w,$s(S,f.normal&&f.normal.get("formatter"),n.get("name")),C)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:"startArc"});var h=c.get("position")||"outside",v=c.get("distance")||0,p;h==="outside"?p=o.r+v:p=(o.r+o.r0)/2,this.textConfig={inside:h!=="outside"};var g=h!=="outside"?c.get("align")||"center":l>0?"left":"right",m=h!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*p+o.cx,y:u*p+o.cy,rotation:0,style:{align:g,verticalAlign:m}})},t})(To),YKe=(function(e){Ae(t,e);function t(r,n,i,a){var o=e.call(this)||this;return qt(o).dataType="edge",o.updateData(r,n,i,a,!0),o}return t.prototype.buildPath=function(r,n){r.moveTo(n.s1[0],n.s1[1]);var i=.7,a=n.clockwise;r.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),r.bezierCurveTo((n.cx-n.s2[0])*i+n.s2[0],(n.cy-n.s2[1])*i+n.s2[1],(n.cx-n.t1[0])*i+n.t1[0],(n.cy-n.t1[1])*i+n.t1[1],n.t1[0],n.t1[1]),r.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),r.bezierCurveTo((n.cx-n.t2[0])*i+n.t2[0],(n.cy-n.t2[1])*i+n.t2[1],(n.cx-n.s1[0])*i+n.s1[0],(n.cy-n.s1[1])*i+n.s1[1],n.s1[0],n.s1[1]),r.closePath()},t.prototype.updateData=function(r,n,i,a,o){var s=r.hostModel,l=n.graph.getEdgeByIndex(i),u=l.getLayout(),c=l.node1.getModel(),f=n.getItemModel(l.dataIndex),d=f.getModel("lineStyle"),h=f.getModel("emphasis"),v=h.get("focus"),p=He(pc(c.getModel("itemStyle"),u,!0),u),g=this;if(isNaN(p.sStartAngle)||isNaN(p.tStartAngle)){g.setShape(p);return}o?(g.setShape(p),IW(g,l,r,d)):(Vl(g),IW(g,l,r,d),Wr(g,{shape:p},s,i)),Wn(this,v==="adjacency"?l.getAdjacentDataIndices():v,h.get("blurScope"),h.get("disabled")),la(g,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,g)},t})(Cr);function IW(e,t,r,n){var i=t.node1,a=t.node2,o=e.style;e.setStyle(n.getLineStyle());var s=n.get("color");switch(s){case"source":o.fill=r.getItemVisual(i.dataIndex,"style").fill,o.decal=i.getVisual("style").decal;break;case"target":o.fill=r.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var l=r.getItemVisual(i.dataIndex,"style").fill,u=r.getItemVisual(a.dataIndex,"style").fill;if(pt(l)&&pt(u)){var c=e.shape,f=(c.s1[0]+c.s2[0])/2,d=(c.s1[1]+c.s2[1])/2,h=(c.t1[0]+c.t2[0])/2,v=(c.t1[1]+c.t2[1])/2;o.fill=new ry(f,d,h,v,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var KKe=Math.PI/180,ZKe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){},t.prototype.render=function(r,n,i){var a=r.getData(),o=this._data,s=this.group,l=-r.get("startAngle")*KKe;if(a.diff(o).add(function(c){var f=a.getItemLayout(c);if(f){var d=new LW(a,c,l);qt(d).dataIndex=c,s.add(d)}}).update(function(c,f){var d=o.getItemGraphicEl(f),h=a.getItemLayout(c);if(!h){d&&Af(d,r,f);return}d?d.updateData(a,c,l):d=new LW(a,c,l),s.add(d)}).remove(function(c){var f=o.getItemGraphicEl(c);f&&Af(f,r,c)}).execute(),!o){var u=r.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=ft(u[0],i.getWidth()),this.group.originY=ft(u[1],i.getHeight()),Hn(this.group,{scaleX:1,scaleY:1},r)}this._data=a,this.renderEdges(r,l)},t.prototype.renderEdges=function(r,n){var i=r.getData(),a=r.getEdgeData(),o=this._edgeData,s=this.group;a.diff(o).add(function(l){var u=new YKe(i,a,l,n);qt(u).dataIndex=l,s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(i,a,l,n),s.add(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&Af(u,r,l)}).execute(),this._edgeData=a},t.prototype.dispose=function(){},t.type="chord",t})(zr),qKe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this.legendVisualProvider=new py(mt(this.getData,this),mt(this.getRawData,this))},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links)},t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[];if(a&&i){var o=KN(a,i,this,!0,s);return o.data}function s(l,u){var c=pr.prototype.getModel;function f(h,v){var p=c.call(this,h,v);return p.resolveParentPath=d,p}u.wrapMethod("getItemModel",function(h){return h.resolveParentPath=d,h.getModel=f,h});function d(h){if(h&&(h[0]==="label"||h[1]==="label")){var v=h.slice();return h[0]==="label"?v[0]="edgeLabel":h[1]==="label"&&(v[1]="edgeLabel"),v}return h}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(r,n,i){var a=this.getDataParams(r,i);if(i==="edge"){var o=this.getData(),s=o.graph.getEdgeByIndex(r),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ji("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return ji("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},t.prototype.getDataParams=function(r,n){var i=e.prototype.getDataParams.call(this,r,n);if(n==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(r);if(i.name==null&&(i.name=a.getName(r)),i.value==null){var s=o.getLayout().value;i.value=s}}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t})(Xr),wL=Math.PI/180;function JKe(e,t){e.eachSeriesByType("chord",function(r){QKe(r,t)})}function QKe(e,t){var r=e.getData(),n=r.graph,i=e.getEdgeData(),a=i.count();if(a){var o=Tie(e,t),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=Math.max((e.get("padAngle")||0)*wL,0),d=Math.max((e.get("minAngle")||0)*wL,0),h=-e.get("startAngle")*wL,v=h+Math.PI*2,p=e.get("clockwise"),g=p?1:-1,m=[h,v];BE(m,!p);var y=m[0],x=m[1],b=x-y,w=r.getSum("value")===0&&i.getSum("value")===0,S=[],C=0;n.eachEdge(function(V){var U=w?1:V.getValue("value");w&&(U>0||d)&&(C+=2);var K=V.node1.dataIndex,q=V.node2.dataIndex;S[K]=(S[K]||0)+U,S[q]=(S[q]||0)+U});var E=0;if(n.eachNode(function(V){var U=V.getValue("value");isNaN(U)||(S[V.dataIndex]=Math.max(U,S[V.dataIndex]||0)),!w&&(S[V.dataIndex]>0||d)&&C++,E+=S[V.dataIndex]||0}),!(C===0||E===0)){f*C>=Math.abs(b)&&(f=Math.max(0,(Math.abs(b)-d*C)/C)),(f+d)*C>=Math.abs(b)&&(d=(Math.abs(b)-f*C)/C);var A=(b-f*C*g)/E,M=0,D=0,R=0;n.eachNode(function(V){var U=S[V.dataIndex]||0,K=A*(E?U:1)*g;Math.abs(K)<d?M+=d-Math.abs(K):(D+=Math.abs(K)-d,R+=Math.abs(K)),V.setLayout({angle:K,value:U})});var L=!1;if(M>D){var k=M/D;n.eachNode(function(V){var U=V.getLayout().angle;Math.abs(U)>=d?V.setLayout({angle:U*k,ratio:k},!0):V.setLayout({angle:d,ratio:d===0?1:U/d},!0)})}else n.eachNode(function(V){if(!L){var U=V.getLayout().angle,K=Math.min(U/R,1),q=K*M;U-q<d&&(L=!0)}});var O=M;n.eachNode(function(V){if(!(O<=0)){var U=V.getLayout().angle;if(U>d&&d>0){var K=L?1:Math.min(U/R,1),q=U-d,N=Math.min(q,Math.min(O,M*K));O-=N,V.setLayout({angle:U-N,ratio:(U-N)/U},!0)}else d>0&&V.setLayout({angle:d,ratio:U===0?1:d/U},!0)}});var F=y,H=[];n.eachNode(function(V){var U=Math.max(V.getLayout().angle,d);V.setLayout({cx:s,cy:l,r0:c,r:u,startAngle:F,endAngle:F+U*g,clockwise:p},!0),H[V.dataIndex]=F,F+=(U+f)*g}),n.eachEdge(function(V){var U=w?1:V.getValue("value"),K=A*(E?U:1)*g,q=V.node1.dataIndex,N=H[q]||0,W=Math.abs((V.node1.getLayout().ratio||1)*K),j=N+W*g,Z=[s+c*Math.cos(N),l+c*Math.sin(N)],ve=[s+c*Math.cos(j),l+c*Math.sin(j)],Te=V.node2.dataIndex,Se=H[Te]||0,te=Math.abs((V.node2.getLayout().ratio||1)*K),pe=Se+te*g,Re=[s+c*Math.cos(Se),l+c*Math.sin(Se)],z=[s+c*Math.cos(pe),l+c*Math.sin(pe)];V.setLayout({s1:Z,s2:ve,sStartAngle:N,sEndAngle:j,t1:Re,t2:z,tStartAngle:Se,tEndAngle:pe,cx:s,cy:l,r:c,value:U,clockwise:p}),H[q]=j,H[Te]=pe})}}}function eZe(e){e.registerChartView(ZKe),e.registerSeriesModel(qKe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,JKe),e.registerProcessor(hy("chord"))}var tZe=(function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e})(),rZe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new tZe},t.prototype.buildPath=function(r,n){var i=Math.cos,a=Math.sin,o=n.r,s=n.width,l=n.angle,u=n.x-i(l)*s*(s>=o/3?1:2),c=n.y-a(l)*s*(s>=o/3?1:2);l=n.angle-Math.PI/2,r.moveTo(u,c),r.lineTo(n.x+i(l)*s,n.y+a(l)*s),r.lineTo(n.x+i(n.angle)*o,n.y+a(n.angle)*o),r.lineTo(n.x-i(l)*s,n.y-a(l)*s),r.lineTo(u,c)},t})(Cr);function nZe(e,t){var r=e.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),o=ft(r[0],t.getWidth()),s=ft(r[1],t.getHeight()),l=ft(e.get("radius"),a/2);return{cx:o,cy:s,r:l}}function h2(e,t){var r=e==null?"":e+"";return t&&(pt(t)?r=t.replace("{value}",r):Ht(t)&&(r=t(e))),r}var iZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeAll();var a=r.get(["axisLine","lineStyle","color"]),o=nZe(r,i);this._renderMain(r,n,i,a,o),this._data=r.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(r,n,i,a,o){var s=this.group,l=r.get("clockwise"),u=-r.get("startAngle")/180*Math.PI,c=-r.get("endAngle")/180*Math.PI,f=r.getModel("axisLine"),d=f.get("roundCap"),h=d?JT:To,v=f.get("show"),p=f.getModel("lineStyle"),g=p.get("width"),m=[u,c];BE(m,!l),u=m[0],c=m[1];for(var y=c-u,x=u,b=[],w=0;v&&w<a.length;w++){var S=Math.min(Math.max(a[w][0],0),1);c=u+y*S;var C=new h({shape:{startAngle:x,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-g,r:o.r},silent:!0});C.setStyle({fill:a[w][1]}),C.setStyle(p.getLineStyle(["color","width"])),b.push(C),x=c}b.reverse(),G(b,function(A){return s.add(A)});var E=function(A){if(A<=0)return a[0][1];var M;for(M=0;M<a.length;M++)if(a[M][0]>=A&&(M===0?0:a[M-1][0])<A)return a[M][1];return a[M-1][1]};this._renderTicks(r,n,i,E,o,u,c,l,g),this._renderTitleAndDetail(r,n,i,E,o),this._renderAnchor(r,o),this._renderPointer(r,n,i,E,o,u,c,l,g)},t.prototype._renderTicks=function(r,n,i,a,o,s,l,u,c){for(var f=this.group,d=o.cx,h=o.cy,v=o.r,p=+r.get("min"),g=+r.get("max"),m=r.getModel("splitLine"),y=r.getModel("axisTick"),x=r.getModel("axisLabel"),b=r.get("splitNumber"),w=y.get("splitNumber"),S=ft(m.get("length"),v),C=ft(y.get("length"),v),E=s,A=(l-s)/b,M=A/w,D=m.getModel("lineStyle").getLineStyle(),R=y.getModel("lineStyle").getLineStyle(),L=m.get("distance"),k,O,F=0;F<=b;F++){if(k=Math.cos(E),O=Math.sin(E),m.get("show")){var H=L?L+c:c,V=new Gi({shape:{x1:k*(v-H)+d,y1:O*(v-H)+h,x2:k*(v-S-H)+d,y2:O*(v-S-H)+h},style:D,silent:!0});D.stroke==="auto"&&V.setStyle({stroke:a(F/b)}),f.add(V)}if(x.get("show")){var H=x.get("distance")+L,U=h2(ii(F/b*(g-p)+p),x.get("formatter")),K=a(F/b),q=k*(v-S-H)+d,N=O*(v-S-H)+h,W=x.get("rotate"),j=0;W==="radial"?(j=-E+2*Math.PI,j>Math.PI/2&&(j+=Math.PI)):W==="tangential"?j=-E-Math.PI/2:Br(W)&&(j=W*Math.PI/180),j===0?f.add(new Pr({style:gn(x,{text:U,x:q,y:N,verticalAlign:O<-.8?"top":O>.8?"bottom":"middle",align:k<-.4?"left":k>.4?"right":"center"},{inheritColor:K}),silent:!0})):f.add(new Pr({style:gn(x,{text:U,x:q,y:N,verticalAlign:"middle",align:"center"},{inheritColor:K}),silent:!0,originX:q,originY:N,rotation:j}))}if(y.get("show")&&F!==b){var H=y.get("distance");H=H?H+c:c;for(var Z=0;Z<=w;Z++){k=Math.cos(E),O=Math.sin(E);var ve=new Gi({shape:{x1:k*(v-H)+d,y1:O*(v-H)+h,x2:k*(v-C-H)+d,y2:O*(v-C-H)+h},silent:!0,style:R});R.stroke==="auto"&&ve.setStyle({stroke:a((F+Z/w)/b)}),f.add(ve),E+=M}E-=M}else E+=A}},t.prototype._renderPointer=function(r,n,i,a,o,s,l,u,c){var f=this.group,d=this._data,h=this._progressEls,v=[],p=r.get(["pointer","show"]),g=r.getModel("progress"),m=g.get("show"),y=r.getData(),x=y.mapDimension("value"),b=+r.get("min"),w=+r.get("max"),S=[b,w],C=[s,l];function E(M,D){var R=y.getItemModel(M),L=R.getModel("pointer"),k=ft(L.get("width"),o.r),O=ft(L.get("length"),o.r),F=r.get(["pointer","icon"]),H=L.get("offsetCenter"),V=ft(H[0],o.r),U=ft(H[1],o.r),K=L.get("keepAspect"),q;return F?q=Pi(F,V-k/2,U-O,k,O,null,K):q=new rZe({shape:{angle:-Math.PI/2,width:k,r:O,x:V,y:U}}),q.rotation=-(D+Math.PI/2),q.x=o.cx,q.y=o.cy,q}function A(M,D){var R=g.get("roundCap"),L=R?JT:To,k=g.get("overlap"),O=k?g.get("width"):c/y.count(),F=k?o.r-O:o.r-(M+1)*O,H=k?o.r:o.r-M*O,V=new L({shape:{startAngle:s,endAngle:D,cx:o.cx,cy:o.cy,clockwise:u,r0:F,r:H}});return k&&(V.z2=qr(y.get(x,M),[b,w],[100,0],!0)),V}(m||p)&&(y.diff(d).add(function(M){var D=y.get(x,M);if(p){var R=E(M,s);Hn(R,{rotation:-((isNaN(+D)?C[0]:qr(D,S,C,!0))+Math.PI/2)},r),f.add(R),y.setItemGraphicEl(M,R)}if(m){var L=A(M,s),k=g.get("clip");Hn(L,{shape:{endAngle:qr(D,S,C,k)}},r),f.add(L),xk(r.seriesIndex,y.dataType,M,L),v[M]=L}}).update(function(M,D){var R=y.get(x,M);if(p){var L=d.getItemGraphicEl(D),k=L?L.rotation:s,O=E(M,k);O.rotation=k,Wr(O,{rotation:-((isNaN(+R)?C[0]:qr(R,S,C,!0))+Math.PI/2)},r),f.add(O),y.setItemGraphicEl(M,O)}if(m){var F=h[D],H=F?F.shape.endAngle:s,V=A(M,H),U=g.get("clip");Wr(V,{shape:{endAngle:qr(R,S,C,U)}},r),f.add(V),xk(r.seriesIndex,y.dataType,M,V),v[M]=V}}).execute(),y.each(function(M){var D=y.getItemModel(M),R=D.getModel("emphasis"),L=R.get("focus"),k=R.get("blurScope"),O=R.get("disabled");if(p){var F=y.getItemGraphicEl(M),H=y.getItemVisual(M,"style"),V=H.fill;if(F instanceof Ra){var U=F.style;F.useStyle(He({image:U.image,x:U.x,y:U.y,width:U.width,height:U.height},H))}else F.useStyle(H),F.type!=="pointer"&&F.setColor(V);F.setStyle(D.getModel(["pointer","itemStyle"]).getItemStyle()),F.style.fill==="auto"&&F.setStyle("fill",a(qr(y.get(x,M),S,[0,1],!0))),F.z2EmphasisLift=0,la(F,D),Wn(F,L,k,O)}if(m){var K=v[M];K.useStyle(y.getItemVisual(M,"style")),K.setStyle(D.getModel(["progress","itemStyle"]).getItemStyle()),K.z2EmphasisLift=0,la(K,D),Wn(K,L,k,O)}}),this._progressEls=v)},t.prototype._renderAnchor=function(r,n){var i=r.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Pi(s,n.cx-o/2+ft(l[0],n.r),n.cy-o/2+ft(l[1],n.r),o,o,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(r,n,i,a,o){var s=this,l=r.getData(),u=l.mapDimension("value"),c=+r.get("min"),f=+r.get("max"),d=new $t,h=[],v=[],p=r.isAnimationEnabled(),g=r.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){h[m]=new Pr({silent:!0}),v[m]=new Pr({silent:!0})}).update(function(m,y){h[m]=s._titleEls[y],v[m]=s._detailEls[y]}).execute(),l.each(function(m){var y=l.getItemModel(m),x=l.get(u,m),b=new $t,w=a(qr(x,[c,f],[0,1],!0)),S=y.getModel("title");if(S.get("show")){var C=S.get("offsetCenter"),E=o.cx+ft(C[0],o.r),A=o.cy+ft(C[1],o.r),M=h[m];M.attr({z2:g?0:2,style:gn(S,{x:E,y:A,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:w})}),b.add(M)}var D=y.getModel("detail");if(D.get("show")){var R=D.get("offsetCenter"),L=o.cx+ft(R[0],o.r),k=o.cy+ft(R[1],o.r),O=ft(D.get("width"),o.r),F=ft(D.get("height"),o.r),H=r.get(["progress","show"])?l.getItemVisual(m,"style").fill:w,M=v[m],V=D.get("formatter");M.attr({z2:g?0:2,style:gn(D,{x:L,y:k,text:h2(x,V),width:isNaN(O)?null:O,height:isNaN(F)?null:F,align:"center",verticalAlign:"middle"},{inheritColor:H})}),aie(M,{normal:D},x,function(K){return h2(K,V)}),p&&oie(M,m,l,r,{getFormattedLabel:function(K,q,N,W,j,Z){return h2(Z?Z.interpolatedValue:x,V)}}),b.add(M)}d.add(b)}),this.group.add(d),this._titleEls=h,this._detailEls=v},t.type="gauge",t})(zr),aZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="itemStyle",r}return t.prototype.getInitialData=function(r,n){return vy(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,De.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:De.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:De.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:De.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:De.color.neutral00,borderWidth:0,borderColor:De.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:De.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:De.color.transparent,borderWidth:0,borderColor:De.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:De.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t})(Xr);function oZe(e){e.registerChartView(iZe),e.registerSeriesModel(aZe)}var sZe=["itemStyle","opacity"],lZe=(function(e){Ae(t,e);function t(r,n){var i=e.call(this)||this,a=i,o=new no,s=new Pr;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(r,n,!0),i}return t.prototype.updateData=function(r,n,i){var a=this,o=r.hostModel,s=r.getItemModel(n),l=r.getItemLayout(n),u=s.getModel("emphasis"),c=s.get(sZe);c=c??1,i||Vl(a),a.useStyle(r.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Hn(a,{style:{opacity:c}},o,n)):Wr(a,{style:{opacity:c},shape:{points:l.points}},o,n),la(a,s),this._updateLabel(r,n),Wn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=r.hostModel,l=r.getItemModel(n),u=r.getItemLayout(n),c=u.label,f=r.getItemVisual(n,"style"),d=f.fill;Da(o,ua(l),{labelFetcher:r.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:r.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var h=l.getModel("label"),v=h.get("color"),p=v==="inherit"?d:null;i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:p,outsideFill:p});var g=c.linePoints;a.setShape({points:g}),i.textGuideLineConfig={anchor:g?new Wt(g[0][0],g[0][1]):null},Wr(o,{style:{x:c.x,y:c.y}},s,n),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),_N(i,bN(l),{stroke:d})},t})(Ao),uZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i){var a=r.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new lZe(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);Af(u,r,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t})(zr),cZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new py(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.getInitialData=function(r,n){return vy(this,{coordDimensions:["value"],encodeDefaulter:lr(KF,this)})},t.prototype._defaultLabelLine=function(r){Dp(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.prototype.getDataParams=function(r){var n=this.getData(),i=e.prototype.getDataParams.call(this,r),a=n.mapDimension("value"),o=n.getSum(a);return i.percent=o?+(n.get(a,r)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:De.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:De.color.primary}}},t})(Xr);function fZe(e,t){for(var r=e.mapDimension("value"),n=e.mapArray(r,function(l){return l}),i=[],a=t==="ascending",o=0,s=e.count();o<s;o++)i[o]=o;return Ht(t)?i.sort(t):t!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function dZe(e){var t=e.hostModel,r=t.get("orient");e.each(function(n){var i=e.getItemModel(n),a=i.getModel("label"),o=a.get("position"),s=i.getModel("labelLine"),l=e.getItemLayout(n),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,d,h,v;if(c)o==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),v=[[d,h],[d,h]];else{var p=void 0,g=void 0,m=void 0,y=void 0,x=s.get("length");o==="left"?(p=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=p-x,d=m-5,f="right"):o==="right"?(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=p+x,d=m+5,f="left"):o==="top"?(p=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,y=g-x,h=y-5,f="center"):o==="bottom"?(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,y=g+x,h=y+5,f="center"):o==="rightTop"?(p=r==="horizontal"?u[3][0]:u[1][0],g=r==="horizontal"?u[3][1]:u[1][1],r==="horizontal"?(y=g-x,h=y-5,f="center"):(m=p+x,d=m+5,f="top")):o==="rightBottom"?(p=u[2][0],g=u[2][1],r==="horizontal"?(y=g+x,h=y+5,f="center"):(m=p+x,d=m+5,f="bottom")):o==="leftTop"?(p=u[0][0],g=r==="horizontal"?u[0][1]:u[1][1],r==="horizontal"?(y=g-x,h=y-5,f="center"):(m=p-x,d=m-5,f="right")):o==="leftBottom"?(p=r==="horizontal"?u[1][0]:u[3][0],g=r==="horizontal"?u[1][1]:u[2][1],r==="horizontal"?(y=g+x,h=y+5,f="center"):(m=p-x,d=m-5,f="right")):(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,r==="horizontal"?(y=g+x,h=y+5,f="center"):(m=p+x,d=m+5,f="left")),r==="horizontal"?(m=p,d=m):(y=g,h=y),v=[[p,g],[m,y]]}l.label={linePoints:v,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function hZe(e,t){e.eachSeriesByType("funnel",function(r){var n=r.getData(),i=n.mapDimension("value"),a=r.get("sort"),o=ca(r,t),s=Dn(r.getBoxLayoutParams(),o.refContainer),l=r.get("orient"),u=s.width,c=s.height,f=fZe(n,a),d=s.x,h=s.y,v=l==="horizontal"?[ft(r.get("minSize"),c),ft(r.get("maxSize"),c)]:[ft(r.get("minSize"),u),ft(r.get("maxSize"),u)],p=n.getDataExtent(i),g=r.get("min"),m=r.get("max");g==null&&(g=Math.min(p[0],0)),m==null&&(m=p[1]);var y=r.get("funnelAlign"),x=r.get("gap"),b=l==="horizontal"?u:c,w=(b-x*(n.count()-1))/n.count(),S=function(O,F){if(l==="horizontal"){var H=n.get(i,O)||0,V=qr(H,[g,m],v,!0),U=void 0;switch(y){case"top":U=h;break;case"center":U=h+(c-V)/2;break;case"bottom":U=h+(c-V);break}return[[F,U],[F,U+V]]}var K=n.get(i,O)||0,q=qr(K,[g,m],v,!0),N;switch(y){case"left":N=d;break;case"center":N=d+(u-q)/2;break;case"right":N=d+u-q;break}return[[N,F],[N+q,F]]};a==="ascending"&&(w=-w,x=-x,l==="horizontal"?d+=u:h+=c,f=f.reverse());for(var C=0;C<f.length;C++){var E=f[C],A=f[C+1],M=n.getItemModel(E);if(l==="horizontal"){var D=M.get(["itemStyle","width"]);D==null?D=w:(D=ft(D,u),a==="ascending"&&(D=-D));var R=S(E,d),L=S(A,d+D);d+=D+x,n.setItemLayout(E,{points:R.concat(L.slice().reverse())})}else{var k=M.get(["itemStyle","height"]);k==null?k=w:(k=ft(k,c),a==="ascending"&&(k=-k));var R=S(E,h),L=S(A,h+k);h+=k+x,n.setItemLayout(E,{points:R.concat(L.slice().reverse())})}}dZe(n)})}function vZe(e){e.registerChartView(uZe),e.registerSeriesModel(cZe),e.registerLayout(hZe),e.registerProcessor(hy("funnel"))}var pZe=.3,gZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._dataGroup=new $t,r._initialized=!1,r}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(r,n,i,a){this._progressiveEls=null;var o=this._dataGroup,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.dimensions,f=OW(r);s.diff(l).add(d).update(h).remove(v).execute();function d(g){var m=kW(s,o,g,c,u);SL(m,s,g,f)}function h(g,m){var y=l.getItemGraphicEl(m),x=ale(s,g,c,u);s.setItemGraphicEl(g,y),Wr(y,{shape:{points:x}},r,g),Vl(y),SL(y,s,g,f)}function v(g){var m=l.getItemGraphicEl(g);o.remove(m)}if(!this._initialized){this._initialized=!0;var p=mZe(u,r,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(p)}this._data=s},t.prototype.incrementalPrepareRender=function(r,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(r,n,i){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,l=OW(n),u=this._progressiveEls=[],c=r.start;c<r.end;c++){var f=kW(a,this._dataGroup,c,s,o);f.incremental=!0,SL(f,a,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t})(zr);function mZe(e,t,r){var n=e.model,i=e.getRect(),a=new vr({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Hn(a,{shape:{width:i.width,height:i.height}},t,r),a}function ale(e,t,r,n){for(var i=[],a=0;a<r.length;a++){var o=r[a],s=e.get(e.mapDimension(o),t);yZe(s,n.getAxis(o).type)||i.push(n.dataToPoint(s,o))}return i}function kW(e,t,r,n,i){var a=ale(e,r,n,i),o=new no({shape:{points:a},z2:10});return t.add(o),e.setItemGraphicEl(r,o),o}function OW(e){var t=e.get("smooth",!0);return t===!0&&(t=pZe),t=Nf(t),xo(t)&&(t=0),{smooth:t}}function SL(e,t,r,n){e.useStyle(t.getItemVisual(r,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var i=t.getItemModel(r),a=i.getModel("emphasis");la(e,i,"lineStyle"),Wn(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function yZe(e,t){return t==="category"?e==null:e==null||isNaN(e)}var xZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.getInitialData=function(r,n){return Vc(null,this,{useEncodeDefaulter:mt(_Ze,null,this)})},t.prototype.getRawIndicesByActiveState=function(r){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(o,s){r===o&&a.push(i.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t})(Xr);function _Ze(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var r={};return G(t.dimensions,function(n){var i=bZe(n);r[n]=i}),r}}function bZe(e){return+e.replace("dim","")}var wZe=["lineStyle","opacity"],SZe={seriesType:"parallel",reset:function(e,t){var r=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(i,a){r.eachActiveState(a,function(o,s){var l=n[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(wZe,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function CZe(e){TZe(e),AZe(e)}function TZe(e){if(!e.parallel){var t=!1;G(e.series,function(r){r&&r.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function AZe(e){var t=Mn(e.parallelAxis);G(t,function(r){if(Xt(r)){var n=r.parallelIndex||0,i=Mn(e.parallel)[n];i&&i.parallelAxisDefault&&Et(r,i.parallelAxisDefault,!1)}})}var EZe=5,MZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this._model=r,this._api=i,this._handlers||(this._handlers={},G(DZe,function(a,o){i.getZr().on(o,this._handlers[o]=mt(a,this))},this)),ly(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(r,n){R_(this,"_throttledDispatchExpand"),G(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},t.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(He({type:"parallelAxisExpand"},r))},t.type="parallel",t})(Cn),DZe={mousedown:function(e){CL(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(CL(this,"click")&&t){var r=[e.offsetX,e.offsetY],n=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2);if(n>EZe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!CL(this,"mousemove"))){var t=this._model,r=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=r.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function CL(e,t){var r=e._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===t}var PZe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(r){var n=this.option;r&&Et(n,r,!0),this._initDimensions()},t.prototype.contains=function(r,n){var i=r.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(r){G(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){r.hasOwnProperty(n)&&(this.option[n]=r[n])},this)},t.prototype._initDimensions=function(){var r=this.dimensions=[],n=this.parallelAxisIndex=[],i=on(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);G(i,function(a){r.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t})(dr),RZe=(function(e){Ae(t,e);function t(r,n,i,a,o){var s=e.call(this,r,n,i)||this;return s.type=a||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t})(es);function wh(e,t,r,n,i,a){e=e||0;var o=r[1]-r[0];if(i!=null&&(i=ag(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=ag(s,[0,o]),i=a=ag(s,[i,a]),n=0}t[0]=ag(t[0],r),t[1]=ag(t[1],r);var l=TL(t,n);t[n]+=e;var u=i||0,c=r.slice();l.sign<0?c[0]+=u:c[1]-=u,t[n]=ag(t[n],c);var f;return f=TL(t,n),i!=null&&(f.sign!==l.sign||f.span<i)&&(t[1-n]=t[n]+l.sign*i),f=TL(t,n),a!=null&&f.span>a&&(t[1-n]=t[n]+f.sign*a),t}function TL(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function ag(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var AL=G,ole=Math.min,sle=Math.max,FW=Math.floor,LZe=Math.ceil,NW=ii,IZe=Math.PI,kZe=(function(){function e(t,r,n){this.type="parallel",this._axesMap=Rt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=t.dimensions,a=t.parallelAxisIndex;AL(i,function(o,s){var l=a[s],u=r.getComponent("parallelAxis",l),c=this._axesMap.set(o,new RZe(o,Pb(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},e.prototype.update=function(t,r){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var r=this._makeLayoutInfo(),n=r.axisBase,i=r.layoutBase,a=r.pixelDimIndex,o=t[1-a],s=t[a];return o>=n&&o<=n+r.axisLength&&s>=i&&s<=i+r.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(n){if(t.contains(n,r)){var i=n.getData();AL(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),Fp(o.scale,o.model)},this)}},this)},e.prototype.resize=function(t,r){var n=ca(t,r).refContainer;this._rect=Dn(t.getBoxLayoutParams(),n),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,r=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,s=r[i[o]],l=[0,s],u=this.dimensions.length,c=v2(t.get("axisExpandWidth"),l),f=v2(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,h=t.get("axisExpandWindow"),v;if(h)v=v2(h[1]-h[0],l),h[1]=h[0]+v;else{v=v2(c*(f-1),l);var p=t.get("axisExpandCenter")||FW(u/2);h=[c*p-v/2],h[1]=h[0]+v}var g=(s-v)/(u-f);g<3&&(g=0);var m=[FW(NW(h[0]/c,1))+1,LZe(NW(h[1]/c,1))-1],y=g/c*h[0];return{layout:a,pixelDimIndex:o,layoutBase:r[n[o]],layoutLength:s,axisBase:r[n[1-o]],axisLength:r[i[1-o]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:y}},e.prototype._layoutAxes=function(){var t=this._rect,r=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;r.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),AL(n,function(o,s){var l=(i.axisExpandable?FZe:OZe)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:IZe/2,vertical:0},f=[u[a].x+t.x,u[a].y+t.y],d=c[a],h=$a();Lh(h,h,d),Dc(h,h,f),this._axesLayout[o]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(t),r)},e.prototype.eachActiveState=function(t,r,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];G(o,function(g){s.push(t.mapDimension(g)),l.push(a.get(g).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=t.getValues(s,c),h=0,v=o.length;h<v;h++){var p=l[h].getActiveState(d[h]);if(p==="inactive"){f="inactive";break}}}r(f,c)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,r=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)r.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},e.prototype.axisCoordToPoint=function(t,r){var n=this._axesLayout[r];return gu([t,0],n.transform)},e.prototype.getAxisLayout=function(t){return Vt(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var r=this._makeLayoutInfo(),n=r.pixelDimIndex,i=r.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[n]-r.layoutBase-r.axisExpandWindow0Pos,l,u="slide",c=r.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):d&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=r.axisExpandWidth/c,l?wh(l,i,o,"all"):u="none";else{var h=i[1]-i[0],v=o[1]*s/h;i=[sle(0,v-h/2)],i[1]=ole(o[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:u}},e})();function v2(e,t){return ole(sle(e,t[0]),t[1])}function OZe(e,t){var r=t.layoutLength/(t.axisCount-1);return{position:r*e,axisNameAvailableWidth:r,axisLabelShow:!0}}function FZe(e,t){var r=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,s,l=a,u=!1,c;return e<o[0]?(s=e*a,c=a):e<=o[1]?(s=t.axisExpandWindow0Pos+e*n-t.axisExpandWindow[0],l=n,u=!0):(s=r-(i-1-e)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function NZe(e,t){var r=[];return e.eachComponent("parallel",function(n,i){var a=new kZe(n,e,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,r.push(a)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",fi).models[0];n.coordinateSystem=i.coordinateSystem}}),r}var BZe={create:NZe},E4=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.activeIntervals=[],r}return t.prototype.getAreaSelectStyle=function(){return Rp([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(r){var n=this.activeIntervals=Vt(r);if(n)for(var i=n.length-1;i>=0;i--)Ml(n[i])},t.prototype.getActiveState=function(r){var n=this.activeIntervals;if(!n.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=r&&r<=i[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=r&&r<=n[a][1])return"active";return"inactive"},t})(dr);Ii(E4,dy);var Np=!0,U_=Math.min,Em=Math.max,zZe=Math.pow,HZe=1e4,VZe=6,$Ze=6,BW="globalPan",GZe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},UZe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},zW={brushStyle:{lineWidth:2,stroke:De.color.backgroundTint,fill:De.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},WZe=0,ZN=(function(e){Ae(t,e);function t(r){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new $t,n._uid="brushController_"+WZe++,G(JZe,function(i,a){this._handlers[a]=mt(i,this)},n),n}return t.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},t.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||Pje(n,BW,this._uid),G(this._handlers,function(i,a){n.on(a,i)}),this._brushType=r.brushType,this._brushOption=Et(Vt(zW),r,!0)},t.prototype._doDisableBrush=function(){var r=this._zr;Rje(r,BW,this._uid),G(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};G(r,function(i){n[i.panelId]=Vt(i)})}else this._panels=null;return this},t.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(r){r=Ye(r,function(d){return Et(Vt(zW),d,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Hf(i,r,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:n+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var v=r[d];if(h!=null&&i[h]===s)a[d]=i[h];else{var p=a[d]=h!=null?(i[h].__brushOption=v,i[h]):ule(o,lle(o,v));qN(o,p)}}function f(d){i[d]!==s&&o.group.remove(i[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),M4(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(Gl);function lle(e,t){var r=uM[t.brushType].createCover(e,t);return r.__brushOption=t,fle(r,t),e.group.add(r),r}function ule(e,t){var r=JN(t);return r.endCreating&&(r.endCreating(e,t),fle(t,t.__brushOption)),t}function cle(e,t){var r=t.__brushOption;JN(t).updateCoverShape(e,t,r.range,r)}function fle(e,t){var r=t.z;r==null&&(r=HZe),e.traverse(function(n){n.z=r,n.z2=r})}function qN(e,t){JN(t).updateCommon(e,t),cle(e,t)}function JN(e){return uM[e.__brushOption.brushType]}function QN(e,t,r){var n=e._panels;if(!n)return Np;var i,a=e._transform;return G(n,function(o){o.isTargetByCursor(t,r,a)&&(i=o)}),i}function dle(e,t){var r=e._panels;if(!r)return Np;var n=t.__brushOption.panelId;return n!=null?r[n]:Np}function M4(e){var t=e._covers,r=t.length;return G(t,function(n){e.group.remove(n)},e),t.length=0,!!r}function Bp(e,t){var r=Ye(e._covers,function(n){var i=n.__brushOption,a=Vt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});e.trigger("brush",{areas:r,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function XZe(e){var t=e._track;if(!t.length)return!1;var r=t[t.length-1],n=t[0],i=r[0]-n[0],a=r[1]-n[1],o=zZe(i*i+a*a,.5);return o>VZe}function hle(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function vle(e,t,r,n){var i=new $t;return i.add(new vr({name:"main",style:eB(r),silent:!0,draggable:!0,cursor:"move",drift:lr(HW,e,t,i,["n","s","w","e"]),ondragend:lr(Bp,t,{isEnd:!0})})),G(n,function(a){i.add(new vr({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:lr(HW,e,t,i,a),ondragend:lr(Bp,t,{isEnd:!0})}))}),i}function ple(e,t,r,n){var i=n.brushStyle.lineWidth||0,a=Em(i,$Ze),o=r[0][0],s=r[1][0],l=o-i/2,u=s-i/2,c=r[0][1],f=r[1][1],d=c-a+i/2,h=f-a+i/2,v=c-o,p=f-s,g=v+i,m=p+i;of(e,t,"main",o,s,v,p),n.transformable&&(of(e,t,"w",l,u,a,m),of(e,t,"e",d,u,a,m),of(e,t,"n",l,u,g,a),of(e,t,"s",l,h,g,a),of(e,t,"nw",l,u,a,a),of(e,t,"ne",d,u,a,a),of(e,t,"sw",l,h,a,a),of(e,t,"se",d,h,a,a))}function D4(e,t){var r=t.__brushOption,n=r.transformable,i=t.childAt(0);i.useStyle(eB(r)),i.attr({silent:!n,cursor:n?"move":"default"}),G([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=a.length===1?P4(e,a[0]):YZe(e,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?UZe[s]+"-resize":null})})}function of(e,t,r,n,i,a,o){var s=t.childOfName(r);s&&s.setShape(ZZe(tB(e,t,[[n,i],[n+a,i+o]])))}function eB(e){return kt({strokeNoScale:!0},e.brushStyle)}function gle(e,t,r,n){var i=[U_(e,r),U_(t,n)],a=[Em(e,r),Em(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function jZe(e){return mp(e.group)}function P4(e,t){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=WE(r[t],jZe(e));return n[i]}function YZe(e,t){var r=[P4(e,t[0]),P4(e,t[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function HW(e,t,r,n,i,a){var o=r.__brushOption,s=e.toRectRange(o.range),l=mle(t,i,a);G(n,function(u){var c=GZe[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=e.fromRectRange(gle(s[0][0],s[1][0],s[0][1],s[1][1])),qN(t,r),Bp(t,{isEnd:!1})}function KZe(e,t,r,n){var i=t.__brushOption.range,a=mle(e,r,n);G(i,function(o){o[0]+=a[0],o[1]+=a[1]}),qN(e,t),Bp(e,{isEnd:!1})}function mle(e,t,r){var n=e.group,i=n.transformCoordToLocal(t,r),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function tB(e,t,r){var n=dle(e,t);return n&&n!==Np?n.clipPath(r,e._transform):Vt(r)}function ZZe(e){var t=U_(e[0][0],e[1][0]),r=U_(e[0][1],e[1][1]),n=Em(e[0][0],e[1][0]),i=Em(e[0][1],e[1][1]);return{x:t,y:r,width:n-t,height:i-r}}function qZe(e,t,r){if(!(!e._brushType||QZe(e,t.offsetX,t.offsetY))){var n=e._zr,i=e._covers,a=QN(e,t,r);if(!e._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===Np||s.panelId===a.panelId)&&uM[s.brushType].contain(i[o],r[0],r[1]))return}a&&n.setCursorStyle("crosshair")}}function R4(e){var t=e.event;t.preventDefault&&t.preventDefault()}function L4(e,t,r){return e.childOfName("main").contain(t,r)}function yle(e,t,r,n){var i=e._creatingCover,a=e._creatingPanel,o=e._brushOption,s;if(e._track.push(r.slice()),XZe(e)||i){if(a&&!i){o.brushMode==="single"&&M4(e);var l=Vt(o);l.brushType=VW(l.brushType,a),l.panelId=a===Np?null:a.panelId,i=e._creatingCover=lle(e,l),e._covers.push(i)}if(i){var u=uM[VW(e._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(tB(e,i,e._track)),n&&(ule(e,i),u.updateCommon(e,i)),cle(e,i),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&QN(e,t,r)&&M4(e)&&(s={isEnd:n,removeOnClick:!0});return s}function VW(e,t){return e==="auto"?t.defaultBrushType:e}var JZe={mousedown:function(e){if(this._dragging)$W(this,e);else if(!e.target||!e.target.draggable){R4(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var r=this._creatingPanel=QN(this,e,t);r&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,r=e.offsetY,n=this.group.transformCoordToLocal(t,r);if(qZe(this,e,n),this._dragging){R4(e);var i=yle(this,e,n,!1);i&&Bp(this,i)}},mouseup:function(e){$W(this,e)}};function $W(e,t){if(e._dragging){R4(t);var r=t.offsetX,n=t.offsetY,i=e.group.transformCoordToLocal(r,n),a=yle(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&Bp(e,a)}}function QZe(e,t,r){var n=e._zr;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var uM={lineX:GW(0),lineY:GW(1),rect:{createCover:function(e,t){function r(n){return n}return vle({toRectRange:r,fromRectRange:r},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=hle(e);return gle(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,r,n){ple(e,t,r,n)},updateCommon:D4,contain:L4},polygon:{createCover:function(e,t){var r=new $t;return r.add(new no({name:"main",style:eB(t),silent:!0})),r},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Ao({name:"main",draggable:!0,drift:lr(KZe,e,t),ondragend:lr(Bp,e,{isEnd:!0})}))},updateCoverShape:function(e,t,r,n){t.childAt(0).setShape({points:tB(e,t,r)})},updateCommon:D4,contain:L4}};function GW(e){return{createCover:function(t,r){return vle({toRectRange:function(n){var i=[n,[0,100]];return e&&i.reverse(),i},fromRectRange:function(n){return n[e]}},t,r,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var r=hle(t),n=U_(r[0][e],r[1][e]),i=Em(r[0][e],r[1][e]);return[n,i]},updateCoverShape:function(t,r,n,i){var a,o=dle(t,r);if(o!==Np&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(e);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[n,a];e&&l.reverse(),ple(t,r,l,i)},updateCommon:D4,contain:L4}}function xle(e){return e=rB(e),function(t){return eie(t,e)}}function _le(e,t){return e=rB(e),function(r){var n=t??r,i=n?e.width:e.height,a=n?e.x:e.y;return[a,a+(i||0)]}}function ble(e,t,r){var n=rB(e);return function(i,a){return n.contain(a[0],a[1])&&!Tse(i,t,r)}}function rB(e){return jt.create(e)}var eqe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){e.prototype.init.apply(this,arguments),(this._brushController=new ZN(n.getZr())).on("brush",mt(this._onBrush,this))},t.prototype.render=function(r,n,i,a){if(!tqe(r,n,a)){this.axisModel=r,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new $t,this.group.add(this._axisGroup),!!r.get("show")){var s=nqe(r,n),l=s.coordinateSystem,u=r.getAreaSelectStyle(),c=u.width,f=r.axis.dim,d=l.getAxisLayout(f),h=He({strokeContainThreshold:c},d),v=new jo(r,i,h);v.build(),this._axisGroup.add(v.group),this._refreshBrushController(h,u,r,s,c,i),Cb(o,this._axisGroup,r)}}},t.prototype._refreshBrushController=function(r,n,i,a,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=jt.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:xle(f),isTargetByCursor:ble(f,s,a),getLinearBrushOtherExtent:_le(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(rqe(i))},t.prototype._onBrush=function(r){var n=r.areas,i=this.axisModel,a=i.axis,o=Ye(n,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t})(Cn);function tqe(e,t,r){return r&&r.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:r})[0]===e}function rqe(e){var t=e.axis;return Ye(e.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(r[0],!0),t.dataToCoord(r[1],!0)]}})}function nqe(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var iqe={type:"axisAreaSelect",event:"axisAreaSelected"};function aqe(e){e.registerAction(iqe,function(t,r){r.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,r){r.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var oqe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function wle(e){e.registerComponentView(MZe),e.registerComponentModel(PZe),e.registerCoordinateSystem("parallel",BZe),e.registerPreprocessor(CZe),e.registerComponentModel(E4),e.registerComponentView(eqe),Tm(e,"parallel",E4,oqe),aqe(e)}function sqe(e){Yt(wle),e.registerChartView(gZe),e.registerSeriesModel(xZe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,SZe)}var lqe=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e})(),uqe=(function(e){Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new lqe},t.prototype.buildPath=function(r,n){var i=n.extent;r.moveTo(n.x1,n.y1),r.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(r.lineTo(n.x2+i,n.y2),r.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(r.lineTo(n.x2,n.y2+i),r.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),r.closePath()},t.prototype.highlight=function(){Bf(this)},t.prototype.downplay=function(){zf(this)},t})(Cr),cqe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._mainGroup=new $t,r._focusAdjacencyDisabled=!1,r}return t.prototype.init=function(r,n){this._controller=new v0(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(r,n,i){var a=this,o=r.getGraph(),s=this._mainGroup,l=r.layoutInfo,u=l.width,c=l.height,f=r.getData(),d=r.getData("edge"),h=r.get("orient");this._model=r,s.removeAll(),s.x=l.x,s.y=l.y,this._updateViewCoordSys(r,i),Ase(r,i,s,this._controller,this._controllerHost,null),o.eachEdge(function(v){var p=new uqe,g=qt(p);g.dataIndex=v.dataIndex,g.seriesIndex=r.seriesIndex,g.dataType="edge";var m=v.getModel(),y=m.getModel("lineStyle"),x=y.get("curveness"),b=v.node1.getLayout(),w=v.node1.getModel(),S=w.get("localX"),C=w.get("localY"),E=v.node2.getLayout(),A=v.node2.getModel(),M=A.get("localX"),D=A.get("localY"),R=v.getLayout(),L,k,O,F,H,V,U,K;p.shape.extent=Math.max(1,R.dy),p.shape.orient=h,h==="vertical"?(L=(S!=null?S*u:b.x)+R.sy,k=(C!=null?C*c:b.y)+b.dy,O=(M!=null?M*u:E.x)+R.ty,F=D!=null?D*c:E.y,H=L,V=k*(1-x)+F*x,U=O,K=k*x+F*(1-x)):(L=(S!=null?S*u:b.x)+b.dx,k=(C!=null?C*c:b.y)+R.sy,O=M!=null?M*u:E.x,F=(D!=null?D*c:E.y)+R.ty,H=L*(1-x)+O*x,V=k,U=L*x+O*(1-x),K=F),p.setShape({x1:L,y1:k,x2:O,y2:F,cpx1:H,cpy1:V,cpx2:U,cpy2:K}),p.useStyle(y.getItemStyle()),UW(p.style,h,v);var q=""+m.get("value"),N=ua(m,"edgeLabel");Da(p,N,{labelFetcher:{getFormattedLabel:function(Z,ve,Te,Se,te,pe){return r.getFormattedLabel(Z,ve,"edge",Se,$s(te,N.normal&&N.normal.get("formatter"),q),pe)}},labelDataIndex:v.dataIndex,defaultText:q}),p.setTextConfig({position:"inside"});var W=m.getModel("emphasis");la(p,m,"lineStyle",function(Z){var ve=Z.getItemStyle();return UW(ve,h,v),ve}),s.add(p),d.setItemGraphicEl(v.dataIndex,p);var j=W.get("focus");Wn(p,j==="adjacency"?v.getAdjacentDataIndices():j==="trajectory"?v.getTrajectoryDataIndices():j,W.get("blurScope"),W.get("disabled"))}),o.eachNode(function(v){var p=v.getLayout(),g=v.getModel(),m=g.get("localX"),y=g.get("localY"),x=g.getModel("emphasis"),b=g.get(["itemStyle","borderRadius"])||0,w=new vr({shape:{x:m!=null?m*u:p.x,y:y!=null?y*c:p.y,width:p.dx,height:p.dy,r:b},style:g.getModel("itemStyle").getItemStyle(),z2:10});Da(w,ua(g),{labelFetcher:{getFormattedLabel:function(C,E){return r.getFormattedLabel(C,E,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),w.disableLabelAnimation=!0,w.setStyle("fill",v.getVisual("color")),w.setStyle("decal",v.getVisual("style").decal),la(w,g),s.add(w),f.setItemGraphicEl(v.dataIndex,w),qt(w).dataType="node";var S=x.get("focus");Wn(w,S==="adjacency"?v.getAdjacentDataIndices():S==="trajectory"?v.getTrajectoryDataIndices():S,x.get("blurScope"),x.get("disabled"))}),f.eachItemGraphicEl(function(v,p){var g=f.getItemModel(p);g.get("draggable")&&(v.drift=function(m,y){a._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:f.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&r.isAnimationEnabled()&&s.setClipPath(fqe(s.getBoundingRect(),r,function(){s.removeClipPath()})),this._data=r.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(r,n){var i=r.layoutInfo,a=i.width,o=i.height,s=r.coordinateSystem=new p0(null,{api:n,ecModel:r.ecModel});s.zoomLimit=r.get("scaleLimit"),s.setBoundingRect(0,0,a,o),s.setCenter(r.get("center")),s.setZoom(r.get("zoom")),this._controllerHost.target.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY})},t.type="sankey",t})(zr);function UW(e,t,r){switch(e.fill){case"source":e.fill=r.node1.getVisual("color"),e.decal=r.node1.getVisual("style").decal;break;case"target":e.fill=r.node2.getVisual("color"),e.decal=r.node2.getVisual("style").decal;break;case"gradient":var n=r.node1.getVisual("color"),i=r.node2.getVisual("color");pt(n)&&pt(i)&&(e.fill=new ry(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function fqe(e,t,r){var n=new vr({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Hn(n,{shape:{width:e.width+20}},t,r),n}var dqe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],o=r.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new pr(o[l],this,n));var u=KN(a,i,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(h,v){var p=h.parentModel,g=p.getData().getItemLayout(v);if(g){var m=g.depth,y=p.levelModels[m];y&&(h.parentModel=y)}return h}),d.wrapMethod("getItemModel",function(h,v){var p=h.parentModel,g=p.getGraph().getEdgeByIndex(v),m=g.node1.getLayout();if(m){var y=m.depth,x=p.levelModels[y];x&&(h.parentModel=x)}return h})}},t.prototype.setNodePosition=function(r,n){var i=this.option.data||this.option.nodes,a=i[r];a.localX=n[0],a.localY=n[1]},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(r,n,i){function a(h){return isNaN(h)||h==null}if(i==="edge"){var o=this.getDataParams(r,i),s=o.data,l=o.value,u=s.source+" -- "+s.target;return ji("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(r),f=c.getLayout().value,d=this.getDataParams(r,i).data.name;return ji("nameValue",{name:d!=null?d+"":null,value:f,noValue:a(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(r,n){var i=e.prototype.getDataParams.call(this,r,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(r),o=a.getLayout().value;i.value=o}return i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:De.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:De.color.primary}},animationEasing:"linear",animationDuration:1e3},t})(Xr);function hqe(e,t){e.eachSeriesByType("sankey",function(r){var n=r.get("nodeWidth"),i=r.get("nodeGap"),a=ca(r,t).refContainer,o=Dn(r.getBoxLayoutParams(),a);r.layoutInfo=o;var s=o.width,l=o.height,u=r.getGraph(),c=u.nodes,f=u.edges;pqe(c);var d=on(c,function(g){return g.getLayout().value===0}),h=d.length!==0?0:r.get("layoutIterations"),v=r.get("orient"),p=r.get("nodeAlign");vqe(c,f,n,i,s,l,h,v,p)})}function vqe(e,t,r,n,i,a,o,s,l){gqe(e,t,r,i,a,s,l),_qe(e,t,a,i,n,o,s),Dqe(e,s)}function pqe(e){G(e,function(t){var r=dh(t.outEdges,oA),n=dh(t.inEdges,oA),i=t.getValue()||0,a=Math.max(r,n,i);t.setLayout({value:a},!0)})}function gqe(e,t,r,n,i,a,o){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<t.length;d++)s[d]=1;for(var d=0;d<e.length;d++)l[d]=e[d].inEdges.length,l[d]===0&&u.push(e[d]);for(var h=-1;u.length;){for(var v=0;v<u.length;v++){var p=u[v],g=p.hostGraph.data.getRawDataItem(p.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>h&&(h=g.depth),p.setLayout({depth:m?g.depth:f},!0),a==="vertical"?p.setLayout({dy:r},!0):p.setLayout({dx:r},!0);for(var y=0;y<p.outEdges.length;y++){var x=p.outEdges[y],b=t.indexOf(x);s[b]=0;var w=x.node2,S=e.indexOf(w);--l[S]===0&&c.indexOf(w)<0&&c.push(w)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var C=h>f-1?h:f-1;o&&o!=="left"&&mqe(e,o,a,C);var E=a==="vertical"?(i-r)/C:(n-r)/C;xqe(e,E,a)}function Sle(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function mqe(e,t,r,n){if(t==="right"){for(var i=[],a=e,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}G(e,function(f){Sle(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&yqe(e,n)}function yqe(e,t){G(e,function(r){!Sle(r)&&!r.outEdges.length&&r.setLayout({depth:t},!0)})}function xqe(e,t,r){G(e,function(n){var i=n.getLayout().depth*t;r==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function _qe(e,t,r,n,i,a,o){var s=bqe(e,o);wqe(s,t,r,n,i,o),EL(s,i,r,n,o);for(var l=1;a>0;a--)l*=.99,Sqe(s,l,o),EL(s,i,r,n,o),Mqe(s,l,o),EL(s,i,r,n,o)}function bqe(e,t){var r=[],n=t==="vertical"?"y":"x",i=vk(e,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,o){return a-o}),G(i.keys,function(a){r.push(i.buckets.get(a))}),r}function wqe(e,t,r,n,i,a){var o=1/0;G(e,function(s){var l=s.length,u=0;G(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(r-(l-1)*i)/u;c<o&&(o=c)}),G(e,function(s){G(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),G(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function EL(e,t,r,n,i){var a=i==="vertical"?"x":"y";G(e,function(o){o.sort(function(p,g){return p.getLayout()[a]-g.getLayout()[a]});for(var s,l,u,c=0,f=o.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=o[h],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[d]+t;var v=i==="vertical"?n:r;if(u=c-t-v,u>0){s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var h=f-2;h>=0;--h)l=o[h],u=l.getLayout()[a]+l.getLayout()[d]+t-c,u>0&&(s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function Sqe(e,t,r){G(e.slice().reverse(),function(n){G(n,function(i){if(i.outEdges.length){var a=dh(i.outEdges,Cqe,r)/dh(i.outEdges,oA);if(isNaN(a)){var o=i.outEdges.length;a=o?dh(i.outEdges,Tqe,r)/o:0}if(r==="vertical"){var s=i.getLayout().x+(a-Sh(i,r))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-Sh(i,r))*t;i.setLayout({y:l},!0)}}})})}function Cqe(e,t){return Sh(e.node2,t)*e.getValue()}function Tqe(e,t){return Sh(e.node2,t)}function Aqe(e,t){return Sh(e.node1,t)*e.getValue()}function Eqe(e,t){return Sh(e.node1,t)}function Sh(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function oA(e){return e.getValue()}function dh(e,t,r){for(var n=0,i=e.length,a=-1;++a<i;){var o=+t(e[a],r);isNaN(o)||(n+=o)}return n}function Mqe(e,t,r){G(e,function(n){G(n,function(i){if(i.inEdges.length){var a=dh(i.inEdges,Aqe,r)/dh(i.inEdges,oA);if(isNaN(a)){var o=i.inEdges.length;a=o?dh(i.inEdges,Eqe,r)/o:0}if(r==="vertical"){var s=i.getLayout().x+(a-Sh(i,r))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-Sh(i,r))*t;i.setLayout({y:l},!0)}}})})}function Dqe(e,t){var r=t==="vertical"?"x":"y";G(e,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[r]-a.node2.getLayout()[r]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[r]-a.node1.getLayout()[r]})}),G(e,function(n){var i=0,a=0;G(n.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),G(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function Pqe(e){e.eachSeriesByType("sankey",function(t){var r=t.getGraph(),n=r.nodes,i=r.edges;if(n.length){var a=1/0,o=-1/0;G(n,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),G(n,function(s){var l=new Aa({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&G(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function Rqe(e){e.registerChartView(cqe),e.registerSeriesModel(dqe),e.registerLayout(hqe),e.registerVisual(Pqe),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),e.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){var a=i.coordinateSystem,o=aM(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}var Cle=(function(){function e(){}return e.prototype._hasEncodeRule=function(t){var r=this.getEncode();return r&&r.get(t)!=null},e.prototype.getInitialData=function(t,r){var n,i=r.getComponent("xAxis",this.get("xAxisIndex")),a=r.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type"),l;o==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[i,a],v=h[c].get("type"),p=h[1-c].get("type"),g=t.data;if(g&&l){var m=[];G(g,function(b,w){var S;We(b)?(S=b.slice(),b.unshift(w)):We(b.value)?(S=He({},b),S.value=S.value.slice(),b.value.unshift(w)):S=b,m.push(S)}),t.data=m}var y=this.defaultValueDimensions,x=[{name:f,type:GT(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:GT(p),dimsDef:y.slice()}];return vy(this,{coordDimensions:x,dimensionsCount:y.length+1,encodeDefaulter:lr(Iie,x,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e})(),Tle=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:De.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:De.color.shadow}},animationDuration:800},t})(Xr);Ii(Tle,Cle,!0);var Lqe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=r.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=WW(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var d=a.getItemLayout(u);f?(Vl(f),Ale(d,f,a,u)):f=WW(d,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},t.prototype.remove=function(r){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t})(zr),Iqe=(function(){function e(){}return e})(),kqe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new Iqe},t.prototype.buildPath=function(r,n){var i=n.points,a=0;for(r.moveTo(i[a][0],i[a][1]),a++;a<4;a++)r.lineTo(i[a][0],i[a][1]);for(r.closePath();a<i.length;a++)r.moveTo(i[a][0],i[a][1]),a++,r.lineTo(i[a][0],i[a][1])},t})(Cr);function WW(e,t,r,n,i){var a=e.ends,o=new kqe({shape:{points:i?Oqe(a,n,e):a}});return Ale(e,o,t,r,i),o}function Ale(e,t,r,n,i){var a=r.hostModel,o=l0[i?"initProps":"updateProps"];o(t,{shape:{points:e.ends}},a,n),t.useStyle(r.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=r.getItemModel(n),l=s.getModel("emphasis");la(t,s),Wn(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Oqe(e,t,r){return Ye(e,function(n){return n=n.slice(),n[t]=r.initBaseline,n})}var $x=G;function Fqe(e){var t=Nqe(e);$x(t,function(r){var n=r.seriesModels;n.length&&(Bqe(r),$x(n,function(i,a){zqe(i,r.boxOffsetList[a],r.boxWidthList[a])}))})}function Nqe(e){var t=[],r=[];return e.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=ur(r,i);a<0&&(a=r.length,r[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function Bqe(e){var t=e.axis,r=e.seriesModels,n=r.length,i=e.boxWidthList=[],a=e.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;$x(r,function(v){l=Math.max(l,v.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}$x(r,function(v){var p=v.get("boxWidth");We(p)||(p=[p,p]),o.push([ft(p[0],s)||0,ft(p[1],s)||0])});var c=s*.8-2,f=c/n*.3,d=(c-f*(n-1))/n,h=d/2-c/2;$x(r,function(v,p){a.push(h),h+=f+d,i.push(Math.min(Math.max(d,o[p][0]),o[p][1]))})}function zqe(e,t,r){var n=e.coordinateSystem,i=e.getData(),a=r/2,o=e.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(u,f),h=x(d,c[2],f),v=x(d,c[0],f),p=x(d,c[1],f),g=x(d,c[3],f),m=x(d,c[4],f),y=[];b(y,p,!1),b(y,g,!0),y.push(v,p,m,g),w(y,v),w(y,m),w(y,h),i.setItemLayout(f,{initBaseline:h[s],ends:y})}function x(S,C,E){var A=i.get(C,E),M=[];M[o]=S,M[s]=A;var D;return isNaN(S)||isNaN(A)?D=[NaN,NaN]:(D=n.dataToPoint(M),D[o]+=t),D}function b(S,C,E){var A=C.slice(),M=C.slice();A[o]+=a,M[o]-=a,E?S.push(A,M):S.push(M,A)}function w(S,C){var E=C.slice(),A=C.slice();E[o]-=a,A[o]+=a,S.push(E,A)}}function Hqe(e,t){t=t||{};for(var r=[],n=[],i=t.boundIQR,a=i==="none"||i===0,o=0;o<e.length;o++){var s=Ml(e[o].slice()),l=rR(s,.25),u=rR(s,.5),c=rR(s,.75),f=s[0],d=s[s.length-1],h=(i??1.5)*(c-l),v=a?f:Math.max(f,l-h),p=a?d:Math.min(d,c+h),g=t.itemNameFormatter,m=Ht(g)?g({value:o}):pt(g)?g.replace("{value}",o+""):o+"";r.push([m,v,l,u,c,p]);for(var y=0;y<s.length;y++){var x=s[y];if(x<v||x>p){var b=[m,x];n.push(b)}}}return{boxData:r,outliers:n}}var Vqe={type:"echarts:boxplot",transform:function(t){var r=t.upstream;if(r.sourceFormat!==Ga){var n="";Qr(n)}var i=Hqe(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function $qe(e){e.registerSeriesModel(Tle),e.registerChartView(Lqe),e.registerLayout(Fqe),e.registerTransform(Vqe)}var Gqe=["itemStyle","borderColor"],Uqe=["itemStyle","borderColor0"],Wqe=["itemStyle","borderColorDoji"],Xqe=["itemStyle","color"],jqe=["itemStyle","color0"];function nB(e,t){return t.get(e>0?Xqe:jqe)}function iB(e,t){return t.get(e===0?Wqe:e>0?Gqe:Uqe)}var Yqe={seriesType:"candlestick",plan:sy(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var r=e.pipelineContext.large;return!r&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var o=i.getItemModel(a),s=i.getItemLayout(a).sign,l=o.getItemStyle();l.fill=nB(s,o),l.stroke=iB(s,o)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");He(u,l)}}}}}},Kqe=["color","borderColor"],Zqe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},t.prototype.incrementalPrepareRender=function(r,n,i){this._clear(),this._updateDrawMode(r)},t.prototype.incrementalRender=function(r,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},t.prototype.eachRendered=function(r){Ih(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r){var n=r.getData(),i=this._data,a=this.group,o=n.getLayout("isSimpleBox"),s=r.get("clip",!0),l=r.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(s&&XW(u,f))return;var d=ML(f,c,!0);Hn(d,{shape:{points:f.ends}},r,c),DL(d,n,c,o),a.add(d),n.setItemGraphicEl(c,d)}}).update(function(c,f){var d=i.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(d);return}var h=n.getItemLayout(c);if(s&&XW(u,h)){a.remove(d);return}d?(Wr(d,{shape:{points:h.ends}},r,c),Vl(d)):d=ML(h),DL(d,n,c,o),a.add(d),n.setItemGraphicEl(c,d)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},t.prototype._renderLarge=function(r){this._clear(),jW(r,this.group);var n=r.get("clip",!0)?Ib(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(r,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),o;(o=r.next())!=null;){var s=i.getItemLayout(o),l=ML(s);DL(l,i,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(r,n){jW(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(r){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t})(zr),qqe=(function(){function e(){}return e})(),Jqe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new qqe},t.prototype.buildPath=function(r,n){var i=n.points;this.__simpleBox?(r.moveTo(i[4][0],i[4][1]),r.lineTo(i[6][0],i[6][1])):(r.moveTo(i[0][0],i[0][1]),r.lineTo(i[1][0],i[1][1]),r.lineTo(i[2][0],i[2][1]),r.lineTo(i[3][0],i[3][1]),r.closePath(),r.moveTo(i[4][0],i[4][1]),r.lineTo(i[5][0],i[5][1]),r.moveTo(i[6][0],i[6][1]),r.lineTo(i[7][0],i[7][1]))},t})(Cr);function ML(e,t,r){var n=e.ends;return new Jqe({shape:{points:r?Qqe(n,e):n},z2:100})}function XW(e,t){for(var r=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){r=!1;break}return r}function DL(e,t,r,n){var i=t.getItemModel(r);e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,la(e,i);var a=t.getItemLayout(r).sign;G(e.states,function(s,l){var u=i.getModel(l),c=nB(a,u),f=iB(a,u)||c,d=s.style||(s.style={});c&&(d.fill=c),f&&(d.stroke=f)});var o=i.getModel("emphasis");Wn(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function Qqe(e,t){return Ye(e,function(r){return r=r.slice(),r[1]=t.initBaseline,r})}var eJe=(function(){function e(){}return e})(),PL=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new eJe},t.prototype.buildPath=function(r,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];r.moveTo(o,i[a++]),r.lineTo(o,i[a++])}else a+=3},t})(Cr);function jW(e,t,r,n){var i=e.getData(),a=i.getLayout("largePoints"),o=new PL({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new PL({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new PL({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),RL(1,o,e),RL(-1,s,e),RL(0,l,e),n&&(o.incremental=!0,s.incremental=!0),r&&r.push(o,s)}function RL(e,t,r,n){var i=iB(e,r)||nB(e,r),a=r.getModel("itemStyle").getItemStyle(Kqe);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var Ele=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(r,n,i){var a=n.getItemLayout(r);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t})(Xr);Ii(Ele,Cle,!0);function tJe(e){!e||!We(e.series)||G(e.series,function(t){Xt(t)&&t.type==="k"&&(t.type="candlestick")})}var rJe={seriesType:"candlestick",plan:sy(),reset:function(e){var t=e.coordinateSystem,r=e.getData(),n=nJe(e,r),i=0,a=1,o=["x","y"],s=r.getDimensionIndex(r.mapDimension(o[i])),l=Ye(r.mapDimensionsAll(o[a]),r.getDimensionIndex,r),u=l[0],c=l[1],f=l[2],d=l[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||l.length<4)return;return{progress:e.pipelineContext.large?v:h};function h(p,g){for(var m,y=g.getStore();(m=p.next())!=null;){var x=y.get(s,m),b=y.get(u,m),w=y.get(c,m),S=y.get(f,m),C=y.get(d,m),E=Math.min(b,w),A=Math.max(b,w),M=H(E,x),D=H(A,x),R=H(S,x),L=H(C,x),k=[];V(k,D,0),V(k,M,1),k.push(K(L),K(D),K(R),K(M));var O=g.getItemModel(m),F=!!O.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:YW(y,m,b,w,c,F),initBaseline:b>w?D[a]:M[a],ends:k,brushRect:U(S,C,x)})}function H(q,N){var W=[];return W[i]=N,W[a]=q,isNaN(N)||isNaN(q)?[NaN,NaN]:t.dataToPoint(W)}function V(q,N,W){var j=N.slice(),Z=N.slice();j[i]=pC(j[i]+n/2,1,!1),Z[i]=pC(Z[i]-n/2,1,!0),W?q.push(j,Z):q.push(Z,j)}function U(q,N,W){var j=H(q,W),Z=H(N,W);return j[i]-=n/2,Z[i]-=n/2,{x:j[0],y:j[1],width:n,height:Z[1]-j[1]}}function K(q){return q[i]=pC(q[i],1),q}}function v(p,g){for(var m=hc(p.count*4),y=0,x,b=[],w=[],S,C=g.getStore(),E=!!e.get(["itemStyle","borderColorDoji"]);(S=p.next())!=null;){var A=C.get(s,S),M=C.get(u,S),D=C.get(c,S),R=C.get(f,S),L=C.get(d,S);if(isNaN(A)||isNaN(R)||isNaN(L)){m[y++]=NaN,y+=3;continue}m[y++]=YW(C,S,M,D,c,E),b[i]=A,b[a]=R,x=t.dataToPoint(b,null,w),m[y++]=x?x[0]:NaN,m[y++]=x?x[1]:NaN,b[a]=L,x=t.dataToPoint(b,null,w),m[y++]=x?x[1]:NaN}g.setLayout("largePoints",m)}}};function YW(e,t,r,n,i,a){var o;return r>n?o=-1:r<n?o=1:o=a?0:t>0?e.get(i,t-1)<=n?1:-1:1,o}function nJe(e,t){var r=e.getBaseAxis(),n,i=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=ft(It(e.get("barMaxWidth"),i),i),o=ft(It(e.get("barMinWidth"),1),i),s=e.get("barWidth");return s!=null?ft(s,i):Math.max(Math.min(i/2,a),o)}function iJe(e){e.registerChartView(Zqe),e.registerSeriesModel(Ele),e.registerPreprocessor(tJe),e.registerVisual(Yqe),e.registerLayout(rJe)}function KW(e,t){var r=t.rippleEffectColor||t.color;e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?r:null,fill:t.brushType==="fill"?r:null}})})}var aJe=(function(e){Ae(t,e);function t(r,n){var i=e.call(this)||this,a=new Rb(r,n),o=new $t;return i.add(a),i.add(o),i.updateData(r,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(r){for(var n=r.symbolType,i=r.color,a=r.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Pi(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*r.period+r.effectOffset;l.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(r.period,{opacity:0}).delay(u).start(),o.add(l)}KW(o,r)},t.prototype.updateEffectAnimation=function(r){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(n[s]!==r[s]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}KW(i,r)},t.prototype.highlight=function(){Bf(this)},t.prototype.downplay=function(){zf(this)},t.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},t.prototype.updateData=function(r,n){var i=this,a=r.hostModel;this.childAt(0).updateData(r,n);var o=this.childAt(1),s=r.getItemModel(n),l=r.getItemVisual(n,"symbol"),u=uy(r.getItemVisual(n,"symbolSize")),c=r.getItemVisual(n,"style"),f=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(g){g.setStyle("fill",f)});var h=f0(r.getItemVisual(n,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var v=r.getItemVisual(n,"symbolRotate");o.rotation=(v||0)*Math.PI/180||0;var p={};p.showEffectOn=a.get("showEffectOn"),p.rippleScale=s.get(["rippleEffect","scale"]),p.brushType=s.get(["rippleEffect","brushType"]),p.period=s.get(["rippleEffect","period"])*1e3,p.effectOffset=n/r.count(),p.z=a.getShallow("z")||0,p.zlevel=a.getShallow("zlevel")||0,p.symbolType=l,p.color=f,p.rippleEffectColor=s.get(["rippleEffect","color"]),p.rippleNumber=s.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?p.showEffectOn!=="render"&&i.startEffectAnimation(p):g==="normal"&&p.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=p,Wn(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(r){r&&r()},t})($t),oJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._symbolDraw=new Lb(aJe)},t.prototype.render=function(r,n,i){var a=r.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(r)}),this.group.add(o.group)},t.prototype._getClipShape=function(r){var n=r.coordinateSystem,i=n&&n.getArea&&n.getArea();return r.get("clip",!0)?i:null},t.prototype.updateTransform=function(r,n,i){var a=r.getData();this.group.dirty();var o=kb("").reset(r,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(r){var n=r.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=B6e(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t})(zr),sJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Vc(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t})(Xr);function lJe(e){e.registerChartView(oJe),e.registerSeriesModel(sJe),e.registerLayout(kb("effectScatter"))}var Mle=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this)||this;return a.add(a.createLine(r,n,i)),a._updateEffectSymbol(r,n),a}return t.prototype.createLine=function(r,n,i){return new jN(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),a=i.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");We(o)||(o=[o,o]);var l=r.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Pi(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(r,a,n))},t.prototype._updateEffectAnimation=function(r,n,i){var a=this.childAt(1);if(a){var o=r.getItemLayout(i),s=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=Qa(n.get("delay"),function(h){return h/r.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var d=void 0;Ht(f)?d=f(i):d=f,a.__t>0&&(d=-s*a.__t),this._animateSymbol(a,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(r,n,i,a,o){if(n>0){r.__t=0;var s=this,l=r.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(r)});a||l.done(function(){s.remove(r)}),l.start()}},t.prototype._getLineLength=function(r){return jd(r.__p1,r.__cp1)+jd(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,a=r.__cp1,o=r.__t<1?r.__t:2-r.__t,s=[r.x,r.y],l=s.slice(),u=Na,c=Q3;s[0]=u(n[0],a[0],i[0],o),s[1]=u(n[1],a[1],i[1],o);var f=r.__t<1?c(n[0],a[0],i[0],o):c(i[0],a[0],n[0],1-o),d=r.__t<1?c(n[1],a[1],i[1],o):c(i[1],a[1],n[1],1-o);r.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=jd(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):r.__lastT===1?r.scaleY=2*jd(n,s):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=s[0],r.y=s[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t})($t),Dle=(function(e){Ae(t,e);function t(r,n,i){var a=e.call(this)||this;return a._createPolyline(r,n,i),a}return t.prototype._createPolyline=function(r,n,i){var a=r.getItemLayout(n),o=new no({shape:{points:a}});this.add(o),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var a=r.hostModel,o=this.childAt(0),s={shape:{points:r.getItemLayout(n)}};Wr(o,s,a,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var a=this.childAt(0),o=r.getItemModel(n),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(r.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var d=a.ensureState("emphasis");d.style=s,Wn(this,l,u,c)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t})($t),uJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new Dle(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],a=0,o=1;o<n.length;o++){var s=n[o-1],l=n[o];a+=jd(s,l),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,a=this._offsets,o=i.length;if(a){var s=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>n);l++);l=Math.min(l-1,o-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=i[l],d=i[l+1];r.x=f[0]*(1-c)+c*d[0],r.y=f[1]*(1-c)+c*d[1];var h=r.__t<1?d[0]-f[0]:f[0]-d[0],v=r.__t<1?d[1]-f[1]:f[1]-d[1];r.rotation=-Math.atan2(v,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,r.ignore=!1}},t})(Mle),cJe=(function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e})(),fJe=(function(e){Ae(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new cJe},t.prototype.buildPath=function(r,n){var i=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){r.moveTo(i[o++],i[o++]);for(var l=1;l<s;l++)r.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var u=i[o++],c=i[o++],f=i[o++],d=i[o++];if(r.moveTo(u,c),a>0){var h=(u+f)/2-(c-d)*a,v=(c+d)/2-(f-u)*a;r.quadraticCurveTo(h,v,f,d)}else r.lineTo(f,d)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],d=a[u++],h=1;h<c;h++){var v=a[u++],p=a[u++];if(Vd(f,d,v,p,s,r,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],d=a[u++],v=a[u++],p=a[u++];if(o>0){var g=(f+v)/2-(d-p)*o,m=(d+p)/2-(v-f)*o;if(Ane(f,d,g,m,v,p,s,r,n))return l}else if(Vd(f,d,v,p,s,r,n))return l;l++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(r=i[0],n=i[1],a.contain(r,n)){var o=this.hoverDataIdx=this.findDataIndex(r,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}r=this._rect=new jt(a,o,s,l)}return r},t})(Cr),dJe=(function(){function e(){this.group=new $t}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,r),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new fJe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=r.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=qt(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e})(),Ple={seriesType:"lines",plan:sy(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,a){var o=[];if(n){var s=void 0,l=i.end-i.start;if(r){for(var u=0,c=i.start;c<i.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=i.start;c<i.end;c++){var h=e.getLineCoords(c,o);r&&(s[f++]=h);for(var v=0;v<h;v++)d=t.dataToPoint(o[v],!1,d),s[f++]=d[0],s[f++]=d[1]}a.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var p=a.getItemModel(c),h=e.getLineCoords(c,o),g=[];if(r)for(var m=0;m<h;m++)g.push(t.dataToPoint(o[m]));else{g[0]=t.dataToPoint(o[0]),g[1]=t.dataToPoint(o[1]);var y=p.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}a.setItemLayout(c,g)}}}}}},hJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),o=this._updateLineDraw(a,r),s=r.get("zlevel"),l=r.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=r.get("clip",!0)&&Ib(r.coordinateSystem,!1,r);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var a=r.getData(),o=this._updateLineDraw(a,r);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var a=r.getData(),o=r.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=Ple.reset(r,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),s=n.pipelineContext,l=s.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new dJe:new YN(o?a?uJe:Dle:a?Mle:jN),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t})(zr),vJe=typeof Uint32Array>"u"?Array:Uint32Array,pJe=typeof Float64Array>"u"?Array:Float64Array;function ZW(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Ye(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),cF([i,r[0],r[1]])}))}var gJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],ZW(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(ZW(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=x_(this._flatCoords,n.flatCoords),this._flatCoordsOffset=x_(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],a=this._flatCoordsOffset[r*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[i+o*2],n[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(r),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Br(r[0])){for(var i=r.length,a=new vJe(i),o=new pJe(i),s=0,l=0,u=0,c=0;c<i;){u++;var f=r[c++];a[l++]=s+n,a[l++]=f;for(var d=0;d<f;d++){var h=r[c++],v=r[c++];o[s++]=h,o[s++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new oi(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),o=a.getItemModel(r),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ji("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t})(Xr);function p2(e){return e instanceof Array||(e=[e,e]),e}var mJe={seriesType:"lines",reset:function(e){var t=p2(e.get("symbol")),r=p2(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(a,o){var s=a.getItemModel(o),l=p2(s.getShallow("symbol",!0)),u=p2(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function yJe(e){e.registerChartView(hJe),e.registerSeriesModel(gJe),e.registerLayout(Ple),e.registerVisual(mJe)}var xJe=256,_Je=(function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Su.createCanvas();this.canvas=t}return e.prototype.update=function(t,r,n,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=t.length;f.width=r,f.height=n;for(var v=0;v<h;++v){var p=t[v],g=p[0],m=p[1],y=p[2],x=i(y);d.globalAlpha=x,d.drawImage(s,g-c,m-c)}if(!f.width||!f.height)return f;for(var b=d.getImageData(0,0,f.width,f.height),w=b.data,S=0,C=w.length,E=this.minOpacity,A=this.maxOpacity,M=A-E;S<C;){var x=w[S+3]/256,D=Math.floor(x*(xJe-1))*4;if(x>0){var R=o(x)?l:u;x>0&&(x=x*M+E),w[S++]=R[D],w[S++]=R[D+1],w[S++]=R[D+2],w[S++]=R[D+3]*x*256}else S+=4}return d.putImageData(b,0,0),f},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Su.createCanvas()),r=this.pointSize+this.blurSize,n=r*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=De.color.neutral99,i.beginPath(),i.arc(-r,r,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},e.prototype._getGradient=function(t,r){for(var n=this._gradientPixels,i=n[r]||(n[r]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)t[r](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},e})();function bJe(e,t,r){var n=e[1]-e[0];t=Ye(t,function(o){return{interval:[(o.interval[0]-e[0])/n,(o.interval[1]-e[0])/n]}});var i=t.length,a=0;return function(o){var s;for(s=a;s<i;s++){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&r[s]}}function wJe(e,t){var r=e[1]-e[0];return t=[(t[0]-e[0])/r,(t[1]-e[0])/r],function(n){return n>=t[0]&&n<=t[1]}}function qW(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var SJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===r&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=r.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(r,i,0,r.getData().count()):qW(o)&&this._renderOnGeo(o,r,a,i)},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(r,n,i,a){var o=n.coordinateSystem;o&&(qW(o)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,r.start,r.end,!0)))},t.prototype.eachRendered=function(r){Ih(this._progressiveEls||this.group,r)},t.prototype._renderOnGridLike=function(r,n,i,a,o){var s=r.coordinateSystem,l=bh(s,"cartesian2d"),u=bh(s,"matrix"),c,f,d,h;if(l){var v=s.getAxis("x"),p=s.getAxis("y");c=v.getBandWidth()+.5,f=p.getBandWidth()+.5,d=v.scale.getExtent(),h=p.scale.getExtent()}for(var g=this.group,m=r.getData(),y=r.getModel(["emphasis","itemStyle"]).getItemStyle(),x=r.getModel(["blur","itemStyle"]).getItemStyle(),b=r.getModel(["select","itemStyle"]).getItemStyle(),w=r.get(["itemStyle","borderRadius"]),S=ua(r),C=r.getModel("emphasis"),E=C.get("focus"),A=C.get("blurScope"),M=C.get("disabled"),D=l||u?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],R=i;R<a;R++){var L=void 0,k=m.getItemVisual(R,"style");if(l){var O=m.get(D[0],R),F=m.get(D[1],R);if(isNaN(m.get(D[2],R))||isNaN(O)||isNaN(F)||O<d[0]||O>d[1]||F<h[0]||F>h[1])continue;var H=s.dataToPoint([O,F]);L=new vr({shape:{x:H[0]-c/2,y:H[1]-f/2,width:c,height:f},style:k})}else if(u){var V=s.dataToLayout([m.get(D[0],R),m.get(D[1],R)]).rect;if(xo(V.x))continue;L=new vr({z2:1,shape:V,style:k})}else{if(isNaN(m.get(D[1],R)))continue;var U=s.dataToLayout([m.get(D[0],R)]),V=U.contentRect||U.rect;if(xo(V.x)||xo(V.y))continue;L=new vr({z2:1,shape:V,style:k})}if(m.hasItemOption){var K=m.getItemModel(R),q=K.getModel("emphasis");y=q.getModel("itemStyle").getItemStyle(),x=K.getModel(["blur","itemStyle"]).getItemStyle(),b=K.getModel(["select","itemStyle"]).getItemStyle(),w=K.get(["itemStyle","borderRadius"]),E=q.get("focus"),A=q.get("blurScope"),M=q.get("disabled"),S=ua(K)}L.shape.r=w;var N=r.getRawValue(R),W="-";N&&N[2]!=null&&(W=N[2]+""),Da(L,S,{labelFetcher:r,labelDataIndex:R,defaultOpacity:k.opacity,defaultText:W}),L.ensureState("emphasis").style=y,L.ensureState("blur").style=x,L.ensureState("select").style=b,Wn(L,E,A,M),L.incremental=o,o&&(L.states.emphasis.hoverLayer=!0),g.add(L),m.setItemGraphicEl(R,L),this._progressiveEls&&this._progressiveEls.push(L)}},t.prototype._renderOnGeo=function(r,n,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new _Je;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=r.getViewRect().clone(),f=r.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),p=Math.min(c.height+c.y,a.getHeight()),g=v-d,m=p-h,y=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],x=l.mapArray(y,function(C,E,A){var M=r.dataToPoint([C,E]);return M[0]-=d,M[1]-=h,M.push(A),M}),b=i.getExtent(),w=i.type==="visualMap.continuous"?wJe(b,i.option.range):bJe(b,i.getPieceList(),i.option.selected);u.update(x,g,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},w);var S=new Ra({style:{width:g,height:m,x:d,y:h,image:u.canvas},silent:!0});this.group.add(S)},t.type="heatmap",t})(zr),CJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Vc(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var r=oy.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:De.color.primary}}},t})(Xr);function TJe(e){e.registerChartView(SJe),e.registerSeriesModel(CJe)}var AJe=["itemStyle","borderWidth"],JW=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],LL=new ed,EJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group,o=r.getData(),s=this._data,l=r.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:r,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:JW[+c],categoryDim:JW[1-+c]};o.diff(s).add(function(v){if(o.hasValue(v)){var p=eX(o,v),g=QW(o,v,p,d),m=tX(o,d,g);o.setItemGraphicEl(v,m),a.add(m),nX(m,d,g)}}).update(function(v,p){var g=s.getItemGraphicEl(p);if(!o.hasValue(v)){a.remove(g);return}var m=eX(o,v),y=QW(o,v,m,d),x=Fle(o,y);g&&x!==g.__pictorialShapeStr&&(a.remove(g),o.setItemGraphicEl(v,null),g=null),g?kJe(g,d,y):g=tX(o,d,y,!0),o.setItemGraphicEl(v,g),g.__pictorialSymbolMeta=y,a.add(g),nX(g,d,y)}).remove(function(v){var p=s.getItemGraphicEl(v);p&&rX(s,v,p.__pictorialSymbolMeta.animationModel,p)}).execute();var h=r.get("clip",!0)?Ib(r.coordinateSystem,!1,r):null;return h?a.setClipPath(h):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(r,n){var i=this.group,a=this._data;r.get("animation")?a&&a.eachItemGraphicEl(function(o){rX(a,qt(o).dataIndex,r,o)}):i.removeAll()},t.type="pictorialBar",t})(zr);function QW(e,t,r,n){var i=e.getItemLayout(t),a=r.get("symbolRepeat"),o=r.get("symbolClip"),s=r.get("symbolPosition")||"start",l=r.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=r.get("symbolPatternSize")||2,f=r.isAnimationEnabled(),d={dataIndex:t,layout:i,itemModel:r,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?r:null,hoverScale:f&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};MJe(r,a,i,n,d),DJe(e,t,i,a,o,d.boundingLength,d.pxSign,c,n,d),PJe(r,d.symbolScale,u,n,d);var h=d.symbolSize,v=f0(r.get("symbolOffset"),h);return RJe(r,h,i,a,o,v,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,n,d),d}function MJe(e,t,r,n,i){var a=n.valueDim,o=e.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(r[a.wh]<=0),c;if(We(o)){var f=[IL(s,o[0])-l,IL(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=IL(s,o)-l:t?c=n.coordSysExtent[a.index][u]-l:c=r[a.wh];i.boundingLength=c,t&&(i.repeatCutLength=r[a.wh]);var d=a.xy==="x",h=s.inverse;i.pxSign=d&&!h||!d&&h?c>=0?1:-1:c>0?1:-1}function IL(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function DJe(e,t,r,n,i,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(r[f.wh]),h=e.getItemVisual(t,"symbolSize"),v;We(h)?v=h.slice():h==null?v=["100%","100%"]:v=[h,h],v[f.index]=ft(v[f.index],d),v[c.index]=ft(v[c.index],n?d:Math.abs(a)),u.symbolSize=v;var p=u.symbolScale=[v[0]/s,v[1]/s];p[c.index]*=(l.isHorizontal?-1:1)*o}function PJe(e,t,r,n,i){var a=e.get(AJe)||0;a&&(LL.attr({scaleX:t[0],scaleY:t[1],rotation:r}),LL.updateTransform(),a/=LL.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function RJe(e,t,r,n,i,a,o,s,l,u,c,f){var d=c.categoryDim,h=c.valueDim,v=f.pxSign,p=Math.max(t[h.index]+s,0),g=p;if(n){var m=Math.abs(l),y=Qa(e.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1));var b=ft(y,t[h.index]),w=Math.max(p+b*2,0),S=x?0:b*2,C=cne(n),E=C?n:iX((m+S)/w),A=m-E*p;b=A/2/(x?E:Math.max(E-1,1)),w=p+b*2,S=x?0:b*2,!C&&n!=="fixed"&&(E=u?iX((Math.abs(u)+S)/w):0),g=E*w-S,f.repeatTimes=E,f.symbolMargin=b}var M=v*(g/2),D=f.pathPosition=[];D[d.index]=r[d.wh]/2,D[h.index]=o==="start"?M:o==="end"?l-M:l/2,a&&(D[0]+=a[0],D[1]+=a[1]);var R=f.bundlePosition=[];R[d.index]=r[d.xy],R[h.index]=r[h.xy];var L=f.barRectShape=He({},r);L[h.wh]=v*Math.max(Math.abs(r[h.wh]),Math.abs(D[h.index]+M)),L[d.wh]=r[d.wh];var k=f.clipShape={};k[d.xy]=-r[d.xy],k[d.wh]=c.ecSize[d.wh],k[h.xy]=0,k[h.wh]=r[h.wh]}function Rle(e){var t=e.symbolPatternSize,r=Pi(e.symbolType,-t/2,-t/2,t,t);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function Lle(e,t,r,n){var i=e.__pictorialBundle,a=r.symbolSize,o=r.valueLineWidth,s=r.pathPosition,l=t.valueDim,u=r.repeatTimes||0,c=0,f=a[t.valueDim.index]+o+r.symbolMargin*2;for(aB(e,function(p){p.__pictorialAnimationIndex=c,p.__pictorialRepeatTimes=u,c<u?tm(p,null,v(c),r,n):tm(p,null,{scaleX:0,scaleY:0},r,n,function(){i.remove(p)}),c++});c<u;c++){var d=Rle(r);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,i.add(d);var h=v(c);tm(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},r,n)}function v(p){var g=s.slice(),m=r.pxSign,y=p;return(r.symbolRepeatDirection==="start"?m>0:m<0)&&(y=u-1-p),g[l.index]=f*(y-u/2+.5)+s[l.index],{x:g[0],y:g[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function Ile(e,t,r,n){var i=e.__pictorialBundle,a=e.__pictorialMainPath;a?tm(a,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,n):(a=e.__pictorialMainPath=Rle(r),i.add(a),tm(a,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,n))}function kle(e,t,r){var n=He({},t.barRectShape),i=e.__pictorialBarRect;i?tm(i,null,{shape:n},t,r):(i=e.__pictorialBarRect=new vr({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function Ole(e,t,r,n){if(r.symbolClip){var i=e.__pictorialClipPath,a=He({},r.clipShape),o=t.valueDim,s=r.animationModel,l=r.dataIndex;if(i)Wr(i,{shape:a},s,l);else{a[o.wh]=0,i=new vr({shape:a}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var u={};u[o.wh]=r.clipShape[o.wh],l0[n?"updateProps":"initProps"](i,{shape:u},s,l)}}}function eX(e,t){var r=e.getItemModel(t);return r.getAnimationDelayParams=LJe,r.isAnimationEnabled=IJe,r}function LJe(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function IJe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function tX(e,t,r,n){var i=new $t,a=new $t;return i.add(a),i.__pictorialBundle=a,a.x=r.bundlePosition[0],a.y=r.bundlePosition[1],r.symbolRepeat?Lle(i,t,r):Ile(i,t,r),kle(i,r,n),Ole(i,t,r,n),i.__pictorialShapeStr=Fle(e,r),i.__pictorialSymbolMeta=r,i}function kJe(e,t,r){var n=r.animationModel,i=r.dataIndex,a=e.__pictorialBundle;Wr(a,{x:r.bundlePosition[0],y:r.bundlePosition[1]},n,i),r.symbolRepeat?Lle(e,t,r,!0):Ile(e,t,r,!0),kle(e,r,!0),Ole(e,t,r,!0)}function rX(e,t,r,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];aB(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(r=null),G(a,function(o){_h(o,{scaleX:0,scaleY:0},r,t,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(t,null)}function Fle(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function aB(e,t,r){G(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&t.call(r,n)})}function tm(e,t,r,n,i,a){t&&e.attr(t),n.symbolClip&&!i?r&&e.attr(r):r&&l0[i?"updateProps":"initProps"](e,r,n.animationModel,n.dataIndex,a)}function nX(e,t,r){var n=r.dataIndex,i=r.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),d=a.get("scale");aB(e,function(p){if(p instanceof Ra){var g=p.style;p.useStyle(He({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},r.style))}else p.useStyle(r.style);var m=p.ensureState("emphasis");m.style=o,d&&(m.scaleX=p.scaleX*1.1,m.scaleY=p.scaleY*1.1),p.ensureState("blur").style=s,p.ensureState("select").style=l,u&&(p.cursor=u),p.z2=r.z2});var h=t.valueDim.posDesc[+(r.boundingLength>0)],v=e.__pictorialBarRect;v.ignoreClip=!0,Da(v,ua(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:Cm(t.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:h}),Wn(e,c,f,a.get("disabled"))}function iX(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var OJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return t.prototype.getInitialData=function(r){return r.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=kh(B_.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:De.color.primary}}}),t})(B_);function FJe(e){e.registerChartView(EJe),e.registerSeriesModel(OJe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,lr(Qae,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,eoe("pictorialBar"))}var NJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._layers=[],r}return t.prototype.render=function(r,n,i){var a=r.getData(),o=this,s=this.group,l=r.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(g){return g.name}var h=new Hf(this._layersSeries||[],l,d,d),v=[];h.add(mt(p,this,"add")).update(mt(p,this,"update")).remove(mt(p,this,"remove")).execute();function p(g,m,y){var x=o._layers;if(g==="remove"){s.remove(x[m]);return}for(var b=[],w=[],S,C=l[m].indices,E=0;E<C.length;E++){var A=a.getItemLayout(C[E]),M=A.x,D=A.y0,R=A.y;b.push(M,D),w.push(M,D+R),S=a.getItemVisual(C[E],"style")}var L,k=a.getItemLayout(C[0]),O=r.getModel("label"),F=O.get("margin"),H=r.getModel("emphasis");if(g==="add"){var V=v[m]=new $t;L=new Xoe({shape:{points:b,stackedOnPoints:w,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),V.add(L),s.add(V),r.isAnimationEnabled()&&L.setClipPath(BJe(L.getBoundingRect(),r,function(){L.removeClipPath()}))}else{var V=x[y];L=V.childAt(0),s.add(V),v[m]=V,Wr(L,{shape:{points:b,stackedOnPoints:w}},r),Vl(L)}Da(L,ua(r),{labelDataIndex:C[E-1],defaultText:a.getName(C[E-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),L.setTextConfig({position:null,local:!0});var U=L.getTextContent();U&&(U.x=k.x-F,U.y=k.y0+k.y/2),L.useStyle(S),a.setItemGraphicEl(m,L),la(L,r),Wn(L,H.get("focus"),H.get("blurScope"),H.get("disabled"))}this._layersSeries=l,this._layers=v},t.type="themeRiver",t})(zr);function BJe(e,t,r){var n=new vr({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Hn(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,r),n}var kL=2,zJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new py(mt(this.getData,this),mt(this.getRawData,this))},t.prototype.fixData=function(r){var n=r.length,i={},a=vk(r,function(d){return i.hasOwnProperty(d[0]+"")||(i[d[0]+""]=-1),d[2]}),o=[];a.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,r[n]=[f,0,u],n++)}return r},t.prototype.getInitialData=function(r,n){for(var i=this.getReferringComponents("singleAxis",fi).models[0],a=i.get("type"),o=on(r.data,function(v){return v[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Rt(),c=0,f=0;f<s.length;++f)l.push(s[f][kL]),u.get(s[f][kL])||(u.set(s[f][kL],c),c++);var d=cy(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:GT(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new oi(d,this);return h.initData(s),h},t.prototype.getLayerSeries=function(){for(var r=this.getData(),n=r.count(),i=[],a=0;a<n;++a)i[a]=a;var o=r.mapDimension("single"),s=vk(i,function(u){return r.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return r.get(o,f)-r.get(o,d)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(r,n,i){We(r)||(r=r?[r]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=o[c].indices.length,v=0;v<h;++v){var p=a.get(r[0],o[c].indices[v]),g=Math.abs(p-n);g<=f&&(u=p,f=g,d=o[c].indices[v])}s.push(d)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),o=a.getName(r),s=a.get(a.mapDimension("value"),r);return ji("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t})(Xr);function HJe(e,t){e.eachSeriesByType("themeRiver",function(r){var n=r.getData(),i=r.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=r.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=ft(s[0],o.height),s[1]=ft(s[1],o.height);var u=o.height-s[0]-s[1];aX(n,r,u)}else{s[0]=ft(s[0],o.width),s[1]=ft(s[1],o.width);var c=o.width-s[0]-s[1];aX(n,r,c)}n.setLayout("layoutInfo",a)})}function aX(e,t,r){if(e.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=e.mapDimension("single"),o=e.mapDimension("value"),s=Ye(i,function(g){return Ye(g.indices,function(m){var y=n.dataToPoint(e.get(a,m));return y[1]=e.get(o,m),y})}),l=VJe(s),u=l.y0,c=r/l.max,f=i.length,d=i[0].indices.length,h,v=0;v<d;++v){h=u[v]*c,e.setItemLayout(i[0].indices[v],{layerIndex:0,x:s[0][v][0],y0:h,y:s[0][v][1]*c});for(var p=1;p<f;++p)h+=s[p-1][v][1]*c,e.setItemLayout(i[p].indices[v],{layerIndex:p,x:s[p][v][0],y0:h,y:s[p][v][1]*c})}}function VJe(e){for(var t=e.length,r=e[0].length,n=[],i=[],a=0,o=0;o<r;++o){for(var s=0,l=0;l<t;++l)s+=e[l][o][1];s>a&&(a=s),n.push(s)}for(var u=0;u<r;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<r;++c){var f=n[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function $Je(e){e.registerChartView(NJe),e.registerSeriesModel(zJe),e.registerLayout(HJe),e.registerProcessor(hy("themeRiver"))}var GJe=2,UJe=4,oX=(function(e){Ae(t,e);function t(r,n,i,a){var o=e.call(this)||this;o.z2=GJe,o.textConfig={inside:!0},qt(o).seriesIndex=n.seriesIndex;var s=new Pr({z2:UJe,silent:r.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,r,n,i,a),o}return t.prototype.updateData=function(r,n,i,a,o){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;qt(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=He({},c);f.label=null;var d=n.getVisual("style");d.lineJoin="bevel";var h=n.getVisual("decal");h&&(d.decal=_m(h,o));var v=pc(l.getModel("itemStyle"),f,!0);He(f,v),G(Zo,function(y){var x=s.ensureState(y),b=l.getModel([y,"itemStyle"]);x.style=b.getItemStyle();var w=pc(b,f);w&&(x.shape=w)}),r?(s.setShape(f),s.shape.r=c.r0,Hn(s,{shape:{r:c.r}},i,n.dataIndex)):(Wr(s,{shape:f},i),Vl(s)),s.useStyle(d),this._updateLabel(i);var p=l.getShallow("cursor");p&&s.attr("cursor",p),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var g=u.get("focus"),m=g==="relative"?x_(n.getAncestorsIndices(),n.getDescendantIndices()):g==="ancestor"?n.getAncestorsIndices():g==="descendant"?n.getDescendantIndices():g;Wn(this,m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r){var n=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,p=a.get("show")&&!(v!=null&&Math.abs(s)<v);d.ignore=!p,G(T_,function(m){var y=m==="normal"?i.getModel("label"):i.getModel([m,"label"]),x=m==="normal",b=x?d:d.ensureState(m),w=r.getFormattedLabel(h,m);x&&(w=w||n.node.name),b.style=gn(y,{},null,m!=="normal",!0),w&&(b.style.text=w);var S=y.get("show");S!=null&&!x&&(b.ignore=!S);var C=g(y,"position"),E=x?f:f.states[m],A=E.style.fill;E.textConfig={outsideFill:y.get("color")==="inherit"?A:null,inside:C!=="outside"};var M,D=g(y,"distance")||0,R=g(y,"align"),L=g(y,"rotate"),k=Math.PI*.5,O=Math.PI*1.5,F=Ns(L==="tangential"?Math.PI/2-l:l),H=F>k&&!S_(F-k)&&F<O;C==="outside"?(M=o.r+D,R=H?"right":"left"):!R||R==="center"?(s===2*Math.PI&&o.r0===0?M=0:M=(o.r+o.r0)/2,R="center"):R==="left"?(M=o.r0+D,R=H?"right":"left"):R==="right"&&(M=o.r-D,R=H?"left":"right"),b.style.align=R,b.style.verticalAlign=g(y,"verticalAlign")||"middle",b.x=M*u+o.cx,b.y=M*c+o.cy;var V=0;L==="radial"?V=Ns(-l)+(H?Math.PI:0):L==="tangential"?V=Ns(Math.PI/2-l)+(H?Math.PI:0):Br(L)&&(V=L*Math.PI/180),b.rotation=Ns(V)});function g(m,y){var x=m.get(y);return x??a.get(y)}d.dirtyStyle()},t})(To),I4="sunburstRootToNode",sX="sunburstHighlight",WJe="sunburstUnhighlight";function XJe(e){e.registerAction({type:I4,update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var o=H_(t,[I4],i);if(o){var s=i.getViewRoot();s&&(t.direction=$N(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),e.registerAction({type:sX,update:"none"},function(t,r,n){t=He({},t),r.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var o=H_(t,[sX],a);o&&(t.dataIndex=o.node.dataIndex)}n.dispatchAction(He(t,{type:"highlight"}))}),e.registerAction({type:WJe,update:"updateView"},function(t,r,n){t=He({},t),n.dispatchAction(He(t,{type:"downplay"}))})}var jJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){var o=this;this.seriesModel=r,this.api=i,this.ecModel=n;var s=r.getData(),l=s.tree.root,u=r.getViewRoot(),c=this.group,f=r.get("renderLabelForZeroData"),d=[];u.eachNode(function(y){d.push(y)});var h=this._oldChildren||[];v(d,h),m(l,u),this._initEvents(),this._oldChildren=d;function v(y,x){if(y.length===0&&x.length===0)return;new Hf(x,y,b,b).add(w).update(w).remove(lr(w,null)).execute();function b(S){return S.getId()}function w(S,C){var E=S==null?null:y[S],A=C==null?null:x[C];p(E,A)}}function p(y,x){if(!f&&y&&!y.getValue()&&(y=null),y!==l&&x!==l){if(x&&x.piece)y?(x.piece.updateData(!1,y,r,n,i),s.setItemGraphicEl(y.dataIndex,x.piece)):g(x);else if(y){var b=new oX(y,r,n,i);c.add(b),s.setItemGraphicEl(y.dataIndex,b)}}}function g(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function m(y,x){x.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,y,r,n,i):(o.virtualPiece=new oX(y,r,n,i),c.add(o.virtualPiece)),x.piece.off("click"),o.virtualPiece.on("click",function(b){o._rootToNode(x.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=r.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")r._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";OT(u,c)}}i=!0}})})},t.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:I4,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},t.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=r[0]-a.cx,s=r[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="sunburst",t})(zr),YJe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};Nle(i);var a=this._levelModels=Ye(r.levels||[],function(l){return new pr(l,this,n)},this),o=VN.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),d=a[f.depth];return d&&(u.parentModel=d),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treePathInfo=sM(i,this),n},t.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){Hse(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t})(Xr);function Nle(e){var t=0;G(e.children,function(n){Nle(n);var i=n.value;We(i)&&(i=i[0]),t+=i});var r=e.value;We(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),We(e.value)?e.value[0]=r:e.value=r}var lX=Math.PI/180;function KJe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.get("center"),a=n.get("radius");We(a)||(a=[0,a]),We(i)||(i=[i,i]);var o=r.getWidth(),s=r.getHeight(),l=Math.min(o,s),u=ft(i[0],o),c=ft(i[1],s),f=ft(a[0],l/2),d=ft(a[1],l/2),h=-n.get("startAngle")*lX,v=n.get("minAngle")*lX,p=n.getData().tree.root,g=n.getViewRoot(),m=g.depth,y=n.get("sort");y!=null&&Ble(g,y);var x=0;G(g.children,function(F){!isNaN(F.getValue())&&x++});var b=g.getValue(),w=Math.PI/(b||x)*2,S=g.depth>0,C=g.height-(S?-1:1),E=(d-f)/(C||1),A=n.get("clockwise"),M=n.get("stillShowZeroSum"),D=A?1:-1,R=function(F,H){if(F){var V=H;if(F!==p){var U=F.getValue(),K=b===0&&M?w:U*w;K<v&&(K=v),V=H+D*K;var q=F.depth-m-(S?-1:1),N=f+E*q,W=f+E*(q+1),j=n.getLevelModel(F);if(j){var Z=j.get("r0",!0),ve=j.get("r",!0),Te=j.get("radius",!0);Te!=null&&(Z=Te[0],ve=Te[1]),Z!=null&&(N=ft(Z,l/2)),ve!=null&&(W=ft(ve,l/2))}F.setLayout({angle:K,startAngle:H,endAngle:V,clockwise:A,cx:u,cy:c,r0:N,r:W})}if(F.children&&F.children.length){var Se=0;G(F.children,function(te){Se+=R(te,H+Se)})}return V-H}};if(S){var L=f,k=f+E,O=Math.PI*2;p.setLayout({angle:O,startAngle:h,endAngle:h+O,clockwise:A,cx:u,cy:c,r0:L,r:k})}R(g,h)})}function Ble(e,t){var r=e.children||[];e.children=ZJe(r,t),r.length&&G(e.children,function(n){Ble(n,t)})}function ZJe(e,t){if(Ht(t)){var r=Ye(e,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return r.sort(function(i,a){return t(i.params,a.params)}),Ye(r,function(i){return e[i.index]})}else{var n=t==="asc";return e.sort(function(i,a){var o=(i.getValue()-a.getValue())*(n?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(n?-1:1):o})}}function qJe(e){var t={};function r(n,i,a){if(n.depth===0)return De.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",t);return n.depth>1&&pt(s)&&(s=pm(s,(n.depth-1)/(a-1)*.5)),s}e.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r(o,n,a.root.height));var u=i.ensureUniqueItemVisual(o.dataIndex,"style");He(u,l)})})}function JJe(e){e.registerChartView(jJe),e.registerSeriesModel(YJe),e.registerLayout(lr(KJe,"sunburst")),e.registerProcessor(lr(hy,"sunburst")),e.registerVisual(qJe),XJe(e)}var uX={color:"fill",borderColor:"stroke"},QJe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Ef=wr(),eQe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(r,n){return Vc(null,this)},t.prototype.getDataParams=function(r,n,i){var a=e.prototype.getDataParams.call(this,r,n);return i&&(a.info=Ef(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t})(Xr);function tQe(e,t){return t=t||[0,0],Ye(["x","y"],function(r,n){var i=this.getAxis(r),a=t[n],o=e[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function rQe(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:mt(tQe,e)}}}function nQe(e,t){return t=t||[0,0],Ye([0,1],function(r){var n=t[r],i=e[r]/2,a=[],o=[];return a[r]=n-i,o[r]=n+i,a[1-r]=o[1-r]=t[1-r],Math.abs(this.dataToPoint(a)[r]-this.dataToPoint(o)[r])},this)}function iQe(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(r){return e.dataToPoint(r)},size:mt(nQe,e)}}}function aQe(e,t){var r=this.getAxis(),n=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(n-i)-r.dataToCoord(n+i))}function oQe(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:mt(aQe,e)}}}function sQe(e,t){return t=t||[0,0],Ye(["Radius","Angle"],function(r,n){var i="get"+r+"Axis",a=this[i](),o=t[n],s=e[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return r==="Angle"&&(l=l*Math.PI/180),l},this)}function lQe(e){var t=e.getRadiusAxis(),r=e.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=r.dataToAngle(i[1]),s=e.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:mt(sQe,e)}}}function uQe(e){var t=e.getRect(),r=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,i){return e.dataToPoint(n,i)},layout:function(n,i){return e.dataToLayout(n,i)}}}}function cQe(e){var t=e.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r,n){return e.dataToPoint(r,n)},layout:function(r,n){return e.dataToLayout(r,n)}}}}function zle(e,t,r,n){return e&&(e.legacy||e.legacy!==!1&&!r&&!n&&t!=="tspan"&&(t==="text"||St(e,"text")))}function Hle(e,t,r){var n=e,i,a,o;if(t==="text")o=n;else{o={},St(n,"text")&&(o.text=n.text),St(n,"rich")&&(o.rich=n.rich),St(n,"textFill")&&(o.fill=n.textFill),St(n,"textStroke")&&(o.stroke=n.textStroke),St(n,"fontFamily")&&(o.fontFamily=n.fontFamily),St(n,"fontSize")&&(o.fontSize=n.fontSize),St(n,"fontStyle")&&(o.fontStyle=n.fontStyle),St(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=St(n,"textPosition");r?i.position=s?n.textPosition:"inside":s&&(i.position=n.textPosition),St(n,"textPosition")&&(i.position=n.textPosition),St(n,"textOffset")&&(i.offset=n.textOffset),St(n,"textRotation")&&(i.rotation=n.textRotation),St(n,"textDistance")&&(i.distance=n.textDistance)}return cX(o,e),G(o.rich,function(l){cX(l,l)}),{textConfig:i,textContent:a}}function cX(e,t){t&&(t.font=t.textFont||t.font,St(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),St(t,"textAlign")&&(e.align=t.textAlign),St(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),St(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),St(t,"textWidth")&&(e.width=t.textWidth),St(t,"textHeight")&&(e.height=t.textHeight),St(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),St(t,"textPadding")&&(e.padding=t.textPadding),St(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),St(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),St(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),St(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),St(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),St(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),St(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function fX(e,t,r){var n=e;n.textPosition=n.textPosition||r.position||"inside",r.offset!=null&&(n.textOffset=r.offset),r.rotation!=null&&(n.textRotation=r.rotation),r.distance!=null&&(n.textDistance=r.distance);var i=n.textPosition.indexOf("inside")>=0,a=e.fill||De.color.neutral99;dX(n,t);var o=n.textFill==null;return i?o&&(n.textFill=r.insideFill||De.color.neutral00,!n.textStroke&&r.insideStroke&&(n.textStroke=r.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=e.fill||r.outsideFill||De.color.neutral00),!n.textStroke&&r.outsideStroke&&(n.textStroke=r.outsideStroke)),n.text=t.text,n.rich=t.rich,G(t.rich,function(s){dX(s,s)}),n}function dX(e,t){t&&(St(t,"fill")&&(e.textFill=t.fill),St(t,"stroke")&&(e.textStroke=t.fill),St(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),St(t,"font")&&(e.font=t.font),St(t,"fontStyle")&&(e.fontStyle=t.fontStyle),St(t,"fontWeight")&&(e.fontWeight=t.fontWeight),St(t,"fontSize")&&(e.fontSize=t.fontSize),St(t,"fontFamily")&&(e.fontFamily=t.fontFamily),St(t,"align")&&(e.textAlign=t.align),St(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),St(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),St(t,"width")&&(e.textWidth=t.width),St(t,"height")&&(e.textHeight=t.height),St(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),St(t,"padding")&&(e.textPadding=t.padding),St(t,"borderColor")&&(e.textBorderColor=t.borderColor),St(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),St(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),St(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),St(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),St(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),St(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),St(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),St(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),St(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),St(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Vle={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},hX=Lr(Vle);Cu(Pc,function(e,t){return e[t]=1,e},{});Pc.join(", ");var sA=["","style","shape","extra"],Mm=wr();function oB(e,t,r,n,i){var a=e+"Animation",o=ny(e,n,i)||{},s=Mm(t).userDuring;return o.duration>0&&(o.during=s?mt(pQe,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),He(o,r[a]),o}function SC(e,t,r,n){n=n||{};var i=n.dataIndex,a=n.isInit,o=n.clearStyle,s=r.isAnimationEnabled(),l=Mm(e),u=t.style;l.userDuring=t.during;var c={},f={};if(mQe(e,t,f),e.type==="compound")for(var d=e.shape.paths,h=t.shape.paths,v=0;v<h.length;v++){var p=h[v];OL("shape",p,d[v])}else OL("shape",t,f),OL("extra",t,f);if(!a&&s&&(gQe(e,t,c),vX("shape",e,t,c),vX("extra",e,t,c),yQe(e,t,u,c)),f.style=u,fQe(e,f,o),hQe(e,t),s)if(a){var g={};G(sA,function(y){var x=y?t[y]:t;x&&x.enterFrom&&(y&&(g[y]=g[y]||{}),He(y?g[y]:g,x.enterFrom))});var m=oB("enter",e,t,r,i);m.duration>0&&e.animateFrom(g,m)}else dQe(e,t,i||0,r,c);$le(e,t),u?e.dirty():e.markRedraw()}function $le(e,t){for(var r=Mm(e).leaveToProps,n=0;n<sA.length;n++){var i=sA[n],a=i?t[i]:t;a&&a.leaveTo&&(r||(r=Mm(e).leaveToProps={}),i&&(r[i]=r[i]||{}),He(i?r[i]:r,a.leaveTo))}}function cM(e,t,r,n){if(e){var i=e.parent,a=Mm(e).leaveToProps;if(a){var o=oB("update",e,t,r,0);o.done=function(){i&&i.remove(e)},e.animateTo(a,o)}else i&&i.remove(e)}}function _p(e){return e==="all"}function fQe(e,t,r){var n=t.style;if(!e.isGroup&&n){if(r){e.useStyle({});for(var i=e.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function dQe(e,t,r,n,i){if(i){var a=oB("update",e,t,n,r);a.duration>0&&e.animateFrom(i,a)}}function hQe(e,t){St(t,"silent")&&(e.silent=t.silent),St(t,"ignore")&&(e.ignore=t.ignore),e instanceof Hl&&St(t,"invisible")&&(e.invisible=t.invisible),e instanceof Cr&&St(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var qu={},vQe={setTransform:function(e,t){return qu.el[e]=t,this},getTransform:function(e){return qu.el[e]},setShape:function(e,t){var r=qu.el,n=r.shape||(r.shape={});return n[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=qu.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=qu.el,n=r.style;return n&&(n[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=qu.el.style;if(t)return t[e]},setExtra:function(e,t){var r=qu.el.extra||(qu.el.extra={});return r[e]=t,this},getExtra:function(e){var t=qu.el.extra;if(t)return t[e]}};function pQe(){var e=this,t=e.el;if(t){var r=Mm(t).userDuring,n=e.userDuring;if(r!==n){e.el=e.userDuring=null;return}qu.el=t,n(vQe)}}function vX(e,t,r,n){var i=r[e];if(i){var a=t[e],o;if(a){var s=r.transition,l=i.transition;if(l)if(!o&&(o=n[e]={}),_p(l))He(o,a);else for(var u=Mn(l),c=0;c<u.length;c++){var f=u[c],d=a[f];o[f]=d}else if(_p(s)||ur(s,e)>=0){!o&&(o=n[e]={});for(var h=Lr(a),c=0;c<h.length;c++){var f=h[c],d=a[f];xQe(i[f],d)&&(o[f]=d)}}}}}function OL(e,t,r){var n=t[e];if(n)for(var i=r[e]={},a=Lr(n),o=0;o<a.length;o++){var s=a[o];i[s]=kx(n[s])}}function gQe(e,t,r){for(var n=t.transition,i=_p(n)?Pc:Mn(n||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];r[o]=s}}}function mQe(e,t,r){for(var n=0;n<hX.length;n++){var i=hX[n],a=Vle[i],o=t[i];o&&(r[a[0]]=o[0],r[a[1]]=o[1])}for(var n=0;n<Pc.length;n++){var s=Pc[n];t[s]!=null&&(r[s]=t[s])}}function yQe(e,t,r,n){if(r){var i=e.style,a;if(i){var o=r.transition,s=t.transition;if(o&&!_p(o)){var l=Mn(o);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(e.getAnimationStyleProps&&(_p(s)||_p(o)||ur(s,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!a&&(a=n.style={});for(var v=Lr(r),u=0;u<v.length;u++){var c=v[u];if(h[c]){var f=i[c];a[c]=f}}}}}}}function xQe(e,t){return So(e)?e!==t:e!=null&&isFinite(e)}var Gle=wr(),_Qe=["percent","easing","shape","style","extra"];function Ule(e){e.stopAnimation("keyframe"),e.attr(Gle(e))}function lA(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(We(t)){G(t,function(s){lA(e,s,r)});return}var n=t.keyframes,i=t.duration;if(r&&i==null){var a=ny("enter",r,0);i=a&&a.duration}if(!(!n||!i)){var o=Gle(e);G(sA,function(s){if(!(s&&!e[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),G(n,function(u){var c=e.animators,f=s?u[s]:u;if(f){var d=Lr(f);if(s||(d=on(d,function(p){return ur(_Qe,p)<0})),!!d.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(o[s]=o[s]||{});var v=s?o[s]:o;G(d,function(p){v[p]=((s?e[s]:e)||{})[p]}),l.whenWithKeys(i*u.percent,f,d,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var Mf="emphasis",eh="normal",sB="blur",lB="select",Ch=[eh,Mf,sB,lB],FL={normal:["itemStyle"],emphasis:[Mf,"itemStyle"],blur:[sB,"itemStyle"],select:[lB,"itemStyle"]},NL={normal:["label"],emphasis:[Mf,"label"],blur:[sB,"label"],select:[lB,"label"]},bQe=["x","y"],wQe="e\0\0",cl={normal:{},emphasis:{},blur:{},select:{}},SQe={cartesian2d:rQe,geo:iQe,single:oQe,polar:lQe,calendar:uQe,matrix:cQe};function k4(e){return e instanceof Cr}function O4(e){return e instanceof Hl}function CQe(e,t){t.copyTransform(e),O4(t)&&O4(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,k4(t)&&k4(e)&&t.setShape(e.shape))}var TQe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this._progressiveEls=null;var o=this._data,s=r.getData(),l=this.group,u=pX(r,s,n,i);o||l.removeAll(),s.diff(o).add(function(f){BL(i,null,f,u(f,a),r,l,s)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&cM(d,Ef(d).option,r)}).update(function(f,d){var h=o.getItemGraphicEl(d);BL(i,h,f,u(f,a),r,l,s)}).execute();var c=r.get("clip",!0)?Ib(r.coordinateSystem,!1,r):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(r,n,i,a,o){var s=n.getData(),l=pX(n,s,i,a),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=r.start;f<r.end;f++){var d=BL(null,null,f,l(f,o),n,this.group,s);d&&(d.traverse(c),u.push(d))}},t.prototype.eachRendered=function(r){Ih(this._progressiveEls||this.group,r)},t.prototype.filterForExposedEvent=function(r,n,i,a){var o=n.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t})(zr);function uB(e){var t=e.type,r;if(t==="path"){var n=e.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=jle(n);r=E_(a,null,i,n.layout||"center"),Ef(r).customPathData=a}else if(t==="image")r=new Ra({}),Ef(r).customImagePath=e.style.image;else if(t==="text")r=new Pr({});else if(t==="group")r=new $t;else if(t==="compoundPath"){var n=e.shape;if(!n||!n.paths){var o="";Qr(o)}var s=Ye(n.paths,function(c){if(c.type==="path")return E_(c.shape.pathData,c,null);var f=RT(c.type);if(!f){var d="";Qr(d)}return new f});r=new UE({shape:{paths:s}})}else{var l=RT(t);if(!l){var o="";Qr(o)}r=new l}return Ef(r).customGraphicType=t,r.name=e.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function cB(e,t,r,n,i,a,o){Ule(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),n&&n.transition==null&&(n.transition=bQe);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;St(u,"textFill")&&(u.fill=u.textFill),St(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=k4(t)?l.decal:null;e&&f&&(f.dirty=!0,c=_m(f,e)),l.__decalPattern=c}if(O4(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}SC(t,n,a,{dataIndex:r,isInit:o,clearStyle:!0}),lA(t,n.keyframeAnimation,a)}function Wle(e,t,r,n,i){var a=t.isGroup?null:t,o=i&&i[e].cfg;if(a){var s=a.ensureState(e);if(n===!1){var l=a.getState(e);l&&(l.style=null)}else s.style=n||null;o&&(s.textConfig=o),Lp(a)}}function AQe(e,t,r){if(!e.isGroup){var n=e,i=r.currentZ,a=r.currentZLevel;n.z=i,n.zlevel=a;var o=t.z2;o!=null&&(n.z2=o||0);for(var s=0;s<Ch.length;s++)EQe(n,t,Ch[s])}}function EQe(e,t,r){var n=r===eh,i=n?t:uA(t,r),a=i?i.z2:null,o;a!=null&&(o=n?e:e.ensureState(r),o.z2=a||0)}function pX(e,t,r,n){var i=e.get("renderItem");if(typeof i=="string"){var a=X$e(i);a&&(i=a)}var o=e.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):SQe[o.type](o));for(var l=kt({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:w,style:C,ordinalRawValue:S,styleEmphasis:E,visual:D,barLayout:R,currentSeriesIndices:L,font:k},s.api||{}),u={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:MQe(e.getData()),itemPayload:e.get("itemPayload")||{}},c,f,d={},h={},v={},p={},g=0;g<Ch.length;g++){var m=Ch[g];v[m]=e.getModel(FL[m]),p[m]=e.getModel(NL[m])}function y(O){return O===c?f||(f=t.getItemModel(O)):t.getItemModel(O)}function x(O,F){return t.hasItemOption?O===c?d[F]||(d[F]=y(O).getModel(FL[F])):y(O).getModel(FL[F]):v[F]}function b(O,F){return t.hasItemOption?O===c?h[F]||(h[F]=y(O).getModel(NL[F])):y(O).getModel(NL[F]):p[F]}return function(O,F){return c=O,f=null,d={},h={},i&&i(kt({dataIndexInside:O,dataIndex:t.getRawIndex(O),actionType:F?F.type:null},u),l)};function w(O,F){return F==null&&(F=c),t.getStore().get(t.getDimensionIndex(O||0),F)}function S(O,F){F==null&&(F=c),O=O||0;var H=t.getDimensionInfo(O);if(!H){var V=t.getDimensionIndex(O);return V>=0?t.getStore().get(V,F):void 0}var U=t.get(H.name,F),K=H&&H.ordinalMeta;return K?K.categories[U]:U}function C(O,F){F==null&&(F=c);var H=t.getItemVisual(F,"style"),V=H&&H.fill,U=H&&H.opacity,K=x(F,eh).getItemStyle();V!=null&&(K.fill=V),U!=null&&(K.opacity=U);var q={inheritColor:pt(V)?V:De.color.neutral99},N=b(F,eh),W=gn(N,null,q,!1,!0);W.text=N.getShallow("show")?It(e.getFormattedLabel(F,eh),Cm(t,F)):null;var j=LT(N,q,!1);return M(O,K),K=fX(K,W,j),O&&A(K,O),K.legacy=!0,K}function E(O,F){F==null&&(F=c);var H=x(F,Mf).getItemStyle(),V=b(F,Mf),U=gn(V,null,null,!0,!0);U.text=V.getShallow("show")?$s(e.getFormattedLabel(F,Mf),e.getFormattedLabel(F,eh),Cm(t,F)):null;var K=LT(V,null,!0);return M(O,H),H=fX(H,U,K),O&&A(H,O),H.legacy=!0,H}function A(O,F){for(var H in F)St(F,H)&&(O[H]=F[H])}function M(O,F){O&&(O.textFill&&(F.textFill=O.textFill),O.textPosition&&(F.textPosition=O.textPosition))}function D(O,F){if(F==null&&(F=c),St(uX,O)){var H=t.getItemVisual(F,"style");return H?H[uX[O]]:null}if(St(QJe,O))return t.getItemVisual(F,O)}function R(O){if(o.type==="cartesian2d"){var F=o.getBaseAxis();return VGe(kt({axis:F},O))}}function L(){return r.getCurrentSeriesIndices()}function k(O){return FF(O,r)}}function MQe(e){var t={};return G(e.dimensions,function(r){var n=e.getDimensionInfo(r);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=e.getDimensionIndex(r)}}),t}function BL(e,t,r,n,i,a,o){if(!n){a.remove(t);return}var s=fB(e,t,r,n,i,a);return s&&o.setItemGraphicEl(r,s),s&&Wn(s,n.focus,n.blurScope,n.emphasisDisabled),s}function fB(e,t,r,n,i,a){var o=-1,s=t;t&&Xle(t,n,i)&&(o=ur(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=uB(n),s&&CQe(s,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),n.tooltipDisabled&&(u.tooltipDisabled=!0),cl.normal.cfg=cl.normal.conOpt=cl.emphasis.cfg=cl.emphasis.conOpt=cl.blur.cfg=cl.blur.conOpt=cl.select.cfg=cl.select.conOpt=null,cl.isLegacy=!1,PQe(u,r,n,i,l,cl),DQe(u,r,n,i,l),cB(e,u,r,n,cl,i,l),St(n,"info")&&(Ef(u).info=n.info);for(var c=0;c<Ch.length;c++){var f=Ch[c];if(f!==eh){var d=uA(n,f),h=dB(n,d,f);Wle(f,u,d,h,cl)}}return AQe(u,n,i),n.type==="group"&&RQe(e,u,r,n,i),o>=0?a.replaceAt(u,o):a.add(u),u}function Xle(e,t,r){var n=Ef(e),i=t.type,a=t.shape,o=t.style;return r.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&OQe(a)&&jle(a)!==n.customPathData||i==="image"&&St(o,"image")&&o.image!==n.customImagePath}function DQe(e,t,r,n,i){var a=r.clipPath;if(a===!1)e&&e.getClipPath()&&e.removeClipPath();else if(a){var o=e.getClipPath();o&&Xle(o,a,n)&&(o=null),o||(o=uB(a),e.setClipPath(o)),cB(null,o,t,a,null,n,i)}}function PQe(e,t,r,n,i,a){if(!(e.isGroup||e.type==="compoundPath")){gX(r,null,a),gX(r,Mf,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=e.getTextContent();if(o===!1)c&&e.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=uB(o),e.setTextContent(c)),cB(null,c,t,o,null,n,i);for(var f=o&&o.style,d=0;d<Ch.length;d++){var h=Ch[d];if(h!==eh){var v=a[h].conOpt;Wle(h,c,v,dB(o,v,h),null)}}f?c.dirty():c.markRedraw()}}}}function gX(e,t,r){var n=t?uA(e,t):e,i=t?dB(e,n,Mf):e.style,a=e.type,o=n?n.textConfig:null,s=e.textContent,l=s?t?uA(s,t):s:null;if(i&&(r.isLegacy||zle(i,a,!!o,!!l))){r.isLegacy=!0;var u=Hle(i,a,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?r[t]:r.normal;f.cfg=o,f.conOpt=l}function uA(e,t){return t?e?e[t]:null:e}function dB(e,t,r){var n=t&&t.style;return n==null&&r===Mf&&e&&(n=e.styleEmphasis),n}function RQe(e,t,r,n,i){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l=s==="byName"||n.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){IQe({api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:r,seriesModel:i,group:t});return}u&&t.removeAll();for(var c=0;c<o;c++){var f=a[c],d=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),fB(e,d,r,f,i,t)):d.ignore=!0}for(var h=t.childCount()-1;h>=c;h--){var v=t.childAt(h);LQe(t,v,i)}}}function LQe(e,t,r){t&&cM(t,Ef(e).option,r)}function IQe(e){new Hf(e.oldChildren,e.newChildren,mX,mX,e).add(yX).update(yX).remove(kQe).execute()}function mX(e,t){var r=e&&e.name;return r??wQe+t}function yX(e,t){var r=this.context,n=e!=null?r.newChildren[e]:null,i=t!=null?r.oldChildren[t]:null;fB(r.api,i,r.dataIndex,n,r.seriesModel,r.group)}function kQe(e){var t=this.context,r=t.oldChildren[e];r&&cM(r,Ef(r).option,t.seriesModel)}function jle(e){return e&&(e.pathData||e.d)}function OQe(e){return e&&(St(e,"pathData")||St(e,"d"))}function FQe(e){e.registerChartView(TQe),e.registerSeriesModel(eQe)}var Uv=wr(),xX=Vt,zL=mt,hB=(function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var a=r.get("value"),o=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,t,r,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,r);if(!s)s=this._group=new $t,this.createPointerEl(s,u,t,r),this.createLabelEl(s,u,t,r),n.getZr().add(s);else{var d=lr(_X,r,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,r)}wX(s,r,!0),this._renderHandle(a)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,a=i.type==="category",o=r.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=IN(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,a){},e.prototype.createPointerEl=function(t,r,n,i){var a=r.pointer;if(a){var o=Uv(t).pointerEl=new l0[a.type](xX(r.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var a=Uv(t).labelEl=new Pr(xX(r.label));t.add(a),bX(a,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=Uv(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var a=Uv(t).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),bX(a,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),o=r.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=Tb(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ff(u.event)},onmousedown:zL(this._onHandleDragMove,this,0,0),drift:zL(this._onHandleDragMove,this),ondragend:zL(this._onHandleDragEnd,this)}),n.add(i)),wX(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");We(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,ly(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,r){_X(this._axisPointerModel,!r&&this._moveAnimation,this._handle,HL(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(HL(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(HL(i)),Uv(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),R_(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e})();function _X(e,t,r,n){Yle(Uv(r).lastProp,n)||(Uv(r).lastProp=n,t?Wr(r,n,e):(r.stopAnimation(),r.attr(n)))}function Yle(e,t){if(Xt(e)&&Xt(t)){var r=!0;return G(t,function(n,i){r=r&&Yle(e[i],n)}),!!r}else return e===t}function bX(e,t){e[t.get(["label","show"])?"show":"hide"]()}function HL(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function wX(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}function vB(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function Kle(e,t,r,n,i){var a=r.get("value"),o=Zle(a,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),l=Ab(s.get("padding")||0),u=s.getFont(),c=LE(o,u),f=i.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],v=i.align;v==="right"&&(f[0]-=d),v==="center"&&(f[0]-=d/2);var p=i.verticalAlign;p==="bottom"&&(f[1]-=h),p==="middle"&&(f[1]-=h/2),NQe(f,d,h,n);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=t.get(["axisLine","lineStyle","color"])),e.label={x:f[0],y:f[1],style:gn(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function NQe(e,t,r,n){var i=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,a)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Zle(e,t,r,n,i){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:i.precision}),o=i.formatter;if(o){var s={value:UT(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};G(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),pt(o)?a=o.replace("{value}",a):Ht(o)&&(a=o(s))}return a}function pB(e,t,r){var n=$a();return Lh(n,n,r.rotation),Dc(n,n,r.position),gu([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function qle(e,t,r,n,i,a){var o=jo.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),Kle(t,n,i,a,{position:pB(n.axis,e,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function gB(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function Jle(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function SX(e,t,r,n,i,a){return{cx:e,cy:t,r0:r,r:n,startAngle:i,endAngle:a,clockwise:!0}}var BQe=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=CX(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var d=vB(a),h=zQe[u](s,f,c);h.style=d,r.graphicKey=h.type,r.pointer=h}var v=eA(l.getRect(),i);qle(n,r,v,i,a,o)},t.prototype.getHandleTransform=function(r,n,i){var a=eA(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=pB(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=CX(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[r.x,r.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:r.rotation,cursorPoint:h,tooltipOption:v[c]}},t})(hB);function CX(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var zQe={line:function(e,t,r){var n=gB([t,r[0]],[t,r[1]],TX(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:Jle([t-n/2,r[0]],[n,i],TX(e))}}};function TX(e){return e.dim==="x"?0:1}var HQe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:De.color.border,width:1,type:"dashed"},shadowStyle:{color:De.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:De.color.neutral00,padding:[5,7,5,7],backgroundColor:De.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:De.color.accent40,throttle:40}},t})(dr),_f=wr(),VQe=G;function Qle(e,t,r){if(!Er.node){var n=t.getZr();_f(n).records||(_f(n).records={}),$Qe(n,t);var i=_f(n).records[e]||(_f(n).records[e]={});i.handler=r}}function $Qe(e,t){if(_f(e).initialized)return;_f(e).initialized=!0,r("click",lr(AX,"click")),r("mousemove",lr(AX,"mousemove")),r("globalout",UQe);function r(n,i){e.on(n,function(a){var o=WQe(t);VQe(_f(e).records,function(s){s&&i(s,a,o.dispatchAction)}),GQe(o.pendings,t)})}}function GQe(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function UQe(e,t,r){e.handler("leave",null,r)}function AX(e,t,r,n){t.handler(e,r,n)}function WQe(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function F4(e,t){if(!Er.node){var r=t.getZr(),n=(_f(r).records||{})[e];n&&(_f(r).records[e]=null)}}var XQe=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),o=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Qle("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){F4("axisPointer",n)},t.prototype.dispose=function(r,n){F4("axisPointer",n)},t.type="axisPointer",t})(Cn);function eue(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=Pp(a,e);if(o==null||o<0||We(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,v=a.mapDimension(d),p=[];p[h]=a.get(v,o),p[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=l.dataToPoint(p)||[]}else r=l.dataToPoint(a.getValues(Ye(l.dimensions,function(m){return a.mapDimension(m)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var EX=wr();function jQe(e,t,r){var n=e.currTrigger,i=[e.x,e.y],a=e,o=e.dispatchAction||mt(r.dispatchAction,r),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){CC(i)&&(i=eue({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=CC(i),u=a.axesInfo,c=s.axesInfo,f=n==="leave"||CC(i),d={},h={},v={list:[],map:{}},p={showPointer:lr(KQe,h),showTooltip:lr(ZQe,v)};G(s.coordSysMap,function(m,y){var x=l||m.containPoint(i);G(s.coordSysAxesInfo[y],function(b,w){var S=b.axis,C=eet(u,b);if(!f&&x&&(!u||C)){var E=C&&C.value;E==null&&!l&&(E=S.pointToData(i)),E!=null&&MX(b,E,p,!1,d)}})});var g={};return G(c,function(m,y){var x=m.linkGroup;x&&!h[y]&&G(x.axesInfo,function(b,w){var S=h[w];if(b!==m&&S){var C=S.value;x.mapper&&(C=m.axis.scale.parse(x.mapper(C,DX(b),DX(m)))),g[m.key]=C}})}),G(g,function(m,y){MX(c[y],m,p,!0,d)}),qQe(h,c,d),JQe(v,i,e,o),QQe(c,o,r),d}}function MX(e,t,r,n,i){var a=e.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var o=YQe(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&He(i,s[0]),!n&&e.snap&&a.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,s),r.showTooltip(e,o,l)}}function YQe(e,t){var r=t.axis,n=r.dim,i=e,a=[],o=Number.MAX_VALUE,s=-1;return G(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,e,r);d=h.dataIndices,f=h.nestestValue}else{if(d=l.indicesOfNearest(n,c[0],e,r.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var v=e-f,p=Math.abs(v);p<=o&&((p<o||v>=0&&s<0)&&(o=p,s=v,i=f,a.length=0),G(d,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function KQe(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function ZQe(e,t,r,n){var i=r.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=z_(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function qQe(e,t,r){var n=r.axesInfo=[];G(t,function(i,a){var o=i.axisPointerModel.option,s=e[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function JQe(e,t,r,n){if(CC(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function QQe(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",a=EX(n)[i]||{},o=EX(n)[i]={};G(e,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&G(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];G(a,function(u,c){!o[c]&&l.push(u)}),G(o,function(u,c){!a[c]&&s.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function eet(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function DX(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function CC(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function Fb(e){h0.registerAxisPointerClass("CartesianAxisPointer",BQe),e.registerComponentModel(HQe),e.registerComponentView(XQe),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!We(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=nje(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},jQe)}function tet(e){Yt(Sse),Yt(Fb)}var ret=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(n),d=a.get("type");if(d&&d!=="none"){var h=vB(a),v=iet[d](s,l,f,c);v.style=h,r.graphicKey=v.type,r.pointer=v}var p=a.get(["label","margin"]),g=net(n,i,a,l,p);Kle(r,i,a,o,g)},t})(hB);function net(e,t,r,n,i){var a=t.axis,o=a.dataToCoord(e),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var d=$a();Lh(d,d,s),Dc(d,d,[n.cx,n.cy]),u=gu([o,-i],d);var h=t.getModel("axisLabel").get("rotate")||0,v=jo.innerTextLayout(s,h*Math.PI/180,-1);c=v.textAlign,f=v.textVerticalAlign}else{var p=l[1];u=n.coordToPoint([p+i,o]);var g=n.cx,m=n.cy;c=Math.abs(u[0]-g)/p<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-m)/p<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var iet={line:function(e,t,r,n){return e.dim==="angle"?{type:"Line",shape:gB(t.coordToPoint([n[0],r]),t.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r}}},shadow:function(e,t,r,n){var i=Math.max(1,e.getBandWidth()),a=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:SX(t.cx,t.cy,n[0],n[1],(-r-i/2)*a,(-r+i/2)*a)}:{type:"Sector",shape:SX(t.cx,t.cy,r-i/2,r+i/2,0,Math.PI*2)}}},aet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t})(dr),mB=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",fi).models[0]},t.type="polarAxis",t})(dr);Ii(mB,dy);var oet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="angleAxis",t})(mB),set=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="radiusAxis",t})(mB),yB=(function(e){Ae(t,e);function t(r,n){return e.call(this,"radius",r,n)||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t})(es);yB.prototype.dataToRadius=es.prototype.dataToCoord;yB.prototype.radiusToData=es.prototype.coordToData;var uet=wr(),xB=(function(e){Ae(t,e);function t(r,n){return e.call(this,"angle",r,n||[0,360])||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=r.dataToCoord(s+1)-r.dataToCoord(s),u=Math.abs(l),c=LE(s==null?"":s+"",n.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),v=uet(r.model),p=v.lastAutoInterval,g=v.lastTickCount;return p!=null&&g!=null&&Math.abs(p-h)<=1&&Math.abs(g-o)<=1&&p>h?h=p:(v.lastTickCount=o,v.lastAutoInterval=h),h},t})(es);xB.prototype.dataToAngle=es.prototype.dataToCoord;xB.prototype.angleToData=es.prototype.coordToData;var tue=["radius","angle"],cet=(function(){function e(t){this.dimensions=tue,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new yB,this._angleAxis=new xB,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var r=this.pointToCoord(t);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var r="_"+t+"Axis";return this[r]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&r.push(n),i.scale.type===t&&r.push(i),r},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var r=this._angleAxis;return t===r?this._radiusAxis:r},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var r=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},e.prototype.dataToPoint=function(t,r,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],r),this._angleAxis.dataToAngle(t[1],r)],n)},e.prototype.pointToData=function(t,r,n){n=n||[];var i=this.pointToCoord(t);return n[0]=this._radiusAxis.radiusToData(i[0],r),n[1]=this._angleAxis.angleToData(i[1],r),n},e.prototype.pointToCoord=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(r*r+n*n);r/=l,n/=l;for(var u=Math.atan2(-n,r)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},e.prototype.coordToPoint=function(t,r){r=r||[];var n=t[0],i=t[1]/180*Math.PI;return r[0]=Math.cos(i)*n+this.cx,r[1]=-Math.sin(i)*n+this.cy,r},e.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,h=this.r0;return d!==h&&f-o<=d*d&&f+o>=h*h},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},e.prototype.convertToPixel=function(t,r,n){var i=PX(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=PX(r);return i===this?this.pointToData(n):null},e})();function PX(e){var t=e.seriesModel,r=e.polarModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function fet(e,t,r){var n=t.get("center"),i=ca(t,r).refContainer;e.cx=ft(n[0],i.width)+i.x,e.cy=ft(n[1],i.height)+i.y;var a=e.getRadiusAxis(),o=Math.min(i.width,i.height)/2,s=t.get("radius");s==null?s=[0,"100%"]:We(s)||(s=[0,s]);var l=[ft(s[0],o),ft(s[1],o)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function det(e,t){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===r){var l=s.getData();G(WT(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),G(WT(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),Fp(n.scale,n.model),Fp(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function het(e){return e.mainType==="angleAxis"}function RX(e,t){var r;if(e.type=t.get("type"),e.scale=Pb(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),het(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(r=t.get("endAngle"))!==null&&r!==void 0?r:n+(e.inverse?-360:360);e.setExtent(n,i)}t.axis=e,e.model=t}var vet={dimensions:tue,create:function(e,t){var r=[];return e.eachComponent("polar",function(n,i){var a=new cet(i+"");a.update=det;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");RX(o,l),RX(s,u),fet(a,n,t),r.push(a),n.coordinateSystem=a,a.model=n}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",fi).models[0];n.coordinateSystem=i.coordinateSystem}}),r}},pet=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function g2(e,t,r){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],r]),i=e.coordToPoint([t[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function m2(e){var t=e.getRadiusAxis();return t.inverse?0:1}function LX(e){var t=e[0],r=e[e.length-1];t&&r&&Math.abs(Math.abs(t.coord-r.coord)-360)<1e-4&&e.pop()}var get=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords({breakTicks:"none"}),l=i.getMinorTicksCoords(),u=Ye(i.getViewLabels(),function(c){c=Vt(c);var f=i.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(d),c});LX(u),LX(s),G(pet,function(c){r.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&met[c](this.group,r,a,s,l,o,u)},this)}},t.type="angleAxis",t})(h0),met={axisLine:function(e,t,r,n,i,a){var o=t.getModel(["axisLine","lineStyle"]),s=r.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=m2(r),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?d=new l0[h]({shape:{cx:r.cx,cy:r.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):d=new wb({shape:{cx:r.cx,cy:r.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,e.add(d)},axisTick:function(e,t,r,n,i,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[m2(r)],u=Ye(n,function(c){return new Gi({shape:g2(r,[l,l+s],c.coord)})});e.add(Tl(u,{style:kt(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,r,n,i,a){if(i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[m2(r)],c=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)c.push(new Gi({shape:g2(r,[u,u+l],i[f][d].coord)}));e.add(Tl(c,{style:kt(s.getModel("lineStyle").getLineStyle(),kt(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,r,n,i,a,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");G(o,function(f,d){var h=l,v=f.tickValue,p=a[m2(r)],g=r.coordToPoint([p+u,f.coord]),m=r.cx,y=r.cy,x=Math.abs(g[0]-m)/p<.3?"center":g[0]>m?"left":"right",b=Math.abs(g[1]-y)/p<.3?"middle":g[1]>y?"top":"bottom";if(s&&s[v]){var w=s[v];Xt(w)&&w.textStyle&&(h=new pr(w.textStyle,l,l.ecModel))}var S=new Pr({silent:jo.isLabelSilent(t),style:gn(h,{x:g[0],y:g[1],fill:h.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:x,verticalAlign:b})});if(e.add(S),td({el:S,componentModel:t,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return S.isTruncated},value:f.rawLabel,tickIndex:d}}),c){var C=jo.makeAxisEventDataBase(t);C.targetType="axisLabel",C.value=f.rawLabel,qt(S).eventData=C}},this)},splitLine:function(e,t,r,n,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new Gi({shape:g2(r,a,n[f].coord)}))}for(var f=0;f<c.length;f++)e.add(Tl(c[f],{style:kt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,r,n,i,a){if(i.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Gi({shape:g2(r,a,i[u][c].coord)}));e.add(Tl(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,r,n,i,a){if(n.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-n[0].coord*f,h=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),p=t.get("clockwise"),g=1,m=n.length;g<=m;g++){var y=g===m?n[0].coord:n[g].coord,x=u++%l.length;c[x]=c[x]||[],c[x].push(new To({shape:{cx:r.cx,cy:r.cy,r0:h,r:v,startAngle:d,endAngle:-y*f,clockwise:p},silent:!0})),d=-y*f}for(var g=0;g<c.length;g++)e.add(Tl(c[g],{style:kt({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}},yet=["splitLine","splitArea","minorSplitLine"],xet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this._axisGroup,o=this._axisGroup=new $t;this.group.add(o);var s=r.axis,l=s.polar,u=l.getAngleAxis(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),d=u.getExtent()[0],h=s.getExtent(),v=bet(l,r,d),p=new jo(r,i,v);p.build(),o.add(p.group),Cb(a,o,r),G(yet,function(g){r.get([g,"show"])&&!s.scale.isBlank()&&_et[g](this.group,r,l,d,h,c,f)},this)}},t.type="radiusAxis",t})(h0),_et={splitLine:function(e,t,r,n,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=r.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],p=0;p<a.length;p++){var g=u++%l.length;v[g]=v[g]||[],v[g].push(new l0[h]({shape:{cx:r.cx,cy:r.cy,r:Math.max(a[p].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var p=0;p<v.length;p++)e.add(Tl(v[p],{style:kt({stroke:l[p%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,r,n,i,a,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new ed({shape:{cx:r.cx,cy:r.cy,r:o[c][f].coord}}));e.add(Tl(u,{style:kt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,r,n,i,a){if(a.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,d=1;d<a.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new To({shape:{cx:r.cx,cy:r.cy,r0:f,r:a[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[d].coord}for(var d=0;d<c.length;d++)e.add(Tl(c[d],{style:kt({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function bet(e,t,r){return{position:[e.cx,e.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function rue(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function nue(e,t){return t.dim+e.model.componentIndex}function wet(e,t,r){var n={},i=Cet(on(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=nue(s,l),c=rue(a),f=i[u][c],d=f.offset,h=f.width,v=s.getOtherAxis(l),p=a.coordinateSystem.cx,g=a.coordinateSystem.cy,m=a.get("barMinHeight")||0,y=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var x=o.mapDimension(v.dim),b=o.mapDimension(l.dim),w=Vf(o,x),S=l.dim!=="radius"||!a.get("roundCap",!0),C=v.model,E=C.get("startValue"),A=v.dataToCoord(E||0),M=0,D=o.count();M<D;M++){var R=o.get(x,M),L=o.get(b,M),k=R>=0?"p":"n",O=A;w&&(n[c][L]||(n[c][L]={p:A,n:A}),O=n[c][L][k]);var F=void 0,H=void 0,V=void 0,U=void 0;if(v.dim==="radius"){var K=v.dataToCoord(R)-A,q=l.dataToCoord(L);Math.abs(K)<m&&(K=(K<0?-1:1)*m),F=O,H=O+K,V=q-d,U=V-h,w&&(n[c][L][k]=H)}else{var N=v.dataToCoord(R,S)-A,W=l.dataToCoord(L);Math.abs(N)<y&&(N=(N<0?-1:1)*y),F=W+d,H=F+h,V=O,U=O+N,w&&(n[c][L][k]=U)}o.setItemLayout(M,{cx:p,cy:g,r0:F,r:H,startAngle:-V*Math.PI/180,endAngle:-U*Math.PI/180,clockwise:V>=U})}}})}function Cet(e){var t={};G(e,function(n,i){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=nue(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;t[l]=f;var h=rue(n);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var v=ft(n.get("barWidth"),c),p=ft(n.get("barMaxWidth"),c),g=n.get("barGap"),m=n.get("barCategoryGap");v&&!d[h].width&&(v=Math.min(f.remainedWidth,v),d[h].width=v,f.remainedWidth-=v),p&&(d[h].maxWidth=p),g!=null&&(f.gap=g),m!=null&&(f.categoryGap=m)});var r={};return G(t,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=ft(n.categoryGap,o),l=ft(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),G(a,function(p,g){var m=p.maxWidth;m&&m<f&&(m=Math.min(m,u),p.width&&(m=Math.min(m,p.width)),u-=m,p.width=m,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;G(a,function(p,g){p.width||(p.width=f),h=p,d+=p.width*(1+l)}),h&&(d-=h.width*l);var v=-d/2;G(a,function(p,g){r[i][g]=r[i][g]||{offset:v,width:p.width},v+=p.width*(1+l)})}),r}var Tet={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Aet={splitNumber:5},Eet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="polar",t})(Cn);function Met(e){Yt(Fb),h0.registerAxisPointerClass("PolarAxisPointer",ret),e.registerCoordinateSystem("polar",vet),e.registerComponentModel(aet),e.registerComponentView(Eet),Tm(e,"angle",oet,Tet),Tm(e,"radius",set,Aet),e.registerComponentView(get),e.registerComponentView(xet),e.registerLayout(lr(wet,"bar"))}function N4(e,t){t=t||{};var r=e.coordinateSystem,n=e.axis,i={},a=n.position,o=n.orient,s=r.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Qa(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var d=e.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-d:d,i.z2=1,i}var Det=["splitArea","splitLine","breakArea"],Pet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="SingleAxisPointer",r}return t.prototype.render=function(r,n,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new $t;var l=N4(r),u=new jo(r,i,l);u.build(),o.add(this._axisGroup),o.add(u.group),G(Det,function(c){r.get([c,"show"])&&Ret[c](this,this.group,this._axisGroup,r,i)},this),Cb(s,this._axisGroup,r),e.prototype.render.call(this,r,n,i,a)},t.prototype.remove=function(){_se(this)},t.type="singleAxis",t})(h0),Ret={splitLine:function(e,t,r,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=s.get("width"),c=n.coordinateSystem.getRect(),f=a.isHorizontal(),d=[],h=0,v=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],g=[],m=0;m<v.length;++m){var y=a.toGlobalCoord(v[m].coord);f?(p[0]=y,p[1]=c.y,g[0]=y,g[1]=c.y+c.height):(p[0]=c.x,p[1]=y,g[0]=c.x+c.width,g[1]=y);var x=new Gi({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});ym(x.shape,u);var b=h++%l.length;d[b]=d[b]||[],d[b].push(x)}for(var w=s.getLineStyle(["color"]),m=0;m<d.length;++m)t.add(Tl(d[m],{style:kt({stroke:l[m%l.length]},w),silent:!0}))}},splitArea:function(e,t,r,n,i){xse(e,r,n,n)},breakArea:function(e,t,r,n,i){var a=Ob(),o=n.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,e,n,n.coordinateSystem.getRect(),i)}},TC=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t})(dr);Ii(TC,dy.prototype);var Let=(function(e){Ae(t,e);function t(r,n,i,a,o){var s=e.call(this,r,n,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.pointToData=function(r,n){return this.coordinateSystem.pointToData(r)[0]},t})(es),iue=["single"],Iet=(function(){function e(t,r,n){this.type="single",this.dimension="single",this.dimensions=iue,this.axisPointerEnabled=!0,this.model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=this.dimension,a=new Let(i,Pb(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},e.prototype.update=function(t,r){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();G(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Fp(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,r){var n=ca(t,r).refContainer;this._rect=Dn(t.getBoxLayoutParams(),n),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,r=this._axis,n=r.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=r.inverse?1:0;r.setExtent(i[a],i[1-a]),this._updateAxisTransform(r,n?t.x:t.y)},e.prototype._updateAxisTransform=function(t,r){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+r}:function(o){return i-o+r},t.toLocalCoord=a?function(o){return o-r}:function(o){return i-o+r}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var r=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=r.y&&t[1]<=r.y+r.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=r.y&&t[0]<=r.y+r.height},e.prototype.pointToData=function(t,r,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(t[i.orient==="horizontal"?0:1])),n},e.prototype.dataToPoint=function(t,r,n){var i=this.getAxis(),a=this.getRect();n=n||[];var o=i.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),n[o]=i.toGlobalCoord(i.dataToCoord(+t)),n[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,n},e.prototype.convertToPixel=function(t,r,n){var i=IX(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=IX(r);return i===this?this.pointToData(n):null},e})();function IX(e){var t=e.seriesModel,r=e.singleAxisModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function ket(e,t){var r=[];return e.eachComponent("singleAxis",function(n,i){var a=new Iet(n,e,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,r.push(a)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",fi).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),r}var Oet={create:ket,dimensions:iue},kX=["x","y"],Fet=["width","height"],Net=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,l=s.coordinateSystem,u=VL(l,1-cA(s)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var d=vB(a),h=Bet[f](s,c,u);h.style=d,r.graphicKey=h.type,r.pointer=h}var v=N4(i);qle(n,r,v,i,a,o)},t.prototype.getHandleTransform=function(r,n,i){var a=N4(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=pB(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.coordinateSystem,l=cA(o),u=VL(s,l),c=[r.x,r.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=VL(s,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t})(hB),Bet={line:function(e,t,r){var n=gB([t,r[0]],[t,r[1]],cA(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=e.getBandWidth(),i=r[1]-r[0];return{type:"Rect",shape:Jle([t-n/2,r[0]],[n,i],cA(e))}}};function cA(e){return e.isHorizontal()?0:1}function VL(e,t){var r=e.getRect();return[r[kX[t]],r[kX[t]]+r[Fet[t]]]}var zet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="single",t})(Cn);function Het(e){Yt(Fb),h0.registerAxisPointerClass("SingleAxisPointer",Net),e.registerComponentView(zet),e.registerComponentView(Pet),e.registerComponentModel(TC),Tm(e,"single",TC,TC.defaultOption),e.registerCoordinateSystem("single",Oet)}var Vet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var a=u0(r);e.prototype.init.apply(this,arguments),OX(r,a)},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),OX(this.option,r)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:De.color.axisLine,width:1,type:"solid"}},itemStyle:{color:De.color.neutral00,borderWidth:1,borderColor:De.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:De.size.s,color:De.color.secondary},monthLabel:{show:!0,position:"start",margin:De.size.s,align:"center",formatter:null,color:De.color.secondary},yearLabel:{show:!0,position:null,margin:De.size.xl,formatter:null,color:De.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t})(dr);function OX(e,t){var r=e.cellSize,n;We(r)?n=r:n=e.cellSize=[r,r],n.length===1&&(n[1]=n[0]);var i=Ye([0,1],function(a){return L9e(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Lc(e,t,{type:"box",ignoreSize:i})}var $et=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group;a.removeAll();var o=r.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=n.getLocaleModel();this._renderDayRect(r,s,a),this._renderLines(r,s,l,a),this._renderYearText(r,s,l,a),this._renderMonthText(r,u,l,a),this._renderWeekText(r,u,s,l,a)},t.prototype._renderDayRect=function(r,n,i){for(var a=r.coordinateSystem,o=r.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new vr({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(f)}},t.prototype._renderLines=function(r,n,i,a){var o=this,s=r.coordinateSystem,l=r.getModel(["splitLine","lineStyle"]).getLineStyle(),u=r.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,d=0;f.time<=n.end.time;d++){v(f.formatedDate),d===0&&(f=s.getDateInfo(n.start.y+"-"+n.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=s.getDateInfo(h)}v(s.getNextNDay(n.end.time,1).formatedDate);function v(p){o._firstDayOfMonth.push(s.getDateInfo(p)),o._firstDayPoints.push(s.dataToCalendarLayout([p],!1).tl);var g=o._getLinePointsOfOneWeek(r,p,i);o._tlpoints.push(g[0]),o._blpoints.push(g[g.length-1]),u&&o._drawSplitline(g,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,a)},t.prototype._getEdgesPoints=function(r,n,i){var a=[r[0].slice(),r[r.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},t.prototype._drawSplitline=function(r,n,i){var a=new no({z2:20,shape:{points:r},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(r,n,i){for(var a=r.coordinateSystem,o=a.getDateInfo(n),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToCalendarLayout([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(r,n){return pt(r)&&r?A9e(r,n):Ht(r)?r(n):n.nameMap},t.prototype._yearTextPositionControl=function(r,n,i,a,o){var s=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(r,n,i,a){var o=r.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=i==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},v=n.start.y;+n.end.y>+n.start.y&&(v=v+"-"+n.end.y);var p=o.get("formatter"),g={start:n.start.y,end:n.end.y,nameMap:v},m=this._formatterLabel(p,g),y=new Pr({z2:30,style:gn(o,{text:m}),silent:o.get("silent")});y.attr(this._yearTextPositionControl(y,h[l],i,l,s)),a.add(y)}},t.prototype._monthTextPositionControl=function(r,n,i,a,o){var s="left",l="top",u=r[0],c=r[1];return i==="horizontal"?(c=c+o,n&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,n&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(r,n,i,a){var o=r.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||pt(s))&&(s&&(n=Dk(s)||n),s=n.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",p=o.get("silent"),g=0;g<f[d].length-1;g++){var m=f[d][g].slice(),y=this._firstDayOfMonth[g];if(v){var x=this._firstDayPoints[g];m[h]=(x[h]+f[0][g+1][h])/2}var b=o.get("formatter"),w=s[+y.m-1],S={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:w},C=this._formatterLabel(b,S),E=new Pr({z2:30,style:He(gn(o,{text:C}),this._monthTextPositionControl(m,v,i,u,l)),silent:p});a.add(E)}}},t.prototype._weekTextPositionControl=function(r,n,i,a,o){var s="center",l="middle",u=r[0],c=r[1],f=i==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(r,n,i,a,o){var s=r.getModel("dayLabel");if(s.get("show")){var l=r.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||pt(c)){c&&(n=Dk(c)||n);var h=n.get(["time","dayOfWeekShort"]);c=h||Ye(n.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,p=[l.getCellWidth(),l.getCellHeight()];f=ft(f,Math.min(p[1],p[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var g=s.get("silent"),m=0;m<7;m++){var y=l.getNextNDay(v,m),x=l.dataToCalendarLayout([y.time],!1).center,b=m;b=Math.abs((m+d)%7);var w=new Pr({z2:30,style:He(gn(s,{text:c[b]}),this._weekTextPositionControl(x,a,u,f,p)),silent:g});o.add(w)}}},t.type="calendar",t})(Cn),$L=864e5,Get=(function(){function e(t,r,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t,this._update(r,n)}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=Jf(t);var r=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),o=a<10?"0"+a:""+a,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:r+"",m:i,d:o,day:s,time:t.getTime(),formatedDate:r+"-"+i+"-"+o,date:t}},e.prototype.getNextNDay=function(t,r){return r=r||0,r===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+r),this.getDateInfo(t))},e.prototype._update=function(t,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];G([0,1],function(f){c(a,f)&&(o[i[f]]=a[f]*s[f])});var l={width:r.getWidth(),height:r.getHeight()},u=this._rect=Dn(o,l);G([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=a[0],this._sh=a[1]},e.prototype.dataToPoint=function(t,r,n){n=n||[],We(t)&&(t=t[0]),r==null&&(r=!0);var i=this.getDateInfo(t),a=this._rangeInfo,o=i.formatedDate;if(r&&!(i.time>=a.start.time&&i.time<a.end.time+$L))return n[0]=n[1]=NaN,n;var s=i.day,l=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+s*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+s*this._sh+this._sh/2),n},e.prototype.pointToData=function(t){var r=this.pointToDate(t);return r&&r.time},e.prototype.dataToLayout=function(t,r,n){n=n||{};var i=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},o=this.dataToPoint(t,r);return i.x=o[0]-this._sw/2,i.y=o[1]-this._sh/2,i.width=this._sw,i.height=this._sh,jt.copy(a,i),Ip(a,this._lineWidth/2,!0,!0),n},e.prototype.dataToCalendarLayout=function(t,r){var n=this.dataToPoint(t,r);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var r=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,r-1,i):this._getDateByWeeksAndDay(r,n-1,i)},e.prototype.convertToPixel=function(t,r,n){var i=GL(r);return i===this?i.dataToPoint(n):null},e.prototype.convertToLayout=function(t,r,n){var i=GL(r);return i===this?i.dataToLayout(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=GL(r);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),r;if(We(t)&&t.length===1&&(t=t[0]),We(t))r=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(r=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);r=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(r=[n,n])}if(!r)return t;var s=this._getRangeInfo(r);return s.start.time>s.end.time&&r.reverse(),r},e.prototype._getRangeInfo=function(t){var r=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;r[0].time>r[1].time&&(n=!0,r.reverse());var i=Math.floor(r[1].time/$L)-Math.floor(r[0].time/$L)+1,a=new Date(r[0].time),o=a.getDate(),s=r[1].date.getDate();a.setDate(o+i-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-r[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-r[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+r[0].day+6)/7),f=n?-c+1:c-1;return n&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:i,weeks:c,nthWeek:f,fweek:r[0].day,lweek:r[1].day}},e.prototype._getDateByWeeksAndDay=function(t,r,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&r<i.fweek||t===i.weeks&&r>i.lweek)return null;var a=(t-1)*7-i.fweek+r,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},e.create=function(t,r){var n=[];return t.eachComponent("calendar",function(i){var a=new e(i,t,r);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){Eb({targetModel:a,coordSysType:"calendar",coordSysProvider:wie})}),n},e.dimensions=["time","value"],e})();function GL(e){var t=e.calendarModel,r=e.seriesModel,n=t?t.coordinateSystem:r?r.coordinateSystem:null;return n}function Uet(e){e.registerComponentModel(Vet),e.registerComponentView($et),e.registerCoordinateSystem("calendar",Get)}var mf={level:1,leaf:2,nonLeaf:3},Df={none:0,all:1,body:2,corner:3};function B4(e,t,r){var n=t[ir[r]].getCell(e);return!n&&Br(e)&&e<0&&(n=t[ir[1-r]].getUnitLayoutInfo(r,Math.round(e))),n}function aue(e){var t=e||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function oue(e,t,r,n,i){FX(e[0],t,i,r,n,0),FX(e[1],t,i,r,n,1)}function FX(e,t,r,n,i,a){e[0]=1/0,e[1]=-1/0;var o=n[a],s=We(o)?o:[o],l=s.length,u=!!r;if(l>=1?(NX(e,t,s,u,i,a,0),l>1&&NX(e,t,s,u,i,a,l-1)):e[0]=e[1]=NaN,u){var c=-i[ir[1-a]].getLocatorCount(a),f=i[ir[a]].getLocatorCount(a)-1;r===Df.body?c=Ai(0,c):r===Df.corner&&(f=Gs(-1,f)),f<c&&(c=f=NaN),xo(e[0])&&(e[0]=c),xo(e[1])&&(e[1]=f),e[0]=Ai(Gs(e[0],f),c),e[1]=Ai(Gs(e[1],f),c)}}function NX(e,t,r,n,i,a,o){var s=B4(r[o],i,a);if(!s){e[0]=e[1]=NaN;return}var l=s.id[ir[a]],u=l,c=Yet(s);c&&(u+=c.span[ir[a]]-1),e[0]=Gs(e[0],l,u),e[1]=Ai(e[1],l,u)}function y2(e,t){return xo(e[t][0])||xo(e[t][1])}function BX(e,t,r,n){t=t||Wet;for(var i=0;i<n;i++)t[i]=!1;for(;;){for(var a=!1,i=0;i<n;i++){var o=r[i];!t[i]&&o.cellMergeOwner&&Xet(e,o.locatorRange)&&(t[i]=!0,a=!0)}if(!a)break}}var Wet=[];function Xet(e,t){return!zX(e[0],t[0])||!zX(e[1],t[1])?!1:(e[0][0]=Gs(e[0][0],t[0][0]),e[0][1]=Ai(e[0][1],t[0][1]),e[1][0]=Gs(e[1][0],t[1][0]),e[1][1]=Ai(e[1][1],t[1][1]),!0)}function zX(e,t){return e[1]>=t[0]&&e[0]<=t[1]}function HX(e,t){e.id.set(t[0][0],t[1][0]),e.span.set(t[0][1]-e.id.x+1,t[1][1]-e.id.y+1)}function jet(e,t){e[0][0]=t[0][0],e[0][1]=t[0][1],e[1][0]=t[1][0],e[1][1]=t[1][1]}function VX(e,t,r,n){var i=B4(t[n][0],r,n),a=B4(t[n][1],r,n);e[ir[n]]=e[Xi[n]]=NaN,i&&a&&(e[ir[n]]=i.xy,e[Xi[n]]=a.xy+a.wh-i.xy)}function _1(e,t,r,n){return e[ir[t]]=r,e[ir[1-t]]=n,e}function Yet(e){return e&&(e.type===mf.leaf||e.type===mf.nonLeaf)?e:null}function fA(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var $X=(function(){function e(t,r){this._cells=[],this._levels=[],this.dim=t,this.dimIdx=t==="x"?0:1,this._model=r,this._uniqueValueGen=Ket(t);var n=r.get("data",!0);n!=null&&!We(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return e.prototype._initByDimModelData=function(t){var r=this,n=r._cells,i=r._levels,a=[],o=0;r._leavesCount=s(t,0,0),l();return;function s(u,c,f){var d=0;return u&&G(u,function(h,v){var p;pt(h)?p={value:h}:Xt(h)?(p=h,h.value!=null&&!pt(h.value)&&(p={value:null})):p={value:null};var g={type:mf.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new Wt,span:_1(new Wt,r.dimIdx,1,1),option:p,xy:NaN,wh:NaN,dim:r,rect:fA()};o++,(a[c]||(a[c]=[])).push(g),i[f]||(i[f]={type:mf.level,xy:NaN,wh:NaN,option:null,id:new Wt,dim:r});var m=s(p.children,c,f+1),y=Math.max(1,m);g.span[ir[r.dimIdx]]=y,d+=y,c+=y}),d}function l(){for(var u=[];n.length<o;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var d=f.option.value;u.push(d),n.push(f),r._uniqueValueGen.calcDupBase(d)}}r._uniqueValueGen.ensureValueUnique(u,n);var h=r._ordinalMeta=new bm({categories:u,needCollect:!1,deduplication:!1});r._scale=new wm({ordinalMeta:h});for(var v=0;v<r._leavesCount;v++){var p=r._cells[v];p.type=mf.leaf,p.span[ir[1-r.dimIdx]]=r._levels.length-p.level}r._initCellsId(),r._initLevelIdOptions()}},e.prototype._initBySeriesData=function(){var t=this;t._leavesCount=0,t._levels=[{type:mf.level,xy:NaN,wh:NaN,option:null,id:new Wt,dim:t}],t._initLevelIdOptions();var r=t._ordinalMeta=new bm({needCollect:!0,deduplication:!0,onCollect:function(n,i){var a=t._cells[i]={type:mf.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new Wt,span:_1(new Wt,t.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:t,rect:fA()};t._leavesCount++,t._setCellId(a)}});t._scale=new wm({ordinalMeta:r})},e.prototype._setCellId=function(t){var r=this._levels.length,n=this.dimIdx;_1(t.id,n,t.firstLeafLocator,t.level-r)},e.prototype._initCellsId=function(){var t=this._levels.length,r=this.dimIdx;G(this._cells,function(n){_1(n.id,r,n.firstLeafLocator,n.level-t)})},e.prototype._initLevelIdOptions=function(){var t=this._levels.length,r=this.dimIdx,n=this._model.get("levels",!0);n=We(n)?n:[],G(this._levels,function(i,a){_1(i.id,r,0,a-t),i.option=n[a]})},e.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},e.prototype.resetLayoutIterator=function(t,r,n,i){if(t=t||new uh,r===this.dimIdx){var a=this._leavesCount,o=n!=null?Math.max(0,n):0;i=i!=null?Math.min(i,a):a,t.reset(this._cells,o,o+i)}else{var a=this._levels.length,o=n!=null?Math.max(0,n+a):0;i=i!=null?Math.min(i,a):a,t.reset(this._levels,o,o+i)}return t},e.prototype.resetCellIterator=function(t){return(t||new uh).reset(this._cells,0)},e.prototype.resetLevelIterator=function(t){return(t||new uh).reset(this._levels,0)},e.prototype.getLayout=function(t,r,n){var i=this.getUnitLayoutInfo(r,n);t[ir[r]]=i?i.xy:NaN,t[Xi[r]]=i?i.wh:NaN},e.prototype.getUnitLayoutInfo=function(t,r){return t===this.dimIdx?r<this._leavesCount?this._cells[r]:void 0:this._levels[r+this._levels.length]},e.prototype.getCell=function(t){var r=this._scale.parse(t);return xo(r)?void 0:this._cells[r]},e.prototype.getLocatorCount=function(t){return t===this.dimIdx?this._leavesCount:this._levels.length},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e})();function Ket(e){var t=e.toUpperCase(),r=new RegExp("^"+t+"([0-9]+)$"),n=0;function i(s){var l;s!=null&&(l=s.match(r))&&(n=Ai(n,+l[1]+1))}function a(){return""+t+n++}function o(s,l){for(var u=Rt(),c=0;c<s.length;c++){var f=s[c];(f==null||u.get(f)!=null)&&(s[c]=f=a(),l[c].option=kt({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:i,ensureValueUnique:o}}var GX=(function(){function e(t,r,n){this._model=r,this._dims=n,this._kind=t,this._cellMergeOwnerList=[]}return e.prototype._ensureCellMap=function(){var t=this,r=t._cellMap;return r||(r=t._cellMap=Rt(),n()),r;function n(){var a=[],o=t._model.getShallow("data");o&&!We(o)&&(o=null),G(o,function(v,p){if(!(!Xt(v)||!We(v.coord))){var g=aue([]),m=null;if(oue(g,m,v.coord,t._dims,v.coordClamp?Df[t._kind]:Df.none),!(y2(g,0)||y2(g,1))){var y=v&&v.mergeCells,x={id:new Wt,span:new Wt,locatorRange:g,option:v,cellMergeOwner:y};HX(x,g),a.push(x)}}});for(var s=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;BX(c,s,a,l);for(var f=0;f<l;f++)s[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var d=He({},u.option);d.coord=null;var h={id:new Wt,span:new Wt,locatorRange:c,option:d,cellMergeOwner:!0};HX(h,c),a.push(h)}}}G(a,function(v){var p=i(v.id.x,v.id.y);if(v.cellMergeOwner&&(p.cellMergeOwner=!0,p.span=v.span,p.locatorRange=v.locatorRange,p.spanRect=fA(),t._cellMergeOwnerList.push(p)),!(!v.cellMergeOwner&&!v.option))for(var g=0;g<v.span.y;g++)for(var m=0;m<v.span.x;m++){var y=i(v.id.x+m,v.id.y+g);y.option=v.option,v.cellMergeOwner&&(y.inSpanOf=p)}})}function i(a,o){var s=UX(a,o),l=r.get(s);return l||(l=r.set(s,{id:new Wt(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},e.prototype.getCell=function(t){return this._ensureCellMap().get(UX(t[0],t[1]))},e.prototype.travelExistingCells=function(t){this._ensureCellMap().each(t)},e.prototype.expandRangeByCellMerge=function(t){if(!y2(t,0)&&!y2(t,1)&&t[0][0]===t[0][1]&&t[1][0]===t[1][1]){UL[0]=t[0][0],UL[1]=t[1][0];var r=this.getCell(UL),n=r&&r.inSpanOf;if(n){jet(t,n.locatorRange);return}}var i=this._cellMergeOwnerList;BX(t,null,i,i.length)},e})(),UL=[];function UX(e,t){return e+"|"+t}var _B={show:!0,color:De.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function bB(e){return{color:"none",borderWidth:1,borderColor:e?"none":De.color.borderTint}}var WX={show:!0,label:_B,itemStyle:bB(!1),silent:void 0,dividerLineStyle:{width:1,color:De.color.border}},Zet={label:_B,itemStyle:bB(!1),silent:void 0},qet={label:_B,itemStyle:bB(!0),silent:void 0},Jet={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:WX,y:WX,body:Zet,corner:qet,backgroundStyle:{color:"none",borderColor:De.color.axisLine,borderWidth:1}},Qet=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this._dimModels={x:new XX(this.get("x",!0)||{}),y:new XX(this.get("y",!0)||{})};r.x.option.type=r.y.option.type="category";var n=r.x.dim=new $X("x",r.x),i=r.y.dim=new $X("y",r.y),a={x:n,y:i};this._body=new GX("body",new pr(this.getShallow("body")),a),this._corner=new GX("corner",new pr(this.getShallow("corner")),a)},t.prototype.getDimensionModel=function(r){return this._dimModels[r]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=Jet,t})(dr),XX=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t})(pr),x2=Math.round,ett=0,ttt=99,rtt={normal:25,special:100},ntt={normal:50,special:125},itt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n){this.group.removeAll();var i=this.group,a=r.coordinateSystem,o=a.getRect(),s=r.getDimensionModel("x"),l=r.getDimensionModel("y"),u=s.dim,c=l.dim;att(i,r,n),ott(i,r,u,c,n);var f=r.getShallow("borderZ2",!0),d=It(f,ttt),h=d-1,v=r.getModel("backgroundStyle").getItemStyle(["borderWidth"]);v.lineWidth=0;var p=r.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);p.fill="none";var g=z4(o.clone(),v,ett),m=z4(o.clone(),p,d);g.silent=!0,m.silent=!0,i.add(g),i.add(m);var y=u.getUnitLayoutInfo(0,0),x=c.getUnitLayoutInfo(1,0);y&&x&&(u.shouldShow()&&i.add(jX({x1:o.x,y1:x.xy,x2:o.x+o.width,y2:x.xy},s.getModel("dividerLineStyle").getLineStyle(),h)),c.shouldShow()&&i.add(jX({x1:y.xy,y1:o.y,x2:y.xy,y2:o.y+o.height},l.getModel("dividerLineStyle").getLineStyle(),h)))},t.type="matrix",t})(Cn);function att(e,t,r){n(0),n(1);function n(i){var a=t.getDimensionModel(ir[i]),o=a.dim;if(o.shouldShow())for(var s=a.getModel("itemStyle"),l=a.getModel("label"),u=t.getShallow("tooltip",!0),c=[],f=o.resetCellIterator();f.next();){var d=f.item,h={};jt.copy(h,d.rect),hF(c,d.id.x,d.id.y),sue(c,t,e,r,d.option,s,l,a,h,d.option.value,ntt,u)}}}function ott(e,t,r,n,i){a("body",t.getBody(),r,n),r.shouldShow()&&n.shouldShow()&&a("corner",t.getCorner(),n,r);function a(o,s,l,u){var c=new pr(t.getShallow(o,!0)),f=c.getModel("itemStyle"),d=c.getModel("label"),h=new uh,v=new uh,p=[],g=t.getShallow("tooltip",!0);for(u.resetLayoutIterator(v,1);v.next();)for(l.resetLayoutIterator(h,0);h.next();){var m=h.item,y=v.item;hF(p,m.id.x,y.id.y);var x=s.getCell(p);if(!(x&&x.inSpanOf&&x.inSpanOf!==x)){var b={};x&&x.span?jt.copy(b,x.spanRect):(m.dim.getLayout(b,0,p[0]),y.dim.getLayout(b,1,p[1]));var w=x?x.option:null;sue(p,t,e,i,w,f,d,c,b,w?w.value:null,rtt,g)}}}}function sue(e,t,r,n,i,a,o,s,l,u,c,f){var d;_2.option=i?i.itemStyle:null,_2.parentModel=a,og.option=i,og.parentModel=s;var h=It(og.getShallow("z2"),i&&i.itemStyle?c.special:c.normal),v=f&&f.show,p=z4(l,_2.getItemStyle(),h);r.add(p);var g=og.get("cursor");g!=null&&p.attr("cursor",g);var m;if(u!=null){var y=u+"";if(sg.option=i?i.label:null,sg.parentModel=o,sg.ecModel=n,Da(p,{normal:sg},{defaultText:y,autoOverflowArea:!0,layoutRect:Vt(p.shape)}),m=p.getTextContent(),m){m.z2=h+1;var x=m.style;if(x&&x.overflow&&x.overflow!=="none"&&x.lineOverflow){var b={};jt.copy(b,l),Ip(b,(((d=p.style)===null||d===void 0?void 0:d.lineWidth)||0)/2,!0,!0),p.updateInnerText(),m.getLocalTransform(b2),Tu(b2,b2),jt.applyTransform(b,b,b2),m.setClipPath(new vr({shape:b}))}}td({el:p,componentModel:t,itemName:y,itemTooltipOption:f,formatterParamsExtra:{xyLocator:e.slice()}})}if(m){var w=sg.get("silent");w==null&&(w=!v),m.silent=w,m.ignoreHostSilent=!0}var S=og.get("silent");S==null&&(S=!p.style||p.style.fill==="none"||!p.style.fill),p.silent=S,nR(og),nR(_2),nR(sg)}var og=new pr,_2=new pr,sg=new pr,b2=[];function z4(e,t,r){var n=t.lineWidth;if(n){var i=e.x+e.width,a=e.y+e.height;e.x=Bs(e.x,n,!0),e.y=Bs(e.y,n,!0),e.width=Bs(i,n,!0)-e.x,e.height=Bs(a,n,!0)-e.y}return new vr({shape:e,style:t,z2:r})}function jX(e,t,r){var n=t.lineWidth;return n&&(x2(e.x1*2)===x2(e.x2*2)&&(e.x1=e.x2=Bs(e.x1,n,!0)),x2(e.y1*2)===x2(e.y2*2)&&(e.y1=e.y2=Bs(e.y1,n,!0))),new Gi({shape:e,style:t,silent:!0,z2:r})}var stt=(function(){function e(t,r,n){this.dimensions=e.dimensions,this.type="matrix",this._model=t;var i=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(t,n)}return e.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},e.create=function(t,r){var n=[];return t.eachComponent("matrix",function(i){var a=new e(i,t,r);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){Eb({targetModel:a,coordSysType:"matrix",coordSysProvider:wie})}),n},e.prototype.getRect=function(){return this._rect},e.prototype._resize=function(t,r){var n=this._dims,i=this._dimModels,a=this._rect=Dn(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});YX(i,n,a,0),YX(i,n,a,1),KX(0,n),KX(1,n),ZX(this._model.getBody(),n),ZX(this._model.getCorner(),n)},e.prototype.dataToPoint=function(t,r,n){return n=n||[],this.dataToLayout(t,r,b1),n[0]=b1.rect.x+b1.rect.width/2,n[1]=b1.rect.y+b1.rect.height/2,n},e.prototype.dataToLayout=function(t,r,n){var i=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var o=n.matrixXYLocatorRange=aue(n.matrixXYLocatorRange);return We(t)&&(oue(o,null,t,i,It(r&&r.clamp,Df.none)),(!r||!r.ignoreMergeCells)&&((!r||r.clamp!==Df.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!r||r.clamp!==Df.body)&&this._model.getCorner().expandRangeByCellMerge(o)),VX(a,o,i,0),VX(a,o,i,1)),n},e.prototype.pointToData=function(t,r,n){var i=this._dims;return qX(Xu,0,i,t,r&&r.clamp),qX(Xu,1,i,t,r&&r.clamp),n=n||[],n[0]=n[1]=NaN,Xu.y===Ka.inCorner&&Xu.x===Ka.inBody?JX(Xu,n,0,i):Xu.x===Ka.inCorner&&Xu.y===Ka.inBody?JX(Xu,n,1,i):(QX(Xu,n,0,i),QX(Xu,n,1,i)),n},e.prototype.convertToPixel=function(t,r,n,i){var a=XL(r);return a===this?a.dataToPoint(n,i):void 0},e.prototype.convertToLayout=function(t,r,n,i){var a=XL(r);return a===this?a.dataToLayout(n,i):void 0},e.prototype.convertFromPixel=function(t,r,n,i){var a=XL(r);return a===this?a.pointToData(n,i):void 0},e.prototype.containPoint=function(t){return this._rect.contain(t[0],t[1])},e.dimensions=["x","y","value"],e})(),b1={rect:fA()},w2=new uh,WL=new uh;function YX(e,t,r,n){for(var i=1-n,a=t[ir[n]],o=t[ir[i]],s=o.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=o.resetLayoutIterator(null,n);u.next();)u.item.wh=u.item.xy=NaN;for(var c=r[Xi[n]],f=a.getLocatorCount(n)+o.getLocatorCount(n),d=new pr,h=o.resetLevelIterator();h.next();)d.option=h.item.option,d.parentModel=e[ir[i]],g(h.item,s?d.get("levelSize"):0);for(var v=new pr,p=a.resetCellIterator();p.next();)p.item.type===mf.leaf&&(v.option=p.item.option,v.parentModel=void 0,g(p.item,v.get("size")));function g(C,E){var A=ltt(E,n,r);xo(A)||(C.wh=H4(A,c),c=H4(c-C.wh),f--)}var m=f?c/f:0,y=!f&&c>=1,x=r[ir[n]],b=a.getLocatorCount(n)-1,w=new uh;for(o.resetLayoutIterator(w,n);w.next();)S(w.item);for(a.resetLayoutIterator(w,n);w.next();)S(w.item);function S(C){xo(C.wh)&&(C.wh=m),C.xy=x,C.id[ir[n]]===b&&!y&&(C.wh=r[ir[n]]+r[Xi[n]]-C.xy),x+=C.wh}}function KX(e,t){for(var r=t[ir[e]].resetCellIterator();r.next();){var n=r.item;dA(n.rect,e,n.id,n.span,t),dA(n.rect,1-e,n.id,n.span,t),n.type===mf.nonLeaf&&(n.xy=n.rect[ir[e]],n.wh=n.rect[Xi[e]])}}function ZX(e,t){e.travelExistingCells(function(r){var n=r.span;if(n){var i=r.spanRect,a=r.id;dA(i,0,a,n,t),dA(i,1,a,n,t)}})}function dA(e,t,r,n,i){e[Xi[t]]=0;var a=r[ir[t]],o=a<0?i[ir[1-t]]:i[ir[t]],s=o.getUnitLayoutInfo(t,r[ir[t]]);if(e[ir[t]]=s.xy,e[Xi[t]]=s.wh,n[ir[t]]>1){var l=o.getUnitLayoutInfo(t,r[ir[t]]+n[ir[t]]-1);e[Xi[t]]=l.xy+l.wh-s.xy}}function ltt(e,t,r){var n=AT(e,r[Xi[t]]);return H4(n,r[Xi[t]])}function H4(e,t){return Math.max(Math.min(e,It(t,1/0)),0)}function XL(e){var t=e.matrixModel,r=e.seriesModel,n=t?t.coordinateSystem:r?r.coordinateSystem:null;return n}var Ka={inBody:1,inCorner:2,outside:3},Xu={x:null,y:null,point:[]};function qX(e,t,r,n,i){var a=r[ir[t]],o=r[ir[1-t]],s=a.getUnitLayoutInfo(t,a.getLocatorCount(t)-1),l=a.getUnitLayoutInfo(t,0),u=o.getUnitLayoutInfo(t,-o.getLocatorCount(t)),c=o.shouldShow()?o.getUnitLayoutInfo(t,-1):null,f=e.point[t]=n[t];if(!l&&!c){e[ir[t]]=Ka.outside;return}if(i===Df.body){l?(e[ir[t]]=Ka.inBody,f=Gs(s.xy+s.wh,Ai(l.xy,f)),e.point[t]=f):e[ir[t]]=Ka.outside;return}else if(i===Df.corner){c?(e[ir[t]]=Ka.inCorner,f=Gs(c.xy+c.wh,Ai(u.xy,f)),e.point[t]=f):e[ir[t]]=Ka.outside;return}var d=l?l.xy:c?c.xy+c.wh:NaN,h=u?u.xy:d,v=s?s.xy+s.wh:d;if(f<h){if(!i){e[ir[t]]=Ka.outside;return}f=h}else if(f>v){if(!i){e[ir[t]]=Ka.outside;return}f=v}e.point[t]=f,e[ir[t]]=d<=f&&f<=v?Ka.inBody:h<=f&&f<=d?Ka.inCorner:Ka.outside}function JX(e,t,r,n){var i=1-r;if(e[ir[r]]!==Ka.outside)for(n[ir[r]].resetCellIterator(WL);WL.next();){var a=WL.item;if(ej(e.point[r],a.rect,r)&&ej(e.point[i],a.rect,i)){t[r]=a.ordinal,t[i]=a.id[ir[i]];return}}}function QX(e,t,r,n){if(e[ir[r]]!==Ka.outside){var i=e[ir[r]]===Ka.inCorner?n[ir[1-r]]:n[ir[r]];for(i.resetLayoutIterator(w2,r);w2.next();)if(utt(e.point[r],w2.item)){t[r]=w2.item.id[ir[r]];return}}}function utt(e,t){return t.xy<=e&&e<=t.xy+t.wh}function ej(e,t,r){return t[ir[r]]<=e&&e<=t[ir[r]]+t[Xi[r]]}function ctt(e){e.registerComponentModel(Qet),e.registerComponentView(itt),e.registerCoordinateSystem("matrix",stt)}function ftt(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function tj(e,t){var r;return G(t,function(n){e[n]!=null&&e[n]!=="auto"&&(r=!0)}),r}function dtt(e,t,r){var n=He({},r),i=e[t],a=r.$action||"merge";a==="merge"?i?(Et(i,n,!0),Lc(i,n,{ignoreSize:!0}),Eie(r,i),S2(r,i),S2(r,i,"shape"),S2(r,i,"style"),S2(r,i,"extra"),r.clipPath=i.clipPath):e[t]=n:a==="replace"?e[t]=n:a==="remove"&&i&&(e[t]=null)}var lue=["transition","enterFrom","leaveTo"],htt=lue.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function S2(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var n=r?lue:htt,i=0;i<n.length;i++){var a=n[i];e[a]==null&&t[a]!=null&&(e[a]=t[a])}}function vtt(e,t){if(e&&(e.hv=t.hv=[tj(t,["left","right"]),tj(t,["top","bottom"])],e.type==="group")){var r=e,n=t;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var ptt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,n),this.option.elements=i},t.prototype.optionUpdated=function(r,n){var i=this.option,a=(n?i:r).elements,o=i.elements=n?[]:i.elements,s=[];this._flatten(a,s,null);var l=gne(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];G(l,function(c,f){var d=c.newOption;d&&(u.push(d),ftt(c,d),dtt(o,f,d),vtt(o[f],d))},this),i.elements=on(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(r,n,i){G(r,function(a){if(a){i&&(a.parentOption=i),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t})(dr),rj={path:null,compoundPath:null,group:$t,image:Ra,text:Pr},xl=wr(),gtt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=Rt()},t.prototype.render=function(r,n,i){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,i)},t.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,o=r.get("z"),s=r.get("zlevel");G(n,function(l){var u=aa(l.id,null),c=u!=null?i.get(u):null,f=aa(l.parentId,null),d=f!=null?i.get(f):a,h=l.type,v=l.style;h==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var p=l.textContent,g=l.textConfig;if(v&&zle(v,h,!!g,!!p)){var m=Hle(v,h,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!p&&m.textContent&&(p=m.textContent)}var y=mtt(l),x=l.$action||"merge",b=x==="merge",w=x==="replace";if(b){var S=!c,C=c;S?C=nj(u,d,l.type,i):(C&&(xl(C).isNew=!1),Ule(C)),C&&(SC(C,y,r,{isInit:S}),ij(C,l,o,s))}else if(w){AC(c,l,i,r);var E=nj(u,d,l.type,i);E&&(SC(E,y,r,{isInit:!0}),ij(E,l,o,s))}else x==="remove"&&($le(c,l),AC(c,l,i,r));var A=i.get(u);if(A&&p)if(b){var M=A.getTextContent();M?M.attr(p):A.setTextContent(new Pr(p))}else w&&A.setTextContent(new Pr(p));if(A){var D=l.clipPath;if(D){var R=D.type,L=void 0,S=!1;if(b){var k=A.getClipPath();S=!k||xl(k).type!==R,L=S?V4(R):k}else w&&(S=!0,L=V4(R));A.setClipPath(L),SC(L,D,r,{isInit:S}),lA(L,D.keyframeAnimation,r)}var O=xl(A);A.setTextConfig(g),O.option=l,ytt(A,r,l),td({el:A,componentModel:r,itemName:A.name,itemTooltipOption:l.tooltip}),lA(A,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,n){for(var i=r.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],d=aa(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var v=h.parent,p=v===a,g=xl(h),m=xl(v);g.width=ft(g.option.width,p?s:m.width)||0,g.height=ft(g.option.height,p?l:m.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],d=aa(f.id,null),h=d!=null?o.get(d):null;if(h){var v=h.parent,m=xl(v),y=v===a?{width:s,height:l}:{width:m.width,height:m.height},x={},b=KE(h,f,y,null,{hv:f.hv,boundingMode:f.bounding},x);if(!xl(h).isNew&&b){for(var w=f.transition,S={},C=0;C<u.length;C++){var E=u[C],A=x[E];w&&(_p(w)||ur(w,E)>=0)?S[E]=A:h[E]=A}Wr(h,S,r,0)}else h.attr(x)}}},t.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(i){AC(i,xl(i).option,n,r._lastGraphicModel)}),this._elMap=Rt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t})(Cn);function V4(e){var t=St(rj,e)?rj[e]:RT(e),r=new t({});return xl(r).type=e,r}function nj(e,t,r,n){var i=V4(r);return t.add(i),n.set(e,i),xl(i).id=e,xl(i).isNew=!0,i}function AC(e,t,r,n){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(a){AC(a,t,r,n)}),cM(e,t,n),r.removeKey(xl(e).id))}function ij(e,t,r,n){e.isGroup||G([["cursor",Hl.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(i){var a=i[0];St(t,a)?e[a]=It(t[a],i[1]):e[a]==null&&(e[a]=i[1])}),G(Lr(t),function(i){if(i.indexOf("on")===0){var a=t[i];e[i]=Ht(a)?a:null}}),St(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function mtt(e){return e=He({},e),G(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Sie),function(t){delete e[t]}),e}function ytt(e,t,r){var n=qt(e).eventData;!e.silent&&!e.ignore&&!n&&(n=qt(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=r.info)}function xtt(e){e.registerComponentModel(ptt),e.registerComponentView(gtt),e.registerPreprocessor(function(t){var r=t.graphic;We(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}var aj=["x","y","radius","angle","single"],_tt=["cartesian2d","polar","singleAxis"];function btt(e){var t=e.get("coordinateSystem");return ur(_tt,t)>=0}function th(e){return e+"Axis"}function wtt(e,t){var r=Rt(),n=[],i=Rt();e.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||s(c)});var a;do a=!1,e.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var v=r.get(d);v&&v[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(r.get(f)||r.set(f,[]))[d]=!0})}return n}function uue(e){var t=e.ecModel,r={infoList:[],infoMap:Rt()};return e.eachTargetAxis(function(n,i){var a=t.getComponent(th(n),i);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=r.infoMap.get(s);l||(l={model:o,axisModels:[]},r.infoList.push(l),r.infoMap.set(s,l)),l.axisModels.push(a)}}}),r}var jL=(function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e})(),W_=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,i){var a=oj(r);this.settledOption=a,this.mergeDefaultAndTheme(r,i),this._doInit(a)},t.prototype.mergeOption=function(r){var n=oj(r);Et(this.option,r,!0),Et(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Rt(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return G(aj,function(i){var a=this.getReferringComponents(th(i),sHe);if(a.specified){n=!0;var o=new jL;G(a.models,function(s){o.add(s.componentIndex)}),r.set(i,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new jL;if(d.add(f.componentIndex),r.set(c,d),a=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",fi).models[0];h&&G(u,function(v){f.componentIndex!==v.componentIndex&&h===v.getReferringComponents("grid",fi).models[0]&&d.add(v.componentIndex)})}}}a&&G(aj,function(u){if(a){var c=i.findComponents({mainType:th(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new jL;f.add(c[0].componentIndex),r.set(u,f),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");G([["start","startValue"],["end","endValue"]],function(a,o){var s=r[a[0]]!=null,l=r[a[1]]!=null;s&&!l?n[o]="percent":!s&&l?n[o]="value":i?n[o]=i[o]:s&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(th(n),i))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,a){G(i.indexList,function(o){r.call(n,a,o)})})},t.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(th(r),n)},t.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a){(r[a[0]]!=null||r[a[1]]!=null)&&(n[a[0]]=i[a[0]]=r[a[0]],n[a[1]]=i[a[1]]=r[a[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;G(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(dr);function oj(e){var t={};return G(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var Stt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t})(W_),wB=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this.dataZoomModel=r,this.ecModel=n,this.api=i},t.type="dataZoom",t})(Cn),Ctt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t})(wB),Eg=G,sj=Ml,Ttt=(function(){function e(t,r,n,i){this._dimName=t,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(btt(r)){var n=th(this._dimName),i=r.getReferringComponents(n,fi).models[0];i&&this._axisIndex===i.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Vt(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Eg(["start","end"],function(d,h){var v=t[d],p=t[d+"Value"];a[h]==="percent"?(v==null&&(v=o[h]),p=i.parse(qr(v,o,r))):(u=!0,p=p==null?r[h]:i.parse(p),v=qr(p,r,o)),l[h]=p==null||isNaN(p)?r[h]:p,s[h]=v==null||isNaN(v)?o[h]:v}),sj(l),sj(s);var c=this._minMaxSpan;u?f(l,s,r,o,!1):f(s,l,o,r,!0);function f(d,h,v,p,g){var m=g?"Span":"ValueSpan";wh(0,d,v,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)h[y]=qr(d[y],v,p,!0),g&&(h[y]=i.parse(h[y]))}return{valueWindow:l,percentWindow:s}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=Att(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;Eg(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),d=Ye(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var v,p,g,m=0;m<c.length;m++){var y=f.get(d[m],h),x=!isNaN(y),b=y<o[0],w=y>o[1];if(x&&!b&&!w)return!0;x&&(g=!0),b&&(v=!0),w&&(p=!0)}return g&&v&&p})}else Eg(c,function(h){if(a==="empty")l.setData(u=u.map(h,function(p){return s(p)?p:NaN}));else{var v={};v[h]=o,u.selectRange(v)}});Eg(c,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;Eg(["min","max"],function(i){var a=r.get(i+"Span"),o=r.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=qr(n[0]+o,n,[0,100],!0):a!=null&&(o=qr(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=sne(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;r[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},e})();function Att(e,t,r){var n=[1/0,-1/0];Eg(r,function(o){oUe(n,o.getData(),t)});var i=e.getAxisModel(),a=aoe(i.axis.scale,i,n).calculate();return[a.min,a.max]}var Ett={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=e.getComponent(th(o),s);i(o,s,l,a)})})}t(function(i,a,o,s){o.__dzAxisProxy=null});var r=[];t(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Ttt(i,a,s,e),r.push(o.__dzAxisProxy))});var n=Rt();return G(r,function(i){G(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function Mtt(e){e.registerAction("dataZoom",function(t,r){var n=wtt(r,t);G(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var lj=!1;function SB(e){lj||(lj=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Ett),Mtt(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Dtt(e){e.registerComponentModel(Stt),e.registerComponentView(Ctt),SB(e)}var bl=(function(){function e(){}return e})(),cue={};function Mg(e,t){cue[e]=t}function fue(e){return cue[e]}var Ptt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;G(this.option.feature,function(n,i){var a=fue(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(r)),Et(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:De.color.border,borderRadius:0,borderWidth:0,padding:De.size.m,itemSize:15,itemGap:De.size.s,showTitle:!0,iconStyle:{borderColor:De.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:De.color.accent50}},tooltip:{show:!1,position:"bottom"}},t})(dr);function due(e,t){var r=Ab(t.get("padding")),n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");var i=new vr({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var Rtt=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,a){var o=this.group;if(o.removeAll(),!r.get("show"))return;var s=+r.get("itemSize"),l=r.get("orient")==="vertical",u=r.get("feature")||{},c=this._features||(this._features={}),f=[];G(u,function(y,x){f.push(x)}),new Hf(this._featureNames||[],f).add(d).update(d).remove(lr(d,null)).execute(),this._featureNames=f;function d(y,x){var b=f[y],w=f[x],S=u[b],C=new pr(S,r,r.ecModel),E;if(a&&a.newTitle!=null&&a.featureName===b&&(S.title=a.newTitle),b&&!w){if(Ltt(b))E={onclick:C.option.onclick,featureName:b};else{var A=fue(b);if(!A)return;E=new A}c[b]=E}else if(E=c[w],!E)return;E.uid=ay("toolbox-feature"),E.model=C,E.ecModel=n,E.api=i;var M=E instanceof bl;if(!b&&w){M&&E.dispose&&E.dispose(n,i);return}if(!C.get("show")||M&&E.unusable){M&&E.remove&&E.remove(n,i);return}h(C,E,b),C.setIconStatus=function(D,R){var L=this.option,k=this.iconPaths;L.iconStatus=L.iconStatus||{},L.iconStatus[D]=R,k[D]&&(R==="emphasis"?Bf:zf)(k[D])},E instanceof bl&&E.render&&E.render(C,n,i,a)}function h(y,x,b){var w=y.getModel("iconStyle"),S=y.getModel(["emphasis","iconStyle"]),C=x instanceof bl&&x.getIcons?x.getIcons():y.get("icon"),E=y.get("title")||{},A,M;pt(C)?(A={},A[b]=C):A=C,pt(E)?(M={},M[b]=E):M=E;var D=y.iconPaths={};G(A,function(R,L){var k=Tb(R,{},{x:-s/2,y:-s/2,width:s,height:s});k.setStyle(w.getItemStyle());var O=k.ensureState("emphasis");O.style=S.getItemStyle();var F=new Pr({style:{text:M[L],align:S.get("textAlign"),borderRadius:S.get("textBorderRadius"),padding:S.get("textPadding"),fill:null,font:FF({fontStyle:S.get("textFontStyle"),fontFamily:S.get("textFontFamily"),fontSize:S.get("textFontSize"),fontWeight:S.get("textFontWeight")},n)},ignore:!0});k.setTextContent(F),td({el:k,componentModel:r,itemName:L,formatterParamsExtra:{title:M[L]}}),k.__title=M[L],k.on("mouseover",function(){var H=S.getItemStyle(),V=l?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";F.setStyle({fill:S.get("textFill")||H.fill||H.stroke||De.color.neutral99,backgroundColor:S.get("textBackgroundColor")}),k.setTextConfig({position:S.get("textPosition")||V}),F.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){y.get(["iconStatus",L])!=="emphasis"&&i.leaveEmphasis(this),F.hide()}),(y.get(["iconStatus",L])==="emphasis"?Bf:zf)(k),o.add(k),k.on("click",mt(x.onclick,x,n,i,L)),D[L]=k})}var v=ca(r,i).refContainer,p=r.getBoxLayoutParams(),g=r.get("padding"),m=Dn(p,v,g);yp(r.get("orient"),o,r.get("itemGap"),m.width,m.height),KE(o,p,v,g),o.add(due(o.getBoundingRect(),r)),l||o.eachChild(function(y){var x=y.__title,b=y.ensureState("emphasis"),w=b.textConfig||(b.textConfig={}),S=y.getTextContent(),C=S&&S.ensureState("emphasis");if(C&&!Ht(C)&&x){var E=C.style||(C.style={}),A=LE(x,Pr.makeFont(E)),M=y.x+o.x,D=y.y+o.y+s,R=!1;D+A.height>i.getHeight()&&(w.position="top",R=!0);var L=R?-5-A.height:s+10;M+A.width/2>i.getWidth()?(w.position=["100%",L],E.align="right"):M-A.width/2<0&&(w.position=[0,L],E.align="left")}})},t.prototype.updateView=function(r,n,i,a){G(this._features,function(o){o instanceof bl&&o.updateView&&o.updateView(o.model,n,i,a)})},t.prototype.remove=function(r,n){G(this._features,function(i){i instanceof bl&&i.remove&&i.remove(r,n)}),this.group.removeAll()},t.prototype.dispose=function(r,n){G(this._features,function(i){i instanceof bl&&i.dispose&&i.dispose(r,n)})},t.type="toolbox",t})(Cn);function Ltt(e){return e.indexOf("my")===0}var Itt=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){var i=this.model,a=i.get("name")||r.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||De.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Er.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),h=d[0].indexOf("base64")>-1,v=o?decodeURIComponent(d[1]):d[1];h&&(v=window.atob(v));var p=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=v.length,m=new Uint8Array(g);g--;)m[g]=v.charCodeAt(g);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,p)}else{var x=document.createElement("iframe");document.body.appendChild(x);var b=x.contentWindow,w=b.document;w.open("image/svg+xml","replace"),w.write(v),w.close(),b.focus(),w.execCommand("SaveAs",!0,p),document.body.removeChild(x)}}else{var S=i.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',E=window.open();E.document.write(C),E.document.title=a}},t.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:De.color.neutral00,name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t})(bl),uj="__ec_magicType_stack__",ktt=[["line","bar"],["stack"]],Ott=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return G(r.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(r,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(cj[i]){var s={series:[]},l=function(f){var d=f.subType,h=f.id,v=cj[i](d,h,f,a);v&&(kt(v,f.option),s.series.push(v));var p=f.coordinateSystem;if(p&&p.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=p.getAxesByScale("ordinal")[0];if(g){var m=g.dim,y=m+"Axis",x=f.getReferringComponents(y,fi).models[0],b=x.componentIndex;s[y]=s[y]||[];for(var w=0;w<=b;w++)s[y][b]=s[y][b]||{};s[y][b].boundaryGap=i==="bar"}}};G(ktt,function(f){ur(f,i)>=0&&G(f,function(d){a.setIconStatus(d,"normal")})}),a.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=Et({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t})(bl),cj={line:function(e,t,r,n){if(e==="bar")return Et({id:t,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,t,r,n){if(e==="line")return Et({id:t,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,t,r,n){var i=r.get("stack")===uj;if(e==="line"||e==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Et({id:t,stack:i?"":uj},n.get(["option","stack"])||{},!0)}};Hc({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var fM=new Array(60).join("-"),Dm="	";function Ftt(e){var t={},r=[],n=[];return e.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:t,other:r,meta:n}}function Ntt(e){var t=[];return G(e,function(r,n){var i=r.categoryAxis,a=r.valueAxis,o=a.dim,s=[" "].concat(Ye(r.series,function(h){return h.name})),l=[i.model.getCategories()];G(r.series,function(h){var v=h.getRawData();l.push(h.getRawData().mapArray(v.mapDimension(o),function(p){return p}))});for(var u=[s.join(Dm)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Dm))}t.push(u.join(`
`))}),t.join(`

`+fM+`

`)}function Btt(e){return Ye(e,function(t){var r=t.getRawData(),n=[t.name],i=[];return r.each(r.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=r.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];n.push((s?s+Dm:"")+i.join(Dm))}),n.join(`
`)}).join(`

`+fM+`

`)}function ztt(e){var t=Ftt(e);return{value:on([Ntt(t.seriesGroupByCategoryAxis),Btt(t.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+fM+`

`),meta:t.meta}}function hA(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Htt(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(Dm)>=0)return!0}var $4=new RegExp("["+Dm+"]+","g");function Vtt(e){for(var t=e.split(/\n+/g),r=hA(t.shift()).split($4),n=[],i=Ye(r,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var o=hA(t[a]).split($4);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:n}}function $tt(e){for(var t=e.split(/\n+/g),r=hA(t.shift()),n=[],i=0;i<t.length;i++){var a=hA(t[i]);if(a){var o=a.split($4),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),n[i]={name:s,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:r,data:n}}function Gtt(e,t){var r=e.split(new RegExp(`
*`+fM+`
*`,"g")),n={series:[]};return G(r,function(i,a){if(Htt(i)){var o=Vtt(i),s=t[a],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=$tt(i);n.series.push(o)}}),n}var Utt=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||De.color.neutral00;var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),d=a.get("contentToOption"),h=ztt(r);if(Ht(f)){var v=f(n.getOption());pt(v)?u.innerHTML=v:hm(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var p=c.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=a.get("textColor"),p.borderColor=a.get("textareaBorderColor"),p.backgroundColor=a.get("textareaColor"),c.value=h.value,u.appendChild(c)}var g=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),b=document.createElement("div");y+=";background-color:"+a.get("buttonColor"),y+=";color:"+a.get("buttonTextColor");var w=this;function S(){i.removeChild(o),w._dom=null}Z3(x,"click",S),Z3(b,"click",function(){if(d==null&&f!=null||d!=null&&f==null){S();return}var C;try{Ht(d)?C=d(u,n.getOption()):C=Gtt(c.value,g)}catch(E){throw S(),new Error("Data view format error "+E)}C&&n.dispatchAction({type:"changeDataView",newOption:C}),S()}),x.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=x.style.cssText=y,!a.get("readOnly")&&m.appendChild(b),m.appendChild(x),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:De.color.background,textColor:De.color.primary,textareaColor:De.color.background,textareaBorderColor:De.color.border,buttonColor:De.color.accent50,buttonTextColor:De.color.neutral00};return n},t})(bl);function Wtt(e,t){return Ye(e,function(r,n){var i=t&&t[n];if(Xt(i)&&!We(i)){var a=Xt(r)&&!We(r);a||(r={value:r});var o=i.name!=null&&r.name==null;return r=kt(r,i),o&&delete r.name,r}else return r})}Hc({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var r=[];G(e.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)r.push(He({type:"scatter"},n));else{var a=i.get("data");r.push({name:n.name,data:Wtt(n.data,a)})}}),t.mergeOption(kt({series:r},e.newOption))});var hue=G,vue=wr();function Xtt(e,t){var r=CB(e);hue(t,function(n,i){for(var a=r.length-1;a>=0;a--){var o=r[a];if(o[i])break}if(a<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();r[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),r.push(t)}function jtt(e){var t=CB(e),r=t[t.length-1];t.length>1&&t.pop();var n={};return hue(r,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){n[a]=i;break}}),n}function Ytt(e){vue(e).snapshots=null}function Ktt(e){return CB(e).length}function CB(e){var t=vue(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var Ztt=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){Ytt(r),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},t})(bl);Hc({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var qtt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],TB=(function(){function e(t,r,n){var i=this;this._targetInfoList=[];var a=fj(r,t);G(Jtt,function(o,s){(!n||!n.include||ur(n.include,s)>=0)&&o(a,i._targetInfoList)})}return e.prototype.setOutputRanges=function(t,r){return this.matchOutputRanges(t,r,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=YL[n.brushType](0,a,i);n.__rangeOffset={offset:pj[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,r,n){G(t,function(i){var a=this.findTargetInfo(i,r);a&&a!==!0&&G(a.coordSyses,function(o){var s=YL[i.brushType](1,o,i.range,!0);n(i,s.values,o,r)})},this)},e.prototype.setInputRanges=function(t,r){G(t,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=YL[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?pj[n.brushType](a.values,o.offset,Qtt(a.xyMinMax,o.xyMinMax)):a.values}},this)},e.prototype.makePanelOpts=function(t,r){return Ye(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:xle(i),isTargetByCursor:ble(i,t,n.coordSysModel),getLinearBrushOtherExtent:_le(i)}})},e.prototype.controlSeries=function(t,r,n){var i=this.findTargetInfo(t,n);return i===!0||i&&ur(i.coordSyses,r.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,r){for(var n=this._targetInfoList,i=fj(r,t),a=0;a<n.length;a++){var o=n[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<dj.length;l++)if(dj[l](i,o))return o}return!0},e})();function G4(e){return e[0]>e[1]&&e.reverse(),e}function fj(e,t){return Jg(e,t,{includeMainTypes:qtt})}var Jtt={grid:function(e,t){var r=e.xAxisModels,n=e.yAxisModels,i=e.gridModels,a=Rt(),o={},s={};!r&&!n&&!i||(G(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),G(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),G(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];G(u.getCartesians(),function(f,d){(ur(r,f.getAxis("x").model)>=0||ur(n,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:hj.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){G(e.geoModels,function(r){var n=r.coordinateSystem;t.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:hj.geo})})}},dj=[function(e,t){var r=e.xAxisModel,n=e.yAxisModel,i=e.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(e,t){var r=e.geoModel;return r&&r===t.geoModel}],hj={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(mp(e)),t}},YL={lineX:lr(vj,0),lineY:lr(vj,1),rect:function(e,t,r,n){var i=e?t.pointToData([r[0][0],r[1][0]],n):t.dataToPoint([r[0][0],r[1][0]],n),a=e?t.pointToData([r[0][1],r[1][1]],n):t.dataToPoint([r[0][1],r[1][1]],n),o=[G4([i[0],a[0]]),G4([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Ye(r,function(o){var s=e?t.pointToData(o,n):t.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function vj(e,t,r,n){var i=r.getAxis(["x","y"][e]),a=G4(Ye([0,1],function(s){return t?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),o=[];return o[e]=a,o[1-e]=[NaN,NaN],{values:a,xyMinMax:o}}var pj={lineX:lr(gj,0),lineY:lr(gj,1),rect:function(e,t,r){return[[e[0][0]-r[0]*t[0][0],e[0][1]-r[0]*t[0][1]],[e[1][0]-r[1]*t[1][0],e[1][1]-r[1]*t[1][1]]]},polygon:function(e,t,r){return Ye(e,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}};function gj(e,t,r,n){return[t[0]-n[e]*r[0],t[1]-n[e]*r[1]]}function Qtt(e,t){var r=mj(e),n=mj(t),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function mj(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var U4=G,ert=rHe("toolbox-dataZoom_"),trt=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,a){this._brushController||(this._brushController=new ZN(i.getZr()),this._brushController.on("brush",mt(this._onBrush,this)).mount()),irt(r,n,this,a,i),nrt(r,n)},t.prototype.onclick=function(r,n,i){rrt[i].call(this)},t.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new TB(AB(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),Xtt(a,i),this._dispatchZoomAction(i);function s(u,c,f){var d=c.getAxis(u),h=d.model,v=l(u,h,a),p=v.findRepresentativeAxisProxy(h).getMinMaxSpan();(p.minValueSpan!=null||p.maxValueSpan!=null)&&(f=wh(0,f.slice(),d.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var v=h.getAxisModel(u,c.componentIndex);v&&(d=h)}),d}},t.prototype._dispatchZoomAction=function(r){var n=[];U4(r,function(i,a){n.push(Vt(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:De.color.backgroundTint}};return n},t})(bl),rrt={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(jtt(this.ecModel))}};function AB(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function nrt(e,t){e.setIconStatus("back",Ktt(t)>1?"emphasis":"normal")}function irt(e,t,r,n,i){var a=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var o=new TB(AB(e),t,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}z9e("dataZoom",function(e){var t=e.getComponent("toolbox",0),r=["feature","dataZoom"];if(!t||t.get(r)==null)return;var n=t.getModel(r),i=[],a=AB(n),o=Jg(e,a);U4(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),U4(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:ert+u+f};d[c]=f,i.push(d)}return i});function art(e){e.registerComponentModel(Ptt),e.registerComponentView(Rtt),Mg("saveAsImage",Itt),Mg("magicType",Ott),Mg("dataView",Utt),Mg("dataZoom",trt),Mg("restore",Ztt),Yt(Dtt)}var ort=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:De.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:De.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:De.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:De.color.tertiary,fontSize:14}},t})(dr);function pue(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function gue(e){if(Er.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var mue=gue(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),srt=gue(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function yue(e,t){if(!e)return t;t=yie(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function lrt(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var urt=yue(srt,"transition"),EB=yue(mue,"transform"),crt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Er.transform3dSupported?"will-change:transform;":"");function frt(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function drt(e,t,r){if(!pt(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=Op(t);var a=frt(r),o=Math.max(Math.round(i)*1.5,6),s="",l=EB+":",u;ur(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+i,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;s+=";"+a+":-"+h+"px";var v=t+" solid "+i+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+p.join("")+'"></div>'}function hrt(e,t,r){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return r&&(i=" "+e/2+"s "+n,a="opacity"+i+",visibility"+i),t||(i=" "+e+"s "+n,a+=(a.length?",":"")+(Er.transformSupported?""+EB+i:",left"+i+",top"+i)),urt+":"+a}function yj(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Er.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Er.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+EB+":"+o+";":[["top",0],["left",0],[mue,o]]}function vrt(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=It(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+i+"px");var a=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),G(["decoration","align"],function(u){var c=e.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function prt(e,t,r,n){var i=[],a=e.get("transitionDuration"),o=e.get("backgroundColor"),s=e.get("shadowBlur"),l=e.get("shadowColor"),u=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),f=e.getModel("textStyle"),d=aae(e,"html"),h=u+"px "+c+"px "+s+"px "+l;return i.push("box-shadow:"+h),t&&a>0&&i.push(hrt(a,r,n)),o&&i.push("background-color:"+o),G(["width","color","radius"],function(v){var p="border-"+v,g=yie(p),m=e.get(g);m!=null&&i.push(p+":"+m+(v==="color"?"":"px"))}),i.push(vrt(f)),d!=null&&i.push("padding:"+Ab(d).join("px ")+"px"),i.join(";")+";"}function xj(e,t,r,n,i){var a=t&&t.painter;if(r){var o=a&&a.getViewportRoot();o&&A6e(e,o,r,n,i)}else{e[0]=n,e[1]=i;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var grt=(function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Er.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=r.appendTo,o=a&&(pt(a)?document.querySelector(a):hm(a)?a:Ht(a)&&a(t.getDom()));xj(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(n),this._api=t,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();gl(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=lrt(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=crt+prt(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+yj(a[0],a[1],!0)+("border-color:"+Op(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,a){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(pt(a)&&n.get("trigger")==="item"&&!pue(n)&&(s=drt(n,i,a)),pt(t))o.innerHTML=t+s;else if(t){o.innerHTML="",We(t)||(t=[t]);for(var l=0;l<t.length;l++)hm(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(xj(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=yj(n[0],n[1]);G(a,function(o){i[o[0]]=o[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;this._enableDisplayTransition?(r.visibility="hidden",r.opacity="0"):r.display="none",Er.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;E6e(t&&t.painter&&t.painter.getViewportRoot(),this._container);var r=this.el;if(r){r.onmouseenter=r.onmousemove=r.onmouseleave=null;var n=r.parentNode;n&&n.removeChild(r)}this.el=this._container=null},e})(),mrt=(function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),bj(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,a){var o=this;Xt(t)&&Qr(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Pr({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:aae(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),G(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),G(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=_j(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;bj(i,this._zr,t,r),t=i[0],r=i[1];var a=n.style,o=Fd(a.borderWidth||0),s=_j(a);n.x=t+o+s.left,n.y=r+o+s.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e})();function Fd(e){return Math.max(0,e)}function _j(e){var t=Fd(e.shadowBlur||0),r=Fd(e.shadowOffsetX||0),n=Fd(e.shadowOffsetY||0);return{left:Fd(t-r),right:Fd(t+r),top:Fd(t-n),bottom:Fd(t+n)}}function bj(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var yrt=new vr({shape:{x:-1,y:-1,width:2,height:2}}),xrt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Er.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=uHe(i.get("renderMode"));this._tooltipContent=a==="richText"?new mrt(n):new grt(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(r,n,i){if(!(Er.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?ly(this,"_updatePosition",50,"fixRate"):R_(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");Qle("itemTooltip",this._api,mt(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(r,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||Er.node||!i.getDom())){var o=wj(a,i);this._ticket="";var s=a.dataByCoordSys,l=Srt(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=yrt;c.x=a.x,c.y=a.y,c.update(),qt(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var f=eue(a,n),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(r,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(wj(a,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),f=w1([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(i){var s=qt(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Qv(i,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(qt(c).dataIndex!=null?l=c:qt(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(r,l,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=mt(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=w1([n.tooltipOption],a),l=this._renderMode,u=[],c=ji("section",{blocks:[],noHeader:!0}),f=[],d=new DR;G(r,function(y){G(y.dataByAxis,function(x){var b=i.getComponent(x.axisDim+"Axis",x.axisIndex),w=x.value;if(!(!b||w==null)){var S=Zle(w,b.axis,i,x.seriesDataIndices,x.valueLabelOpt),C=ji("section",{header:S,noHeader:!El(S),sortBlocks:!0,blocks:[]});c.blocks.push(C),G(x.seriesDataIndices,function(E){var A=i.getSeriesByIndex(E.seriesIndex),M=E.dataIndexInside,D=A.getDataParams(M);if(!(D.dataIndex<0)){D.axisDim=x.axisDim,D.axisIndex=x.axisIndex,D.axisType=x.axisType,D.axisId=x.axisId,D.axisValue=UT(b.axis,{value:w}),D.axisValueLabel=S,D.marker=d.makeTooltipMarker("item",Op(D.color),l);var R=N$(A.formatTooltip(M,!0,null)),L=R.frag;if(L){var k=w1([A],a).get("valueFormatter");C.blocks.push(k?He({valueFormatter:k},L):L)}R.text&&f.push(R.text),u.push(D)}})}})}),c.blocks.reverse(),f.reverse();var h=n.position,v=s.get("order"),p=G$(c,d,l,v,i.get("useUTC"),s.get("textStyle"));p&&f.unshift(p);var g=l==="richText"?`

`:"<br/>",m=f.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,o=qt(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,v=r.positionDefault,p=w1([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),g=p.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,f),y=new DR;m.marker=y.makeTooltipMarker("item",Op(m.color),h);var x=N$(u.formatTooltip(c,!1,f)),b=p.get("order"),w=p.get("valueFormatter"),S=x.frag,C=S?G$(w?He({valueFormatter:w},S):S,y,h,b,a.get("useUTC"),p.get("textStyle")):x.text,E="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,C,m,E,r.offsetX,r.offsetY,r.position,r.target,y)}),i({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var a=this._renderMode==="html",o=qt(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(pt(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Vt(l),l.content=$i(l.content));var f=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=r.positionDefault,v=w1(f,this._tooltipModel,h?{position:h}:null),p=v.get("content"),g=Math.random()+"",m=new DR;this._showOrMove(v,function(){var y=Vt(v.get("formatterParams")||{});this._showTooltipContent(v,p,y,g,r.offsetX,r.offsetY,r.position,n,m)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,a,o,s,l,u,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var f=this._tooltipContent;f.setEnterable(r.get("enterable"));var d=r.get("formatter");l=l||r.get("position");var h=n,v=this._getNearestPoint([o,s],i,r.get("trigger"),r.get("borderColor"),r.get("defaultBorderColor",!0)),p=v.color;if(d)if(pt(d)){var g=r.ecModel.get("useUTC"),m=We(i)?i[0]:i,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=d,y&&(h=YE(m.axisValue,h,g)),h=jF(h,i,!0)}else if(Ht(d)){var x=mt(function(b,w){b===this._ticket&&(f.setContent(w,c,r,p,l),this._updatePosition(r,l,o,s,f,i,u))},this);this._ticket=a,h=d(i,a,x)}else h=d;f.setContent(h,c,r,p,l),f.show(r,p),this._updatePosition(r,l,o,s,f,i,u)}},t.prototype._getNearestPoint=function(r,n,i,a,o){if(i==="axis"||We(n))return{color:a||o};if(!We(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var f=o.getSize(),d=r.get("align"),h=r.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),Ht(n)&&(n=n([i,a],s,o.el,v,{viewSize:[u,c],contentSize:f.slice()})),We(n))i=ft(n[0],u),a=ft(n[1],c);else if(Xt(n)){var p=n;p.width=f[0],p.height=f[1];var g=Dn(p,{width:u,height:c});i=g.x,a=g.y,d=null,h=null}else if(pt(n)&&l){var m=wrt(n,v,f,r.get("borderWidth"));i=m[0],a=m[1]}else{var m=_rt(i,a,o,u,c,d?null:20,h?null:20);i=m[0],a=m[1]}if(d&&(i-=Sj(d)?f[0]/2:d==="right"?f[0]:0),h&&(a-=Sj(h)?f[1]/2:h==="bottom"?f[1]:0),pue(r)){var m=brt(i,a,o,u,c);i=m[0],a=m[1]}o.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===r.length;return o&&G(i,function(s,l){var u=s.dataByAxis||[],c=r[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&G(u,function(d,h){var v=f[h]||{},p=d.seriesDataIndices||[],g=v.seriesDataIndices||[];o=o&&d.value===v.value&&d.axisType===v.axisType&&d.axisId===v.axisId&&p.length===g.length,o&&G(p,function(m,y){var x=g[y];o=o&&m.seriesIndex===x.seriesIndex&&m.dataIndex===x.dataIndex}),a&&G(d.seriesDataIndices,function(m){var y=m.seriesIndex,x=n[y],b=a[y];x&&b&&b.data!==x.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Er.node||!n.getDom()||(R_(this,"_updatePosition"),this._tooltipContent.dispose(),F4("itemTooltip",n))},t.type="tooltip",t})(Cn);function w1(e,t,r){var n=t.ecModel,i;r?(i=new pr(r,n,n),i=new pr(t.option,i,n)):i=t;for(var a=e.length-1;a>=0;a--){var o=e[a];o&&(o instanceof pr&&(o=o.get("tooltip",!0)),pt(o)&&(o={formatter:o}),o&&(i=new pr(o,i,n)))}return i}function wj(e,t){return e.dispatchAction||mt(t.dispatchAction,t)}function _rt(e,t,r,n,i,a,o){var s=r.getSize(),l=s[0],u=s[1];return a!=null&&(e+l+a+2>n?e-=l+a:e+=a),o!=null&&(t+u+o>i?t-=u+o:t+=o),[e,t]}function brt(e,t,r,n,i){var a=r.getSize(),o=a[0],s=a[1];return e=Math.min(e+o,n)-o,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function wrt(e,t,r,n){var i=r[0],a=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-i/2,l=t.y+c/2-a/2;break;case"top":s=t.x+u/2-i/2,l=t.y-a-o;break;case"bottom":s=t.x+u/2-i/2,l=t.y+c+o;break;case"left":s=t.x-i-o,l=t.y+c/2-a/2;break;case"right":s=t.x+u+o,l=t.y+c/2-a/2}return[s,l]}function Sj(e){return e==="center"||e==="middle"}function Srt(e,t,r){var n=wF(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=ey(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=r.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=qt(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function Crt(e){Yt(Fb),e.registerComponentModel(ort),e.registerComponentView(xrt),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ei),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ei)}var Trt=["rect","polygon","keep","clear"];function Art(e,t){var r=Mn(e?e.brush:[]);if(r.length){var n=[];G(r,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=e&&e.toolbox;We(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),Ert(s),t&&!s.length&&s.push.apply(s,Trt)}}function Ert(e){var t={};G(e,function(r){t[r]=1}),e.length=0,G(t,function(r,n){e.push(n)})}var Cj=G;function Tj(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function W4(e,t,r){var n={};return Cj(t,function(a){var o=n[a]=i();Cj(e[a],function(s,l){if(Aa.isValidType(l)){var u={type:l,visual:s};r&&r(u,a),o[l]=new Aa(u),l==="opacity"&&(u=Vt(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new Aa(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function xue(e,t,r){var n;G(r,function(i){t.hasOwnProperty(i)&&Tj(t[i])&&(n=!0)}),n&&G(r,function(i){t.hasOwnProperty(i)&&Tj(t[i])?e[i]=Vt(t[i]):delete e[i]})}function Mrt(e,t,r,n,i,a){var o={};G(e,function(f){var d=Aa.prepareVisualTypes(t[f]);o[f]=d});var s;function l(f){return iN(r,s,f)}function u(f,d){pae(r,s,f,d)}r.each(c);function c(f,d){s=f;var h=r.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var v=n.call(i,f),p=t[v],g=o[v],m=0,y=g.length;m<y;m++){var x=g[m];p[x]&&p[x].applyVisual(f,l,u)}}}function Drt(e,t,r,n){var i={};return G(e,function(a){var o=Aa.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,s){var l;n!=null&&(l=s.getDimensionIndex(n));function u(w){return iN(s,f,w)}function c(w,S){pae(s,f,w,S)}for(var f,d=s.getStore();(f=o.next())!=null;){var h=s.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var v=n!=null?d.get(l,f):f,p=r(v),g=t[p],m=i[p],y=0,x=m.length;y<x;y++){var b=m[y];g[b]&&g[b].applyVisual(v,u,c)}}}}}function Prt(e){var t=e.brushType,r={point:function(n){return Aj[t].point(n,r,e)},rect:function(n){return Aj[t].rect(n,r,e)}};return r}var Aj={lineX:Ej(0),lineY:Ej(1),rect:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])},rect:function(e,t,r){return e&&r.boundingRect.intersect(e)}},polygon:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])&&$v(r.range,e[0],e[1])},rect:function(e,t,r){var n=r.range;if(!e||n.length<=1)return!1;var i=e.x,a=e.y,o=e.width,s=e.height,l=n[0];if($v(n,i,a)||$v(n,i+o,a)||$v(n,i,a+s)||$v(n,i+o,a+s)||jt.create(e).contain(l[0],l[1])||Y1(i,a,i+o,a,n)||Y1(i,a,i,a+s,n)||Y1(i+o,a,i+o,a+s,n)||Y1(i,a+s,i+o,a+s,n))return!0}}};function Ej(e){var t=["x","y"],r=["width","height"];return{point:function(n,i,a){if(n){var o=a.range,s=n[e];return S1(s,o)}},rect:function(n,i,a){if(n){var o=a.range,s=[n[t[e]],n[t[e]]+n[r[e]]];return s[1]<s[0]&&s.reverse(),S1(s[0],o)||S1(s[1],o)||S1(o[0],s)||S1(o[1],s)}}}}function S1(e,t){return t[0]<=e&&e<=t[1]}var Mj=["inBrush","outOfBrush"],KL="__ecBrushSelect",X4="__ecInBrushSelectEvent";function _ue(e){e.eachComponent({mainType:"brush"},function(t){var r=t.brushTargetManager=new TB(t.option,e);r.setInputRanges(t.areas,e)})}function Rrt(e,t,r){var n=[],i,a;e.eachComponent({mainType:"brush"},function(o){r&&r.type==="takeGlobalCursor"&&o.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),_ue(e),e.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Vt(o.areas),selected:[]};n.push(l);var u=o.option,c=u.brushLink,f=[],d=[],h=[],v=!1;s||(i=u.throttleType,a=u.throttleDelay);var p=Ye(o.areas,function(w){var S=Ort[w.brushType],C=kt({boundingRect:S?S(w):void 0},w);return C.selectors=Prt(C),C}),g=W4(o.option,Mj,function(w){w.mappingMethod="fixed"});We(c)&&G(c,function(w){f[w]=1});function m(w){return c==="all"||!!f[w]}function y(w){return!!w.length}e.eachSeries(function(w,S){var C=h[S]=[];w.subType==="parallel"?x(w,S):b(w,S,C)});function x(w,S){var C=w.coordinateSystem;v=v||C.hasAxisBrushed(),m(S)&&C.eachActiveState(w.getData(),function(E,A){E==="active"&&(d[A]=1)})}function b(w,S,C){if(!(!w.brushSelector||krt(o,S))&&(G(p,function(A){o.brushTargetManager.controlSeries(A,w,e)&&C.push(A),v=v||y(C)}),m(S)&&y(C))){var E=w.getData();E.each(function(A){Dj(w,C,E,A)&&(d[A]=1)})}}e.eachSeries(function(w,S){var C={seriesId:w.id,seriesIndex:S,seriesName:w.name,dataIndex:[]};l.selected.push(C);var E=h[S],A=w.getData(),M=m(S)?function(D){return d[D]?(C.dataIndex.push(A.getRawIndex(D)),"inBrush"):"outOfBrush"}:function(D){return Dj(w,E,A,D)?(C.dataIndex.push(A.getRawIndex(D)),"inBrush"):"outOfBrush"};(m(S)?v:y(E))&&Mrt(Mj,g,A,M)})}),Lrt(t,i,a,n,r)}function Lrt(e,t,r,n,i){if(i){var a=e.getZr();if(!a[X4]){a[KL]||(a[KL]=Irt);var o=ly(a,KL,r,t);o(e,n)}}}function Irt(e,t){if(!e.isDisposed()){var r=e.getZr();r[X4]=!0,e.dispatchAction({type:"brushSelect",batch:t}),r[X4]=!1}}function Dj(e,t,r,n){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(e.brushSelector(n,r,o.selectors,o))return!0}}function krt(e,t){var r=e.option.seriesIndex;return r!=null&&r!=="all"&&(We(r)?ur(r,t)<0:t!==r)}var Ort={rect:function(e){return Pj(e.range)},polygon:function(e){for(var t,r=e.range,n=0,i=r.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=r[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&Pj(t)}};function Pj(e){return new jt(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var Frt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new ZN(n.getZr())).on("brush",mt(this._onBrush,this)).mount()},t.prototype.render=function(r,n,i,a){this.model=r,this._updateController(r,n,i,a)},t.prototype.updateTransform=function(r,n,i,a){_ue(n),this._updateController(r,n,i,a)},t.prototype.updateVisual=function(r,n,i,a){this.updateTransform(r,n,i,a)},t.prototype.updateView=function(r,n,i,a){this._updateController(r,n,i,a)},t.prototype._updateController=function(r,n,i,a){(!a||a.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(i)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(r){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Vt(i),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Vt(i),$from:n})},t.type="brush",t})(Cn),Nrt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.areas=[],r.brushOption={},r}return t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&xue(i,r,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(r){r&&(this.areas=Ye(r,function(n){return Rj(this.option,n)},this))},t.prototype.setBrushOption=function(r){this.brushOption=Rj(this.option,r),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:De.color.backgroundTint,borderColor:De.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:De.color.disabled},t})(dr);function Rj(e,t){return Et({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new pr(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var Brt=["rect","polygon","lineX","lineY","keep","clear"],zrt=(function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i){var a,o,s;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,G(r.get("type",!0),function(l){r.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(r,n,i){this.render(r,n,i)},t.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),i={};return G(r.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(r,n,i){var a=this._brushType,o=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(r){var n={show:!0,type:Brt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},t})(bl);function Hrt(e){e.registerComponentView(Frt),e.registerComponentModel(Nrt),e.registerPreprocessor(Art),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Rrt),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ei),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ei),Mg("brush",zrt)}var Vrt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:De.size.m,backgroundColor:De.color.transparent,borderColor:De.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:De.color.primary},subtextStyle:{fontSize:12,color:De.color.quaternary}},t})(dr),$rt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),l=r.get("textAlign"),u=It(r.get("textBaseline"),r.get("textVerticalAlign")),c=new Pr({style:gn(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=r.get("subtext"),h=new Pr({style:gn(s,{text:d,fill:s.getTextColor(),y:f.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=r.get("link"),p=r.get("sublink"),g=r.get("triggerEvent",!0);c.silent=!v&&!g,h.silent=!p&&!g,v&&c.on("click",function(){OT(v,"_"+r.get("target"))}),p&&h.on("click",function(){OT(p,"_"+r.get("subtarget"))}),qt(c).eventData=qt(h).eventData=g?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(c),d&&a.add(h);var m=a.getBoundingRect(),y=r.getBoxLayoutParams();y.width=m.width,y.height=m.height;var x=ca(r,i),b=Dn(y,x.refContainer,r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=r.get("top")||r.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var w={align:l,verticalAlign:u};c.setStyle(w),h.setStyle(w),m=a.getBoundingRect();var S=b.margin,C=r.getItemStyle(["color","opacity"]);C.fill=r.get("backgroundColor");var E=new vr({shape:{x:m.x-S[3],y:m.y-S[0],width:m.width+S[1]+S[3],height:m.height+S[0]+S[2],r:r.get("borderRadius")},style:C,subPixelOptimize:!0,silent:!0});a.add(E)}},t.type="title",t})(Cn);function Grt(e){e.registerComponentModel(Vrt),e.registerComponentView($rt)}var Lj=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode="box",r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._initData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var n=this._data.count();this.option.loop?r=(r%n+n)%n:(r>=n&&(r=n-1),r<0&&(r=0)),this.option.currentIndex=r},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(r){this.option.autoPlay=!!r},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var r=this.option,n=r.data||[],i=r.axisType,a=this._names=[],o;i==="category"?(o=[],G(n,function(u,c){var f=aa(Qm(u),""),d;Xt(u)?(d=Vt(u),d.value=c):d=c,o.push(d),a.push(f)})):o=n;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new oi([{name:"value",type:s}],this);l.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:De.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:De.color.secondary},data:[]},t})(dr),bue=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline.slider",t.defaultOption=kh(Lj.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:De.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:De.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:De.color.tertiary},itemStyle:{color:De.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:De.color.accent50,borderColor:De.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:De.color.accent50,borderColor:De.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:De.color.accent60},itemStyle:{color:De.color.accent60,borderColor:De.color.accent60},controlStyle:{color:De.color.accent70,borderColor:De.color.accent70}},progress:{lineStyle:{color:De.color.accent30},itemStyle:{color:De.color.accent40}},data:[]}),t})(Lj);Ii(bue,qE.prototype);var Urt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline",t})(Cn),Wrt=(function(e){Ae(t,e);function t(r,n,i,a){var o=e.call(this,r,n,i)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t})(es),ZL=Math.PI,Ij=wr(),Xrt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.api=n},t.prototype.render=function(r,n,i){if(this.model=r,this.api=i,this.ecModel=n,this.group.removeAll(),r.get("show",!0)){var a=this._layout(r,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,r);r.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return ji("nameValue",{noName:!0,value:c})},G(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,r)},this),this._renderAxisLabel(a,s,l,r),this._position(a,r)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(r,n){var i=r.get(["label","position"]),a=r.get("orient"),o=Yrt(r,n),s;i==null||i==="auto"?s=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":pt(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:ZL/2},f=a==="vertical"?o.height:o.width,d=r.getModel("controlStyle"),h=d.get("show",!0),v=h?d.get("itemSize"):0,p=h?d.get("itemGap"):0,g=v+p,m=r.get(["label","rotate"])||0;m=m*ZL/180;var y,x,b,w=d.get("position",!0),S=h&&d.get("showPlayBtn",!0),C=h&&d.get("showPrevBtn",!0),E=h&&d.get("showNextBtn",!0),A=0,M=f;w==="left"||w==="bottom"?(S&&(y=[0,0],A+=g),C&&(x=[A,0],A+=g),E&&(b=[M-v,0],M-=g)):(S&&(y=[M-v,0],M-=g),C&&(x=[0,0],A+=g),E&&(b=[M-v,0],M-=g));var D=[A,M];return r.get("inverse")&&D.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:m,labelPosOpt:s,labelAlign:r.get(["label","align"])||l[a],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||u[a],playPosition:y,prevBtnPosition:x,nextBtnPosition:b,axisExtent:D,controlSize:v,controlGap:p}},t.prototype._position=function(r,n){var i=this._mainGroup,a=this._labelGroup,o=r.viewRect;if(r.orient==="vertical"){var s=$a(),l=o.x,u=o.y+o.height;Dc(s,s,[-l,-u]),Lh(s,s,-ZL/2),Dc(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=y(o),f=y(i.getBoundingRect()),d=y(a.getBoundingRect()),h=[i.x,i.y],v=[a.x,a.y];v[0]=h[0]=c[0][0];var p=r.labelPosOpt;if(p==null||pt(p)){var g=p==="+"?0:1;x(h,f,c,1,g),x(v,d,c,1,1-g)}else{var g=p>=0?0:1;x(h,f,c,1,g),v[1]=h[1]+p}i.setPosition(h),a.setPosition(v),i.rotation=a.rotation=r.rotation,m(i),m(a);function m(b){b.originX=c[0][0]-b.x,b.originY=c[1][0]-b.y}function y(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function x(b,w,S,C,E){b[C]+=S[C][E]-w[C][E]}},t.prototype._createAxis=function(r,n){var i=n.getData(),a=n.get("axisType"),o=jrt(n,a);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new Wrt("value",o,r.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(r){var n=this[r]=new $t;return this.group.add(n),n},t.prototype._renderAxisLine=function(r,n,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var s=new Gi({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:He({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new Gi({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:kt({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(r,n,i,a){var o=this,s=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],G(l,function(u){var c=i.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),p={x:c,y:0,onclick:mt(o._changeTimeline,o,u.value)},g=kj(f,d,n,p);g.ensureState("emphasis").style=h.getItemStyle(),g.ensureState("progress").style=v.getItemStyle(),gp(g);var m=qt(g);f.get("tooltip")?(m.dataIndex=u.value,m.dataModel=a):m.dataIndex=m.dataModel=null,o._tickSymbols.push(g)})},t.prototype._renderAxisLabel=function(r,n,i,a){var o=this,s=i.getLabelModel();if(s.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],G(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),v=d.getModel(["emphasis","label"]),p=d.getModel(["progress","label"]),g=i.dataToCoord(c.tickValue),m=new Pr({x:g,y:0,rotation:r.labelRotation-r.rotation,onclick:mt(o._changeTimeline,o,f),silent:!1,style:gn(h,{text:c.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});m.ensureState("emphasis").style=gn(v),m.ensureState("progress").style=gn(p),n.add(m),gp(m),Ij(m).dataIndex=f,o._tickLabels.push(m)})}},t.prototype._renderControl=function(r,n,i,a){var o=r.controlSize,s=r.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);d(r.nextBtnPosition,"next",mt(this._changeTimeline,this,f?"-":"+")),d(r.prevBtnPosition,"prev",mt(this._changeTimeline,this,f?"+":"-")),d(r.playPosition,c?"stop":"play",mt(this._handlePlayClick,this,!c),!0);function d(h,v,p,g){if(h){var m=Au(It(a.get(["controlStyle",v+"BtnSize"]),o),o),y=[0,-m/2,m,m],x=Krt(a,v+"Icon",y,{x:h[0],y:h[1],originX:o/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:p});x.ensureState("emphasis").style=u,n.add(x),gp(x)}}},t.prototype._renderCurrentPointer=function(r,n,i,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=mt(u._handlePointerDrag,u),f.ondragend=mt(u._handlePointerDragend,u),Oj(f,u._progressLine,s,i,a,!0)},onUpdate:function(f){Oj(f,u._progressLine,s,i,a)}};this._currentPointer=kj(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},t.prototype._handlePointerDrag=function(r,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},t.prototype._pointerChangeTimeline=function(r,n){var i=this._toAxisCoord(r)[0],a=this._axis,o=Ml(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=r.model;r._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(r){var n=this._mainGroup.getLocalTransform();return gu(r,n,!0)},t.prototype._findNearestTick=function(r){var n=this.model.getData(),i=1/0,a,o=this._axis;return n.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-r);c<i&&(i=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(r){var n=this.model.getCurrentIndex();r==="+"?r=n+1:r==="-"&&(r=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},t.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<r);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",Ij(i[a]).dataIndex<=r)},t.type="timeline.slider",t})(Urt);function jrt(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new wm({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new gN({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new $f}}function Yrt(e,t){return Dn(e.getBoxLayoutParams(),ca(e,t).refContainer,e.get("padding"))}function Krt(e,t,r,n){var i=n.style,a=Tb(e.get(["controlStyle",t]),n||{},new jt(r[0],r[1],r[2],r[3]));return i&&a.setStyle(i),a}function kj(e,t,r,n,i,a){var o=t.get("color");if(i)i.setColor(o),r.add(i),a&&a.onUpdate(i);else{var s=e.get("symbol");i=Pi(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),r.add(i),a&&a.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Et({rectHover:!0,z2:100},n,!0);var u=uy(e.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=f0(e.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=e.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function Oj(e,t,r,n,i,a){if(!e.dragging){var o=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get("value",r));if(a||!o.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function Zrt(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,r,n){var i=r.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),r.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),kt({currentIndex:i.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,r){var n=r.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function qrt(e){var t=e&&e.timeline;We(t)||(t=t?[t]:[]),G(t,function(r){r&&Jrt(r)})}function Jrt(e){var t=e.type,r={number:"value",time:"time"};if(r[t]&&(e.axisType=r[t],delete e.type),Fj(e),Wv(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});Wv(n,"position")||(n.position=e.controlPosition),n.position==="none"&&!Wv(n,"show")&&(n.show=!1,delete n.position),delete e.controlPosition}G(e.data||[],function(i){Xt(i)&&!We(i)&&(!Wv(i,"value")&&Wv(i,"name")&&(i.value=i.name),Fj(i))})}function Fj(e){var t=e.itemStyle||(e.itemStyle={}),r=t.emphasis||(t.emphasis={}),n=e.label||e.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};G(n,function(o,s){!a[s]&&!Wv(i,s)&&(i[s]=o)}),r.label&&!Wv(n,"emphasis")&&(n.emphasis=r.label,delete r.label)}function Wv(e,t){return e.hasOwnProperty(t)}function Qrt(e){e.registerComponentModel(bue),e.registerComponentView(Xrt),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),Zrt(e),e.registerPreprocessor(qrt)}function MB(e,t){if(!e)return!1;for(var r=We(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function C2(e){Dp(e,"label",["show"])}var T2=wr(),kc=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r.preventAutoZ=!0,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Er.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,a){var o=this.mainType;i||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=T2(s)[o];if(!l||!l.data){T2(s)[o]=null;return}u?u._mergeOption(l,n,!0):(a&&C2(l),G(l.data,function(c){c instanceof Array?(C2(c[0]),C2(c[1])):C2(c)}),u=this.createMarkerModelFromSeries(l,this,n),He(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),T2(s)[o]=u},this)},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),o=this.getRawValue(r),s=a.getName(r);return ji("section",{header:this.name,blocks:[ji("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var i=qE.prototype.getDataParams.call(this,r,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(r,n){return T2(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(dr);Ii(kc,qE.prototype);var ent=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t})(kc);function j4(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function tnt(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function A2(e,t,r,n,i,a,o){var s=[],l=Vf(t,i),u=l?t.getCalculationInfo("stackResultDimension"):i,c=vA(t,u,e),f=t.hostModel,d=f.indicesOfNearest(r,u,c)[0];s[a]=t.get(n,d),s[o]=t.get(u,d);var h=t.get(i,d),v=fc(t.get(i,d));return v=Math.min(v,20),v>=0&&(s[o]=+s[o].toFixed(v)),[s,h]}var E2={min:lr(A2,"min"),max:lr(A2,"max"),average:lr(A2,"average"),median:lr(A2,"median")};function X_(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n&&n.dimensions;if(!tnt(t)&&!We(t.coord)&&We(i)){var a=wue(t,r,n,e);if(t=Vt(t),t.type&&E2[t.type]&&a.baseAxis&&a.valueAxis){var o=ur(i,a.baseAxis.dim),s=ur(i,a.valueAxis.dim),l=E2[t.type](r,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!We(i)){t.coord=[];var u=e.getBaseAxis();if(u&&t.type&&E2[t.type]){var c=n.getOtherAxis(u);c&&(t.value=vA(r,r.mapDimension(c.dim),t.type))}}else for(var f=t.coord,d=0;d<2;d++)E2[f[d]]&&(f[d]=vA(r,r.mapDimension(i[d]),f[d]));return t}}function wue(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(rnt(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function rnt(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function j_(e,t){return e&&e.containData&&t.coord&&!j4(t)?e.containData(t.coord):!0}function nnt(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!j4(t)&&!j4(r)?e.containZone(t.coord,r.coord):!0}function Sue(e,t){return e?function(r,n,i,a){var o=a<2?r.coord&&r.coord[a]:r.value;return fh(o,t[a])}:function(r,n,i,a){return fh(r.value,t[a])}}function vA(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(a,o){isNaN(a)||(n+=a,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var qL=wr(),DB=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=Rt()},t.prototype.render=function(r,n,i){var a=this,o=this.markerGroupMap;o.each(function(s){qL(s).keep=!1}),n.eachSeries(function(s){var l=kc.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,n,i)}),o.each(function(s){!qL(s).keep&&a.group.remove(s.group)}),int(n,o,this.type)},t.prototype.markKeep=function(r){qL(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;G(r,function(a){var o=kc.getMarkerModelFromSeries(a,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(n?One(l):PF(l))})}})},t.type="marker",t})(Cn);function int(e,t,r){e.eachSeries(function(n){var i=kc.getMarkerModelFromSeries(n,r),a=t.get(n.id);if(i&&a&&a.group){var o=kp(i),s=o.z,l=o.zlevel;XE(a.group,s,l)}})}function Nj(e,t,r){var n=t.coordinateSystem,i=r.getWidth(),a=r.getHeight(),o=n&&n.getArea&&n.getArea();e.each(function(s){var l=e.getItemModel(s),u=l.get("relativeTo")==="coordinate",c=u?o?o.width:0:i,f=u?o?o.height:0:a,d=u&&o?o.x:0,h=u&&o?o.y:0,v,p=ft(l.get("x"),c)+d,g=ft(l.get("y"),f)+h;if(!isNaN(p)&&!isNaN(g))v=[p,g];else if(t.getMarkerPosition)v=t.getMarkerPosition(e.getValues(e.dimensions,s));else if(n){var m=e.get(n.dimensions[0],s),y=e.get(n.dimensions[1],s);v=n.dataToPoint([m,y])}isNaN(p)||(v[0]=p),isNaN(g)||(v[1]=g),e.setItemLayout(s,v)})}var ant=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var o=kc.getMarkerModelFromSeries(a,"markPoint");o&&(Nj(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,a){var o=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Lb),f=ont(o,r,n);n.setData(f),Nj(n.getData(),r,a),f.each(function(d){var h=f.getItemModel(d),v=h.getShallow("symbol"),p=h.getShallow("symbolSize"),g=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),y=h.getShallow("symbolKeepAspect");if(Ht(v)||Ht(p)||Ht(g)||Ht(m)){var x=n.getRawValue(d),b=n.getDataParams(d);Ht(v)&&(v=v(x,b)),Ht(p)&&(p=p(x,b)),Ht(g)&&(g=g(x,b)),Ht(m)&&(m=m(x,b))}var w=h.getModel("itemStyle").getItemStyle(),S=h.get("z2"),C=Mb(l,"color");w.fill||(w.fill=C),f.setItemVisual(d,{z2:It(S,0),symbol:v,symbolSize:p,symbolRotate:g,symbolOffset:m,symbolKeepAspect:y,style:w})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){qt(h).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t})(DB);function ont(e,t,r){var n;e?n=Ye(e&&e.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return He(He({},l),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new oi(n,r),a=Ye(r.get("data"),lr(X_,t));e&&(a=on(a,lr(j_,e)));var o=Sue(!!e,n);return i.initData(a,null,o),i}function snt(e){e.registerComponentModel(ent),e.registerComponentView(ant),e.registerPreprocessor(function(t){MB(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var lnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t})(kc),M2=wr(),unt=function(e,t,r,n){var i=e.getData(),a;if(We(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=t.getAxis(n.yAxis!=null?"y":"x"),l=Qa(n.yAxis,n.xAxis);else{var u=wue(n,i,t,e);s=u.valueAxis;var c=hN(i,u.valueDataDim);l=vA(i,c,o)}var f=s.dim==="x"?0:1,d=1-f,h=Vt(n),v={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,v.coord[d]=1/0;var p=r.get("precision");p>=0&&Br(l)&&(l=+l.toFixed(Math.min(p,20))),h.coord[f]=v.coord[f]=l,a=[h,v,{type:o,valueIndex:n.valueIndex,value:l}]}else a=[]}var g=[X_(e,a[0]),X_(e,a[1]),He({},a[2])];return g[2].type=g[2].type||null,Et(g[2],g[0]),Et(g[2],g[1]),g};function pA(e){return!isNaN(e)&&!isFinite(e)}function Bj(e,t,r,n){var i=1-e,a=n.dimensions[e];return pA(t[i])&&pA(r[i])&&t[e]===r[e]&&n.getAxis(a).containData(t[e])}function cnt(e,t){if(e.type==="cartesian2d"){var r=t[0].coord,n=t[1].coord;if(r&&n&&(Bj(1,r,n,e)||Bj(0,r,n,e)))return!0}return j_(e,t[0])&&j_(e,t[1])}function JL(e,t,r,n,i){var a=n.coordinateSystem,o=e.getItemModel(t),s,l=ft(o.get("x"),i.getWidth()),u=ft(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition)s=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,f=e.get(c[0],t),d=e.get(c[1],t);s=a.dataToPoint([f,d])}if(bh(a,"cartesian2d")){var h=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;pA(e.get(c[0],t))?s[0]=h.toGlobalCoord(h.getExtent()[r?0:1]):pA(e.get(c[1],t))&&(s[1]=v.toGlobalCoord(v.getExtent()[r?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}e.setItemLayout(t,s)}var fnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var o=kc.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=M2(o).from,u=M2(o).to;l.each(function(c){JL(l,c,!0,a,i),JL(u,c,!1,a,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(r,n,i,a){var o=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new YN);this.group.add(c.group);var f=dnt(o,r,n),d=f.from,h=f.to,v=f.line;M2(n).from=d,M2(n).to=h,n.setData(v);var p=n.get("symbol"),g=n.get("symbolSize"),m=n.get("symbolRotate"),y=n.get("symbolOffset");We(p)||(p=[p,p]),We(g)||(g=[g,g]),We(m)||(m=[m,m]),We(y)||(y=[y,y]),f.from.each(function(b){x(d,b,!0),x(h,b,!1)}),v.each(function(b){var w=v.getItemModel(b),S=w.getModel("lineStyle").getLineStyle();v.setItemLayout(b,[d.getItemLayout(b),h.getItemLayout(b)]);var C=w.get("z2");S.stroke==null&&(S.stroke=d.getItemVisual(b,"style").fill),v.setItemVisual(b,{z2:It(C,0),fromSymbolKeepAspect:d.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(b,"symbolOffset"),fromSymbolRotate:d.getItemVisual(b,"symbolRotate"),fromSymbolSize:d.getItemVisual(b,"symbolSize"),fromSymbol:d.getItemVisual(b,"symbol"),toSymbolKeepAspect:h.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(b,"symbolOffset"),toSymbolRotate:h.getItemVisual(b,"symbolRotate"),toSymbolSize:h.getItemVisual(b,"symbolSize"),toSymbol:h.getItemVisual(b,"symbol"),style:S})}),c.updateData(v),f.line.eachItemGraphicEl(function(b){qt(b).dataModel=n,b.traverse(function(w){qt(w).dataModel=n})});function x(b,w,S){var C=b.getItemModel(w);JL(b,w,S,r,a);var E=C.getModel("itemStyle").getItemStyle();E.fill==null&&(E.fill=Mb(l,"color")),b.setItemVisual(w,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:It(C.get("symbolOffset",!0),y[S?0:1]),symbolRotate:It(C.get("symbolRotate",!0),m[S?0:1]),symbolSize:It(C.get("symbolSize"),g[S?0:1]),symbol:It(C.get("symbol",!0),p[S?0:1]),style:E})}this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},t.type="markLine",t})(DB);function dnt(e,t,r){var n;e?n=Ye(e&&e.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return He(He({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new oi(n,r),a=new oi(n,r),o=new oi([],r),s=Ye(r.get("data"),lr(unt,t,e,r));e&&(s=on(s,lr(cnt,e)));var l=Sue(!!e,n);return i.initData(Ye(s,function(u){return u[0]}),null,l),a.initData(Ye(s,function(u){return u[1]}),null,l),o.initData(Ye(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function hnt(e){e.registerComponentModel(lnt),e.registerComponentView(fnt),e.registerPreprocessor(function(t){MB(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var vnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t})(kc),D2=wr(),pnt=function(e,t,r,n){var i=n[0],a=n[1];if(!(!i||!a)){var o=X_(e,i),s=X_(e,a),l=o.coord,u=s.coord;l[0]=Qa(l[0],-1/0),l[1]=Qa(l[1],-1/0),u[0]=Qa(u[0],1/0),u[1]=Qa(u[1],1/0);var c=cF([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function gA(e){return!isNaN(e)&&!isFinite(e)}function zj(e,t,r,n){var i=1-e;return gA(t[i])&&gA(r[i])}function gnt(e,t){var r=t.coord[0],n=t.coord[1],i={coord:r,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return bh(e,"cartesian2d")?r&&n&&(zj(1,r,n)||zj(0,r,n))?!0:nnt(e,i,a):j_(e,i)||j_(e,a)}function Hj(e,t,r,n,i){var a=n.coordinateSystem,o=e.getItemModel(t),s,l=ft(o.get(r[0]),i.getWidth()),u=ft(o.get(r[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition){var c=e.getValues(["x0","y0"],t),f=e.getValues(["x1","y1"],t),d=a.clampData(c),h=a.clampData(f),v=[];r[0]==="x0"?v[0]=d[0]>h[0]?f[0]:c[0]:v[0]=d[0]>h[0]?c[0]:f[0],r[1]==="y0"?v[1]=d[1]>h[1]?f[1]:c[1]:v[1]=d[1]>h[1]?c[1]:f[1],s=n.getMarkerPosition(v,r,!0)}else{var p=e.get(r[0],t),g=e.get(r[1],t),m=[p,g];a.clampData&&a.clampData(m,m),s=a.dataToPoint(m,!0)}if(bh(a,"cartesian2d")){var y=a.getAxis("x"),x=a.getAxis("y"),p=e.get(r[0],t),g=e.get(r[1],t);gA(p)?s[0]=y.toGlobalCoord(y.getExtent()[r[0]==="x0"?0:1]):gA(g)&&(s[1]=x.toGlobalCoord(x.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var Vj=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],mnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var o=kc.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=Ye(Vj,function(f){return Hj(s,l,f,a,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(r,n,i,a){var o=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new $t});this.group.add(c.group),this.markKeep(c);var f=ynt(o,r,n);n.setData(f),f.each(function(d){var h=Ye(Vj,function(M){return Hj(f,d,M,r,a)}),v=o.getAxis("x").scale,p=o.getAxis("y").scale,g=v.getExtent(),m=p.getExtent(),y=[v.parse(f.get("x0",d)),v.parse(f.get("x1",d))],x=[p.parse(f.get("y0",d)),p.parse(f.get("y1",d))];Ml(y),Ml(x);var b=!(g[0]>y[1]||g[1]<y[0]||m[0]>x[1]||m[1]<x[0]),w=!b;f.setItemLayout(d,{points:h,allClipped:w});var S=f.getItemModel(d),C=S.getModel("itemStyle").getItemStyle(),E=S.get("z2"),A=Mb(l,"color");C.fill||(C.fill=A,pt(C.fill)&&(C.fill=_T(C.fill,.4))),C.stroke||(C.stroke=A),f.setItemVisual(d,"style",C),f.setItemVisual(d,"z2",It(E,0))}),f.diff(D2(c).data).add(function(d){var h=f.getItemLayout(d),v=f.getItemVisual(d,"z2");if(!h.allClipped){var p=new Ao({z2:It(v,0),shape:{points:h.points}});f.setItemGraphicEl(d,p),c.group.add(p)}}).update(function(d,h){var v=D2(c).data.getItemGraphicEl(h),p=f.getItemLayout(d),g=f.getItemVisual(d,"z2");p.allClipped?v&&c.group.remove(v):(v?Wr(v,{z2:It(g,0),shape:{points:p.points}},n,d):v=new Ao({shape:{points:p.points}}),f.setItemGraphicEl(d,v),c.group.add(v))}).remove(function(d){var h=D2(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var v=f.getItemModel(h),p=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),Da(d,ua(v),{labelFetcher:n,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:pt(p.fill)?_T(p.fill,1):De.color.neutral99}),la(d,v),Wn(d,null,null,v.get(["emphasis","disabled"])),qt(d).dataModel=n}),D2(c).data=f,c.group.silent=n.get("silent")||r.get("silent")},t.type="markArea",t})(DB);function ynt(e,t,r){var n,i,a=["x0","y0","x1","y1"];if(e){var o=Ye(e&&e.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return He(He({},f),{name:u,ordinalMeta:null})});i=Ye(a,function(u,c){return{name:u,type:o[c%2].type}}),n=new oi(i,r)}else i=[{name:"value",type:"float"}],n=new oi(i,r);var s=Ye(r.get("data"),lr(pnt,t,e,r));e&&(s=on(s,lr(gnt,e)));var l=e?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return fh(h,i[d])}:function(u,c,f,d){return fh(u.value,i[d])};return n.initData(s,null,l),n.hasItemOption=!0,n}function xnt(e){e.registerComponentModel(vnt),e.registerComponentView(mnt),e.registerPreprocessor(function(t){MB(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var _nt=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},Y4=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),We(n)&&G(n,function(a,o){pt(a)&&(a={type:a}),n[o]=Et(a,_nt(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();r.isSeriesFiltered(l)||(i=i.concat(d)),d.length?n=n.concat(d):c=!0}else c=!0;c&&bF(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,o=Rt(),s=Ye(a,function(l){return(pt(l)||Br(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new pr(l,this,this.ecModel))},this);this._data=on(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;G(a,function(o){n[o.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;G(r,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;G(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&ur(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:De.size.m,align:"auto",backgroundColor:De.color.transparent,borderColor:De.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:De.color.disabled,inactiveBorderColor:De.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:De.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:De.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:De.color.tertiary,borderWidth:1,borderColor:De.color.border},emphasis:{selectorLabel:{show:!0,color:De.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t})(dr),lg=lr,K4=G,P2=$t,Cue=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new P2),this.group.add(this._selectorGroup=new P2),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,i,l,s,u);var c=ca(r,i).refContainer,f=r.getBoxLayoutParams(),d=r.get("padding"),h=Dn(f,c,d),v=this.layoutInner(r,o,h,a,l,u),p=Dn(kt({width:v.width,height:v.height},f),c,d);this.group.x=p.x-v.x,this.group.y=p.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=due(v,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,i,a,o,s,l){var u=this.getContentGroup(),c=Rt(),f=n.get("selectedMode"),d=n.get("triggerEvent"),h=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&h.push(v.id)}),K4(n.getData(),function(v,p){var g=this,m=v.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var y=new P2;y.newline=!0,u.add(y);return}var x=i.getSeriesByName(m)[0];if(!c.get(m))if(x){var b=x.getData(),w=b.getVisual("legendLineStyle")||{},S=b.getVisual("legendIcon"),C=b.getVisual("style"),E=this._createItem(x,m,p,v,n,r,w,C,S,f,a);E.on("click",lg($j,m,null,a,h)).on("mouseover",lg(Z4,x.name,null,a,h)).on("mouseout",lg(q4,x.name,null,a,h)),i.ssr&&E.eachChild(function(A){var M=qt(A);M.seriesIndex=x.seriesIndex,M.dataIndex=p,M.ssrType="legend"}),d&&E.eachChild(function(A){g.packEventData(A,n,x,p,m)}),c.set(m,!0)}else i.eachRawSeries(function(A){var M=this;if(!c.get(m)&&A.legendVisualProvider){var D=A.legendVisualProvider;if(!D.containName(m))return;var R=D.indexOfName(m),L=D.getItemVisual(R,"style"),k=D.getItemVisual(R,"legendIcon"),O=_o(L.fill);O&&O[3]===0&&(O[3]=.2,L=He(He({},L),{fill:xc(O,"rgba")}));var F=this._createItem(A,m,p,v,n,r,{},L,k,f,a);F.on("click",lg($j,null,m,a,h)).on("mouseover",lg(Z4,null,m,a,h)).on("mouseout",lg(q4,null,m,a,h)),i.ssr&&F.eachChild(function(H){var V=qt(H);V.seriesIndex=A.seriesIndex,V.dataIndex=p,V.ssrType="legend"}),d&&F.eachChild(function(H){M.packEventData(H,n,A,p,m)}),c.set(m,!0)}},this)},this),o&&this._createSelector(o,n,a,s,l)},t.prototype.packEventData=function(r,n,i,a,o){var s={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:i.seriesIndex};qt(r).eventData=s},t.prototype._createSelector=function(r,n,i,a,o){var s=this.getSelectorGroup();K4(r,function(u){var c=u.type,f=new Pr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(f);var d=n.getModel("selectorLabel"),h=n.getModel(["emphasis","selectorLabel"]);Da(f,{normal:d,emphasis:h},{defaultText:u.title}),gp(f)})},t.prototype._createItem=function(r,n,i,a,o,s,l,u,c,f,d){var h=r.visualDrawType,v=o.get("itemWidth"),p=o.get("itemHeight"),g=o.isSelected(n),m=a.get("symbolRotate"),y=a.get("symbolKeepAspect"),x=a.get("icon");c=x||c||"roundRect";var b=bnt(c,a,l,u,h,g,d),w=new P2,S=a.getModel("textStyle");if(Ht(r.getLegendIcon)&&(!x||x==="inherit"))w.add(r.getLegendIcon({itemWidth:v,itemHeight:p,icon:c,iconRotate:m,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}));else{var C=x==="inherit"&&r.getData().getVisual("symbol")?m==="inherit"?r.getData().getVisual("symbolRotate"):m:0;w.add(wnt({itemWidth:v,itemHeight:p,icon:c,iconRotate:C,itemStyle:b.itemStyle,symbolKeepAspect:y}))}var E=s==="left"?v+5:-5,A=s,M=o.get("formatter"),D=n;pt(M)&&M?D=M.replace("{name}",n??""):Ht(M)&&(D=M(n));var R=g?S.getTextColor():a.get("inactiveColor");w.add(new Pr({style:gn(S,{text:D,x:E,y:p/2,fill:R,align:A,verticalAlign:"middle"},{inheritColor:R})}));var L=new vr({shape:w.getBoundingRect(),style:{fill:"transparent"}}),k=a.getModel("tooltip");return k.get("show")&&td({el:L,componentModel:o,itemName:n,itemTooltipOption:k.option}),w.add(L),w.eachChild(function(O){O.silent=!0}),L.silent=!f,this.getContentGroup().add(w),gp(w),w.__legendDataIndex=i,w},t.prototype.layoutInner=function(r,n,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();yp(r.get("orient"),l,r.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){yp("horizontal",u,r.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],v=r.get("selectorButtonGap",!0),p=r.getOrient().index,g=p===0?"width":"height",m=p===0?"height":"width",y=p===0?"y":"x";s==="end"?h[p]+=c[g]+v:f[p]+=d[g]+v,h[1-p]+=c[m]/2-d[m]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var x={x:0,y:0};return x[g]=c[g]+v+d[g],x[m]=Math.max(c[m],d[m]),x[y]=Math.min(0,d[y]+h[1-p]),x}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Cn);function bnt(e,t,r,n,i,a,o){function s(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),K4(g,function(y,x){g[x]==="inherit"&&(g[x]=m[x])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:_m(f,o),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:r).opacity),s(u,n);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),h.stroke==="auto"&&(h.stroke=n.fill),!a){var v=t.get("inactiveBorderWidth"),p=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&p?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function wnt(e){var t=e.icon||"roundRect",r=Pi(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=De.color.neutral00,r.style.lineWidth=2),r}function $j(e,t,r,n){q4(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),Z4(e,t,r,n)}function Tue(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,i=t.length;n<i&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function Z4(e,t,r,n){Tue(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function q4(e,t,r,n){Tue(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function Snt(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function C1(e,t,r){var n=e==="allSelect"||e==="inverseSelect",i={},a=[];r.eachComponent({mainType:"legend",query:t},function(s){n?s[e]():s[e](t.name),Gj(s,i),a.push(s.componentIndex)});var o={};return r.eachComponent("legend",function(s){G(i,function(l,u){s[l?"select":"unSelect"](u)}),Gj(s,o)}),n?{selected:o,legendIndex:a}:{name:t.name,selected:o}}function Gj(e,t){var r=t||{};return G(e.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=e.isSelected(i);St(r,i)?r[i]=r[i]&&a:r[i]=a}}),r}function Cnt(e){e.registerAction("legendToggleSelect","legendselectchanged",lr(C1,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",lr(C1,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",lr(C1,"inverseSelect")),e.registerAction("legendSelect","legendselected",lr(C1,"select")),e.registerAction("legendUnSelect","legendunselected",lr(C1,"unSelect"))}function Aue(e){e.registerComponentModel(Y4),e.registerComponentView(Cue),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,Snt),e.registerSubTypeDefaulter("legend",function(){return"plain"}),Cnt(e)}var Tnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,i){var a=u0(r);e.prototype.init.call(this,r,n,i),Uj(this,r,a)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),Uj(this,this.option,r)},t.type="legend.scroll",t.defaultOption=kh(Y4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:De.color.accent50,pageIconInactiveColor:De.color.accent10,pageIconSize:15,pageTextStyle:{color:De.color.tertiary},animationDurationUpdate:800}),t})(Y4);function Uj(e,t,r){var n=e.getOrient(),i=[1,1];i[n.index]=0,Lc(t,r,{type:"box",ignoreSize:!!i})}var Wj=$t,QL=["width","height"],eI=["x","y"],Ant=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new Wj),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Wj)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,i,a,o,s,l){var u=this;e.prototype.renderInner.call(this,r,n,i,a,o,s,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),d=We(f)?f:[f,f];v("pagePrev",0);var h=n.getModel("pageTextStyle");c.add(new Pr({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(p,g){var m=p+"DataIndex",y=Tb(n.get("pageIcons",!0)[n.getOrient().name][g],{onclick:mt(u._pageGo,u,m,n,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});y.name=p,c.add(y)}},t.prototype.layoutInner=function(r,n,i,a,o,s){var l=this.getSelectorGroup(),u=r.getOrient().index,c=QL[u],f=eI[u],d=QL[1-u],h=eI[1-u];o&&yp("horizontal",l,r.get("selectorItemGap",!0));var v=r.get("selectorButtonGap",!0),p=l.getBoundingRect(),g=[-p.x,-p.y],m=Vt(i);o&&(m[c]=i[c]-p[c]-v);var y=this._layoutContentAndController(r,a,m,u,c,d,h,f);if(o){if(s==="end")g[u]+=y[c]+v;else{var x=p[c]+v;g[u]-=x,y[f]-=x}y[c]+=p[c]+v,g[1-u]+=y[h]+y[d]/2-p[d]/2,y[d]=Math.max(y[d],p[d]),y[h]=Math.min(y[h],p[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return y},t.prototype._layoutContentAndController=function(r,n,i,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;yp(r.get("orient"),c,r.get("itemGap"),a?i.width:null,a?null:i.height),yp("horizontal",d,r.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),v=d.getBoundingRect(),p=this._showController=h[o]>i[o],g=[-h.x,-h.y];n||(g[a]=c[u]);var m=[0,0],y=[-v.x,-v.y],x=It(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(p){var b=r.get("pageButtonPosition",!0);b==="end"?y[a]+=i[o]-v[o]:m[a]+=v[o]+x}y[1-a]+=h[s]/2-v[s]/2,c.setPosition(g),f.setPosition(m),d.setPosition(y);var w={x:0,y:0};if(w[o]=p?i[o]:h[o],w[s]=Math.max(h[s],v[s]),w[l]=Math.min(0,v[l]+y[1-a]),f.__rectSize=i[o],p){var S={x:0,y:0};S[o]=Math.max(i[o]-v[o]-x,0),S[s]=w[s],f.setClipPath(new vr({shape:S})),f.__rectSize=S[o]}else d.eachChild(function(E){E.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(r);return C.pageIndex!=null&&Wr(c,{x:C.contentPosition[0],y:C.contentPosition[1]},p?r:null),this._updatePageInfoView(r,C),w},t.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;G(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=n[f]!=null,h=i.childOfName(c);h&&(h.setStyle("fill",d?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var a=i.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;a&&o&&a.setStyle("text",pt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=r.getOrient().index,s=QL[o],l=eI[o],u=this._findTargetItemIndex(n),c=i.children(),f=c[u],d=c.length,h=d?1:0,v={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var p=b(f);v.contentPosition[o]=-p.s;for(var g=u+1,m=p,y=p,x=null;g<=d;++g)x=b(c[g]),(!x&&y.e>m.s+a||x&&!w(x,m.s))&&(y.i>m.i?m=y:m=x,m&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=m.i),++v.pageCount)),y=x;for(var g=u-1,m=p,y=p,x=null;g>=-1;--g)x=b(c[g]),(!x||!w(y,x.s))&&m.i<y.i&&(y=m,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=m.i),++v.pageCount,++v.pageIndex),m=x;return v;function b(S){if(S){var C=S.getBoundingRect(),E=C[l]+S[l];return{s:E,e:E+C[s],i:S.__legendDataIndex}}}function w(S,C){return S.e>=C&&S.s<=C+a}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===r&&(n=s)}),n??a},t.type="legend.scroll",t})(Cue);function Ent(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function Mnt(e){Yt(Aue),e.registerComponentModel(Tnt),e.registerComponentView(Ant),Ent(e)}function Dnt(e){Yt(Aue),Yt(Mnt)}var Pnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=kh(W_.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(W_),PB=wr();function Rnt(e,t,r){PB(e).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=r)})}function Lnt(e,t){for(var r=PB(e).coordSysRecordMap,n=r.keys(),i=0;i<n.length;i++){var a=n[i],o=r.get(a),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Eue(r,o))}}}function Eue(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function Int(e,t){var r={model:t,containsPoint:lr(Ont,t),dispatchAction:lr(knt,e),dataZoomInfoMap:null,controller:null},n=r.controller=new v0(e.getZr());return G(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var o=[];r.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,r.model.mainType,r.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&r.dispatchAction(o)})}),r}function knt(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Ont(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function Fnt(e,t,r){var n,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return e.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[i+u]>a[i+n]&&(n=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:r,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}function Nnt(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=PB(r),i=n.coordSysRecordMap||(n.coordSysRecordMap=Rt());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=uue(a);G(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,Int(r,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Rt());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Eue(i,a);return}var c=Fnt(l,a,r);o.enable(c.controlType,c.opt),ly(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var Bnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,i){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),Rnt(i,r,{pan:mt(tI.pan,this),zoom:mt(tI.zoom,this),scrollMove:mt(tI.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Lnt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(wB),tI={zoom:function(e,t,r,n){var i=this.range,a=i.slice(),o=e.axisModels[0];if(o){var s=rI[t](null,[n.originX,n.originY],o,r,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(wh(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:Xj(function(e,t,r,n,i,a){var o=rI[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,r);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:Xj(function(e,t,r,n,i,a){var o=rI[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,r);return o.signal*(e[1]-e[0])*a.scrollDelta})};function Xj(e){return function(t,r,n,i){var a=this.range,o=a.slice(),s=t.axisModels[0];if(s){var l=e(o,s,t,r,n,i);if(wh(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var rI={grid:function(e,t,r,n,i){var a=r.axis,o={},s=i.model.coordinateSystem.getRect();return e=e||[0,0],a.dim==="x"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(e,t,r,n,i){var a=r.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),r.mainType==="radiusAxis"?(o.pixel=t[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(e,t,r,n,i){var a=r.axis,o=i.model.coordinateSystem.getRect(),s={};return e=e||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function Mue(e){SB(e),e.registerComponentModel(Pnt),e.registerComponentView(Bnt),Nnt(e)}var znt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=kh(W_.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:De.color.accent10,borderRadius:0,backgroundColor:De.color.transparent,dataBackground:{lineStyle:{color:De.color.accent30,width:.5},areaStyle:{color:De.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:De.color.accent40,width:.5},areaStyle:{color:De.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:De.color.neutral00,borderColor:De.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:De.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:De.color.tertiary},brushSelect:!0,brushStyle:{color:De.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:De.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t})(W_),T1=vr,Hnt=1,nI=30,Vnt=7,A1="horizontal",jj="vertical",$nt=5,Gnt=["line","bar","candlestick","scatter"],Unt={easing:"cubicOut",duration:100,delay:0},Wnt=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=mt(this._onBrush,this),this._onBrushEnd=mt(this._onBrushEnd,this)},t.prototype.render=function(r,n,i,a){if(e.prototype.render.apply(this,arguments),ly(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){R_(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new $t;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,i=r.get("brushSelect"),a=i?Vnt:0,o=ca(r,n).refContainer,s=this._findCoordRect(),l=r.get("defaultLocationEdgeGap",!0)||0,u=this._orient===A1?{right:o.width-s.x-s.width,top:o.height-nI-l-a,width:s.width,height:nI}:{right:l,top:s.y,width:nI,height:s.height},c=u0(r.option);G(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=u[d])});var f=Dn(c,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===jj&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===A1&&!o?{scaleY:l?1:-1,scaleX:1}:i===A1&&o?{scaleY:l?1:-1,scaleX:-1}:i===jj&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=r.getBoundingRect([s]);r.x=n.x-u.x,r.y=n.y-u.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=r.get("brushSelect");i.add(new T1({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var o=new T1({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:mt(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,i=this._shadowSize||[],a=r.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():r.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var f=o.getDataExtent(r.thisDim),d=o.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var v=[0,n[1]],p=[0,n[0]],g=[[n[0],0],[0,0]],m=[],y=p[1]/Math.max(1,o.count()-1),x=n[0]/(f[1]-f[0]),b=r.thisAxis.type==="time",w=-y,S=Math.round(o.count()/n[0]),C;o.each([r.thisDim,l],function(R,L,k){if(S>0&&k%S){b||(w+=y);return}w=b?(+R-f[0])*x:w+y;var O=L==null||isNaN(L)||L==="",F=O?0:qr(L,d,v,!0);O&&!C&&k?(g.push([g[g.length-1][0],0]),m.push([m[m.length-1][0],0])):!O&&C&&(g.push([w,0]),m.push([w,0])),O||(g.push([w,F]),m.push([w,F])),C=O}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=m}this._shadowData=o,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var E=this.dataZoomModel;function A(R){var L=E.getModel(R?"selectedDataBackground":"dataBackground"),k=new $t,O=new Ao({shape:{points:u},segmentIgnoreThreshold:1,style:L.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),F=new no({shape:{points:c},segmentIgnoreThreshold:1,style:L.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(O),k.add(F),k}for(var M=0;M<3;M++){var D=A(M===1);this._displayables.sliderGroup.add(D),this._displayables.dataShadowSegs.push(D)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return r.eachTargetAxis(function(o,s){var l=r.getAxisProxy(o,s).getTargetSeriesModels();G(l,function(u){if(!i&&!(n!==!0&&ur(Gnt,u.get("type"))<0)){var c=a.getComponent(th(o),s).axis,f=Xnt(o),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var v=u.getData().mapDimension(o);i={thisAxis:c,series:u,thisDim:v,otherDim:f,otherAxisInverse:d}}},this)},this),i}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=n.filler=new T1({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new T1({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:Hnt,fill:De.color.transparent}})),G([0,1],function(x){var b=l.get("handleIcon");!BT[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var w=Pi(b,-1,0,2,2,null,!0);w.attr({cursor:jnt(this._orient),draggable:!0,drift:mt(this._onDragMove,this,x),ondragend:mt(this._onDragEnd,this),onmouseover:mt(this._showDataInfo,this,!0),onmouseout:mt(this._showDataInfo,this,!1),z2:5});var S=w.getBoundingRect(),C=l.get("handleSize");this._handleHeight=ft(C,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,w.setStyle(l.getModel("handleStyle").getItemStyle()),w.style.strokeNoScale=!0,w.rectHover=!0,w.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),gp(w);var E=l.get("handleColor");E!=null&&(w.style.fill=E),o.add(i[x]=w);var A=l.getModel("textStyle"),M=l.get("handleLabel")||{},D=M.show||!1;r.add(a[x]=new Pr({silent:!0,invisible:!D,style:gn(A,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:A.getTextColor(),font:A.getFont()}),z2:10}))},this);var h=d;if(f){var v=ft(l.get("moveHandleSize"),s[1]),p=n.moveHandle=new vr({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),g=v*.8,m=n.moveHandleIcon=Pi(l.get("moveHandleIcon"),-g/2,-g/2,g,g,De.color.neutral00,!0);m.silent=!0,m.y=s[1]+v/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(v,10));h=n.moveZone=new vr({invisible:!0,shape:{y:s[1]-y,height:v+y}}),h.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),o.add(p),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:"default",drift:mt(this._onDragMove,this,"all"),ondragstart:mt(this._showDataInfo,this,!0),ondragend:mt(this._onDragEnd,this),onmouseover:mt(this._showDataInfo,this,!0),onmouseout:mt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[qr(r[0],[0,100],n,!0),qr(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];wh(n,a,o,i.get("zoomLock")?"all":r,s.minSpan!=null?qr(s.minSpan,l,o,!0):null,s.maxSpan!=null?qr(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Ml([qr(a[0],o,l,!0),qr(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(r){var n=this._displayables,i=this._handleEnds,a=Ml(i.slice()),o=this._size;G([0,1],function(h){var v=n.handles[h],p=this._handleHeight;v.attr({scaleX:p/2,scaleY:p/2,x:i[h]+(h?-1:1),y:o[1]/2-p/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new vr,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=r?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=Ml(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(v){var p=mp(i.handles[v].parent,this.group),g=WE(v===0?"right":"left",p),m=this._handleWidth/2+$nt,y=gu([d[v]+(v===0?-m:m),this._size[1]/2],p);a[v].setStyle({x:y[0],y:y[1],verticalAlign:o===A1?"middle":g,align:o===A1?g:"center",text:s[v]})}},t.prototype._formatLabel=function(r,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(o,20));return Ht(a)?a(r,s):pt(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,s=r||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(r,n,i,a){this._dragging=!0,Ff(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=gu([n,i],o,!0),l=this._updateInterval(r,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,i=r.offsetY;this._brushStart=new Wt(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[i.x,i.x+i.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();wh(0,l,o,0,u.minSpan!=null?qr(u.minSpan,s,o,!0):null,u.maxSpan!=null?qr(u.maxSpan,s,o,!0):null),this._range=Ml([qr(l[0],o,s,!0),qr(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(Ff(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new T1({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(r,n),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?Unt:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=uue(this.dataZoomModel).infoList;if(!r&&n.length){var i=n[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var a=this.api.getWidth(),o=this.api.getHeight();r={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return r},t.type="dataZoom.slider",t})(wB);function Xnt(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function jnt(e){return e==="vertical"?"ns-resize":"ew-resize"}function Due(e){e.registerComponentModel(znt),e.registerComponentView(Wnt),SB(e)}function Ynt(e){Yt(Mue),Yt(Due)}var Pue={get:function(e,t,r){var n=Vt((Knt[e]||{})[t]);return r&&We(n)?n[n.length-1]:n}},Knt={color:{active:["#006edd","#e0ffff"],inactive:[De.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Yj=Aa.mapVisual,Znt=Aa.eachVisual,qnt=We,Kj=G,Jnt=Ml,Qnt=qr,mA=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&xue(i,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(r){var n=this.stateList;r=mt(r,this),this.controllerVisuals=W4(this.option.controller,n,r),this.targetVisuals=W4(this.option.target,n,r)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesId,n=this.option.seriesIndex;n==null&&r==null&&(n="all");var i=ey(this.ecModel,"series",{index:n,id:r},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Ye(i,function(a){return a.componentIndex})},t.prototype.eachTargetSeries=function(r,n){G(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&r.call(n,a)},this)},t.prototype.isTargetSeries=function(r){var n=!1;return this.eachTargetSeries(function(i){i===r&&(n=!0)}),n},t.prototype.formatValueText=function(r,n,i){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;i=i||["<",">"],We(r)&&(r=r.slice(),u=!0);var c=n?r:u?[f(r[0]),f(r[1])]:f(r);if(pt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Ht(l))return u?l(r[0],r[1]):l(r);if(u)return r[0]===s[0]?i[0]+" "+c[1]:r[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var r=this.option,n=Jnt([r.min,r.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(r){var n=this.option.dimension;if(n!=null)return r.getDimensionIndex(n);for(var i=r.dimensions,a=i.length-1;a>=0;a--){var o=i[a],s=r.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var r=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});Et(a,i),Et(o,i);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){qnt(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:r.get("gradientColor")}}function u(f,d,h){var v=f[d],p=f[h];v&&!p&&(p=f[h]={},Kj(v,function(g,m){if(Aa.isValidType(m)){var y=Pue.get(m,"inactive",s);y!=null&&(p[m]=y,m==="color"&&!p.hasOwnProperty("opacity")&&!p.hasOwnProperty("colorAlpha")&&(p.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),p=this.getItemSymbol(),g=p||"roundRect";Kj(this.stateList,function(m){var y=this.itemSize,x=f[m];x||(x=f[m]={color:s?v:[v]}),x.symbol==null&&(x.symbol=d&&Vt(d)||(s?g:[g])),x.symbolSize==null&&(x.symbolSize=h&&Vt(h)||(s?y[0]:[y[0],y[0]])),x.symbol=Yj(x.symbol,function(S){return S==="none"?g:S});var b=x.symbolSize;if(b!=null){var w=-1/0;Znt(b,function(S){S>w&&(w=S)}),x.symbolSize=Yj(b,function(S){return Qnt(S,[0,w],[0,y[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(r){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(r){return null},t.prototype.getVisualMeta=function(r){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:De.color.transparent,borderColor:De.color.borderTint,contentColor:De.color.theme[0],inactiveColor:De.color.disabled,borderWidth:0,padding:De.size.m,textGap:10,precision:0,textStyle:{color:De.color.secondary}},t})(dr),Zj=[20,140],eit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=Zj[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=Zj[1])},t.prototype._resetRange=function(){var r=this.getExtent(),n=this.option.range;!n||n.auto?(r.auto=1,this.option.range=r):We(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],r[0]),n[1]=Math.min(n[1],r[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),G(this.stateList,function(r){var n=this.option.controller[r].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},t.prototype.getSelected=function(){var r=this.getExtent(),n=Ml((this.get("range")||[]).slice());return n[0]>r[1]&&(n[0]=r[1]),n[1]>r[1]&&(n[1]=r[1]),n[0]<r[0]&&(n[0]=r[0]),n[1]<r[0]&&(n[1]=r[0]),n},t.prototype.getValueState=function(r){var n=this.option.range,i=this.getExtent(),a=It(this.option.unboundedRange,!0);return(a&&n[0]<=i[0]||n[0]<=r)&&(a&&n[1]>=i[1]||r<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){r[0]<=s&&s<=r[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(r){var n=qj(this,"outOfRange",this.getExtent()),i=qj(this,"inRange",this.option.range.slice()),a=[];function o(h,v){a.push({value:h,color:r(h,v)})}for(var s=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[s]&&o(n[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(n[l],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=kh(mA.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:De.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:De.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:De.color.shadow}}),t})(mA);function qj(e,t,r){if(r[0]===r[1])return r.slice();for(var n=200,i=(r[1]-r[0])/n,a=r[0],o=[],s=0;s<=n&&a<r[1];s++)o.push(a),a+=i;return o.push(r[1]),o}var Rue=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n},t.prototype.render=function(r,n,i,a){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,n,i,a)},t.prototype.renderBackground=function(r){var n=this.visualMapModel,i=Ab(n.get("padding")||0),a=r.getBoundingRect();r.add(new vr({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(r,n,i){i=i||{};var a=i.forceState,o=this.visualMapModel,s={};if(n==="color"){var l=o.get("contentColor");s.color=l}function u(h){return s[h]}function c(h,v){s[h]=v}var f=o.controllerVisuals[a||o.getValueState(r)],d=Aa.prepareVisualTypes(f);return G(d,function(h){var v=f[h];i.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",v=f.__alphaForOpacity),Aa.dependsOn(h,n)&&v&&v.applyVisual(r,u,c)}),s[n]},t.prototype.positionGroup=function(r){var n=this.visualMapModel,i=this.api,a=ca(n,i).refContainer;KE(r,n.getBoxLayoutParams(),a)},t.prototype.doRender=function(r,n,i,a){},t.type="visualMap",t})(Cn),Jj=[["left","right","width"],["top","bottom","height"]];function Lue(e,t,r){var n=e.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=n.orient==="horizontal"?1:0,s=Jj[o],l=[0,null,10],u={},c=0;c<3;c++)u[Jj[1-o][c]]=l[c],u[s[c]]=c===2?r[0]:n[s[c]];var f=[["x","width",3],["y","height",0]][o],d=Dn(u,a,n.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<a[f[1]]*.5?0:1]}function EC(e,t){return G(e||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var Ju=qr,tit=G,Qj=Math.min,iI=Math.max,rit=12,nit=6,iit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return t.prototype.init=function(r,n){e.prototype.init.call(this,r,n),this._hoverLinkFromSeriesMouseOver=mt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=mt(this._hideIndicator,this)},t.prototype.doRender=function(r,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,n=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(n);var i=r.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(r,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),f=this._applyTransform(i===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Pr({style:gn(h,{x:c[0],y:c[1],verticalAlign:h.get("verticalAlign")||(d==="horizontal"?"middle":f),align:h.get("align")||(d==="horizontal"?f:"center"),text:a})}))}},t.prototype._renderBar=function(r){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,l=Lue(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new $t;u.add(c),c.add(i.outOfRange=eY()),c.add(i.inRange=eY(null,s?rY(this._orient):null,mt(this._dragHandle,this,"all",!1),mt(this._dragHandle,this,"all",!0))),c.setClipPath(new vr({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect("国"),d=iI(f.width,f.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,d,o),this._createHandle(n,u,1,a,d,o)),this._createIndicator(n,u,a,d,o),r.add(u)},t.prototype._createHandle=function(r,n,i,a,o,s){var l=mt(this._dragHandle,this,i,!1),u=mt(this._dragHandle,this,i,!0),c=Au(r.get("handleSize"),a[0]),f=Pi(r.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=rY(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){Ff(m.event)}}),f.x=a[0]/2,f.useStyle(r.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),qv(f,!0),n.add(f);var h=this.visualMapModel.textStyleModel,v=new Pr({cursor:d,draggable:!0,drift:l,onmousemove:function(m){Ff(m.event)},ondragend:u,style:gn(h,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var p=[c,0],g=this._shapes;g.handleThumbs[i]=f,g.handleLabelPoints[i]=p,g.handleLabels[i]=v},t.prototype._createIndicator=function(r,n,i,a,o){var s=Au(r.get("indicatorSize"),i[0]),l=Pi(r.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=r.getModel("indicatorStyle").getItemStyle();if(l instanceof Ra){var c=l.style;l.useStyle(He({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,d=new Pr({silent:!0,invisible:!0,style:gn(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(o==="horizontal"?a/2:nit)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=d,v.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(r,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(r,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():tY(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},t.prototype._resetInterval=function(){var r=this.visualMapModel,n=this._dataInterval=r.getSelected(),i=r.getExtent(),a=[0,r.itemSize[1]];this._handleEnds=[Ju(n[0],i,a,!0),Ju(n[1],i,a,!0)]},t.prototype._updateInterval=function(r,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];wh(n,a,o,r,0);var s=i.getExtent();this._dataInterval=[Ju(a[0],o,s,!0),Ju(a[1],o,s,!0)]},t.prototype._updateView=function(r){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=r?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(r,n,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(r,o),l=[this.getControllerVisual(r[0],"symbolSize",o),this.getControllerVisual(r[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new ry(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(r,n){var i=100,a=[],o=(r[1]-r[0])/i;a.push({color:this.getControllerVisual(r[0],"color",n),offset:0});for(var s=1;s<i;s++){var l=r[0]+o*s;if(l>r[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:s/i})}return a.push({color:this.getControllerVisual(r[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(r,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],r[0]],[i[0],r[0]],[i[0],r[1]],[i[0]-n[1],r[1]]]},t.prototype._createBarGroup=function(r){var n=this._orient,i=this.visualMapModel.get("inverse");return new $t(n==="horizontal"&&!i?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},t.prototype._updateHandle=function(r,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);tit([0,1],function(f){var d=o[f];d.setStyle("fill",n.handlesColor[f]),d.y=r[f];var h=Ju(r[f],[0,l[1]],u,!0),v=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=v/l[0],d.x=l[0]-v/2;var p=gu(i.handleLabelPoints[f],mp(d,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;p[1]+=g}s[f].setStyle({x:p[0],y:p[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(r,n,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(r,"color",d),v=this.getControllerVisual(r,"symbolSize"),p=Ju(r,s,u,!0),g=l[0]-v/2,m={x:f.x,y:f.y};f.y=p,f.x=g;var y=gu(c.indicatorLabelPoint,mp(f,this.group)),x=c.indicatorLabel;x.attr("invisible",!1);var b=this._applyTransform("left",c.mainGroup),w=this._orient,S=w==="horizontal";x.setStyle({text:(i||"")+o.formatValueText(n),verticalAlign:S?b:"middle",align:S?"center":b});var C={x:g,y:p,style:{fill:h}},E={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var A={duration:100,easing:"cubicInOut",additive:!0};f.x=m.x,f.y=m.y,f.animateTo(C,A),x.animateTo(E,A)}else f.attr(C),x.attr(E);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var D=0;D<M.length;D++)this.api.enterBlur(M[D])}},t.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(n){if(r._hovering=!0,!r._dragging){var i=r.visualMapModel.itemSize,a=r._applyTransform([n.offsetX,n.offsetY],r._shapes.mainGroup,!0,!0);a[1]=Qj(iI(0,a[1]),i[1]),r._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(r,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],s=i.getExtent();r=Qj(iI(o[0],r),o[1]);var l=ait(i,s,o),u=[r-l,r+l],c=Ju(r,o,s,!0),f=[Ju(u[0],o,s,!0),Ju(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var d=this._hoverLinkDataIndices,h=[];(n||tY(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var v=aHe(d,h);this._dispatchHighDown("downplay",EC(v[0],i)),this._dispatchHighDown("highlight",EC(v[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(r){var n;if(Qv(r.target,function(l){var u=qt(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",EC(r,this.visualMapModel)),r.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(r,n,i,a){var o=mp(n,a?null:this.group);return We(r)?gu(r,o,i):WE(r,o,i)},t.prototype._dispatchHighDown=function(r,n){n&&n.length&&this.api.dispatchAction({type:r,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t})(Rue);function eY(e,t,r,n){return new Ao({shape:{points:e},draggable:!!r,cursor:t,drift:r,onmousemove:function(i){Ff(i.event)},ondragend:n})}function ait(e,t,r){var n=rit/2,i=e.get("hoverLinkDataSize");return i&&(n=Ju(i,t,r,!0)/2),n}function tY(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function rY(e){return e==="vertical"?"ns-resize":"ew-resize"}var oit={type:"selectDataRange",event:"dataRangeSelected",update:"update"},sit=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(r){r.setSelected(e.selected)})},lit=[{createOnAllSeries:!0,reset:function(e,t){var r=[];return t.eachComponent("visualMap",function(n){var i=e.pipelineContext;!n.isTargetSeries(e)||i&&i.large||r.push(Drt(n.stateList,n.targetVisuals,mt(n.getValueState,n),n.getDataDimensionIndex(e.getData())))}),r}},{createOnAllSeries:!0,reset:function(e,t){var r=e.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var a=i.getVisualMeta(mt(uit,null,e,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(r);o>=0&&(a.dimension=o,n.push(a))}}),e.getData().setVisual("visualMeta",n)}}];function uit(e,t,r,n){for(var i=t.targetVisuals[n],a=Aa.prepareVisualTypes(i),o={color:Mb(e.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(r,f,d)}return o.color;function f(h){return o[h]}function d(h,v){o[h]=v}}var nY=G;function cit(e){var t=e&&e.visualMap;We(t)||(t=t?[t]:[]),nY(t,function(r){if(r){ug(r,"splitList")&&!ug(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var n=r.pieces;n&&We(n)&&nY(n,function(i){Xt(i)&&(ug(i,"start")&&!ug(i,"min")&&(i.min=i.start),ug(i,"end")&&!ug(i,"max")&&(i.max=i.end))})}})}function ug(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var iY=!1;function Iue(e){iY||(iY=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(oit,sit),G(lit,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(cit))}function kue(e){e.registerComponentModel(eit),e.registerComponentView(iit),Iue(e)}var fit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._pieceList=[],r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],dit[this._mode].call(this,this._pieceList),this._resetSelected(r,n);var a=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=Vt(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Ye(this._pieceList,function(l){return l=Vt(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var r=this.option,n={},i=Aa.listVisualTypes(),a=this.isCategory();G(r.pieces,function(s){G(i,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),G(n,function(s,l){var u=!1;G(this.stateList,function(c){u=u||o(r,c,l)||o(r.target,c,l)},this),!u&&G(this.stateList,function(c){(r[c]||(r[c]={}))[l]=Pue.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(r,n){var i=this.option,a=this._pieceList,o=(n?i:r).selected||{};if(i.selected=o,G(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;G(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(r){this.option.selected=Vt(r)},t.prototype.getValueState=function(r){var n=Aa.findPieceIndex(r,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=Aa.findPieceIndex(l,i);c===r&&o.push(u)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},t.prototype.getRepresentValue=function(r){var n;if(this.isCategory())n=r.value;else if(r.value!=null)n=r.value;else{var i=r.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(r){if(this.isCategory())return;var n=[],i=["",""],a=this;function o(c,f){var d=a.getRepresentValue({interval:c});f||(f=a.getValueState(d));var h=r(d,f);c[0]===-1/0?i[0]=h:c[1]===1/0?i[1]=h:n.push({value:c[0],color:h},{value:c[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return G(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=kh(mA.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t})(mA),dit={splitNumber:function(e){var t=this.option,r=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(r)!==a&&r<5;)r++;t.precision=r,a=+a.toFixed(r),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<i;s+=a,o++){var l=o===i-1?n[1]:s+a;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),AV(e),G(e,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(e){var t=this.option;G(t.categories,function(r){e.push({text:this.formatValueText(r,!0),value:r})},this),aY(t,e)},pieces:function(e){var t=this.option;G(t.pieces,function(r,n){Xt(r)||(r={value:r});var i={text:"",index:n};if(r.label!=null&&(i.text=r.label),r.hasOwnProperty("value")){var a=i.value=r.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&o[f]==null;h++)o[f]=r[d[h]],s[f]=l[h],c[f]=h===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Aa.retrieveVisuals(r),e.push(i)},this),aY(t,e),AV(e),G(e,function(r){var n=r.close,i=[["<","≤"][n[1]],[">","≥"][n[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,i)},this)}};function aY(e,t){var r=e.inverse;(e.orient==="vertical"?!r:r)&&t.reverse()}var hit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.doRender=function(){var r=this.group;r.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,o=this._getItemAlign(),s=n.itemSize,l=this._getViewData(),u=l.endsText,c=Qa(n.get("showLabel",!0),!u),f=!n.get("selectedMode");u&&this._renderEndsText(r,u[0],s,c,o),G(l.viewPieceList,function(d){var h=d.piece,v=new $t;v.onclick=mt(this._onItemClick,this,h),this._enableHoverLink(v,d.indexInModelPieceList);var p=n.getRepresentValue(h);if(this._createItemSymbol(v,p,[0,0,s[0],s[1]],f),c){var g=this.visualMapModel.getValueState(p),m=a.get("align")||o;v.add(new Pr({style:gn(a,{x:m==="right"?-i:s[0]+i,y:s[1]/2,text:h.text,verticalAlign:a.get("verticalAlign")||"middle",align:m,opacity:It(a.get("opacity"),g==="outOfRange"?.5:1)}),silent:f}))}r.add(v)},this),u&&this._renderEndsText(r,u[1],s,c,o),yp(n.get("orient"),r,n.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},t.prototype._enableHoverLink=function(r,n){var i=this;r.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:EC(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var r=this.visualMapModel,n=r.option;if(n.orient==="vertical")return Lue(r,this.api,r.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(r,n,i,a,o){if(n){var s=new $t,l=this.visualMapModel.textStyleModel;s.add(new Pr({style:gn(l,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),r.add(s)}},t.prototype._getViewData=function(){var r=this.visualMapModel,n=Ye(r.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=r.get("text"),a=r.get("orient"),o=r.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(r,n,i,a){var o=Pi(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));o.silent=a,r.add(o)},t.prototype._onItemClick=function(r){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var o=Vt(i.selected),s=n.getSelectedMapKey(r);a==="single"||a===!0?(o[s]=!0,G(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t})(Rue);function Oue(e){e.registerComponentModel(fit),e.registerComponentView(hit),Iue(e)}function vit(e){Yt(kue),Yt(Oue)}var pit=(function(){function e(t){this._thumbnailModel=t}return e.prototype.reset=function(t){this._renderVersion=t.getMainProcessVersion()},e.prototype.renderContent=function(t){var r=t.api.getViewOfComponentModel(this._thumbnailModel);r&&(t.group.silent=!0,r.renderContent({group:t.group,targetTrans:t.targetTrans,z2Range:rie(t.group),roamType:t.roamType,viewportRect:t.viewportRect,renderVersion:this._renderVersion}))},e.prototype.updateWindow=function(t,r){var n=r.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:t,renderVersion:this._renderVersion})},e})(),git=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.optionUpdated=function(r,n){this._updateBridge()},t.prototype._updateBridge=function(){var r=this._birdge=this._birdge||new pit(this);if(this._target=null,this.ecModel.eachSeries(function(i){PW(i,null)}),this.shouldShow()){var n=this.getTarget();PW(n.baseMapProvider,r)}},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var r=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return r?r.subType!=="graph"&&(r=null):r=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:r},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:De.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:De.color.neutral30,borderColor:De.color.neutral40,opacity:.3},z:10},t})(dr),mit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this._api=i,this._model=r,this._coordSys||(this._coordSys=new p0),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var o=r.getModel("itemStyle"),s=o.getItemStyle();s.fill==null&&(s.fill=n.get("backgroundColor")||De.color.neutral00);var l=ca(r,i).refContainer,u=Dn(Cie(r,!0),l),c=s.lineWidth||0,f=this._contentRect=Ip(u.clone(),c/2,!0,!0),d=new $t;a.add(d),d.setClipPath(new vr({shape:f.plain()}));var h=this._targetGroup=new $t;d.add(h);var v=u.plain();v.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new vr({style:s,shape:v,silent:!1,cursor:"grab"}));var p=r.getModel("windowStyle"),g=p.getShallow("borderRadius",!0);d.add(this._windowRect=new vr({shape:{x:0,y:0,width:0,height:0,r:g},style:p.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),sY(r,this)},t.prototype.renderContent=function(r){this._bridgeRendered=r,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),sY(this._model,this))},t.prototype._dealRenderContent=function(){var r=this._bridgeRendered;if(!(!r||r.renderVersion!==this._renderVersion)){var n=this._targetGroup,i=this._coordSys,a=this._contentRect;if(n.removeAll(),!!r){var o=r.group,s=o.getBoundingRect();n.add(o),this._bgRect.z2=r.z2Range.min-10,i.setBoundingRect(s.x,s.y,s.width,s.height);var l=Dn({left:"center",top:"center",aspect:s.width/s.height},a);i.setViewRect(l.x,l.y,l.width,l.height),o.attr(i.getTransformInfo().raw),this._windowRect.z2=r.z2Range.max+10,this._resetRoamController(r.roamType)}}},t.prototype.updateWindow=function(r){var n=this._bridgeRendered;n&&n.renderVersion===r.renderVersion&&(n.targetTrans=r.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var r=this._bridgeRendered;if(!(!r||r.renderVersion!==this._renderVersion)){var n=Tu([],r.targetTrans),i=yc([],this._coordSys.transform,n);this._transThisToTarget=Tu([],i);var a=r.viewportRect;a?a=a.clone():a=new jt(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var o=this._windowRect,s=o.shape.r;o.setShape(kt({r:s},a))}},t.prototype._resetRoamController=function(r){var n=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new v0(i.getZr())),!r||!this._isEnabled()){a.disable();return}a.enable(r,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,s,l){return n._contentRect.contain(s,l)}}}),a.off("pan").off("zoom").on("pan",mt(this._onPan,this)).on("zoom",mt(this._onZoom,this))},t.prototype._onPan=function(r){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Mi([],[r.oldX,r.oldY],n),a=Mi([],[r.oldX-r.dx,r.oldY-r.dy],n);this._api.dispatchAction(oY(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},t.prototype._onZoom=function(r){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Mi([],[r.originX,r.originY],n);this._api.dispatchAction(oY(this._model.getTarget().baseMapProvider,{zoom:1/r.scale,originX:i[0],originY:i[1]}))}},t.prototype._isEnabled=function(){var r=this._model;if(!r||!r.shouldShow())return!1;var n=r.getTarget().baseMapProvider;return!!n},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t})(Cn);function oY(e,t){var r=e.mainType==="series"?e.subType+"Roam":e.mainType+"Roam",n={type:r};return n[e.mainType+"Id"]=e.id,He(n,t),n}function sY(e,t){var r=kp(e);XE(t.group,r.z,r.zlevel)}function yit(e){e.registerComponentModel(git),e.registerComponentView(mit)}var xit={label:{enabled:!0},decal:{show:!1}},lY=wr(),_it={};function bit(e,t){var r=e.getModel("aria");if(!r.get("enabled"))return;var n=Vt(xit);Et(n.label,e.getLocaleModel().get("aria"),!1),Et(r.option,n,!1),i(),a();function i(){var u=r.getModel("decal"),c=u.get("show");if(c){var f=Rt();e.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),lY(d).scope=h}}),e.eachRawSeries(function(d){if(e.isSeriesFiltered(d))return;if(Ht(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var y=Ok(d.ecModel,d.name,_it,e.getSeriesCount()),x=h.getVisual("decal");h.setVisual("decal",b(x,y))}else{var v=d.getRawData(),p={},g=lY(d).scope;h.each(function(w){var S=h.getRawIndex(w);p[S]=w});var m=v.count();v.each(function(w){var S=p[w],C=v.getName(w)||w+"",E=Ok(d.ecModel,C,g,m),A=h.getItemVisual(S,"decal");h.setItemVisual(S,"decal",b(A,E))})}function b(w,S){var C=w?He(He({},S),w):S;return C.dirty=!0,C}})}}function a(){var u=t.getZr().dom;if(u){var c=e.getLocaleModel().get("aria"),f=r.getModel("label");if(f.option=kt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=e.getSeriesCount(),h=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,p=Math.min(d,v),g;if(!(d<1)){var m=s();if(m){var y=f.get(["general","withTitle"]);g=o(y,{title:m})}else g=f.get(["general","withoutTitle"]);var x=[],b=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=o(b,{seriesCount:d}),e.eachSeries(function(E,A){if(A<p){var M=void 0,D=E.get("name"),R=D?"withName":"withoutName";M=d>1?f.get(["series","multiple",R]):f.get(["series","single",R]),M=o(M,{seriesId:E.seriesIndex,seriesName:E.get("name"),seriesType:l(E.subType)});var L=E.getData();if(L.count()>h){var k=f.get(["data","partialData"]);M+=o(k,{displayCnt:h})}else M+=f.get(["data","allData"]);for(var O=f.get(["data","separator","middle"]),F=f.get(["data","separator","end"]),H=f.get(["data","excludeDimensionId"]),V=[],U=0;U<L.count();U++)if(U<h){var K=L.getName(U),q=H?on(L.getValues(U),function(W,j){return ur(H,j)===-1}):L.getValues(U),N=f.get(["data",K?"withName":"withoutName"]);V.push(o(N,{name:K,value:q.join(O)}))}M+=V.join(O)+F,x.push(M)}});var w=f.getModel(["series","multiple","separator"]),S=w.get("middle"),C=w.get("end");g+=x.join(S)+C,u.setAttribute("aria-label",g)}}}}function o(u,c){if(!pt(u))return u;var f=u;return G(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function s(){var u=e.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=e.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function wit(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},G(["description","general","series","data"],function(r){t[r]!=null&&(t.label[r]=t[r])})}}function Sit(e){e.registerPreprocessor(wit),e.registerVisual(e.PRIORITY.VISUAL.ARIA,bit)}var uY={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Cit=(function(){function e(t){var r=this._condVal=pt(t)?new RegExp(t):y6e(t)?t:null;if(r==null){var n="";Qr(n)}}return e.prototype.evaluate=function(t){var r=typeof t;return pt(r)?this._condVal.test(t):Br(r)?this._condVal.test(t+""):!1},e})(),Tit=(function(){function e(){}return e.prototype.evaluate=function(){return this.value},e})(),Ait=(function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(!t[r].evaluate())return!1;return!0},e})(),Eit=(function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(t[r].evaluate())return!0;return!1},e})(),Mit=(function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e})(),Dit=(function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},e})();function RB(e,t){if(e===!0||e===!1){var r=new Tit;return r.value=e,r}var n="";return Fue(e)||Qr(n),e.and?cY("and",e,t):e.or?cY("or",e,t):e.not?Pit(e,t):Rit(e,t)}function cY(e,t,r){var n=t[e],i="";We(n)||Qr(i),n.length||Qr(i);var a=e==="and"?new Ait:new Eit;return a.children=Ye(n,function(o){return RB(o,r)}),a.children.length||Qr(i),a}function Pit(e,t){var r=e.not,n="";Fue(r)||Qr(n);var i=new Mit;return i.child=RB(r,t),i.child||Qr(n),i}function Rit(e,t){for(var r="",n=t.prepareGetValue(e),i=[],a=Lr(e),o=e.parser,s=o?Xie(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=St(uY,u)?uY[u]:u,f=e[u],d=s?s(f):f,h=_Ve(c,d)||c==="reg"&&new Cit(d);h||Qr(r),i.push(h)}}i.length||Qr(r);var v=new Dit;return v.valueGetterParam=n,v.valueParser=s,v.getValue=t.getValue,v.subCondList=i,v}function Fue(e){return Xt(e)&&!So(e)}var Lit=(function(){function e(t,r){this._cond=RB(t,r)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e})();function Iit(e,t){return new Lit(e,t)}var kit={type:"echarts:filter",transform:function(e){for(var t=e.upstream,r,n=Iit(e.config,{valueGetterAttrMap:Rt({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;St(s,"dimension")||Qr(l);var c=t.getDimensionInfo(u);return c||Qr(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(r,s.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)r=t.getRawDataItem(a),n.evaluate()&&i.push(r);return{data:i}}},Oit={type:"echarts:sort",transform:function(e){var t=e.upstream,r=e.config,n="",i=Mn(r);i.length||Qr(n);var a=[];G(i,function(c){var f=c.dimension,d=c.order,h=c.parser,v=c.incomparable;if(f==null&&Qr(n),d!=="asc"&&d!=="desc"&&Qr(n),v&&v!=="min"&&v!=="max"){var p="";Qr(p)}if(d!=="asc"&&d!=="desc"){var g="";Qr(g)}var m=t.getDimensionInfo(f);m||Qr(n);var y=h?Xie(h):null;h&&!y&&Qr(n),a.push({dimIdx:m.index,parser:y,comparator:new Yie(d,v)})});var o=t.sourceFormat;o!==Ga&&o!==Ys&&Qr(n);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<a.length;d++){var h=a[d],v=t.retrieveValueFromItem(c,h.dimIdx),p=t.retrieveValueFromItem(f,h.dimIdx);h.parser&&(v=h.parser(v),p=h.parser(p));var g=h.comparator.evaluate(v,p);if(g!==0)return g}return 0}),{data:s}}};function Fit(e){e.registerTransform(kit),e.registerTransform(Oit)}var Nit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.prototype.init=function(r,n,i){e.prototype.init.call(this,r,n,i),this._sourceManager=new Jie(this),V$(this)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),V$(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:mu},t})(dr),Bit=(function(e){Ae(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.type="dataset",t})(Cn);function Nue(e){e.registerComponentModel(Nit),e.registerComponentView(Bit)}var ju=Rc.CMD;function Fg(e,t){return Math.abs(e-t)<1e-5}function J4(e){var t=e.data,r=e.len(),n=[],i,a=0,o=0,s=0,l=0;function u(L,k){i&&i.length>2&&n.push(i),i=[L,k]}function c(L,k,O,F){Fg(L,O)&&Fg(k,F)||i.push(L,k,O,F,O,F)}function f(L,k,O,F,H,V){var U=Math.abs(k-L),K=Math.tan(U/4)*4/3,q=k<L?-1:1,N=Math.cos(L),W=Math.sin(L),j=Math.cos(k),Z=Math.sin(k),ve=N*H+O,Te=W*V+F,Se=j*H+O,te=Z*V+F,pe=H*K*q,Re=V*K*q;i.push(ve-pe*W,Te+Re*N,Se+pe*Z,te-Re*j,Se,te)}for(var d,h,v,p,g=0;g<r;){var m=t[g++],y=g===1;switch(y&&(a=t[g],o=t[g+1],s=a,l=o,(m===ju.L||m===ju.C||m===ju.Q)&&(i=[s,l])),m){case ju.M:a=s=t[g++],o=l=t[g++],u(s,l);break;case ju.L:d=t[g++],h=t[g++],c(a,o,d,h),a=d,o=h;break;case ju.C:i.push(t[g++],t[g++],t[g++],t[g++],a=t[g++],o=t[g++]);break;case ju.Q:d=t[g++],h=t[g++],v=t[g++],p=t[g++],i.push(a+2/3*(d-a),o+2/3*(h-o),v+2/3*(d-v),p+2/3*(h-p),v,p),a=v,o=p;break;case ju.A:var x=t[g++],b=t[g++],w=t[g++],S=t[g++],C=t[g++],E=t[g++]+C;g+=1;var A=!t[g++];d=Math.cos(C)*w+x,h=Math.sin(C)*S+b,y?(s=d,l=h,u(s,l)):c(a,o,d,h),a=Math.cos(E)*w+x,o=Math.sin(E)*S+b;for(var M=(A?-1:1)*Math.PI/2,D=C;A?D>E:D<E;D+=M){var R=A?Math.max(D+M,E):Math.min(D+M,E);f(D,R,x,b,w,S)}break;case ju.R:s=a=t[g++],l=o=t[g++],d=s+t[g++],h=l+t[g++],u(d,l),c(d,l,d,h),c(d,h,s,h),c(s,h,s,l),c(s,l,d,l);break;case ju.Z:i&&c(a,o,s,l),a=s,o=l;break}}return i&&i.length>2&&n.push(i),n}function Q4(e,t,r,n,i,a,o,s,l,u){if(Fg(e,r)&&Fg(t,n)&&Fg(i,o)&&Fg(a,s)){l.push(o,s);return}var c=2/u,f=c*c,d=o-e,h=s-t,v=Math.sqrt(d*d+h*h);d/=v,h/=v;var p=r-e,g=n-t,m=i-o,y=a-s,x=p*p+g*g,b=m*m+y*y;if(x<f&&b<f){l.push(o,s);return}var w=d*p+h*g,S=-d*m-h*y,C=x-w*w,E=b-S*S;if(C<f&&w>=0&&E<f&&S>=0){l.push(o,s);return}var A=[],M=[];xh(e,r,i,o,.5,A),xh(t,n,a,s,.5,M),Q4(A[0],M[0],A[1],M[1],A[2],M[2],A[3],M[3],l,u),Q4(A[4],M[4],A[5],M[5],A[6],M[6],A[7],M[7],l,u)}function zit(e,t){var r=J4(e),n=[];t=t||1;for(var i=0;i<r.length;i++){var a=r[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],d=a[u++],h=a[u++],v=a[u++],p=a[u++];Q4(s,l,c,f,d,h,v,p,o,t),s=v,l=p}n.push(o)}return n}function Bue(e,t,r){var n=e[t],i=e[1-t],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=r-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function fY(e,t,r){for(var n=e.r0,i=e.r,a=e.startAngle,o=e.endAngle,s=Math.abs(o-a),l=s*i,u=i-n,c=l>Math.abs(u),f=Bue([l,u],c?0:1,t),d=(c?s:u)/f.length,h=0;h<f.length;h++)for(var v=(c?u:s)/f[h],p=0;p<f[h];p++){var g={};c?(g.startAngle=a+d*h,g.endAngle=a+d*(h+1),g.r0=n+v*p,g.r=n+v*(p+1)):(g.startAngle=a+v*p,g.endAngle=a+v*(p+1),g.r0=n+d*h,g.r=n+d*(h+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,r.push(g)}}function Hit(e,t,r){for(var n=e.width,i=e.height,a=n>i,o=Bue([n,i],a?0:1,t),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=e[s]/o.length,d=0;d<o.length;d++)for(var h=e[l]/o[d],v=0;v<o[d];v++){var p={};p[u]=d*f,p[c]=v*h,p[s]=f,p[l]=h,p.x+=e.x,p.y+=e.y,r.push(p)}}function dY(e,t,r,n){return e*n-r*t}function Vit(e,t,r,n,i,a,o,s){var l=r-e,u=n-t,c=o-i,f=s-a,d=dY(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=e-i,v=t-a,p=dY(h,v,c,f)/d;return p<0||p>1?null:new Wt(p*l+e,p*u+t)}function $it(e,t,r){var n=new Wt;Wt.sub(n,r,t),n.normalize();var i=new Wt;Wt.sub(i,e,t);var a=i.dot(n);return a}function cg(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function Git(e,t,r){for(var n=e.length,i=[],a=0;a<n;a++){var o=e[a],s=e[(a+1)%n],l=Vit(o[0],o[1],s[0],s[1],t.x,t.y,r.x,r.y);l&&i.push({projPt:$it(l,t,r),pt:l,idx:a})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(g,m){return g.projPt-m.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],v=[d],p=[h],a=u.idx+1;a<=c.idx;a++)cg(v,e[a].slice());cg(v,h),cg(v,d);for(var a=c.idx+1;a<=u.idx+n;a++)cg(p,e[a%n].slice());return cg(p,d),cg(p,h),[{points:v},{points:p}]}function hY(e){var t=e.points,r=[],n=[];NE(t,r,n);var i=new jt(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,o=i.height,s=i.x,l=i.y,u=new Wt,c=new Wt;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),Git(t,u,c)}function yA(e,t,r,n){if(r===1)n.push(t);else{var i=Math.floor(r/2),a=e(t);yA(e,a[0],i,n),yA(e,a[1],r-i,n)}return n}function Uit(e,t){for(var r=[],n=0;n<t;n++)r.push(LF(e));return r}function Wit(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function Xit(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function jit(e,t){var r=[],n=e.shape,i;switch(e.type){case"rect":Hit(n,t,r),i=vr;break;case"sector":fY(n,t,r),i=To;break;case"circle":fY({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),i=To;break;default:var a=e.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Ye(zit(e.getUpdatedPathProxy(),o),function(m){return Xit(m)}),l=s.length;if(l===0)yA(hY,{points:s[0]},t,r);else if(l===t)for(var u=0;u<l;u++)r.push({points:s[u]});else{var c=0,f=Ye(s,function(m){var y=[],x=[];NE(m,y,x);var b=(x[1]-y[1])*(x[0]-y[0]);return c+=b,{poly:m,area:b}});f.sort(function(m,y){return y.area-m.area});for(var d=t,u=0;u<l;u++){var h=f[u];if(d<=0)break;var v=u===l-1?d:Math.ceil(h.area/c*t);v<0||(yA(hY,{points:h.poly},v,r),d-=v)}}i=Ao;break}if(!i)return Uit(e,t);for(var p=[],u=0;u<r.length;u++){var g=new i;g.setShape(r[u]),Wit(e,g),p.push(g)}return p}function Yit(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var i=[],a=[],o=r<n?e:t,s=Math.min(r,n),l=Math.abs(n-r)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],d=l,h=2;h<s;){var v=o[h-2],p=o[h-1],g=o[h++],m=o[h++],y=o[h++],x=o[h++],b=o[h++],w=o[h++];if(d<=0){f.push(g,m,y,x,b,w);continue}for(var S=Math.min(d,c-1)+1,C=1;C<=S;C++){var E=C/S;xh(v,g,y,b,E,i),xh(p,m,x,w,E,a),v=i[3],p=a[3],f.push(i[1],a[1],i[2],a[2],v,p),g=i[5],m=a[5],y=i[6],x=a[6]}d-=S-1}return o===e?[f,t]:[e,f]}function vY(e,t){for(var r=e.length,n=e[r-2],i=e[r-1],a=[],o=0;o<t.length;)a[o++]=n,a[o++]=i;return a}function Kit(e,t){for(var r,n,i,a=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,f=void 0;l?u?(r=Yit(l,u),c=r[0],f=r[1],n=c,i=f):(f=vY(i||l,l),c=l):(c=vY(n||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function pY(e){for(var t=0,r=0,n=0,i=e.length,a=0,o=i-2;a<i;o=a,a+=2){var s=e[o],l=e[o+1],u=e[a],c=e[a+1],f=s*c-u*l;t+=f,r+=(s+u)*f,n+=(l+c)*f}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function Zit(e,t,r,n){for(var i=(e.length-2)/6,a=1/0,o=0,s=e.length,l=s-2,u=0;u<i;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var h=d===0?c:(c+d-2)%l+2,v=e[h]-r[0],p=e[h+1]-r[1],g=t[d]-n[0],m=t[d+1]-n[1],y=g-v,x=m-p;f+=y*y+x*x}f<a&&(a=f,o=u)}return o}function qit(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function Jit(e,t,r,n){for(var i=[],a,o=0;o<e.length;o++){var s=e[o],l=t[o],u=pY(s),c=pY(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],d=[],h=0,v=1/0,p=[],g=s.length;a&&(s=qit(s));for(var m=Zit(s,l,u,c)*6,y=g-2,x=0;x<y;x+=2){var b=(m+x)%y+2;f[x+2]=s[b]-u[0],f[x+3]=s[b+1]-u[1]}f[0]=s[m]-u[0],f[1]=s[m+1]-u[1];for(var w=n/r,S=-n/2;S<=n/2;S+=w){for(var C=Math.sin(S),E=Math.cos(S),A=0,x=0;x<s.length;x+=2){var M=f[x],D=f[x+1],R=l[x]-c[0],L=l[x+1]-c[1],k=R*E-L*C,O=R*C+L*E;p[x]=k,p[x+1]=O;var F=k-M,H=O-D;A+=F*F+H*H}if(A<v){v=A,h=S;for(var V=0;V<p.length;V++)d[V]=p[V]}}i.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return i}function xA(e){return e.__isCombineMorphing}var zue="__mOriginal_";function _A(e,t,r){var n=zue+t,i=e[n]||e[t];e[n]||(e[n]=e[t]);var a=r.replace,o=r.after,s=r.before;e[t]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function Gx(e,t){var r=zue+t;e[r]&&(e[t]=e[r],e[r]=null)}function gY(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=t[0]*a+t[2]*o+t[4],n[i++]=t[1]*a+t[3]*o+t[5]}}function Hue(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=Kit(J4(r),J4(n)),a=i[0],o=i[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&gY(a,s),l&&gY(o,l),_A(t,"updateTransform",{replace:u}),t.transform=null;var c=Jit(a,o,10,Math.PI),f=[];_A(t,"buildPath",{replace:function(d){for(var h=t.__morphT,v=1-h,p=[],g=0;g<c.length;g++){var m=c[g],y=m.from,x=m.to,b=m.rotation*h,w=m.fromCp,S=m.toCp,C=Math.sin(b),E=Math.cos(b);lC(p,w,S,h);for(var A=0;A<y.length;A+=2){var M=y[A],D=y[A+1],R=x[A],L=x[A+1],k=M*v+R*h,O=D*v+L*h;f[A]=k*E-O*C+p[0],f[A+1]=k*C+O*E+p[1]}var F=f[0],H=f[1];d.moveTo(F,H);for(var A=2;A<y.length;){var R=f[A++],L=f[A++],V=f[A++],U=f[A++],K=f[A++],q=f[A++];F===R&&H===L&&V===K&&U===q?d.lineTo(K,q):d.bezierCurveTo(R,L,V,U,K,q),F=K,H=q}}}})}function LB(e,t,r){if(!e||!t)return t;var n=r.done,i=r.during;Hue(e,t),t.__morphT=0;function a(){Gx(t,"buildPath"),Gx(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},kt({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},r)),t}function Qit(e,t,r,n,i,a){var o=16;e=i===r?0:Math.round(32767*(e-r)/(i-r)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(e&u)>0&&(c=1),(t&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return s}function bA(e){var t=1/0,r=1/0,n=-1/0,i=-1/0,a=Ye(e,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),r=Math.min(f,r),n=Math.max(c,n),i=Math.max(f,i),[c,f]}),o=Ye(a,function(s,l){return{cp:s,z:Qit(s[0],s[1],t,r,n,i),path:e[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Vue(e){return jit(e.path,e.count)}function eO(){return{fromIndividuals:[],toIndividuals:[],count:0}}function eat(e,t,r){var n=[];function i(w){for(var S=0;S<w.length;S++){var C=w[S];xA(C)?i(C.childrenRef()):C instanceof Cr&&n.push(C)}}i(e);var a=n.length;if(!a)return eO();var o=r.dividePath||Vue,s=o({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),eO();n=bA(n),s=bA(s);for(var l=r.done,u=r.during,c=r.individualDelay,f=new xf,d=0;d<a;d++){var h=n[d],v=s[d];v.parent=t,v.copyTransform(f),c||Hue(h,v)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function p(w){for(var S=0;S<s.length;S++)s[S].addSelfToZr(w)}_A(t,"addSelfToZr",{after:function(w){p(w)}}),_A(t,"removeSelfFromZr",{after:function(w){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(w)}});function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Gx(t,"addSelfToZr"),Gx(t,"removeSelfFromZr")}var m=s.length;if(c)for(var y=m,x=function(){y--,y===0&&(g(),l&&l())},d=0;d<m;d++){var b=c?kt({delay:(r.delay||0)+c(d,m,n[d],s[d]),done:x},r):r;LB(n[d],s[d],b)}else t.__morphT=0,t.animateTo({__morphT:1},kt({during:function(w){for(var S=0;S<m;S++){var C=s[S];C.__morphT=t.__morphT,C.dirtyShape()}u&&u(w)},done:function(){g();for(var w=0;w<e.length;w++)Gx(e[w],"updateTransform");l&&l()}},r));return t.__zr&&p(t.__zr),{fromIndividuals:n,toIndividuals:s,count:m}}function tat(e,t,r){var n=t.length,i=[],a=r.dividePath||Vue;function o(h){for(var v=0;v<h.length;v++){var p=h[v];xA(p)?o(p.childrenRef()):p instanceof Cr&&i.push(p)}}if(xA(e)){o(e.childrenRef());var s=i.length;if(s<n)for(var l=0,u=s;u<n;u++)i.push(LF(i[l++%s]));i.length=n}else{i=a({path:e,count:n});for(var c=e.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),eO()}i=bA(i),t=bA(t);for(var f=r.individualDelay,u=0;u<n;u++){var d=f?kt({delay:(r.delay||0)+f(u,n,i[u],t[u])},r):r;LB(i[u],t[u],d)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function mY(e){return We(e[0])}function yY(e,t){for(var r=[],n=e.length,i=0;i<n;i++)r.push({one:e[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)r[o%n].many.push(t[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!r[i].many.length){var l=r[s].many;if(l.length<=1)if(s)s=0;else return r;var a=l.length,u=Math.ceil(a/2);r[i].many=l.slice(u,a),r[s].many=l.slice(0,u),s++}return r}var rat={clone:function(e){for(var t=[],r=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var i=LF(e.path);i.setStyle("opacity",r),t.push(i)}return t},split:null};function aI(e,t,r,n,i,a){if(!e.length||!t.length)return;var o=ny("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;mY(e)&&(u=e,c=t),mY(t)&&(u=t,c=e);function f(m,y,x,b,w){var S=m.many,C=m.one;if(S.length===1&&!w){var E=y?S[0]:C,A=y?C:S[0];if(xA(E))f({many:[E],one:A},!0,x,b,!0);else{var M=s?kt({delay:s(x,b)},l):l;LB(E,A,M),a(E,A,E,A,M)}}else for(var D=kt({dividePath:rat[r],individualDelay:s&&function(H,V,U,K){return s(H+x,b)}},l),R=y?eat(S,C,D):tat(C,S,D),L=R.fromIndividuals,k=R.toIndividuals,O=L.length,F=0;F<O;F++){var M=s?kt({delay:s(F,O)},l):l;a(L[F],k[F],y?S[F]:m.one,y?m.one:S[F],M)}}for(var d=u?u===e:e.length>t.length,h=u?yY(c,u):yY(d?t:e,[d?e:t]),v=0,p=0;p<h.length;p++)v+=h[p].many.length;for(var g=0,p=0;p<h.length;p++)f(h[p],d,g,v),g+=h[p].many.length}function zv(e){if(!e)return[];if(We(e)){for(var t=[],r=0;r<e.length;r++)t.push(zv(e[r]));return t}var n=[];return e.traverse(function(i){i instanceof Cr&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var $ue=1e4,nat=0,xY=1,_Y=2,iat=wr();function aat(e,t){for(var r=e.dimensions,n=0;n<r.length;n++){var i=e.getDimensionInfo(r[n]);if(i&&i.otherDims[t]===0)return r[n]}}function oat(e,t,r){var n=e.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var a=e.get(n.name,t);return i&&i.categories[a]||a+""}}function bY(e,t,r,n){var i=n?"itemChildGroupId":"itemGroupId",a=aat(e,i);if(a){var o=oat(e,t,a);return o}var s=e.getRawDataItem(t),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return r||e.getId(t)}function wY(e){var t=[];return G(e,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>$ue))for(var a=n.getIndices(),o=0;o<a.length;o++)t.push({data:n,groupId:bY(n,o,i,!1),childGroupId:bY(n,o,i,!0),divide:r.divide,dataIndex:o})}),t}function oI(e,t,r){e.traverse(function(n){n instanceof Cr&&Hn(n,{style:{opacity:0}},t,{dataIndex:r,isFrom:!0})})}function sI(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function fg(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function sat(e,t,r){var n=ny("update",r,t);n&&e.traverse(function(i){if(i instanceof Hl){var a=j7e(i);a&&i.animateFrom({style:a},n)}})}function lat(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++){var i=e[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Gue(e,t,r){var n=wY(e),i=wY(t);function a(x,b,w,S,C){(w||x)&&b.animateFrom({style:w&&w!==x?He(He({},w.style),x.style):x.style},C)}var o=!1,s=nat,l=Rt(),u=Rt();n.forEach(function(x){x.groupId&&l.set(x.groupId,!0),x.childGroupId&&u.set(x.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){s=xY;break}var d=i[c].childGroupId;if(d&&l.get(d)){s=_Y;break}}function h(x,b){return function(w){var S=w.data,C=w.dataIndex;return b?S.getId(C):x?s===xY?w.childGroupId:w.groupId:s===_Y?w.childGroupId:w.groupId}}var v=lat(n,i),p={};if(!v)for(var c=0;c<i.length;c++){var g=i[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(p[m.id]=!0)}function y(x,b){var w=n[b],S=i[x],C=S.data.hostModel,E=w.data.getItemGraphicEl(w.dataIndex),A=S.data.getItemGraphicEl(S.dataIndex);if(E===A){A&&sat(A,S.dataIndex,C);return}E&&p[E.id]||A&&(fg(A),E?(fg(E),sI(E),o=!0,aI(zv(E),zv(A),S.divide,C,x,a)):oI(A,C,x))}new Hf(n,i,h(!0,v),h(!1,v),null,"multiple").update(y).updateManyToOne(function(x,b){var w=i[x],S=w.data,C=S.hostModel,E=S.getItemGraphicEl(w.dataIndex),A=on(Ye(b,function(M){return n[M].data.getItemGraphicEl(n[M].dataIndex)}),function(M){return M&&M!==E&&!p[M.id]});E&&(fg(E),A.length?(G(A,function(M){fg(M),sI(M)}),o=!0,aI(zv(A),zv(E),w.divide,C,x,a)):oI(E,C,w.dataIndex))}).updateOneToMany(function(x,b){var w=n[b],S=w.data.getItemGraphicEl(w.dataIndex);if(!(S&&p[S.id])){var C=on(Ye(x,function(A){return i[A].data.getItemGraphicEl(i[A].dataIndex)}),function(A){return A&&A!==S}),E=i[x[0]].data.hostModel;C.length&&(G(C,function(A){return fg(A)}),S?(fg(S),sI(S),o=!0,aI(zv(S),zv(C),w.divide,E,x[0],a)):G(C,function(A){return oI(A,E,x[0])}))}}).updateManyToMany(function(x,b){new Hf(b,x,function(w){return n[w].data.getId(n[w].dataIndex)},function(w){return i[w].data.getId(i[w].dataIndex)}).update(function(w,S){y(x[w],b[S])}).execute()}).execute(),o&&G(t,function(x){var b=x.data,w=b.hostModel,S=w&&r.getViewOfSeriesModel(w),C=ny("update",w,0);S&&w.isAnimationEnabled()&&C&&C.duration>0&&S.group.traverse(function(E){E instanceof Cr&&!E.animators.length&&E.animateFrom({style:{opacity:0}},C)})})}function SY(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function CY(e){return We(e)?e.sort().join(","):e}function $d(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function uat(e,t){var r=Rt(),n=Rt(),i=Rt();return G(e.oldSeries,function(a,o){var s=e.oldDataGroupIds[o],l=e.oldData[o],u=SY(a),c=CY(u);n.set(c,{dataGroupId:s,data:l}),We(u)&&G(u,function(f){i.set(f,{key:c,dataGroupId:s,data:l})})}),G(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=SY(a),u=CY(l),c=n.get(u);if(c)r.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:$d(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:$d(s),data:s}]});else if(We(l)){var f=[];G(l,function(v){var p=n.get(v);p.data&&f.push({dataGroupId:p.dataGroupId,divide:$d(p.data),data:p.data})}),f.length&&r.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:$d(s)}]})}else{var d=i.get(l);if(d){var h=r.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:$d(d.data)}],newSeries:[]},r.set(d.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:$d(s)})}}}}),r}function TY(e,t){for(var r=0;r<e.length;r++){var n=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(n)return r}}function cat(e,t,r,n){var i=[],a=[];G(Mn(e.from),function(o){var s=TY(t.oldSeries,o);s>=0&&i.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:$d(t.oldData[s]),groupIdDim:o.dimension})}),G(Mn(e.to),function(o){var s=TY(r.updatedSeries,o);if(s>=0){var l=r.updatedSeries[s].getData();a.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:$d(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&Gue(i,a,n)}function fat(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){G(Mn(n.seriesTransition),function(i){G(Mn(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][_C]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,r,n){var i=iat(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)G(Mn(a),function(h){cat(h,i,n,r)});else{var o=uat(i,n);G(o.keys(),function(h){var v=o.get(h);Gue(v.oldSeries,v.newSeries,r)})}G(n.updatedSeries,function(h){h[_C]&&(h[_C]=!1)})}for(var s=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<$ue&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}var dat=(function(){function e(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return e.prototype.setBreaks=function(t){this.breaks=t.breaks},e.prototype.update=function(t){vat(this,t);var r=this._elapsedExtent;r[0]=this.elapse(t[0]),r[1]=this.elapse(t[1])},e.prototype.hasBreaks=function(){return!!this.breaks.length},e.prototype.calcNiceTickMultiple=function(t,r){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<t&&t<i.vmax){var a=r(t,i.vmax);return a}}return 0},e.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},e.prototype.normalize=function(t){var r=this._elapsedExtent[1]-this._elapsedExtent[0];return r===0?.5:(this.elapse(t)-this._elapsedExtent[0])/r},e.prototype.scale=function(t){return this.unelapse(t*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},e.prototype.elapse=function(t){for(var r=AY,n=EY,i=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(t<=o.vmax){t>o.vmin?r+=o.vmin-n+(t-o.vmin)/(o.vmax-o.vmin)*o.gapReal:r+=t-n,n=o.vmax,i=!1;break}r+=o.vmin-n+o.gapReal,n=o.vmax}return i&&(r+=t-n),r},e.prototype.unelapse=function(t){for(var r=AY,n=EY,i=!0,a=0,o=0;o<this.breaks.length;o++){var s=this.breaks[o],l=r+s.vmin-n,u=l+s.gapReal;if(t<=u){t>l?a=s.vmin+(t-l)/(u-l)*(s.vmax-s.vmin):a=n+t-r,n=s.vmax,i=!1;break}r=u,n=s.vmax}return i&&(a=n+t-r),a},e})();function hat(){return new dat}var AY=0,EY=0;function vat(e,t){var r=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};G(e.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(r+=l.val);var u=IB(s,t);if(u){var c=u.vmin!==s.vmin,f=u.vmax!==s.vmax,d=u.vmax-u.vmin;if(!(c&&f))if(c||f){var h=c?"S":"E";a[h][l.type].has=!0,a[h][l.type].span=d,a[h][l.type].inExtFrac=d/(s.vmax-s.vmin),a[h][l.type].val=l.val}else n[l.type].span+=d,n[l.type].val+=l.val}});var o=r*(0+(t[1]-t[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));G(e.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(s.gapReal=r!==0?Math.max(o,0)*l.val/r:0),l.type==="tpAbs"&&(s.gapReal=l.val),s.gapReal==null&&(s.gapReal=0)})}function pat(e,t,r,n,i,a){e!=="no"&&G(r,function(o){var s=IB(o,a);if(s)for(var l=t.length-1;l>=0;l--){var u=t[l],c=n(u),f=i*3/4;c>s.vmin-f&&c<s.vmax+f&&(e!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&t.splice(l,1)}})}function gat(e,t,r,n){G(t,function(i){var a=IB(i,r);a&&(e.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),e.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),t.length&&e.sort(function(i,a){return i.value-a.value})}function IB(e,t){var r=Math.max(e.vmin,t[0]),n=Math.min(e.vmax,t[1]);return r<n||r===n&&r>t[0]&&r<t[1]?{vmin:r,vmax:n,breakOption:e.breakOption,gapParsed:e.gapParsed,gapReal:e.gapReal}:null}function tO(e,t,r){var n=[];if(!e)return{breaks:n};function i(o,s){return o>=0&&o<1-1e-5}G(e,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var s={breakOption:Vt(o),vmin:t(o.start),vmax:t(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var l=!1;if(pt(o.gap)){var u=El(o.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;i(c)||(c=0),s.gapParsed.type="tpPrct",s.gapParsed.val=c,l=!0}}if(!l){var f=t(o.gap);(!isFinite(f)||f<0)&&(f=0),s.gapParsed.type="tpAbs",s.gapParsed.val=f}}if(s.vmin===s.vmax&&(s.gapParsed.type="tpAbs",s.gapParsed.val=0),r&&r.noNegative&&G(["vmin","vmax"],function(h){s[h]<0&&(s[h]=0)}),s.vmin>s.vmax){var d=s.vmax;s.vmax=s.vmin,s.vmin=d}n.push(s)}}),n.sort(function(o,s){return o.vmin-s.vmin});var a=-1/0;return G(n,function(o,s){a>o.vmin&&(n[s]=null),a=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function kB(e,t){return rO(t)===rO(e)}function rO(e){return e.start+"_\0_"+e.end}function mat(e,t,r){var n=[];G(e,function(a,o){var s=t(a);s&&s.type==="vmin"&&n.push([o])}),G(e,function(a,o){var s=t(a);if(s&&s.type==="vmax"){var l=o0(n,function(u){return kB(t(e[u[0]]).parsedBreak.breakOption,s.parsedBreak.breakOption)});l&&l.push(o)}});var i=[];return G(n,function(a){a.length===2&&i.push(r?a:[e[a[0]],e[a[1]]])}),i}function yat(e,t,r,n){var i,a;if(e.break){var o=e.break.parsedBreak,s=o0(r,function(f){return kB(f.breakOption,e.break.parsedBreak.breakOption)}),l=n(Math.pow(t,o.vmin),s.vmin),u=n(Math.pow(t,o.vmax),s.vmax),c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?ii(Math.pow(t,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};i={type:e.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal}},a=s[e.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function xat(e,t,r){var n={noNegative:!0},i=tO(e,r,n),a=tO(e,r,n),o=Math.log(t);return a.breaks=Ye(a.breaks,function(s){var l=Math.log(s.vmin)/o,u=Math.log(s.vmax)/o,c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Math.log(s.vmin+s.gapParsed.val)/o-l:s.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal,breakOption:s.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var _at={vmin:"start",vmax:"end"};function bat(e,t){return t&&(e=e||{},e.break={type:_at[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),e}function wat(){g9e({createScaleBreakContext:hat,pruneTicksByBreak:pat,addBreaksToTicks:gat,parseAxisBreakOption:tO,identifyAxisBreak:kB,serializeAxisBreakIdentifier:rO,retrieveAxisBreakPairs:mat,getTicksLogTransformBreak:yat,logarithmicParseBreaksFromOption:xat,makeAxisLabelFormatterParamBreak:bat})}var MY=wr();function Sat(e,t){var r=o0(e,function(n){return Ui().identifyAxisBreak(n.parsedBreak.breakOption,t.breakOption)});return r||e.push(r={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),r}function Cat(e){G(e,function(t){return t.shouldRemove=!0})}function Tat(e){for(var t=e.length-1;t>=0;t--)e[t].shouldRemove&&e.splice(t,1)}function Aat(e,t,r,n,i){var a=r.axis;if(a.scale.isBlank()||!Ui())return;var o=Ui().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(A){return A.break},!1);if(!o.length)return;var s=r.getModel("breakArea"),l=s.get("zigzagAmplitude"),u=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=s.get("expandOnClick"),d=s.get("zigzagZ"),h=s.getModel("itemStyle"),v=h.getItemStyle(),p=v.stroke,g=v.lineWidth,m=v.lineDash,y=v.fill,x=new $t({ignoreModelZ:!0}),b=a.isHorizontal(),w=MY(t).visualList||(MY(t).visualList=[]);Cat(w);for(var S=function(A){var M=o[A][0].break.parsedBreak,D=[];D[0]=a.toGlobalCoord(a.dataToCoord(M.vmin,!0)),D[1]=a.toGlobalCoord(a.dataToCoord(M.vmax,!0)),D[1]<D[0]&&D.reverse();var R=Sat(w,M);R.shouldRemove=!1;var L=new $t;E(R.zigzagRandomList,L,D[0],D[1],b,M),f&&L.on("click",function(){var k={type:nM,breaks:[{start:M.breakOption.start,end:M.breakOption.end}]};k[a.dim+"AxisIndex"]=r.componentIndex,i.dispatchAction(k)}),L.silent=!f,x.add(L)},C=0;C<o.length;C++)S(C);e.add(x),Tat(w);function E(A,M,D,R,L,k){var O={stroke:p,lineWidth:g,lineDash:m,fill:"none"},F=L?0:1,H=1-F,V=n[ir[H]]+n[Xi[H]];function U(J){var se=[],he=[];se[F]=he[F]=J,se[H]=n[ir[H]],he[H]=V;var _e={x1:se[0],y1:se[1],x2:he[0],y2:he[1]};return zE(_e,_e,{lineWidth:1}),se[0]=_e.x1,se[1]=_e.y1,se[F]}D=U(D),R=U(R);for(var K=[],q=[],N=!0,W=n[ir[H]],j=0;;j++){var Z=W===n[ir[H]],ve=W>=V;ve&&(W=V);var Te=[],Se=[];Te[F]=D,Se[F]=R,!Z&&!ve&&(Te[F]+=N?-l:l,Se[F]-=N?l:-l),Te[H]=W,Se[H]=W,K.push(Te),q.push(Se);var te=void 0;if(j<A.length?te=A[j]:(te=Math.random(),A.push(te)),W+=te*(c-u)+u,N=!N,ve)break}var pe=Ui().serializeAxisBreakIdentifier(k.breakOption);if(M.add(new no({anid:"break_a_"+pe,shape:{points:K},style:O,z:d})),k.gapReal!==0){M.add(new no({anid:"break_b_"+pe,shape:{points:q},style:O,z:d}));var Re=q.slice();Re.reverse();var z=K.concat(Re);M.add(new Ao({anid:"break_c_"+pe,shape:{points:z},style:{fill:y,opacity:v.opacity},z:d}))}}}function Eat(e,t,r,n){var i=e.axis,a=r.transform;Co(n.style);var o=i.getExtent();i.inverse&&(o=o.slice(),o.reverse());var s=Ui().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(g){return g.break},!1),l=Ye(s,function(g){var m=g[0].break.parsedBreak,y=[i.dataToCoord(m.vmin,!0),i.dataToCoord(m.vmax,!0)];return y[0]>y[1]&&y.reverse(),{coordPair:y,brkId:Ui().serializeAxisBreakIdentifier(m.breakOption)}});l.sort(function(g,m){return g.coordPair[0]-m.coordPair[0]});for(var u=o[0],c=null,f=0;f<l.length;f++){var d=l[f],h=Math.max(d.coordPair[0],o[0]),v=Math.min(d.coordPair[1],o[1]);u<=h&&p(u,h,c,d),u=v,c=d}u<=o[1]&&p(u,o[1],c,null);function p(g,m,y,x){function b(D,R){a&&(Mi(D,D,a),Mi(R,R,a))}function w(D,R){var L={x1:D[0],y1:D[1],x2:R[0],y2:R[1]};zE(L,L,n.style),D[0]=L.x1,D[1]=L.y1,R[0]=L.x2,R[1]=L.y2}var S=[g,0],C=[m,0],E=[g,5],A=[m,5];b(S,E),w(S,E),b(C,A),w(C,A),w(S,C);var M=new Gi(He({shape:{x1:S[0],y1:S[1],x2:C[0],y2:C[1]}},n));t.add(M),M.anid="breakLine_"+(y?y.brkId:"\0")+"_\0_"+(x?x.brkId:"\0")}}function Mat(e,t,r){if(o0(r,function(y){return!y}))return;var n=new Wt;if(!tM(r[0],r[1],n,{direction:-(e?t+Math.PI:t),touchThreshold:0,bidirectional:!1}))return;var i=$a();Lh(i,i,-t);var a=Ye(r,function(y){return y.transform?yc($a(),i,y.transform):i});function o(y){var x=r[0].localRect,b=new Wt(x[Xi[y]]*a[0][0],x[Xi[y]]*a[0][1]);return Math.abs(b.y)<1e-5}var s=.5;if(o(0)||o(1)){var l=Ye(r,function(y,x){var b=y.localRect.clone();return b.applyTransform(a[x]),b}),u=new Wt;u.copy(r[0].label).add(r[1].label).scale(.5),u.transform(i);var c=n.clone().transform(i),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),d=(f+c.x)/2-u.x,h=Math.min(d,d-c.x),v=Math.max(d,d-c.x),p=v<0?v:h>0?h:0;s=(d-p)/c.x}var g=new Wt,m=new Wt;Wt.scale(g,n,-s),Wt.scale(m,n,1-s),n4(r[0],g),n4(r[1],m)}function Dat(e,t){var r={breaks:[]};return G(t.breaks,function(n){if(n){var i=o0(e.get("breaks",!0),function(s){return Ui().identifyAxisBreak(s,n)});if(i){var a=t.type,o={isExpanded:!!i.isExpanded};i.isExpanded=a===nM?!0:a===lse?!1:a===use?!i.isExpanded:i.isExpanded,r.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:o})}}}),r}function Pat(){EXe({adjustBreakLabelPair:Mat,buildAxisBreakLine:Eat,rectCoordBuildBreakAxis:Aat,updateModelAxisBreak:Dat})}function Rat(e){LXe(e),wat(),Pat()}function Lat(){QXe(Iat)}function Iat(e,t){G(e,function(r){if(!r.model.get(["axisLabel","inside"])){var n=kat(r);if(n){var i=r.isHorizontal()?"height":"width",a=r.model.get(["axisLabel","margin"]);t[i]-=n[i]+a,r.position==="top"?t.y+=n.height+a:r.position==="left"&&(t.x+=n.width+a)}}})}function kat(e){var t=e.model,r=e.scale;if(!t.get(["axisLabel","show"])||r.isBlank())return;var n,i,a=r.getExtent();r instanceof wm?i=r.count():(n=r.getTicks(),i=n.length);var o=e.getLabelModel(),s=fy(e),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=n?n[c]:{value:a[0]+c},d=s(f,c),h=o.getTextRect(d),v=p(h,o.get("rotate")||0);l?l.union(v):l=v}return l;function p(g,m){var y=m*Math.PI/180,x=g.width,b=g.height,w=x*Math.abs(Math.cos(y))+Math.abs(b*Math.sin(y)),S=x*Math.abs(Math.sin(y))+Math.abs(b*Math.cos(y)),C=new jt(g.x,g.y,w,S);return C}}Yt([Voe]);Yt([bWe]);Yt([WWe,oXe,gXe,yje,Dje,mYe,UYe,EKe,jKe,eZe,oZe,vZe,sqe,Rqe,$qe,iJe,lJe,yJe,TJe,FJe,$Je,JJe,FQe]);Yt(tet);Yt(Met);Yt(Fse);Yt(Het);Yt(wle);Yt(Uet);Yt(ctt);Yt(xtt);Yt(art);Yt(Crt);Yt(Fb);Yt(Hrt);Yt(Grt);Yt(Qrt);Yt(snt);Yt(hnt);Yt(xnt);Yt(Dnt);Yt(Ynt);Yt(Mue);Yt(Due);Yt(vit);Yt(kue);Yt(Oue);Yt(yit);Yt(Sit);Yt(Fit);Yt(Nue);Yt(fat);Yt(Toe);Yt(Rat);Yt(Lat);Yt(xje);Yt([Voe,Nue]);Yt(Toe);function DY(e,t,r){typeof t=="object"&&(r=t,t=null);var n=this,i;if(!(e instanceof Function)){i=[];for(var a in e)e.hasOwnProperty(a)&&i.push(a)}var o=function(l){if(n.apply(this,arguments),e instanceof Function?PY(this,e.call(this,l)):Oat(this,e,i),this.constructor===o)for(var u=o.__initializers__,c=0;c<u.length;c++)u[c].apply(this,arguments)};o.__super__=n,n.__initializers__?o.__initializers__=n.__initializers__.slice():o.__initializers__=[],t&&o.__initializers__.push(t);var s=function(){};return s.prototype=n.prototype,o.prototype=new s,o.prototype.constructor=o,PY(o.prototype,r),o.extend=n.extend,o.derive=n.extend,o}function PY(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function Oat(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]=t[i]}}const Fat={extend:DY,derive:DY};function Nat(e,t){this.action=e,this.context=t}var OB={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],r=t.length,n=-1,i=arguments;switch(i.length){case 1:for(;++n<r;)t[n].action.call(t[n].context);return;case 2:for(;++n<r;)t[n].action.call(t[n].context,i[1]);return;case 3:for(;++n<r;)t[n].action.call(t[n].context,i[1],i[2]);return;case 4:for(;++n<r;)t[n].action.call(t[n].context,i[1],i[2],i[3]);return;case 5:for(;++n<r;)t[n].action.call(t[n].context,i[1],i[2],i[3],i[4]);return;default:for(;++n<r;)t[n].action.apply(t[n].context,Array.prototype.slice.call(i,1));return}}},on:function(e,t,r){if(!(!e||!t)){var n=this.__handlers__||(this.__handlers__={});if(!n[e])n[e]=[];else if(this.has(e,t))return;var i=new Nat(t,r||this);return n[e].push(i),this}},once:function(e,t,r){if(!e||!t)return;var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this.on(e,i,r)},before:function(e,t,r){if(!(!e||!t))return e="before"+e,this.on(e,t,r)},after:function(e,t,r){if(!(!e||!t))return e="after"+e,this.on(e,t,r)},success:function(e,t){return this.once("success",e,t)},error:function(e,t){return this.once("error",e,t)},off:function(e,t){var r=this.__handlers__||(this.__handlers__={});if(!t){r[e]=[];return}if(r[e]){for(var n=r[e],i=[],a=0;a<n.length;a++)t&&n[a].action!==t&&i.push(n[a]);r[e]=i}return this},has:function(e,t){var r=this.__handlers__;if(!r||!r[e])return!1;for(var n=r[e],i=0;i<n.length;i++)if(n[i].action===t)return!0}},Bat=0,zat=Array.prototype,Hat=zat.forEach,Ti={genGUID:function(){return++Bat},relative2absolute:function(e,t){if(!t||e.match(/^\//))return e;for(var r=e.split("/"),n=t.split("/"),i=r[0];i==="."||i==="..";)i===".."&&n.pop(),r.shift(),i=r[0];return n.join("/")+"/"+r.join("/")},extend:function(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},defaults:function(e,t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e},extendWithPropList:function(e,t,r){if(t)for(var n=0;n<r.length;n++){var i=r[n];e[i]=t[i]}return e},defaultsWithPropList:function(e,t,r){if(t)for(var n=0;n<r.length;n++){var i=r[n];e[i]==null&&(e[i]=t[i])}return e},each:function(e,t,r){if(e&&t)if(e.forEach&&e.forEach===Hat)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(r,e[a],a,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e?e.length===+e.length:!1},clone:function(e){if(Ti.isObject(e)){if(Ti.isArray(e))return e.slice();if(Ti.isArrayLike(e)){for(var t=new e.constructor(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}else return Ti.extend({},e)}else return e}},Ua=function(){this.__uid__=Ti.genGUID()};Ua.__initializers__=[function(e){Ti.extend(this,e)}];Ti.extend(Ua,Fat);Ti.extend(Ua.prototype,OB);var RY=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],LY=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function Vat(e){for(var t={},r={},n=0;n<RY.length;n++){var i=RY[n];o(i)}for(var n=0;n<LY.length;n++){var a=LY[n];r[a]=e.getParameter(e[a])}this.getExtension=function(s){return s in t||o(s),t[s]},this.getParameter=function(s){return r[s]};function o(s){if(e.getExtension){var l=e.getExtension(s);l||(l=e.getExtension("MOZ_"+s)),l||(l=e.getExtension("WEBKIT_"+s)),t[s]=l}}}const nt={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CW:2304,CCW:2305,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FRAMEBUFFER:36160,RENDERBUFFER:36161,DEPTH_STENCIL:34041,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306};function $at(e){var t=new XMLHttpRequest;t.open("get",e.url),t.responseType=e.responseType||"text",e.onprogress&&(t.onprogress=function(r){if(r.lengthComputable){var n=r.loaded/r.total;e.onprogress(n,r.loaded,r.total)}else e.onprogress(null)}),t.onload=function(r){t.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(t.response)},e.onerror&&(t.onerror=e.onerror),t.send(null)}const Gat={get:$at};var lI,dn={};dn.supportWebGL=function(){if(lI==null)try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)throw new Error}catch{lI=!1}return lI};dn.Int8Array=typeof Int8Array>"u"?Array:Int8Array;dn.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array;dn.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array;dn.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array;dn.Int16Array=typeof Int16Array>"u"?Array:Int16Array;dn.Float32Array=typeof Float32Array>"u"?Array:Float32Array;dn.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var rp={};typeof window<"u"?rp=window:typeof global<"u"&&(rp=global);dn.requestAnimationFrame=rp.requestAnimationFrame||rp.msRequestAnimationFrame||rp.mozRequestAnimationFrame||rp.webkitRequestAnimationFrame||function(e){setTimeout(e,16)};dn.createCanvas=function(){return document.createElement("canvas")};dn.createImage=function(){return new rp.Image};dn.request={get:Gat.get};dn.addEventListener=function(e,t,r,n){e.addEventListener(t,r,n)};dn.removeEventListener=function(e,t,r){e.removeEventListener(t,r)};var Pa=function(){this.head=null,this.tail=null,this._length=0};Pa.prototype.insert=function(e){var t=new Pa.Entry(e);return this.insertEntry(t),t};Pa.prototype.insertAt=function(e,t){if(!(e<0)){for(var r=this.head,n=0;r&&n!=e;)r=r.next,n++;if(r){var i=new Pa.Entry(t),a=r.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=r,r.prev=i}else this.insert(t)}};Pa.prototype.insertBeforeEntry=function(e,t){var r=new Pa.Entry(e),n=t.prev;n?(n.next=r,r.prev=n):this.head=r,r.next=t,t.prev=r,this._length++};Pa.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++};Pa.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._length--};Pa.prototype.removeAt=function(e){if(!(e<0)){for(var t=this.head,r=0;t&&r!=e;)t=t.next,r++;if(t)return this.remove(t),t.value}};Pa.prototype.getHead=function(){if(this.head)return this.head.value};Pa.prototype.getTail=function(){if(this.tail)return this.tail.value};Pa.prototype.getAt=function(e){if(!(e<0)){for(var t=this.head,r=0;t&&r!=e;)t=t.next,r++;return t.value}};Pa.prototype.indexOf=function(e){for(var t=this.head,r=0;t;){if(t.value===e)return r;t=t.next,r++}};Pa.prototype.length=function(){return this._length};Pa.prototype.isEmpty=function(){return this._length===0};Pa.prototype.forEach=function(e,t){for(var r=this.head,n=0,i=typeof t<"u";r;)i?e.call(t,r.value,n):e(r.value,n),r=r.next,n++};Pa.prototype.clear=function(){this.tail=this.head=null,this._length=0};Pa.Entry=function(e){this.value=e,this.next=null,this.prev=null};var g0=function(e){this._list=new Pa,this._map={},this._maxSize=e||10};g0.prototype.setMaxSize=function(e){this._maxSize=e};g0.prototype.put=function(e,t){if(!this._map.hasOwnProperty(e)){var r=this._list.length();if(r>=this._maxSize&&r>0){var n=this._list.head;this._list.remove(n),delete this._map[n.key]}var i=this._list.insert(t);i.key=e,this._map[e]=i}};g0.prototype.get=function(e){var t=this._map[e];if(this._map.hasOwnProperty(e))return t!==this._list.tail&&(this._list.remove(t),this._list.insertEntry(t)),t.value};g0.prototype.remove=function(e){var t=this._map[e];typeof t<"u"&&(delete this._map[e],this._list.remove(t))};g0.prototype.clear=function(){this._list.clear(),this._map={}};var ai={},IY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function yu(e){return e=Math.round(e),e<0?0:e>255?255:e}function Uat(e){return e=Math.round(e),e<0?0:e>360?360:e}function Y_(e){return e<0?0:e>1?1:e}function uI(e){return e.length&&e.charAt(e.length-1)==="%"?yu(parseFloat(e)/100*255):yu(parseInt(e,10))}function Pm(e){return e.length&&e.charAt(e.length-1)==="%"?Y_(parseFloat(e)/100):Y_(parseFloat(e))}function cI(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function rh(e,t,r){return e+(t-e)*r}function eu(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function nO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Uue=new g0(20),R2=null;function dg(e,t){R2&&nO(R2,t),R2=Uue.put(e,R2||t.slice())}ai.parse=function(e,t){if(e){t=t||[];var r=Uue.get(e);if(r)return nO(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in IY)return nO(t,IY[n]),dg(e,t),t;if(n.charAt(0)==="#"){if(n.length===4){var i=parseInt(n.substr(1),16);if(!(i>=0&&i<=4095)){eu(t,0,0,0,1);return}return eu(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),dg(e,t),t}else if(n.length===7){var i=parseInt(n.substr(1),16);if(!(i>=0&&i<=16777215)){eu(t,0,0,0,1);return}return eu(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),dg(e,t),t}return}var a=n.indexOf("("),o=n.indexOf(")");if(a!==-1&&o+1===n.length){var s=n.substr(0,a),l=n.substr(a+1,o-(a+1)).split(","),u=1;switch(s){case"rgba":if(l.length!==4){eu(t,0,0,0,1);return}u=Pm(l.pop());case"rgb":if(l.length!==3){eu(t,0,0,0,1);return}return eu(t,uI(l[0]),uI(l[1]),uI(l[2]),u),dg(e,t),t;case"hsla":if(l.length!==4){eu(t,0,0,0,1);return}return l[3]=Pm(l[3]),iO(l,t),dg(e,t),t;case"hsl":if(l.length!==3){eu(t,0,0,0,1);return}return iO(l,t),dg(e,t),t;default:return}}eu(t,0,0,0,1)}};ai.parseToFloat=function(e,t){if(t=ai.parse(e,t),!!t)return t[0]/=255,t[1]/=255,t[2]/=255,t};function iO(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=Pm(e[1]),i=Pm(e[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],eu(t,yu(cI(o,a,r+1/3)*255),yu(cI(o,a,r)*255),yu(cI(o,a,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Wat(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var c=((a-t)/6+o/2)/o,f=((a-r)/6+o/2)/o,d=((a-n)/6+o/2)/o;t===a?l=d-f:r===a?l=1/3+c-d:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}ai.lift=function(e,t){var r=ai.parse(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0;return ai.stringify(r,r.length===4?"rgba":"rgb")}};ai.toHex=function(e){var t=ai.parse(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)};ai.fastLerp=function(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=t[i],s=t[a],l=n-i;return r[0]=yu(rh(o[0],s[0],l)),r[1]=yu(rh(o[1],s[1],l)),r[2]=yu(rh(o[2],s[2],l)),r[3]=Y_(rh(o[3],s[3],l)),r}};ai.fastMapToColor=ai.fastLerp;ai.lerp=function(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=ai.parse(t[i]),s=ai.parse(t[a]),l=n-i,u=ai.stringify([yu(rh(o[0],s[0],l)),yu(rh(o[1],s[1],l)),yu(rh(o[2],s[2],l)),Y_(rh(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:i,rightIndex:a,value:n}:u}};ai.mapToColor=ai.lerp;ai.modifyHSL=function(e,t,r,n){if(e=ai.parse(e),e)return e=Wat(e),t!=null&&(e[0]=Uat(t)),r!=null&&(e[1]=Pm(r)),n!=null&&(e[2]=Pm(n)),ai.stringify(iO(e),"rgba")};ai.modifyAlpha=function(e,t){if(e=ai.parse(e),e&&t!=null)return e[3]=Y_(t),ai.stringify(e,"rgba")};ai.stringify=function(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}};var Xat=ai.parseToFloat,fI={};function kY(e){var t=Object.keys(e);t.sort();for(var r=[],n=0;n<t.length;n++){var i=t[n],a=e[i];a===null?r.push(i):r.push(i+" "+a.toString())}return r.join(`
`)}function jat(e,t,r){r.sort();for(var n=[],i=0;i<r.length;i++){var a=r[i];n.push(a)}var o=kY(e)+`
`+kY(t)+`
`+n.join(`
`);if(fI[o])return fI[o];var s=Ti.genGUID();return fI[o]=s,s}var Il=Ua.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,t){t===void 0&&console.warn('Uniform value "'+e+'" is undefined');var r=this.uniforms[e];r&&(typeof t=="string"&&(t=Xat(t)||t),r.value=t,this.autoUpdateTextureStatus&&r.type==="t"&&(t?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var t in e){var r=e[t];this.setUniform(t,r)}},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,t){if(typeof e=="object")for(var r in e){var n=e[r];this.setUniform(r,n)}else this.setUniform(e,t)},get:function(e){var t=this.uniforms[e];if(t)return t.value},attachShader:function(e,t){var r=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var n=this.uniforms;this._enabledUniforms=Object.keys(n),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(u){var c=this.uniforms[u].type;return c==="t"||c==="tv"},this);var i=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=Ti.clone(e.vertexDefines),this.fragmentDefines=Ti.clone(e.fragmentDefines),t){for(var o in r)n[o]&&(n[o].value=r[o].value);Ti.defaults(this.vertexDefines,i),Ti.defaults(this.fragmentDefines,a)}var s={};for(var l in e.textures)s[l]={shaderType:e.textures[l].shaderType,type:e.textures[l].type,enabled:t&&this._textureStatus[l]?this._textureStatus[l].enabled:!1};this._textureStatus=s,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms)e.uniforms[t].value=this.uniforms[t].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=Ti.clone(this.vertexDefines),e.fragmentDefines=Ti.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,t,r){var n=this.vertexDefines,i=this.fragmentDefines;e!=="vertex"&&e!=="fragment"&&e!=="both"&&arguments.length<3&&(r=t,t=e,e="both"),r=r??null,(e==="vertex"||e==="both")&&n[t]!==r&&(n[t]=r,this._programKey=""),(e==="fragment"||e==="both")&&i[t]!==r&&(i[t]=r,e!=="both"&&(this._programKey=""))},undefine:function(e,t){e!=="vertex"&&e!=="fragment"&&e!=="both"&&arguments.length<2&&(t=e,e="both"),(e==="vertex"||e==="both")&&this.isDefined("vertex",t)&&(delete this.vertexDefines[t],this._programKey=""),(e==="fragment"||e==="both")&&this.isDefined("fragment",t)&&(delete this.fragmentDefines[t],e!=="both"&&(this._programKey=""))},isDefined:function(e,t){switch(e){case"vertex":return this.vertexDefines[t]!==void 0;case"fragment":return this.fragmentDefines[t]!==void 0}},getDefine:function(e,t){switch(e){case"vertex":return this.vertexDefines[t];case"fragment":return this.fragmentDefines[t]}},enableTexture:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.enableTexture(e[t]);return}var r=this._textureStatus[e];if(r){var n=r.enabled;n||(r.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.disableTexture(e[t]);return}var r=this._textureStatus[e];if(r){var n=!r.enabled;n||(r.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var t=this._textureStatus;return!!t[e]&&t[e].enabled},getEnabledTextures:function(){var e=[],t=this._textureStatus;for(var r in t)t[r].enabled&&e.push(r);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=jat(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),MC=1e-6,Wa=Array,Ng=Math.random,vt={};vt.create=function(){var e=new Wa(2);return e[0]=0,e[1]=0,e};vt.clone=function(e){var t=new Wa(2);return t[0]=e[0],t[1]=e[1],t};vt.fromValues=function(e,t){var r=new Wa(2);return r[0]=e,r[1]=t,r};vt.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e};vt.set=function(e,t,r){return e[0]=t,e[1]=r,e};vt.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e};vt.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e};vt.sub=vt.subtract;vt.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e};vt.mul=vt.multiply;vt.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e};vt.div=vt.divide;vt.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e};vt.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e};vt.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e};vt.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e};vt.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)};vt.dist=vt.distance;vt.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n};vt.sqrDist=vt.squaredDistance;vt.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)};vt.len=vt.length;vt.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r};vt.sqrLen=vt.squaredLength;vt.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e};vt.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e};vt.normalize=function(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e};vt.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]};vt.cross=function(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e};vt.lerp=function(e,t,r,n){var i=t[0],a=t[1];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e};vt.random=function(e,t){t=t||1;var r=GLMAT_RANDOM()*2*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e};vt.transformMat2=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e};vt.transformMat2d=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e};vt.transformMat3=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e};vt.transformMat4=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e};vt.forEach=(function(){var e=vt.create();return function(t,r,n,i,a,o){var s,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();var hr=function(e,t){e=e||0,t=t||0,this.array=vt.fromValues(e,t),this._dirty=!0};hr.prototype={constructor:hr,add:function(e){return vt.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t){return this.array[0]=e,this.array[1]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new hr(this.x,this.y)},copy:function(e){return vt.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return vt.cross(e.array,this.array,t.array),e._dirty=!0,this},dist:function(e){return vt.dist(this.array,e.array)},distance:function(e){return vt.distance(this.array,e.array)},div:function(e){return vt.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return vt.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return vt.dot(this.array,e.array)},len:function(){return vt.len(this.array)},length:function(){return vt.length(this.array)},lerp:function(e,t,r){return vt.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},min:function(e){return vt.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return vt.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return vt.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return vt.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return vt.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return vt.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return vt.random(this.array,e),this._dirty=!0,this},scale:function(e){return vt.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return vt.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return vt.sqrDist(this.array,e.array)},squaredDistance:function(e){return vt.squaredDistance(this.array,e.array)},sqrLen:function(){return vt.sqrLen(this.array)},squaredLength:function(){return vt.squaredLength(this.array)},sub:function(e){return vt.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return vt.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return vt.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return vt.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return vt.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return vt.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};if(Object.defineProperty){var OY=hr.prototype;Object.defineProperty(OY,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(OY,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}hr.add=function(e,t,r){return vt.add(e.array,t.array,r.array),e._dirty=!0,e};hr.set=function(e,t,r){return vt.set(e.array,t,r),e._dirty=!0,e};hr.copy=function(e,t){return vt.copy(e.array,t.array),e._dirty=!0,e};hr.cross=function(e,t,r){return vt.cross(e.array,t.array,r.array),e._dirty=!0,e};hr.dist=function(e,t){return vt.distance(e.array,t.array)};hr.distance=hr.dist;hr.div=function(e,t,r){return vt.divide(e.array,t.array,r.array),e._dirty=!0,e};hr.divide=hr.div;hr.dot=function(e,t){return vt.dot(e.array,t.array)};hr.len=function(e){return vt.length(e.array)};hr.lerp=function(e,t,r,n){return vt.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};hr.min=function(e,t,r){return vt.min(e.array,t.array,r.array),e._dirty=!0,e};hr.max=function(e,t,r){return vt.max(e.array,t.array,r.array),e._dirty=!0,e};hr.mul=function(e,t,r){return vt.multiply(e.array,t.array,r.array),e._dirty=!0,e};hr.multiply=hr.mul;hr.negate=function(e,t){return vt.negate(e.array,t.array),e._dirty=!0,e};hr.normalize=function(e,t){return vt.normalize(e.array,t.array),e._dirty=!0,e};hr.random=function(e,t){return vt.random(e.array,t),e._dirty=!0,e};hr.scale=function(e,t,r){return vt.scale(e.array,t.array,r),e._dirty=!0,e};hr.scaleAndAdd=function(e,t,r,n){return vt.scaleAndAdd(e.array,t.array,r.array,n),e._dirty=!0,e};hr.sqrDist=function(e,t){return vt.sqrDist(e.array,t.array)};hr.squaredDistance=hr.sqrDist;hr.sqrLen=function(e){return vt.sqrLen(e.array)};hr.squaredLength=hr.sqrLen;hr.sub=function(e,t,r){return vt.subtract(e.array,t.array,r.array),e._dirty=!0,e};hr.subtract=hr.sub;hr.transformMat2=function(e,t,r){return vt.transformMat2(e.array,t.array,r.array),e._dirty=!0,e};hr.transformMat2d=function(e,t,r){return vt.transformMat2d(e.array,t.array,r.array),e._dirty=!0,e};hr.transformMat3=function(e,t,r){return vt.transformMat3(e.array,t.array,r.array),e._dirty=!0,e};hr.transformMat4=function(e,t,r){return vt.transformMat4(e.array,t.array,r.array),e._dirty=!0,e};var FY=1,NY=2,dI=3,BY={};function Yat(e){for(var t=e.split(`
`),r=0,n=t.length;r<n;r++)t[r]=r+1+": "+t[r];return t.join(`
`)}function zY(e,t,r){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),Yat(r)].join(`
`)}var HY=new dn.Float32Array(16),Kat=Ua.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){var t=this._locations[e];return t!=null},useTextureSlot:function(e,t,r){t&&(e.gl.activeTexture(e.gl.TEXTURE0+r),t.isRenderable()?t.bind(e):t.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,t){var r=this._textureSlot;return this.useTextureSlot(e,t,r),this._textureSlot++,r},setUniform:function(e,t,r,n){var i=this._locations,a=i[r];if(a==null)return!1;switch(t){case"m4":if(!(n instanceof Float32Array)){for(var o=0;o<n.length;o++)HY[o]=n[o];n=HY}e.uniformMatrix4fv(a,!1,n);break;case"2i":e.uniform2i(a,n[0],n[1]);break;case"2f":e.uniform2f(a,n[0],n[1]);break;case"3i":e.uniform3i(a,n[0],n[1],n[2]);break;case"3f":e.uniform3f(a,n[0],n[1],n[2]);break;case"4i":e.uniform4i(a,n[0],n[1],n[2],n[3]);break;case"4f":e.uniform4f(a,n[0],n[1],n[2],n[3]);break;case"1i":e.uniform1i(a,n);break;case"1f":e.uniform1f(a,n);break;case"1fv":e.uniform1fv(a,n);break;case"1iv":e.uniform1iv(a,n);break;case"2iv":e.uniform2iv(a,n);break;case"2fv":e.uniform2fv(a,n);break;case"3iv":e.uniform3iv(a,n);break;case"3fv":e.uniform3fv(a,n);break;case"4iv":e.uniform4iv(a,n);break;case"4fv":e.uniform4fv(a,n);break;case"m2":case"m2v":e.uniformMatrix2fv(a,!1,n);break;case"m3":case"m3v":e.uniformMatrix3fv(a,!1,n);break;case"m4v":if(Array.isArray(n)&&Array.isArray(n[0])){for(var s=new dn.Float32Array(n.length*16),l=0,o=0;o<n.length;o++)for(var u=n[o],c=0;c<16;c++)s[l++]=u[c];e.uniformMatrix4fv(a,!1,s)}else e.uniformMatrix4fv(a,!1,n);break}return!0},setUniformOfSemantic:function(e,t,r){var n=this.uniformSemantics[t];return n?this.setUniform(e,n.type,n.symbol,r):!1},enableAttributes:function(e,t,r){var n=e.gl,i=this._program,a=this._locations,o;r?o=r.__enabledAttributeList:o=BY[e.__uid__],o||(r?o=r.__enabledAttributeList=[]:o=BY[e.__uid__]=[]);for(var s=[],l=0;l<t.length;l++){var u=t[l];if(!this.attributes[u]){s[l]=-1;continue}var c=a[u];if(c==null){if(c=n.getAttribLocation(i,u),c===-1){s[l]=-1;continue}a[u]=c}s[l]=c,o[c]?o[c]=NY:o[c]=FY}for(var l=0;l<o.length;l++)switch(o[l]){case FY:n.enableVertexAttribArray(l),o[l]=dI;break;case NY:o[l]=dI;break;case dI:n.disableVertexAttribArray(l),o[l]=0;break}return s},getAttribLocation:function(e,t){var r=this._locations,n=r[t];return n==null&&(n=e.getAttribLocation(this._program,t),r[t]=n),n},buildProgram:function(e,t,r,n){var i=e.createShader(e.VERTEX_SHADER),a=e.createProgram();e.shaderSource(i,r),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,n),e.compileShader(o);var s=zY(e,i,r);if(s||(s=zY(e,o,n),s))return s;if(e.attachShader(a,i),e.attachShader(a,o),t.attributeSemantics.POSITION)e.bindAttribLocation(a,0,t.attributeSemantics.POSITION.symbol);else{var l=Object.keys(this.attributes);e.bindAttribLocation(a,0,l[0])}if(e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),this._program=a,this.vertexCode=r,this.fragmentCode=n,!e.getProgramParameter(a,e.LINK_STATUS))return`Could not link program
`+e.getProgramInfoLog(a);for(var u=0;u<t.uniforms.length;u++){var c=t.uniforms[u];this._locations[c]=e.getUniformLocation(a,c)}}}),Zat=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function VY(e,t,r){function n(o,s,l,u){var c="";isNaN(s)&&(s in t?s=t[s]:s=i[s]),isNaN(l)&&(l in t?l=t[l]:l=i[l]);for(var f=parseInt(s);f<parseInt(l);f++)c+="{"+u.replace(/float\s*\(\s*_idx_\s*\)/g,f.toFixed(1)).replace(/_idx_/g,f)+"}";return c}var i={};for(var a in r)i[a+"_COUNT"]=r[a];return e.replace(Zat,n)}function hI(e,t,r){var n=[];if(t)for(var i in t){var a=t[i];a>0&&n.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(r)for(var o=0;o<r.length;o++){var s=r[o];n.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in e){var l=e[s];l===null?n.push("#define "+s):n.push("#define "+s+" "+l.toString())}return n.join(`
`)}function qat(e){for(var t=[],r=0;r<e.length;r++)t.push("#extension GL_"+e[r]+" : enable");return t.join(`
`)}function Jat(e){return["precision",e,"float"].join(" ")+`;
`+["precision",e,"int"].join(" ")+`;
`+["precision",e,"sampler2D"].join(" ")+`;
`}function Wue(e){this._renderer=e,this._cache={}}Wue.prototype.getProgram=function(e,t,r){var n=this._cache,i=e.isSkinnedMesh&&e.isSkinnedMesh(),a=e.isInstancedMesh&&e.isInstancedMesh(),o="s"+t.shader.shaderID+"m"+t.getProgramKey();r&&(o+="se"+r.getProgramKey(e.lightGroup)),i&&(o+=",sk"+e.joints.length),a&&(o+=",is");var b=n[o];if(b)return b;var s=r?r.getLightsNumbers(e.lightGroup):{},l=this._renderer,u=l.gl,c=t.getEnabledTextures(),f="";if(i){var d={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>l.getMaxJointNumber()&&(d.USE_SKIN_MATRICES_TEXTURE=null),f+=`
`+hI(d)+`
`}a&&(f+=`
#define INSTANCING
`);var h=f+hI(t.vertexDefines,s,c),v=f+hI(t.fragmentDefines,s,c),p=h+`
`+t.shader.vertex,g=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(S){return l.getGLExtension(S)!=null});g.indexOf("EXT_shader_texture_lod")>=0&&(v+=`
#define SUPPORT_TEXTURE_LOD`),g.indexOf("OES_standard_derivatives")>=0&&(v+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var m=qat(g)+`
`+Jat(t.precision)+`
`+v+`
`+t.shader.fragment,y=VY(p,t.vertexDefines,s),x=VY(m,t.fragmentDefines,s),b=new Kat;b.uniformSemantics=t.shader.uniformSemantics,b.attributes=t.shader.attributes;var w=b.buildProgram(u,t.shader,y,x);return b.__error=w,n[o]=b,b};var $Y=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,Qat=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,GY=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,eot={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function sf(e){for(var t=[],r=0;r<e;r++)t[r]=0;return t}var UY={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return sf(2)},vec3:function(){return sf(3)},vec4:function(){return sf(4)},ivec2:function(){return sf(2)},ivec3:function(){return sf(3)},ivec4:function(){return sf(4)},mat2:function(){return sf(4)},mat3:function(){return sf(9)},mat4:function(){return sf(16)},array:function(){return[]}},aO=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],Xue=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],jue=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],tot={vec4:4,vec3:3,vec2:2,float:1},vI={},Yue={};function rot(e,t){var r="vertex:"+e+"fragment:"+t;if(vI[r])return vI[r];var n=Ti.genGUID();return vI[r]=n,Yue[n]={vertex:e,fragment:t},n}function WY(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function hg(){console.error("Wrong uniform/attributes syntax")}function XY(e,t){for(var r=/[,=\(\):]/,n=t.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),i=[],a=0;a<n.length;a++)n[a].match(r)?i.push(n[a].charAt(0),n[a].slice(1)):i.push(n[a]);n=i;var o=0,s=1,l=2,u=3,c=4,f=5,d=o,h={},v=null,p;g(n[0]);function g(x){x||hg();var b=x.match(/\[(.*?)\]/);p=x.replace(/\[(.*?)\]/,""),h[p]={},b&&(h[p].isArray=!0,h[p].arraySize=b[1])}for(var a=1;a<n.length;a++){var m=n[a];if(m){if(m==="="){if(d!==o&&d!==u){hg();break}d=s;continue}else if(m===":"){d=c;continue}else if(m===","){if(d===l){if(!(v instanceof Array)){hg();break}v.push(+n[++a])}else d=f;continue}else if(m===")"){h[p].value=new dn.Float32Array(v),v=null,d=f;continue}else if(m==="("){if(d!==l){hg();break}if(!(v instanceof Array)){hg();break}v.push(+n[++a]);continue}else if(m.indexOf("vec")>=0){if(d!==s&&d!==c){hg();break}d=l,v=[];continue}else if(d===s){e==="bool"?h[p].value=m==="true":h[p].value=parseFloat(m),v=null;continue}else if(d===c){var y=m;aO.indexOf(y)>=0||Xue.indexOf(y)>=0||jue.indexOf(y)>=0?h[p].semantic=y:y==="ignore"||y==="unconfigurable"?h[p].ignore=!0:e==="bool"?h[p].value=y==="true":h[p].value=parseFloat(y);continue}g(m),d=o}}return h}function wt(e,t){typeof e=="object"&&(t=e.fragment,e=e.vertex),e=WY(e),t=WY(t),this._shaderID=rot(e,t),this._vertexCode=wt.parseImport(e),this._fragmentCode=wt.parseImport(t),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}wt.prototype={constructor:wt,createUniforms:function(){var e={};for(var t in this.uniformTemplates){var r=this.uniformTemplates[t];e[t]={type:r.type,value:r.value()}}return e},_parseImport:function(){this._vertexCode=wt.parseImport(this.vertex),this._fragmentCode=wt.parseImport(this.fragment)},_addSemanticUniform:function(e,t,r){if(aO.indexOf(r)>=0)this.attributeSemantics[r]={symbol:e,type:t};else if(jue.indexOf(r)>=0){var n=!1,i=r;r.match(/TRANSPOSE$/)&&(n=!0,i=r.slice(0,-9)),this.matrixSemantics[r]={symbol:e,type:t,isTranspose:n,semanticNoTranspose:i}}else Xue.indexOf(r)>=0&&(this.uniformSemantics[r]={symbol:e,type:t})},_addMaterialUniform:function(e,t,r,n,i,a){a[e]={type:r,value:i?UY.array:n||UY[t],semantic:null}},_parseUniforms:function(){var e={},t=this,r="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace($Y,i),r="fragment",this._fragmentCode=this._fragmentCode.replace($Y,i),t.matrixSemanticKeys=Object.keys(this.matrixSemantics);function n(a){return a!=null?function(){return a}:null}function i(a,o,s){var l=XY(o,s),u=[];for(var c in l){var f=l[c],d=f.semantic,h=c,v=eot[o],p=n(l[c].value);l[c].isArray&&(h+="["+l[c].arraySize+"]",v+="v"),u.push(h),t._uniformList.push(c),f.ignore||((o==="sampler2D"||o==="samplerCube")&&(t.textures[c]={shaderType:r,type:o}),d?t._addSemanticUniform(c,v,d):t._addMaterialUniform(c,o,v,p,l[c].isArray,e))}return u.length>0?"uniform "+o+" "+u.join(",")+`;
`:""}this.uniformTemplates=e},_parseAttributes:function(){var e={},t=this;this._vertexCode=this._vertexCode.replace(Qat,r);function r(n,i,a){var o=XY(i,a),s=tot[i]||1,l=[];for(var u in o){var c=o[u].semantic;if(e[u]={type:"float",size:s,semantic:c||null},c){if(aO.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');t.attributeSemantics[c]={symbol:u,type:i}}l.push(u)}return"attribute "+i+" "+l.join(",")+`;
`}this.attributes=e},_parseDefines:function(){var e=this,t="vertex";this._vertexCode=this._vertexCode.replace(GY,r),t="fragment",this._fragmentCode=this._fragmentCode.replace(GY,r);function r(n,i,a){var o=t==="vertex"?e.vertexDefines:e.fragmentDefines;return o[i]||(a==="false"?o[i]=!1:a==="true"?o[i]=!0:o[i]=a?isNaN(parseFloat(a))?a.trim():parseFloat(a):null),""}},clone:function(){var e=Yue[this._shaderID],t=new wt(e.vertex,e.fragment);return t}};Object.defineProperty&&(Object.defineProperty(wt.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(wt.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(wt.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(wt.prototype,"uniforms",{get:function(){return this._uniformList}}));var not=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;wt.parseImport=function(e){return e=e.replace(not,function(i,r,n){var i=wt.source(n);return i?wt.parseImport(i):(console.error('Shader chunk "'+n+'" not existed in library'),"")}),e};var iot=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;wt.import=function(e){e.replace(iot,function(t,r,n,a){var a=a.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(a){for(var o=n.split("."),s=wt.codes,l=0,u;l<o.length-1;)u=o[l++],s[u]||(s[u]={}),s=s[u];u=o[l],s[u]=a}return a})};wt.codes={};wt.source=function(e){for(var t=e.split("."),r=wt.codes,n=0;r&&n<t.length;){var i=t[n++];r=r[i]}return typeof r!="string"?(console.error('Shader "'+e+'" not existed in library'),""):r};const Kue=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`;var st={};st.create=function(){var e=new Wa(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};st.clone=function(e){var t=new Wa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};st.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};st.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};st.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e};st.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15],y=r*s-n*o,x=r*l-i*o,b=r*u-a*o,w=n*l-i*s,S=n*u-a*s,C=i*u-a*l,E=c*p-f*v,A=c*g-d*v,M=c*m-h*v,D=f*g-d*p,R=f*m-h*p,L=d*m-h*g,k=y*L-x*R+b*D+w*M-S*A+C*E;return k?(k=1/k,e[0]=(s*L-l*R+u*D)*k,e[1]=(i*R-n*L-a*D)*k,e[2]=(p*C-g*S+m*w)*k,e[3]=(d*S-f*C-h*w)*k,e[4]=(l*M-o*L-u*A)*k,e[5]=(r*L-i*M+a*A)*k,e[6]=(g*b-v*C-m*x)*k,e[7]=(c*C-d*b+h*x)*k,e[8]=(o*R-s*M+u*E)*k,e[9]=(n*M-r*R-a*E)*k,e[10]=(v*S-p*b+m*y)*k,e[11]=(f*b-c*S-h*y)*k,e[12]=(s*A-o*D-l*E)*k,e[13]=(r*D-n*A+i*E)*k,e[14]=(p*x-v*w-g*y)*k,e[15]=(c*w-f*x+d*y)*k,e):null};st.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15];return e[0]=s*(d*m-h*g)-f*(l*m-u*g)+p*(l*h-u*d),e[1]=-(n*(d*m-h*g)-f*(i*m-a*g)+p*(i*h-a*d)),e[2]=n*(l*m-u*g)-s*(i*m-a*g)+p*(i*u-a*l),e[3]=-(n*(l*h-u*d)-s*(i*h-a*d)+f*(i*u-a*l)),e[4]=-(o*(d*m-h*g)-c*(l*m-u*g)+v*(l*h-u*d)),e[5]=r*(d*m-h*g)-c*(i*m-a*g)+v*(i*h-a*d),e[6]=-(r*(l*m-u*g)-o*(i*m-a*g)+v*(i*u-a*l)),e[7]=r*(l*h-u*d)-o*(i*h-a*d)+c*(i*u-a*l),e[8]=o*(f*m-h*p)-c*(s*m-u*p)+v*(s*h-u*f),e[9]=-(r*(f*m-h*p)-c*(n*m-a*p)+v*(n*h-a*f)),e[10]=r*(s*m-u*p)-o*(n*m-a*p)+v*(n*u-a*s),e[11]=-(r*(s*h-u*f)-o*(n*h-a*f)+c*(n*u-a*s)),e[12]=-(o*(f*g-d*p)-c*(s*g-l*p)+v*(s*d-l*f)),e[13]=r*(f*g-d*p)-c*(n*g-i*p)+v*(n*d-i*f),e[14]=-(r*(s*g-l*p)-o*(n*g-i*p)+v*(n*l-i*s)),e[15]=r*(s*d-l*f)-o*(n*d-i*f)+c*(n*l-i*s),e};st.determinant=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],v=e[13],p=e[14],g=e[15],m=t*o-r*a,y=t*s-n*a,x=t*l-i*a,b=r*s-n*o,w=r*l-i*o,S=n*l-i*s,C=u*v-c*h,E=u*p-f*h,A=u*g-d*h,M=c*p-f*v,D=c*g-d*v,R=f*g-d*p;return m*R-y*D+x*M+b*A-w*E+S*C};st.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],g=t[13],m=t[14],y=t[15],x=r[0],b=r[1],w=r[2],S=r[3];return e[0]=x*n+b*s+w*f+S*p,e[1]=x*i+b*l+w*d+S*g,e[2]=x*a+b*u+w*h+S*m,e[3]=x*o+b*c+w*v+S*y,x=r[4],b=r[5],w=r[6],S=r[7],e[4]=x*n+b*s+w*f+S*p,e[5]=x*i+b*l+w*d+S*g,e[6]=x*a+b*u+w*h+S*m,e[7]=x*o+b*c+w*v+S*y,x=r[8],b=r[9],w=r[10],S=r[11],e[8]=x*n+b*s+w*f+S*p,e[9]=x*i+b*l+w*d+S*g,e[10]=x*a+b*u+w*h+S*m,e[11]=x*o+b*c+w*v+S*y,x=r[12],b=r[13],w=r[14],S=r[15],e[12]=x*n+b*s+w*f+S*p,e[13]=x*i+b*l+w*d+S*g,e[14]=x*a+b*u+w*h+S*m,e[15]=x*o+b*c+w*v+S*y,e};st.multiplyAffine=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[4],s=t[5],l=t[6],u=t[8],c=t[9],f=t[10],d=t[12],h=t[13],v=t[14],p=r[0],g=r[1],m=r[2];return e[0]=p*n+g*o+m*u,e[1]=p*i+g*s+m*c,e[2]=p*a+g*l+m*f,p=r[4],g=r[5],m=r[6],e[4]=p*n+g*o+m*u,e[5]=p*i+g*s+m*c,e[6]=p*a+g*l+m*f,p=r[8],g=r[9],m=r[10],e[8]=p*n+g*o+m*u,e[9]=p*i+g*s+m*c,e[10]=p*a+g*l+m*f,p=r[12],g=r[13],m=r[14],e[12]=p*n+g*o+m*u+d,e[13]=p*i+g*s+m*c+h,e[14]=p*a+g*l+m*f+v,e};st.mul=st.multiply;st.mulAffine=st.multiplyAffine;st.translate=function(e,t,r){var n=r[0],i=r[1],a=r[2],o,s,l,u,c,f,d,h,v,p,g,m;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*a+t[12],e[13]=t[1]*n+t[5]*i+t[9]*a+t[13],e[14]=t[2]*n+t[6]*i+t[10]*a+t[14],e[15]=t[3]*n+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],g=t[10],m=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=v,e[9]=p,e[10]=g,e[11]=m,e[12]=o*n+c*i+v*a+t[12],e[13]=s*n+f*i+p*a+t[13],e[14]=l*n+d*i+g*a+t[14],e[15]=u*n+h*i+m*a+t[15]),e};st.scale=function(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};st.rotate=function(e,t,r,n){var i=n[0],a=n[1],o=n[2],s=Math.sqrt(i*i+a*a+o*o),l,u,c,f,d,h,v,p,g,m,y,x,b,w,S,C,E,A,M,D,R,L,k,O;return Math.abs(s)<MC?null:(s=1/s,i*=s,a*=s,o*=s,l=Math.sin(r),u=Math.cos(r),c=1-u,f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],g=t[5],m=t[6],y=t[7],x=t[8],b=t[9],w=t[10],S=t[11],C=i*i*c+u,E=a*i*c+o*l,A=o*i*c-a*l,M=i*a*c-o*l,D=a*a*c+u,R=o*a*c+i*l,L=i*o*c+a*l,k=a*o*c-i*l,O=o*o*c+u,e[0]=f*C+p*E+x*A,e[1]=d*C+g*E+b*A,e[2]=h*C+m*E+w*A,e[3]=v*C+y*E+S*A,e[4]=f*M+p*D+x*R,e[5]=d*M+g*D+b*R,e[6]=h*M+m*D+w*R,e[7]=v*M+y*D+S*R,e[8]=f*L+p*k+x*O,e[9]=d*L+g*k+b*O,e[10]=h*L+m*k+w*O,e[11]=v*L+y*k+S*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)};st.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=o*i+c*n,e[6]=s*i+f*n,e[7]=l*i+d*n,e[8]=u*i-a*n,e[9]=c*i-o*n,e[10]=f*i-s*n,e[11]=d*i-l*n,e};st.rotateY=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*n,e[1]=o*i-c*n,e[2]=s*i-f*n,e[3]=l*i-d*n,e[8]=a*n+u*i,e[9]=o*n+c*i,e[10]=s*n+f*i,e[11]=l*n+d*i,e};st.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=o*i+c*n,e[2]=s*i+f*n,e[3]=l*i+d*n,e[4]=u*i-a*n,e[5]=c*i-o*n,e[6]=f*i-s*n,e[7]=d*i-l*n,e};st.fromRotationTranslation=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,l=i+i,u=a+a,c=n*s,f=n*l,d=n*u,h=i*l,v=i*u,p=a*u,g=o*s,m=o*l,y=o*u;return e[0]=1-(h+p),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(c+p),e[6]=v+g,e[7]=0,e[8]=d+m,e[9]=v-g,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e};st.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,l=i+i,u=r*o,c=n*o,f=n*s,d=i*o,h=i*s,v=i*l,p=a*o,g=a*s,m=a*l;return e[0]=1-f-v,e[1]=c+m,e[2]=d-g,e[3]=0,e[4]=c-m,e[5]=1-u-v,e[6]=h+p,e[7]=0,e[8]=d+g,e[9]=h-p,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};st.frustum=function(e,t,r,n,i,a,o){var s=1/(r-t),l=1/(i-n),u=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e};st.perspective=function(e,t,r,n,i){var a=1/Math.tan(t/2),o=1/(n-i);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*o,e[15]=0,e};st.ortho=function(e,t,r,n,i,a,o){var s=1/(t-r),l=1/(n-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(o+a)*u,e[15]=1,e};st.lookAt=function(e,t,r,n){var i,a,o,s,l,u,c,f,d,h,v=t[0],p=t[1],g=t[2],m=n[0],y=n[1],x=n[2],b=r[0],w=r[1],S=r[2];return Math.abs(v-b)<MC&&Math.abs(p-w)<MC&&Math.abs(g-S)<MC?st.identity(e):(c=v-b,f=p-w,d=g-S,h=1/Math.sqrt(c*c+f*f+d*d),c*=h,f*=h,d*=h,i=y*d-x*f,a=x*c-m*d,o=m*f-y*c,h=Math.sqrt(i*i+a*a+o*o),h?(h=1/h,i*=h,a*=h,o*=h):(i=0,a=0,o=0),s=f*o-d*a,l=d*i-c*o,u=c*a-f*i,h=Math.sqrt(s*s+l*l+u*u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=u,e[10]=d,e[11]=0,e[12]=-(i*v+a*p+o*g),e[13]=-(s*v+l*p+u*g),e[14]=-(c*v+f*p+d*g),e[15]=1,e)};st.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};var be={};be.create=function(){var e=new Wa(3);return e[0]=0,e[1]=0,e[2]=0,e};be.clone=function(e){var t=new Wa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};be.fromValues=function(e,t,r){var n=new Wa(3);return n[0]=e,n[1]=t,n[2]=r,n};be.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e};be.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e};be.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e};be.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e};be.sub=be.subtract;be.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e};be.mul=be.multiply;be.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e};be.div=be.divide;be.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e};be.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e};be.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e};be.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e};be.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)};be.dist=be.distance;be.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i};be.sqrDist=be.squaredDistance;be.length=function(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)};be.len=be.length;be.squaredLength=function(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n};be.sqrLen=be.squaredLength;be.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e};be.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e};be.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e};be.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]};be.cross=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2];return e[0]=i*l-a*s,e[1]=a*o-n*l,e[2]=n*s-i*o,e};be.lerp=function(e,t,r,n){var i=t[0],a=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e};be.random=function(e,t){t=t||1;var r=Ng()*2*Math.PI,n=Ng()*2-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e};be.transformMat4=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e};be.transformMat3=function(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e};be.transformQuat=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*a-l*i,f=u*i+l*n-o*a,d=u*a+o*i-s*n,h=-o*n-s*i-l*a;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e};be.rotateX=function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e};be.rotateY=function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e};be.rotateZ=function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e};be.forEach=(function(){var e=be.create();return function(t,r,n,i,a,o){var s,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();be.angle=function(e,t){var r=be.fromValues(e[0],e[1],e[2]),n=be.fromValues(t[0],t[1],t[2]);be.normalize(r,r),be.normalize(n,n);var i=be.dot(r,n);return i>1?0:Math.acos(i)};wt.import(Kue);var Kn=st.create,jY={};function YY(e){return e.material}function aot(e,t,r){return t.uniforms[r].value}function oot(e,t,r,n){return r!==n}function sot(e){return!0}function KY(){}var ZY={float:nt.FLOAT,byte:nt.BYTE,ubyte:nt.UNSIGNED_BYTE,short:nt.SHORT,ushort:nt.UNSIGNED_SHORT};function lot(e,t,r){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=r,this.vao=null}function uot(e){var t,r;this.bind=function(n){t||(t=dn.createCanvas(),t.width=t.height=1,t.getContext("2d"));var i=n.gl,a=!r;a&&(r=i.createTexture()),i.bindTexture(i.TEXTURE_2D,r),a&&i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t)},this.unbind=function(n){n.gl.bindTexture(n.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var kl=Ua.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=dn.createCanvas());var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!this.gl)throw new Error;this._glinfo=new Vat(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(r){throw"Error creating WebGL Context "+r}this._programMgr=new Wue(this),this._placeholderTexture=new uot},{resize:function(e,t){var r=this.canvas,n=this.devicePixelRatio;e!=null?(r.style&&(r.style.width=e+"px",r.style.height=t+"px"),r.width=e*n,r.height=t*n,this._width=e,this._height=t):(this._width=r.width/n,this._height=r.height/n),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,t,r,n,i){if(typeof e=="object"){var a=e;e=a.x,t=a.y,r=a.width,n=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(e*i,t*i,r*i,n*i),this.viewport={x:e,y:t,width:r,height:n,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,t,r,n){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,l=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||l&&l!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*l,o.y*l,o.width*l,o.height*l)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(r||e.update(!1),e.updateLights(),t=t||e.getMainCamera(),!t){console.error("Can't find camera in the scene.");return}t.update();var u=e.updateRenderList(t,!0);this._sceneRendering=e;var c=u.opaque,f=u.transparent,d=e.material;e.trigger("beforerender",this,e,t,u),n?(this.renderPreZ(c,e,t),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var h=Kn(),v=be.create(),p=0;p<f.length;p++){var g=f[p];st.multiplyAffine(h,t.viewMatrix.array,g.worldTransform.array),be.transformMat4(v,g.position.array,h),g.__depth=v[2]}this.renderPass(c,t,{getMaterial:function(m){return d||m.material},sortCompare:this.opaqueSortCompare}),this.renderPass(f,t,{getMaterial:function(m){return d||m.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,t,u),this._sceneRendering=null},getProgram:function(e,t,r){return t=t||e.material,this._programMgr.getProgram(e,t,r)},validateProgram:function(e){if(e.__error){var t=e.__error;if(jY[e.__uid__])return;if(jY[e.__uid__]=!0,this.throwError)throw new Error(t);this.trigger("error",t)}},updatePrograms:function(e,t,r){var n=r&&r.getMaterial||YY;t=t||null;for(var i=0;i<e.length;i++){var a=e[i],o=n.call(this,a);if(i>0){var s=e[i-1],l=s.joints?s.joints.length:0,u=a.joints?a.joints.length:0;if(u===l&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var c=this._programMgr.getProgram(a,o,t);this.validateProgram(c),a.__program=c}},renderPass:function(e,t,r){this.trigger("beforerenderpass",this,e,t,r),r=r||{},r.getMaterial=r.getMaterial||YY,r.getUniform=r.getUniform||aot,r.isMaterialChanged=r.isMaterialChanged||oot,r.beforeRender=r.beforeRender||KY,r.afterRender=r.afterRender||KY;var n=r.ifRender||sot;this.updatePrograms(e,this._sceneRendering,r),r.sortCompare&&e.sort(r.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],u=[o[2],o[3]],c=Date.now();t?(st.copy(Yn.VIEW,t.viewMatrix.array),st.copy(Yn.PROJECTION,t.projectionMatrix.array),st.copy(Yn.VIEWINVERSE,t.worldTransform.array)):(st.identity(Yn.VIEW),st.identity(Yn.PROJECTION),st.identity(Yn.VIEWINVERSE)),st.multiply(Yn.VIEWPROJECTION,Yn.PROJECTION,Yn.VIEW),st.invert(Yn.PROJECTIONINVERSE,Yn.PROJECTION),st.invert(Yn.VIEWPROJECTIONINVERSE,Yn.VIEWPROJECTION);for(var f=this.gl,d=this._sceneRendering,h,v,p,g,m,y,x,b,w,S,C,E,A=null,M=0;M<e.length;M++){var D=e[M],R=D.worldTransform!=null,L;if(n(D)){R&&(L=D.isSkinnedMesh&&D.isSkinnedMesh()?D.offsetMatrix?D.offsetMatrix.array:Yn.IDENTITY:D.worldTransform.array);var k=D.geometry,O=r.getMaterial.call(this,D),F=D.__program,H=O.shader,V=k.__uid__+"-"+F.__uid__,U=V!==S;S=V,R&&(st.copy(Yn.WORLD,L),st.multiply(Yn.WORLDVIEWPROJECTION,Yn.VIEWPROJECTION,L),st.multiplyAffine(Yn.WORLDVIEW,Yn.VIEW,L),(H.matrixSemantics.WORLDINVERSE||H.matrixSemantics.WORLDINVERSETRANSPOSE)&&st.invert(Yn.WORLDINVERSE,L),(H.matrixSemantics.WORLDVIEWINVERSE||H.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&st.invert(Yn.WORLDVIEWINVERSE,Yn.WORLDVIEW),(H.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||H.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&st.invert(Yn.WORLDVIEWPROJECTIONINVERSE,Yn.WORLDVIEWPROJECTION)),D.beforeRender&&D.beforeRender(this),r.beforeRender.call(this,D,O,h);var K=F!==v;K?(F.bind(this),F.setUniformOfSemantic(f,"VIEWPORT",o),F.setUniformOfSemantic(f,"WINDOW_SIZE",l),t&&(F.setUniformOfSemantic(f,"NEAR",t.near),F.setUniformOfSemantic(f,"FAR",t.far)),F.setUniformOfSemantic(f,"DEVICEPIXELRATIO",a),F.setUniformOfSemantic(f,"TIME",c),F.setUniformOfSemantic(f,"VIEWPORT_SIZE",u),d&&d.setLightUniforms(F,D.lightGroup,this)):F=v,(K||r.isMaterialChanged(D,p,O,h))&&(O.depthTest!==g&&(O.depthTest?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),g=O.depthTest),O.depthMask!==m&&(f.depthMask(O.depthMask),m=O.depthMask),O.transparent!==w&&(O.transparent?f.enable(f.BLEND):f.disable(f.BLEND),w=O.transparent),O.transparent&&(O.blend?O.blend(f):(f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA))),E=this._bindMaterial(D,O,F,p||null,h||null,v||null,r.getUniform),h=O);var q=H.matrixSemanticKeys;if(R)for(var N=0;N<q.length;N++){var W=q[N],j=H.matrixSemantics[W],Z=Yn[W];if(j.isTranspose){var ve=Yn[j.semanticNoTranspose];st.transpose(Z,ve)}F.setUniform(f,j.type,j.symbol,Z)}D.cullFace!==x&&(x=D.cullFace,f.cullFace(x)),D.frontFace!==b&&(b=D.frontFace,f.frontFace(b)),D.culling!==y&&(y=D.culling,y?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE)),this._updateSkeleton(D,F,E),U&&(C=this._bindVAO(A,H,k,F)),this._renderObject(D,C,F),r.afterRender(this,D),D.afterRender&&D.afterRender(this),v=F,p=D}}this.trigger("afterrenderpass",this,e,t,r)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,t,r){var n=this.gl,i=e.skeleton;if(i)if(i.update(),e.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(e.__uid__,e.joints);t.useTextureSlot(this,a,r),t.setUniform(n,"1i","skinMatricesTexture",r),t.setUniform(n,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(e.__uid__,e.joints);t.setUniformOfSemantic(n,"SKIN_MATRIX",o)}},_renderObject:function(e,t,r){var n=this.gl,i=e.geometry,a=e.mode;a==null&&(a=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(s&&(o=this.getGLExtension("ANGLE_instanced_arrays"),!o)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var l;if(s&&(l=this._bindInstancedAttributes(e,r,o)),t.indicesBuffer){var u=this.getGLExtension("OES_element_index_uint"),c=u&&i.indices instanceof Uint32Array,f=c?n.UNSIGNED_INT:n.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,t.indicesBuffer.count,f,0,e.getInstanceCount()):n.drawElements(a,t.indicesBuffer.count,f,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,e.getInstanceCount()):n.drawArrays(a,0,i.vertexCount);if(s)for(var d=0;d<l.length;d++)n.disableVertexAttribArray(l[d])},_bindInstancedAttributes:function(e,t,r){for(var n=this.gl,i=e.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],l=t.getAttribLocation(n,s.symbol);if(!(l<0)){var u=ZY[s.type]||n.FLOAT;n.enableVertexAttribArray(l),n.bindBuffer(n.ARRAY_BUFFER,s.buffer),n.vertexAttribPointer(l,s.size,u,!1,0,0),r.vertexAttribDivisorANGLE(l,s.divisor),a.push(l)}}return a},_bindMaterial:function(e,t,r,n,i,a,o){for(var s=this.gl,l=a===r,u=r.currentTextureSlot(),c=t.getEnabledUniforms(),f=t.getTextureUniforms(),d=this._placeholderTexture,h=0;h<f.length;h++){var v=f[h],p=o(e,t,v),g=t.uniforms[v].type;if(g==="t"&&p)p.__slot=-1;else if(g==="tv")for(var m=0;m<p.length;m++)p[m]&&(p[m].__slot=-1)}d.__slot=-1;for(var h=0;h<c.length;h++){var v=c[h],y=t.uniforms[v],p=o(e,t,v),g=y.type,x=g==="t";if(x&&(!p||!p.isRenderable())&&(p=d),i&&l){var b=o(n,i,v);if(x&&(!b||!b.isRenderable())&&(b=d),b===p){if(x)r.takeCurrentTextureSlot(this,null);else if(g==="tv"&&p)for(var m=0;m<p.length;m++)r.takeCurrentTextureSlot(this,null);continue}}if(p!=null)if(x)if(p.__slot<0){var w=r.currentTextureSlot(),S=r.setUniform(s,"1i",v,w);S&&(r.takeCurrentTextureSlot(this,p),p.__slot=w)}else r.setUniform(s,"1i",v,p.__slot);else if(Array.isArray(p)){if(p.length===0)continue;if(g==="tv"){if(!r.hasUniform(v))continue;for(var C=[],m=0;m<p.length;m++){var E=p[m];if(E.__slot<0){var w=r.currentTextureSlot();C.push(w),r.takeCurrentTextureSlot(this,E),E.__slot=w}else C.push(E.__slot)}r.setUniform(s,"1iv",v,C)}else r.setUniform(s,y.type,v,p)}else r.setUniform(s,y.type,v,p)}var A=r.currentTextureSlot();return r.resetTextureSlot(u),A},_bindVAO:function(e,t,r,n){var i=!r.dynamic,a=this.gl,o=this.__uid__+"-"+n.__uid__,s=r.__vaoCache[o];if(!s){var l=r.getBufferChunks(this);if(!l||!l.length)return;for(var u=l[0],c=u.attributeBuffers,b=u.indicesBuffer,x=[],f=[],d=0;d<c.length;d++){var h=c[d],v=h.name,p=h.semantic,g;if(p){var m=t.attributeSemantics[p];g=m&&m.symbol}else g=v;g&&n.attributes[g]&&(x.push(h),f.push(g))}s=new lot(x,f,b),i&&(r.__vaoCache[o]=s)}var y=!0;e&&i&&(s.vao==null?s.vao=e.createVertexArrayOES():y=!1,e.bindVertexArrayOES(s.vao));var x=s.availableAttributes,b=s.indicesBuffer;if(y){for(var w=n.enableAttributes(this,s.availableAttributeSymbols,e&&i&&s),d=0;d<x.length;d++){var S=w[d];if(S!==-1){var h=x[d],C=h.buffer,E=h.size,A=ZY[h.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,C),a.vertexAttribPointer(S,E,A,!1,0,0)}}r.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.buffer)}return s},renderPreZ:function(e,t,r){var n=this.gl,i=this._prezMaterial||new Il({shader:new wt(wt.source("clay.prez.vertex"),wt.source("clay.prez.fragment"))});this._prezMaterial=i,n.colorMask(!1,!1,!1,!1),n.depthMask(!0),this.renderPass(e,r,{ifRender:function(a){return!a.ignorePreZ},isMaterialChanged:function(a,o){var s=a.material,l=o.material;return s.get("diffuseMap")!==l.get("diffuseMap")||(s.get("alphaCutoff")||0)!==(l.get("alphaCutoff")||0)},getUniform:function(a,o,s){if(s==="alphaMap")return a.material.get("diffuseMap");if(s==="alphaCutoff"){if(a.material.isDefined("fragment","ALPHA_TEST")&&a.material.get("diffuseMap")){var l=a.material.get("alphaCutoff");return l||0}return 0}else return s==="uvRepeat"?a.material.get("uvRepeat"):s==="uvOffset"?a.material.get("uvOffset"):o.get(s)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),n.colorMask(!0,!0,!0,!0),n.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,t,r){e.getParent()&&e.getParent().remove(e);var n={};e.traverse(function(i){var a=i.material;if(i.geometry&&t&&i.geometry.dispose(this),r&&a&&!n[a.__uid__]){for(var o=a.getTextureUniforms(),s=0;s<o.length;s++){var l=o[s],u=a.uniforms[l].value,c=a.uniforms[l].type;if(u){if(c==="t")u.dispose&&u.dispose(this);else if(c==="tv")for(var f=0;f<u.length;f++)u[f]&&u[f].dispose&&u[f].dispose(this)}}n[a.__uid__]=!0}i.dispose&&i.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,t,r){r||(r=new hr),t=this._height-t;var n=this.viewport,i=r.array;return i[0]=(e-n.x)/n.width,i[0]=i[0]*2-1,i[1]=(t-n.y)/n.height,i[1]=i[1]*2-1,r}});kl.opaqueSortCompare=kl.prototype.opaqueSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.renderOrder-t.renderOrder};kl.transparentSortCompare=kl.prototype.transparentSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.__depth-t.__depth:e.renderOrder-t.renderOrder};var Yn={IDENTITY:Kn(),WORLD:Kn(),VIEW:Kn(),PROJECTION:Kn(),WORLDVIEW:Kn(),VIEWPROJECTION:Kn(),WORLDVIEWPROJECTION:Kn(),WORLDINVERSE:Kn(),VIEWINVERSE:Kn(),PROJECTIONINVERSE:Kn(),WORLDVIEWINVERSE:Kn(),VIEWPROJECTIONINVERSE:Kn(),WORLDVIEWPROJECTIONINVERSE:Kn(),WORLDTRANSPOSE:Kn(),VIEWTRANSPOSE:Kn(),PROJECTIONTRANSPOSE:Kn(),WORLDVIEWTRANSPOSE:Kn(),VIEWPROJECTIONTRANSPOSE:Kn(),WORLDVIEWPROJECTIONTRANSPOSE:Kn(),WORLDINVERSETRANSPOSE:Kn(),VIEWINVERSETRANSPOSE:Kn(),PROJECTIONINVERSETRANSPOSE:Kn(),WORLDVIEWINVERSETRANSPOSE:Kn(),VIEWPROJECTIONINVERSETRANSPOSE:Kn(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:Kn()};kl.COLOR_BUFFER_BIT=nt.COLOR_BUFFER_BIT;kl.DEPTH_BUFFER_BIT=nt.DEPTH_BUFFER_BIT;kl.STENCIL_BUFFER_BIT=nt.STENCIL_BUFFER_BIT;var qe=function(e,t,r){e=e||0,t=t||0,r=r||0,this.array=be.fromValues(e,t,r),this._dirty=!0};qe.prototype={constructor:qe,add:function(e){return be.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,r){return this.array[0]=e,this.array[1]=t,this.array[2]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new qe(this.x,this.y,this.z)},copy:function(e){return be.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return be.cross(this.array,e.array,t.array),this._dirty=!0,this},dist:function(e){return be.dist(this.array,e.array)},distance:function(e){return be.distance(this.array,e.array)},div:function(e){return be.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return be.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return be.dot(this.array,e.array)},len:function(){return be.len(this.array)},length:function(){return be.length(this.array)},lerp:function(e,t,r){return be.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},min:function(e){return be.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return be.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return be.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return be.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return be.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return be.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return be.random(this.array,e),this._dirty=!0,this},scale:function(e){return be.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return be.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return be.sqrDist(this.array,e.array)},squaredDistance:function(e){return be.squaredDistance(this.array,e.array)},sqrLen:function(){return be.sqrLen(this.array)},squaredLength:function(){return be.squaredLength(this.array)},sub:function(e){return be.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return be.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return be.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return be.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return be.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var t=this.array;if(e=e.array,e[15]===0){var r=-1/t[2];t[0]=e[0]*t[0]*r,t[1]=e[5]*t[1]*r,t[2]=(e[10]*t[2]+e[14])*r}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,t){qe.eulerFromQuat(this,e,t)},eulerFromMat3:function(e,t){qe.eulerFromMat3(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var L2=Object.defineProperty;if(L2){var pI=qe.prototype;L2(pI,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),L2(pI,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),L2(pI,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}qe.add=function(e,t,r){return be.add(e.array,t.array,r.array),e._dirty=!0,e};qe.set=function(e,t,r,n){be.set(e.array,t,r,n),e._dirty=!0};qe.copy=function(e,t){return be.copy(e.array,t.array),e._dirty=!0,e};qe.cross=function(e,t,r){return be.cross(e.array,t.array,r.array),e._dirty=!0,e};qe.dist=function(e,t){return be.distance(e.array,t.array)};qe.distance=qe.dist;qe.div=function(e,t,r){return be.divide(e.array,t.array,r.array),e._dirty=!0,e};qe.divide=qe.div;qe.dot=function(e,t){return be.dot(e.array,t.array)};qe.len=function(e){return be.length(e.array)};qe.lerp=function(e,t,r,n){return be.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};qe.min=function(e,t,r){return be.min(e.array,t.array,r.array),e._dirty=!0,e};qe.max=function(e,t,r){return be.max(e.array,t.array,r.array),e._dirty=!0,e};qe.mul=function(e,t,r){return be.multiply(e.array,t.array,r.array),e._dirty=!0,e};qe.multiply=qe.mul;qe.negate=function(e,t){return be.negate(e.array,t.array),e._dirty=!0,e};qe.normalize=function(e,t){return be.normalize(e.array,t.array),e._dirty=!0,e};qe.random=function(e,t){return be.random(e.array,t),e._dirty=!0,e};qe.scale=function(e,t,r){return be.scale(e.array,t.array,r),e._dirty=!0,e};qe.scaleAndAdd=function(e,t,r,n){return be.scaleAndAdd(e.array,t.array,r.array,n),e._dirty=!0,e};qe.sqrDist=function(e,t){return be.sqrDist(e.array,t.array)};qe.squaredDistance=qe.sqrDist;qe.sqrLen=function(e){return be.sqrLen(e.array)};qe.squaredLength=qe.sqrLen;qe.sub=function(e,t,r){return be.subtract(e.array,t.array,r.array),e._dirty=!0,e};qe.subtract=qe.sub;qe.transformMat3=function(e,t,r){return be.transformMat3(e.array,t.array,r.array),e._dirty=!0,e};qe.transformMat4=function(e,t,r){return be.transformMat4(e.array,t.array,r.array),e._dirty=!0,e};qe.transformQuat=function(e,t,r){return be.transformQuat(e.array,t.array,r.array),e._dirty=!0,e};function wl(e,t,r){return e<t?t:e>r?r:e}var Ln=Math.atan2,Sl=Math.asin,vg=Math.abs;qe.eulerFromQuat=function(e,t,d){e._dirty=!0,t=t.array;var n=e.array,i=t[0],a=t[1],o=t[2],s=t[3],l=i*i,u=a*a,c=o*o,f=s*s,d=(d||"XYZ").toUpperCase();switch(d){case"XYZ":n[0]=Ln(2*(i*s-a*o),f-l-u+c),n[1]=Sl(wl(2*(i*o+a*s),-1,1)),n[2]=Ln(2*(o*s-i*a),f+l-u-c);break;case"YXZ":n[0]=Sl(wl(2*(i*s-a*o),-1,1)),n[1]=Ln(2*(i*o+a*s),f-l-u+c),n[2]=Ln(2*(i*a+o*s),f-l+u-c);break;case"ZXY":n[0]=Sl(wl(2*(i*s+a*o),-1,1)),n[1]=Ln(2*(a*s-o*i),f-l-u+c),n[2]=Ln(2*(o*s-i*a),f-l+u-c);break;case"ZYX":n[0]=Ln(2*(i*s+o*a),f-l-u+c),n[1]=Sl(wl(2*(a*s-i*o),-1,1)),n[2]=Ln(2*(i*a+o*s),f+l-u-c);break;case"YZX":n[0]=Ln(2*(i*s-o*a),f-l+u-c),n[1]=Ln(2*(a*s-i*o),f+l-u-c),n[2]=Sl(wl(2*(i*a+o*s),-1,1));break;case"XZY":n[0]=Ln(2*(i*s+a*o),f-l+u-c),n[1]=Ln(2*(i*o+a*s),f+l-u-c),n[2]=Sl(wl(2*(o*s-i*a),-1,1));break;default:console.warn("Unkown order: "+d)}return e};qe.eulerFromMat3=function(e,t,v){var n=t.array,i=n[0],a=n[3],o=n[6],s=n[1],l=n[4],u=n[7],c=n[2],f=n[5],d=n[8],h=e.array,v=(v||"XYZ").toUpperCase();switch(v){case"XYZ":h[1]=Sl(wl(o,-1,1)),vg(o)<.99999?(h[0]=Ln(-u,d),h[2]=Ln(-a,i)):(h[0]=Ln(f,l),h[2]=0);break;case"YXZ":h[0]=Sl(-wl(u,-1,1)),vg(u)<.99999?(h[1]=Ln(o,d),h[2]=Ln(s,l)):(h[1]=Ln(-c,i),h[2]=0);break;case"ZXY":h[0]=Sl(wl(f,-1,1)),vg(f)<.99999?(h[1]=Ln(-c,d),h[2]=Ln(-a,l)):(h[1]=0,h[2]=Ln(s,i));break;case"ZYX":h[1]=Sl(-wl(c,-1,1)),vg(c)<.99999?(h[0]=Ln(f,d),h[2]=Ln(s,i)):(h[0]=0,h[2]=Ln(-a,l));break;case"YZX":h[2]=Sl(wl(s,-1,1)),vg(s)<.99999?(h[0]=Ln(-u,l),h[1]=Ln(-c,i)):(h[0]=0,h[1]=Ln(o,d));break;case"XZY":h[2]=Sl(-wl(a,-1,1)),vg(a)<.99999?(h[0]=Ln(f,l),h[1]=Ln(o,i)):(h[0]=Ln(-u,d),h[1]=0);break;default:console.warn("Unkown order: "+v)}return e._dirty=!0,e};Object.defineProperties(qe,{POSITIVE_X:{get:function(){return new qe(1,0,0)}},NEGATIVE_X:{get:function(){return new qe(-1,0,0)}},POSITIVE_Y:{get:function(){return new qe(0,1,0)}},NEGATIVE_Y:{get:function(){return new qe(0,-1,0)}},POSITIVE_Z:{get:function(){return new qe(0,0,1)}},NEGATIVE_Z:{get:function(){return new qe(0,0,-1)}},UP:{get:function(){return new qe(0,1,0)}},ZERO:{get:function(){return new qe}}});var gI=1e-5,bp=function(e,t){this.origin=e||new qe,this.direction=t||new qe};bp.prototype={constructor:bp,intersectPlane:function(e,t){var r=e.normal.array,n=e.distance,i=this.origin.array,a=this.direction.array,o=be.dot(r,a);if(o===0)return null;t||(t=new qe);var s=(be.dot(r,i)-n)/o;return be.scaleAndAdd(t.array,i,a,-s),t._dirty=!0,t},mirrorAgainstPlane:function(e){var t=be.dot(e.normal.array,this.direction.array);be.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,-t*2),this.direction._dirty=!0},distanceToPoint:(function(){var e=be.create();return function(t){be.sub(e,t,this.origin.array);var r=be.dot(e,this.direction.array);if(r<0)return be.distance(this.origin.array,t);var n=be.lenSquared(e);return Math.sqrt(n-r*r)}})(),intersectSphere:(function(){var e=be.create();return function(t,r,n){var i=this.origin.array,a=this.direction.array;t=t.array,be.sub(e,t,i);var o=be.dot(e,a),s=be.squaredLength(e),l=s-o*o,u=r*r;if(!(l>u)){var c=Math.sqrt(u-l),f=o-c,d=o+c;return n||(n=new qe),f<0?d<0?null:(be.scaleAndAdd(n.array,i,a,d),n):(be.scaleAndAdd(n.array,i,a,f),n)}}})(),intersectBoundingBox:function(e,t){var r=this.direction.array,n=this.origin.array,i=e.min.array,a=e.max.array,o=1/r[0],s=1/r[1],l=1/r[2],u,c,f,d,h,v;if(o>=0?(u=(i[0]-n[0])*o,c=(a[0]-n[0])*o):(c=(i[0]-n[0])*o,u=(a[0]-n[0])*o),s>=0?(f=(i[1]-n[1])*s,d=(a[1]-n[1])*s):(d=(i[1]-n[1])*s,f=(a[1]-n[1])*s),u>d||f>c||((f>u||u!==u)&&(u=f),(d<c||c!==c)&&(c=d),l>=0?(h=(i[2]-n[2])*l,v=(a[2]-n[2])*l):(v=(i[2]-n[2])*l,h=(a[2]-n[2])*l),u>v||h>c)||((h>u||u!==u)&&(u=h),(v<c||c!==c)&&(c=v),c<0))return null;var p=u>=0?u:c;return t||(t=new qe),be.scaleAndAdd(t.array,n,r,p),t},intersectTriangle:(function(){var e=be.create(),t=be.create(),r=be.create(),n=be.create();return function(i,a,o,s,l,u){var c=this.direction.array,f=this.origin.array;i=i.array,a=a.array,o=o.array,be.sub(e,a,i),be.sub(t,o,i),be.cross(n,t,c);var d=be.dot(e,n);if(s){if(d>-gI)return null}else if(d>-gI&&d<gI)return null;be.sub(r,f,i);var h=be.dot(n,r)/d;if(h<0||h>1)return null;be.cross(n,e,r);var v=be.dot(c,n)/d;if(v<0||v>1||h+v>1)return null;be.cross(n,e,t);var p=-be.dot(r,n)/d;return p<0?null:(l||(l=new qe),u&&qe.set(u,1-h-v,h,v),be.scaleAndAdd(l.array,f,c,p),l)}})(),applyTransform:function(e){qe.add(this.direction,this.direction,this.origin),qe.transformMat4(this.origin,this.origin,e),qe.transformMat4(this.direction,this.direction,e),qe.sub(this.direction,this.direction,this.origin),qe.normalize(this.direction,this.direction)},copy:function(e){qe.copy(this.origin,e.origin),qe.copy(this.direction,e.direction)},clone:function(){var e=new bp;return e.copy(this),e}};var at={};at.create=function(){var e=new Wa(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e};at.clone=function(e){var t=new Wa(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};at.fromValues=function(e,t,r,n){var i=new Wa(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i};at.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};at.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e};at.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e};at.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e};at.sub=at.subtract;at.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e};at.mul=at.multiply;at.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e};at.div=at.divide;at.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e};at.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e};at.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e};at.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e};at.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+a*a)};at.dist=at.distance;at.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return r*r+n*n+i*i+a*a};at.sqrDist=at.squaredDistance;at.length=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)};at.len=at.length;at.squaredLength=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i};at.sqrLen=at.squaredLength;at.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e};at.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e};at.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e};at.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]};at.lerp=function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e};at.random=function(e,t){return t=t||1,e[0]=Ng(),e[1]=Ng(),e[2]=Ng(),e[3]=Ng(),at.normalize(e,e),at.scale(e,e,t),e};at.transformMat4=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e};at.transformQuat=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*a-l*i,f=u*i+l*n-o*a,d=u*a+o*i-s*n,h=-o*n-s*i-l*a;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e};at.forEach=(function(){var e=at.create();return function(t,r,n,i,a,o){var s,l;for(r||(r=4),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();var sr={};sr.create=function(){var e=new Wa(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};sr.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e};sr.clone=function(e){var t=new Wa(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t};sr.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};sr.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};sr.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e};sr.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=-c*a+s*l,h=u*a-o*l,v=r*f+n*d+i*h;return v?(v=1/v,e[0]=f*v,e[1]=(-c*n+i*u)*v,e[2]=(s*n-i*o)*v,e[3]=d*v,e[4]=(c*r-i*l)*v,e[5]=(-s*r+i*a)*v,e[6]=h*v,e[7]=(-u*r+n*l)*v,e[8]=(o*r-n*a)*v,e):null};sr.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=i*u-n*c,e[2]=n*s-i*o,e[3]=s*l-a*c,e[4]=r*c-i*l,e[5]=i*a-r*s,e[6]=a*u-o*l,e[7]=n*l-r*u,e[8]=r*o-n*a,e};sr.determinant=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*a-o*l)+r*(-u*i+o*s)+n*(l*i-a*s)};sr.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1],v=r[2],p=r[3],g=r[4],m=r[5],y=r[6],x=r[7],b=r[8];return e[0]=d*n+h*o+v*u,e[1]=d*i+h*s+v*c,e[2]=d*a+h*l+v*f,e[3]=p*n+g*o+m*u,e[4]=p*i+g*s+m*c,e[5]=p*a+g*l+m*f,e[6]=y*n+x*o+b*u,e[7]=y*i+x*s+b*c,e[8]=y*a+x*l+b*f,e};sr.mul=sr.multiply;sr.translate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=d*n+h*o+u,e[7]=d*i+h*s+c,e[8]=d*a+h*l+f,e};sr.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*o,e[1]=h*i+d*s,e[2]=h*a+d*l,e[3]=h*o-d*n,e[4]=h*s-d*i,e[5]=h*l-d*a,e[6]=u,e[7]=c,e[8]=f,e};sr.scale=function(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};sr.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e};sr.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,l=i+i,u=r*o,c=n*o,f=n*s,d=i*o,h=i*s,v=i*l,p=a*o,g=a*s,m=a*l;return e[0]=1-f-v,e[3]=c-m,e[6]=d+g,e[1]=c+m,e[4]=1-u-v,e[7]=h-p,e[2]=d-g,e[5]=h+p,e[8]=1-u-f,e};sr.normalFromMat4=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15],y=r*s-n*o,x=r*l-i*o,b=r*u-a*o,w=n*l-i*s,S=n*u-a*s,C=i*u-a*l,E=c*p-f*v,A=c*g-d*v,M=c*m-h*v,D=f*g-d*p,R=f*m-h*p,L=d*m-h*g,k=y*L-x*R+b*D+w*M-S*A+C*E;return k?(k=1/k,e[0]=(s*L-l*R+u*D)*k,e[1]=(l*M-o*L-u*A)*k,e[2]=(o*R-s*M+u*E)*k,e[3]=(i*R-n*L-a*D)*k,e[4]=(r*L-i*M+a*A)*k,e[5]=(n*M-r*R-a*E)*k,e[6]=(p*C-g*S+m*w)*k,e[7]=(g*b-v*C-m*x)*k,e[8]=(v*S-p*b+m*y)*k,e):null};sr.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};var Pt={};Pt.create=function(){var e=new Wa(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e};Pt.rotationTo=(function(){var e=be.create(),t=be.fromValues(1,0,0),r=be.fromValues(0,1,0);return function(n,i,a){var o=be.dot(i,a);return o<-.999999?(be.cross(e,t,i),be.length(e)<1e-6&&be.cross(e,r,i),be.normalize(e,e),Pt.setAxisAngle(n,e,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(be.cross(e,i,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+o,Pt.normalize(n,n))}})();Pt.setAxes=(function(){var e=sr.create();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],Pt.normalize(t,Pt.fromMat3(t,e))}})();Pt.clone=at.clone;Pt.fromValues=at.fromValues;Pt.copy=at.copy;Pt.set=at.set;Pt.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e};Pt.setAxisAngle=function(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e};Pt.add=at.add;Pt.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+o*s+i*u-a*l,e[1]=i*c+o*l+a*s-n*u,e[2]=a*c+o*u+n*l-i*s,e[3]=o*c-n*s-i*l-a*u,e};Pt.mul=Pt.multiply;Pt.scale=at.scale;Pt.rotateX=function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*s,e[1]=i*l+a*s,e[2]=a*l-i*s,e[3]=o*l-n*s,e};Pt.rotateY=function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l-a*s,e[1]=i*l+o*s,e[2]=a*l+n*s,e[3]=o*l-i*s,e};Pt.rotateZ=function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=i*l-n*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e};Pt.calculateW=function(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e};Pt.dot=at.dot;Pt.lerp=at.lerp;Pt.slerp=function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3],l=r[0],u=r[1],c=r[2],f=r[3],d,h,v,p,g;return h=i*l+a*u+o*c+s*f,h<0&&(h=-h,l=-l,u=-u,c=-c,f=-f),1-h>1e-6?(d=Math.acos(h),v=Math.sin(d),p=Math.sin((1-n)*d)/v,g=Math.sin(n*d)/v):(p=1-n,g=n),e[0]=p*i+g*l,e[1]=p*a+g*u,e[2]=p*o+g*c,e[3]=p*s+g*f,e};Pt.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=a*s,e};Pt.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e};Pt.length=at.length;Pt.len=Pt.length;Pt.squaredLength=at.squaredLength;Pt.sqrLen=Pt.squaredLength;Pt.normalize=at.normalize;Pt.fromMat3=function(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[i*3+i]-t[a*3+a]-t[o*3+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[a*3+o]-t[o*3+a])*n,e[a]=(t[a*3+i]+t[i*3+a])*n,e[o]=(t[o*3+i]+t[i*3+o])*n}return e};var At=function(){this._axisX=new qe,this._axisY=new qe,this._axisZ=new qe,this.array=st.create(),this._dirty=!0};At.prototype={constructor:At,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return st.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new At().copy(this)},copy:function(e){return st.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return st.determinant(this.array)},fromQuat:function(e){return st.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,t){return st.fromRotationTranslation(this.array,e.array,t.array),this._dirty=!0,this},fromMat2d:function(e){return At.fromMat2d(this,e),this},frustum:function(e,t,r,n,i,a){return st.frustum(this.array,e,t,r,n,i,a),this._dirty=!0,this},identity:function(){return st.identity(this.array),this._dirty=!0,this},invert:function(){return st.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,t,r){return st.lookAt(this.array,e.array,t.array,r.array),this._dirty=!0,this},mul:function(e){return st.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return st.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return st.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return st.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,t,r,n,i,a){return st.ortho(this.array,e,t,r,n,i,a),this._dirty=!0,this},perspective:function(e,t,r,n){return st.perspective(this.array,e,t,r,n),this._dirty=!0,this},rotate:function(e,t){return st.rotate(this.array,this.array,e,t.array),this._dirty=!0,this},rotateX:function(e){return st.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return st.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return st.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return st.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return st.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return st.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:(function(){var e=be.create(),t=be.create(),r=be.create(),n=sr.create();return function(i,a,o){var s=this.array;be.set(e,s[0],s[1],s[2]),be.set(t,s[4],s[5],s[6]),be.set(r,s[8],s[9],s[10]);var l=be.length(e),u=be.length(t),c=be.length(r),f=this.determinant();f<0&&(l=-l),i&&i.set(l,u,c),o.set(s[12],s[13],s[14]),sr.fromMat4(n,s),n[0]/=l,n[1]/=l,n[2]/=l,n[3]/=u,n[4]/=u,n[5]/=u,n[6]/=c,n[7]/=c,n[8]/=c,Pt.fromMat3(a.array,n),Pt.normalize(a.array,a.array),a._dirty=!0,o._dirty=!0}})(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var I2=Object.defineProperty;if(I2){var mI=At.prototype;I2(mI,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var t=this.array;e=e.array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0}}),I2(mI,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var t=this.array;e=e.array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0}}),I2(mI,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var t=this.array;e=e.array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0}})}At.adjoint=function(e,t){return st.adjoint(e.array,t.array),e._dirty=!0,e};At.copy=function(e,t){return st.copy(e.array,t.array),e._dirty=!0,e};At.determinant=function(e){return st.determinant(e.array)};At.identity=function(e){return st.identity(e.array),e._dirty=!0,e};At.ortho=function(e,t,r,n,i,a,o){return st.ortho(e.array,t,r,n,i,a,o),e._dirty=!0,e};At.perspective=function(e,t,r,n,i){return st.perspective(e.array,t,r,n,i),e._dirty=!0,e};At.lookAt=function(e,t,r,n){return st.lookAt(e.array,t.array,r.array,n.array),e._dirty=!0,e};At.invert=function(e,t){return st.invert(e.array,t.array),e._dirty=!0,e};At.mul=function(e,t,r){return st.mul(e.array,t.array,r.array),e._dirty=!0,e};At.multiply=At.mul;At.fromQuat=function(e,t){return st.fromQuat(e.array,t.array),e._dirty=!0,e};At.fromRotationTranslation=function(e,t,r){return st.fromRotationTranslation(e.array,t.array,r.array),e._dirty=!0,e};At.fromMat2d=function(n,r){n._dirty=!0;var r=r.array,n=n.array;return n[0]=r[0],n[4]=r[2],n[12]=r[4],n[1]=r[1],n[5]=r[3],n[13]=r[5],n};At.rotate=function(e,t,r,n){return st.rotate(e.array,t.array,r,n.array),e._dirty=!0,e};At.rotateX=function(e,t,r){return st.rotateX(e.array,t.array,r),e._dirty=!0,e};At.rotateY=function(e,t,r){return st.rotateY(e.array,t.array,r),e._dirty=!0,e};At.rotateZ=function(e,t,r){return st.rotateZ(e.array,t.array,r),e._dirty=!0,e};At.scale=function(e,t,r){return st.scale(e.array,t.array,r.array),e._dirty=!0,e};At.transpose=function(e,t){return st.transpose(e.array,t.array),e._dirty=!0,e};At.translate=function(e,t,r){return st.translate(e.array,t.array,r.array),e._dirty=!0,e};var Sn=function(e,t,r,n){e=e||0,t=t||0,r=r||0,n=n===void 0?1:n,this.array=Pt.fromValues(e,t,r,n),this._dirty=!0};Sn.prototype={constructor:Sn,add:function(e){return Pt.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return Pt.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,t,r,n){return this.array[0]=e,this.array[1]=t,this.array[2]=r,this.array[3]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new Sn(this.x,this.y,this.z,this.w)},conjugate:function(){return Pt.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return Pt.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return Pt.dot(this.array,e.array)},fromMat3:function(e){return Pt.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:(function(){var e=sr.create();return function(t){return sr.fromMat4(e,t.array),sr.transpose(e,e),Pt.fromMat3(this.array,e),this._dirty=!0,this}})(),identity:function(){return Pt.identity(this.array),this._dirty=!0,this},invert:function(){return Pt.invert(this.array,this.array),this._dirty=!0,this},len:function(){return Pt.len(this.array)},length:function(){return Pt.length(this.array)},lerp:function(e,t,r){return Pt.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},mul:function(e){return Pt.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Pt.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Pt.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Pt.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return Pt.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return Pt.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Pt.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Pt.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,t){return Pt.rotationTo(this.array,e.array,t.array),this._dirty=!0,this},setAxes:function(e,t,r){return Pt.setAxes(this.array,e.array,t.array,r.array),this._dirty=!0,this},setAxisAngle:function(e,t){return Pt.setAxisAngle(this.array,e.array,t),this._dirty=!0,this},slerp:function(e,t,r){return Pt.slerp(this.array,e.array,t.array,r),this._dirty=!0,this},sqrLen:function(){return Pt.sqrLen(this.array)},squaredLength:function(){return Pt.squaredLength(this.array)},fromEuler:function(e,t){return Sn.fromEuler(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var E1=Object.defineProperty;if(E1){var k2=Sn.prototype;E1(k2,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),E1(k2,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),E1(k2,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),E1(k2,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}Sn.add=function(e,t,r){return Pt.add(e.array,t.array,r.array),e._dirty=!0,e};Sn.set=function(e,t,r,n,i){Pt.set(e.array,t,r,n,i),e._dirty=!0};Sn.copy=function(e,t){return Pt.copy(e.array,t.array),e._dirty=!0,e};Sn.calculateW=function(e,t){return Pt.calculateW(e.array,t.array),e._dirty=!0,e};Sn.conjugate=function(e,t){return Pt.conjugate(e.array,t.array),e._dirty=!0,e};Sn.identity=function(e){return Pt.identity(e.array),e._dirty=!0,e};Sn.invert=function(e,t){return Pt.invert(e.array,t.array),e._dirty=!0,e};Sn.dot=function(e,t){return Pt.dot(e.array,t.array)};Sn.len=function(e){return Pt.length(e.array)};Sn.lerp=function(e,t,r,n){return Pt.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};Sn.slerp=function(e,t,r,n){return Pt.slerp(e.array,t.array,r.array,n),e._dirty=!0,e};Sn.mul=function(e,t,r){return Pt.multiply(e.array,t.array,r.array),e._dirty=!0,e};Sn.multiply=Sn.mul;Sn.rotateX=function(e,t,r){return Pt.rotateX(e.array,t.array,r),e._dirty=!0,e};Sn.rotateY=function(e,t,r){return Pt.rotateY(e.array,t.array,r),e._dirty=!0,e};Sn.rotateZ=function(e,t,r){return Pt.rotateZ(e.array,t.array,r),e._dirty=!0,e};Sn.setAxisAngle=function(e,t,r){return Pt.setAxisAngle(e.array,t.array,r),e._dirty=!0,e};Sn.normalize=function(e,t){return Pt.normalize(e.array,t.array),e._dirty=!0,e};Sn.sqrLen=function(e){return Pt.sqrLen(e.array)};Sn.squaredLength=Sn.sqrLen;Sn.fromMat3=function(e,t){return Pt.fromMat3(e.array,t.array),e._dirty=!0,e};Sn.setAxes=function(e,t,r,n){return Pt.setAxes(e.array,t.array,r.array,n.array),e._dirty=!0,e};Sn.rotationTo=function(e,t,r){return Pt.rotationTo(e.array,t.array,r.array),e._dirty=!0,e};Sn.fromEuler=function(e,t,c){e._dirty=!0,t=t.array;var n=e.array,i=Math.cos(t[0]/2),a=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),l=Math.sin(t[1]/2),u=Math.sin(t[2]/2),c=(c||"XYZ").toUpperCase();switch(c){case"XYZ":n[0]=s*a*o+i*l*u,n[1]=i*l*o-s*a*u,n[2]=i*a*u+s*l*o,n[3]=i*a*o-s*l*u;break;case"YXZ":n[0]=s*a*o+i*l*u,n[1]=i*l*o-s*a*u,n[2]=i*a*u-s*l*o,n[3]=i*a*o+s*l*u;break;case"ZXY":n[0]=s*a*o-i*l*u,n[1]=i*l*o+s*a*u,n[2]=i*a*u+s*l*o,n[3]=i*a*o-s*l*u;break;case"ZYX":n[0]=s*a*o-i*l*u,n[1]=i*l*o+s*a*u,n[2]=i*a*u-s*l*o,n[3]=i*a*o+s*l*u;break;case"YZX":n[0]=s*a*o+i*l*u,n[1]=i*l*o+s*a*u,n[2]=i*a*u-s*l*o,n[3]=i*a*o-s*l*u;break;case"XZY":n[0]=s*a*o-i*l*u,n[1]=i*l*o-s*a*u,n[2]=i*a*u+s*l*o,n[3]=i*a*o+s*l*u;break}};var Dd=be.set,O2=be.copy,za=function(e,t){this.min=e||new qe(1/0,1/0,1/0),this.max=t||new qe(-1/0,-1/0,-1/0),this.vertices=null};za.prototype={constructor:za,updateFromVertices:function(e){if(e.length>0){var t=this.min,r=this.max,n=t.array,i=r.array;O2(n,e[0]),O2(i,e[0]);for(var a=1;a<e.length;a++){var o=e[a];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[2]<n[2]&&(n[2]=o[2]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1]),o[2]>i[2]&&(i[2]=o[2])}t._dirty=!0,r._dirty=!0}},union:function(e){var t=this.min,r=this.max;return be.min(t.array,t.array,e.min.array),be.max(r.array,r.array,e.max.array),t._dirty=!0,r._dirty=!0,this},intersection:function(e){var t=this.min,r=this.max;return be.max(t.array,t.array,e.min.array),be.min(r.array,r.array,e.max.array),t._dirty=!0,r._dirty=!0,this},intersectBoundingBox:function(e){var t=this.min.array,r=this.max.array,n=e.min.array,i=e.max.array;return!(t[0]>i[0]||t[1]>i[1]||t[2]>i[2]||r[0]<n[0]||r[1]<n[1]||r[2]<n[2])},containBoundingBox:function(e){var t=this.min.array,r=this.max.array,n=e.min.array,i=e.max.array;return t[0]<=n[0]&&t[1]<=n[1]&&t[2]<=n[2]&&r[0]>=i[0]&&r[1]>=i[1]&&r[2]>=i[2]},containPoint:function(e){var t=this.min.array,r=this.max.array,n=e.array;return t[0]<=n[0]&&t[1]<=n[1]&&t[2]<=n[2]&&r[0]>=n[0]&&r[1]>=n[1]&&r[2]>=n[2]},isFinite:function(){var e=this.min.array,t=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:(function(){var e=be.create(),t=be.create(),r=be.create(),n=be.create(),i=be.create(),a=be.create();return function(o,s){var l=o.min.array,u=o.max.array,c=s.array;return e[0]=c[0]*l[0],e[1]=c[1]*l[0],e[2]=c[2]*l[0],t[0]=c[0]*u[0],t[1]=c[1]*u[0],t[2]=c[2]*u[0],r[0]=c[4]*l[1],r[1]=c[5]*l[1],r[2]=c[6]*l[1],n[0]=c[4]*u[1],n[1]=c[5]*u[1],n[2]=c[6]*u[1],i[0]=c[8]*l[2],i[1]=c[9]*l[2],i[2]=c[10]*l[2],a[0]=c[8]*u[2],a[1]=c[9]*u[2],a[2]=c[10]*u[2],l=this.min.array,u=this.max.array,l[0]=Math.min(e[0],t[0])+Math.min(r[0],n[0])+Math.min(i[0],a[0])+c[12],l[1]=Math.min(e[1],t[1])+Math.min(r[1],n[1])+Math.min(i[1],a[1])+c[13],l[2]=Math.min(e[2],t[2])+Math.min(r[2],n[2])+Math.min(i[2],a[2])+c[14],u[0]=Math.max(e[0],t[0])+Math.max(r[0],n[0])+Math.max(i[0],a[0])+c[12],u[1]=Math.max(e[1],t[1])+Math.max(r[1],n[1])+Math.max(i[1],a[1])+c[13],u[2]=Math.max(e[2],t[2])+Math.max(r[2],n[2])+Math.max(i[2],a[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}})(),applyProjection:function(e){var t=this.min.array,r=this.max.array,n=e.array,i=t[0],a=t[1],o=t[2],s=r[0],l=r[1],u=t[2],c=r[0],f=r[1],d=r[2];if(n[15]===1)t[0]=n[0]*i+n[12],t[1]=n[5]*a+n[13],r[2]=n[10]*o+n[14],r[0]=n[0]*c+n[12],r[1]=n[5]*f+n[13],t[2]=n[10]*d+n[14];else{var h=-1/o;t[0]=n[0]*i*h,t[1]=n[5]*a*h,r[2]=(n[10]*o+n[14])*h,h=-1/u,r[0]=n[0]*s*h,r[1]=n[5]*l*h,h=-1/d,t[2]=(n[10]*d+n[14])*h}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var t=0;t<8;t++)e[t]=be.fromValues(0,0,0);this.vertices=e}var r=this.min.array,n=this.max.array;return Dd(e[0],r[0],r[1],r[2]),Dd(e[1],r[0],n[1],r[2]),Dd(e[2],n[0],r[1],r[2]),Dd(e[3],n[0],n[1],r[2]),Dd(e[4],r[0],r[1],n[2]),Dd(e[5],r[0],n[1],n[2]),Dd(e[6],n[0],r[1],n[2]),Dd(e[7],n[0],n[1],n[2]),this},copy:function(e){var t=this.min,r=this.max;return O2(t.array,e.min.array),O2(r.array,e.max.array),t._dirty=!0,r._dirty=!0,this},clone:function(){var e=new za;return e.copy(this),e}};var cot=0,wc=Ua.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+cot++),this.position||(this.position=new qe),this.rotation||(this.rotation=new Sn),this.scale||(this.scale=new qe(1,1,1)),this.worldTransform=new At,this.localTransform=new At,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var t=this._scene;if(t){var r=t._nodeRepository;delete r[this.name],r[e]=this}this.name=e},add:function(e){var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var r=this._scene;r&&r!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var t=this._children,r=t.indexOf(e);r<0||(t.splice(r,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,t=0;t<e.length;t++)e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var t=e._parent;t;){if(t===this)return!0;t=t._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},getDescendantByName:function(e){for(var t=this._children,r=0;r<t.length;r++){var n=t[r];if(n.name===e)return n;var i=n.getDescendantByName(e);if(i)return i}},queryNode:function(e){if(e){for(var t=e.split("/"),r=this,n=0;n<t.length;n++){var i=t[n];if(i){for(var a=!1,o=r._children,s=0;s<o.length;s++){var l=o[s];if(l.name===i){r=l,a=!0;break}}if(!a)return}}return r}},getPath:function(e){if(!this._parent)return"/";for(var t=this._parent,r=this.name;t._parent&&(r=t.name+"/"+r,t._parent!=e);)t=t._parent;return!t._parent&&e?null:r},traverse:function(e,t){e.call(t,this);for(var r=this._children,n=0,i=r.length;n<i;n++)r[n].traverse(e,t)},eachChild:function(e,t){for(var r=this._children,n=0,i=r.length;n<i;n++){var a=r[n];e.call(t,a,n)}},setLocalTransform:function(e){st.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position)},setWorldTransform:function(e){st.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:(function(){var e=st.create();return function(t){var r=this.localTransform,n=this.worldTransform;this._parent?(st.invert(e,this._parent.worldTransform.array),st.multiply(r.array,e,n.array)):st.copy(r.array,n.array);var i=t?null:this.scale;r.decomposeMatrix(i,this.rotation,this.position)}})(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,t=this.rotation,r=this.scale;if(this.transformNeedsUpdate()){var n=this.localTransform.array;st.fromRotationTranslation(n,t.array,e.array),st.scale(n,n,r.array),t._dirty=!1,r._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,t=this.worldTransform.array;this._parent?st.multiplyAffine(t,this._parent.worldTransform.array,e):st.copy(t,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].update(e)},getBoundingBox:(function(){function e(i){return!i.invisible&&i.geometry}var t=new za,r=new At,n=new At;return function(i,a){return a=a||new za,this._parent?At.invert(n,this._parent.worldTransform):At.identity(n),this.traverse(function(o){o.geometry&&o.geometry.boundingBox&&(t.copy(o.geometry.boundingBox),At.multiply(r,n,o.worldTransform),t.applyTransform(r),a.union(t))},this,e),a}})(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var t=this.worldTransform.array;if(e){var r=e.array;return r[0]=t[12],r[1]=t[13],r[2]=t[14],e}else return new qe(t[12],t[13],t[14])},clone:function(){var e=new this.constructor,t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var r=0;r<t.length;r++)e.add(t[r].clone());return e},rotateAround:(function(){var e=new qe,t=new At;return function(r,n,i){e.copy(this.position).subtract(r);var a=this.localTransform;a.identity(),a.translate(r),a.rotate(i,n),t.fromRotationTranslation(this.rotation,e),a.multiply(t),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}})(),lookAt:(function(){var e=new At;return function(t,r){e.lookAt(this.position,t,r||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=t}})()}),qo=wc.extend({material:null,geometry:null,mode:nt.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:nt.BACK,frontFace:nt.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,t){},getBoundingBox:function(e,t){return t=wc.prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t},clone:(function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var t=wc.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var r=0;r<e.length;r++){var n=e[r];t[n]!==this[n]&&(t[n]=this[n])}return t}})()});qo.POINTS=nt.POINTS;qo.LINES=nt.LINES;qo.LINE_LOOP=nt.LINE_LOOP;qo.LINE_STRIP=nt.LINE_STRIP;qo.TRIANGLES=nt.TRIANGLES;qo.TRIANGLE_STRIP=nt.TRIANGLE_STRIP;qo.TRIANGLE_FAN=nt.TRIANGLE_FAN;qo.BACK=nt.BACK;qo.FRONT=nt.FRONT;qo.FRONT_AND_BACK=nt.FRONT_AND_BACK;qo.CW=nt.CW;qo.CCW=nt.CCW;var FB=Ua.extend({scene:null,camera:null,renderer:null},function(){this._ray=new bp,this._ndc=new hr},{pick:function(e,t,r){var n=this.pickAll(e,t,[],r);return n[0]||null},pickAll:function(e,t,r,n){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),r=r||[],this._intersectNode(this.scene,r,n||!1),r.sort(this._intersectionCompareFunc),r},_intersectNode:function(e,t,r){e instanceof qo&&e.isRenderable()&&(!e.ignorePicking||r)&&(e.mode===nt.TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,t);for(var n=0;n<e._children.length;n++)this._intersectNode(e._children[n],t,r)},_intersectRenderable:(function(){var e=new qe,t=new qe,r=new qe,n=new bp,i=new At;return function(a,o){var s=a.isSkinnedMesh();n.copy(this._ray),At.invert(i,a.worldTransform),s||n.applyTransform(i);var l=a.geometry,u=s?a.skeleton.boundingBox:l.boundingBox;if(!(u&&!n.intersectBoundingBox(u))){if(l.pick){l.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,a,o);return}else if(l.pickByRay){l.pickByRay(n,a,o);return}var c=a.cullFace===nt.BACK&&a.frontFace===nt.CCW||a.cullFace===nt.FRONT&&a.frontFace===nt.CW,f,d=l.indices,h=l.attributes.position,v=l.attributes.weight,p=l.attributes.joint,g,m=[];if(!(!h||!h.value||!d)){if(s){g=a.skeleton.getSubSkinMatrices(a.__uid__,a.joints);for(var y=0;y<a.joints.length;y++){m[y]=m[y]||[];for(var x=0;x<16;x++)m[y][x]=g[y*16+x]}var b=[],w=[],S=[],C=[],E=[],A=l.attributes.skinnedPosition;(!A||!A.value)&&(l.createAttribute("skinnedPosition","f",3),A=l.attributes.skinnedPosition,A.init(l.vertexCount));for(var y=0;y<l.vertexCount;y++){h.get(y,b),v.get(y,w),p.get(y,S),w[3]=1-w[0]-w[1]-w[2],be.set(C,0,0,0);for(var x=0;x<4;x++)S[x]>=0&&w[x]>1e-4&&(be.transformMat4(E,b,m[S[x]]),be.scaleAndAdd(C,C,E,w[x]));A.set(y,C)}}for(var y=0;y<d.length;y+=3){var M=d[y],D=d[y+1],R=d[y+2],L=s?l.attributes.skinnedPosition:h;if(L.get(M,e.array),L.get(D,t.array),L.get(R,r.array),c?f=n.intersectTriangle(e,t,r,a.culling):f=n.intersectTriangle(e,r,t,a.culling),f){var k=new qe;s?qe.copy(k,f):qe.transformMat4(k,f,a.worldTransform),o.push(new FB.Intersection(f,k,a,[M,D,R],y/3,qe.dist(k,this._ray.origin)))}}}}}})(),_intersectionCompareFunc:function(e,t){return e.distance-t.distance}});FB.Intersection=function(e,t,r,n,i,a){this.point=e,this.pointWorld=t,this.target=r,this.triangle=n,this.triangleIndex=i,this.distance=a};var M1="__dt__",Rm=function(){this._contextId=0,this._caches=[],this._context={}};Rm.prototype={use:function(e,t){var r=this._caches;r[e]||(r[e]={},t&&(r[e]=t())),this._contextId=e,this._context=r[e]},put:function(e,t){this._context[e]=t},get:function(e){return this._context[e]},dirty:function(e){e=e||"";var t=M1+e;this.put(t,!0)},dirtyAll:function(e){e=e||"";for(var t=M1+e,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!0)},fresh:function(e){e=e||"";var t=M1+e;this.put(t,!1)},freshAll:function(e){e=e||"";for(var t=M1+e,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!1)},isDirty:function(e){e=e||"";var t=M1+e,r=this._context;return!r.hasOwnProperty(t)||r[t]===!0},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,t){var r=Object.keys(this._caches);r.forEach(function(n){e&&e.call(t,n)})},miss:function(e){return!this._context.hasOwnProperty(e)}};Rm.prototype.constructor=Rm;var xt=Ua.extend({width:512,height:512,type:nt.UNSIGNED_BYTE,format:nt.RGBA,wrapS:nt.REPEAT,wrapT:nt.REPEAT,minFilter:nt.LINEAR_MIPMAP_LINEAR,magFilter:nt.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new Rm},{getWebGLTexture:function(e){var t=e.gl,r=this._cache;return r.use(e.__uid__),r.miss("webgl_texture")&&r.put("webgl_texture",t.createTexture()),this.dynamic?this.update(e):r.isDirty()&&(this.update(e),r.fresh()),r.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var t=e.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===nt.DEPTH_COMPONENT&&(this.useMipmap=!1);var r=e.getGLExtension("EXT_sRGB");this.format===xt.SRGB&&!r&&(this.format=xt.RGB),this.format===xt.SRGB_ALPHA&&!r&&(this.format=xt.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?nt.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?nt.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===nt.NEAREST_MIPMAP_NEAREST||e===nt.NEAREST_MIPMAP_LINEAR?nt.NEAREST:e===nt.LINEAR_MIPMAP_LINEAR||e===nt.LINEAR_MIPMAP_NEAREST?nt.LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var t=1;t<32;t<<=1)e=e|e>>t;return e+1},dispose:function(e){var t=this._cache;t.use(e.__uid__);var r=t.get("webgl_texture");r&&e.gl.deleteTexture(r),t.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(xt.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}});Object.defineProperty(xt.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}});xt.BYTE=nt.BYTE;xt.UNSIGNED_BYTE=nt.UNSIGNED_BYTE;xt.SHORT=nt.SHORT;xt.UNSIGNED_SHORT=nt.UNSIGNED_SHORT;xt.INT=nt.INT;xt.UNSIGNED_INT=nt.UNSIGNED_INT;xt.FLOAT=nt.FLOAT;xt.HALF_FLOAT=36193;xt.UNSIGNED_INT_24_8_WEBGL=34042;xt.DEPTH_COMPONENT=nt.DEPTH_COMPONENT;xt.DEPTH_STENCIL=nt.DEPTH_STENCIL;xt.ALPHA=nt.ALPHA;xt.RGB=nt.RGB;xt.RGBA=nt.RGBA;xt.LUMINANCE=nt.LUMINANCE;xt.LUMINANCE_ALPHA=nt.LUMINANCE_ALPHA;xt.SRGB=35904;xt.SRGB_ALPHA=35906;xt.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;xt.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;xt.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778;xt.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779;xt.NEAREST=nt.NEAREST;xt.LINEAR=nt.LINEAR;xt.NEAREST_MIPMAP_NEAREST=nt.NEAREST_MIPMAP_NEAREST;xt.LINEAR_MIPMAP_NEAREST=nt.LINEAR_MIPMAP_NEAREST;xt.NEAREST_MIPMAP_LINEAR=nt.NEAREST_MIPMAP_LINEAR;xt.LINEAR_MIPMAP_LINEAR=nt.LINEAR_MIPMAP_LINEAR;xt.REPEAT=nt.REPEAT;xt.CLAMP_TO_EDGE=nt.CLAMP_TO_EDGE;xt.MIRRORED_REPEAT=nt.MIRRORED_REPEAT;var _a=qo.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=qo.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});_a.POINTS=nt.POINTS;_a.LINES=nt.LINES;_a.LINE_LOOP=nt.LINE_LOOP;_a.LINE_STRIP=nt.LINE_STRIP;_a.TRIANGLES=nt.TRIANGLES;_a.TRIANGLE_STRIP=nt.TRIANGLE_STRIP;_a.TRIANGLE_FAN=nt.TRIANGLE_FAN;_a.BACK=nt.BACK;_a.FRONT=nt.FRONT;_a.FRONT_AND_BACK=nt.FRONT_AND_BACK;_a.CW=nt.CW;_a.CCW=nt.CCW;var Nb={};Nb.isPowerOfTwo=function(e){return(e&e-1)===0};Nb.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e};Nb.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))};var qY=Nb.isPowerOfTwo;function JY(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function fot(e,t){var r=JY(e.width),n=JY(e.height);t=t||document.createElement("canvas"),t.width=r,t.height=n;var i=t.getContext("2d");return i.drawImage(e.image,0,0,r,n),t}var Mr=xt.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var r=this.format,n=this.type,i=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===xt.REPEAT||this.wrapT===xt.REPEAT)&&this.NPOT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,i?this.wrapS:this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i?this.wrapT:this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i?this.magFilter:this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i?this.minFilter:this.getAvailableMinFilter());var a=e.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),n===36193){var o=e.getGLExtension("OES_texture_half_float");o||(n=nt.FLOAT)}if(this.mipmaps.length)for(var s=this.width,l=this.height,u=0;u<this.mipmaps.length;u++){var c=this.mipmaps[u];this._updateTextureData(t,c,u,s,l,r,n,!1),s/=2,l/=2}else this._updateTextureData(t,this,0,this.width,this.height,r,n,i),this.useMipmap&&(!this.NPOT||i)&&t.generateMipmap(t.TEXTURE_2D);t.bindTexture(t.TEXTURE_2D,null)},_updateTextureData:function(e,t,r,n,i,a,o,s){if(t.image){var l=t.image;s&&(this._potCanvas=fot(this,this._potCanvas),l=this._potCanvas),e.texImage2D(e.TEXTURE_2D,r,a,a,o,l)}else a<=xt.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=xt.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,r,a,n,i,0,t.pixels):e.texImage2D(e.TEXTURE_2D,r,a,n,i,0,a,o,t.pixels)},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_2D))},isPowerOfTwo:function(){return qY(this.width)&&qY(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,t){var r=dn.createImage();t&&(r.crossOrigin=t);var n=this;return r.onload=function(){n.dirty(),n.trigger("success",n)},r.onerror=function(){n.trigger("error",n)},r.src=e,this.image=r,this}});Object.defineProperty(Mr.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}});Object.defineProperty(Mr.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});function Zue(e){return{byte:dn.Int8Array,ubyte:dn.Uint8Array,short:dn.Int16Array,ushort:dn.Uint16Array}[e]||dn.Float32Array}function yI(e){return"attr_"+e}function Lm(e,t,r,n){switch(this.name=e,this.type=t,this.size=r,this.semantic=n||"",this.value=null,r){case 1:this.get=function(i){return this.value[i]},this.set=function(i,a){this.value[i]=a},this.copy=function(i,a){this.value[i]=this.value[i]};break;case 2:this.get=function(i,a){var o=this.value;return a[0]=o[i*2],a[1]=o[i*2+1],a},this.set=function(i,a){var o=this.value;o[i*2]=a[0],o[i*2+1]=a[1]},this.copy=function(i,a){var o=this.value;a*=2,i*=2,o[i]=o[a],o[i+1]=o[a+1]};break;case 3:this.get=function(i,a){var o=i*3,s=this.value;return a[0]=s[o],a[1]=s[o+1],a[2]=s[o+2],a},this.set=function(i,a){var o=i*3,s=this.value;s[o]=a[0],s[o+1]=a[1],s[o+2]=a[2]},this.copy=function(i,a){var o=this.value;a*=3,i*=3,o[i]=o[a],o[i+1]=o[a+1],o[i+2]=o[a+2]};break;case 4:this.get=function(i,a){var o=this.value,s=i*4;return a[0]=o[s],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],a},this.set=function(i,a){var o=this.value,s=i*4;o[s]=a[0],o[s+1]=a[1],o[s+2]=a[2],o[s+3]=a[3]},this.copy=function(i,a){var o=this.value;a*=4,i*=4,o[i]=o[a],o[i+1]=o[a+1],o[i+2]=o[a+2],o[i+3]=o[a+3]}}}Lm.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var t=Zue(this.type);this.value=new t(e*this.size)}};Lm.prototype.fromArray=function(e){var t=Zue(this.type),r;if(e[0]&&e[0].length){var n=0,i=this.size;r=new t(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)r[n++]=e[a][o]}else r=new t(e);this.value=r};Lm.prototype.clone=function(e){var t=new Lm(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),t};function que(e,t,r,n,i){this.name=e,this.type=t,this.buffer=r,this.size=n,this.semantic=i,this.symbol="",this.needsRemove=!1}function Jue(e){this.buffer=e,this.count=0}var Jo=Ua.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new Rm,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++)this.dirtyAttribute(e[t]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(yI(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,t){if(e<this.triangleCount&&e>=0){t||(t=[]);var r=this.indices;return t[0]=r[e*3],t[1]=r[e*3+1],t[2]=r[e*3+2],t}},setTriangleIndices:function(e,t){var r=this.indices;r[e*3]=t[0],r[e*3+1]=t[1],r[e*3+2]=t[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var t,r=this.vertexCount>65535?dn.Uint32Array:dn.Uint16Array;if(e[0]&&e[0].length){var n=0,i=3;t=new r(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)t[n++]=e[a][o]}else t=new r(e);this.indices=t},createAttribute:function(e,t,r,n){var i=new Lm(e,t,r,n);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=i,this._attributeList.push(e),i},removeAttribute:function(e){var t=this._attributeList,r=t.indexOf(e);return r>=0?(t.splice(r,1),delete this.attributes[e],!0):!1},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var r=[],n=this.vertexCount,i=0;i<t.length;i++){var a=t[i],o=this.attributes[a];o.value&&o.value.length===n*o.size&&r.push(a)}return this._enabledAttributes=r,r},getBufferChunks:function(e){var t=this._cache;t.use(e.__uid__);var r=t.isDirty("attributes"),n=t.isDirty("indices");if(r||n){this._updateBuffer(e.gl,r,n);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)t.fresh(yI(i[a]));t.fresh("attributes"),t.fresh("indices")}return t.fresh("any"),t.get("chunks")},_updateBuffer:function(e,t,r){var n=this._cache,i=n.get("chunks"),a=!1;i||(i=[],i[0]={attributeBuffers:[],indicesBuffer:null},n.put("chunks",i),a=!0);var o=i[0],s=o.attributeBuffers,l=o.indicesBuffer;if(t||a){var u=this.getEnabledAttributes(),c={};if(!a)for(var f=0;f<s.length;f++)c[s[f].name]=s[f];for(var d=0;d<u.length;d++){var h=u[d],v=this.attributes[h],p;a||(p=c[h]);var g;p?g=p.buffer:g=e.createBuffer(),n.isDirty(yI(h))&&(e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,v.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[d]=new que(h,v.type,g,v.size,v.semantic)}for(var f=d;f<s.length;f++)e.deleteBuffer(s[f].buffer);s.length=d}this.isUseIndices()&&(r||a)&&(l||(l=new Jue(e.createBuffer()),o.indicesBuffer=l),l.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var t=this._cache;t.use(e.__uid__);var r=t.get("chunks");if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(Jo.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),!e||!e.value?0:e.value.length/e.size}}),Object.defineProperty(Jo.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}}));Jo.STATIC_DRAW=nt.STATIC_DRAW;Jo.DYNAMIC_DRAW=nt.DYNAMIC_DRAW;Jo.STREAM_DRAW=nt.STREAM_DRAW;Jo.AttributeBuffer=que;Jo.IndicesBuffer=Jue;Jo.Attribute=Lm;var ko=be.create,pg=be.add,Av=be.set,Qu=Jo.Attribute,Vr=Jo.extend(function(){return{attributes:{position:new Qu("position","float",3,"POSITION"),texcoord0:new Qu("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new Qu("texcoord1","float",2,"TEXCOORD_1"),normal:new Qu("normal","float",3,"NORMAL"),tangent:new Qu("tangent","float",4,"TANGENT"),color:new Qu("color","float",4,"COLOR"),weight:new Qu("weight","float",3,"WEIGHT"),joint:new Qu("joint","float",4,"JOINT"),barycentric:new Qu("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new za);var t=this.attributes.position.value;if(t&&t.length){var r=e.min,n=e.max,i=r.array,a=n.array;be.set(i,t[0],t[1],t[2]),be.set(a,t[0],t[1],t[2]);for(var o=3;o<t.length;){var s=t[o++],l=t[o++],u=t[o++];s<i[0]&&(i[0]=s),l<i[1]&&(i[1]=l),u<i[2]&&(i[2]=u),s>a[0]&&(a[0]=s),l>a[1]&&(a[1]=l),u>a[2]&&(a[2]=u)}r._dirty=!0,n._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,t=this.attributes,r=t.position.value,n=t.normal.value;if(!n||n.length!==r.length)n=t.normal.value=new dn.Float32Array(r.length);else for(var i=0;i<n.length;i++)n[i]=0;for(var a=ko(),o=ko(),s=ko(),l=ko(),u=ko(),c=ko(),f=e?e.length:this.vertexCount,d,h,v,p=0;p<f;){e?(d=e[p++],h=e[p++],v=e[p++]):(d=p++,h=p++,v=p++),Av(a,r[d*3],r[d*3+1],r[d*3+2]),Av(o,r[h*3],r[h*3+1],r[h*3+2]),Av(s,r[v*3],r[v*3+1],r[v*3+2]),be.sub(l,a,o),be.sub(u,o,s),be.cross(c,l,u);for(var i=0;i<3;i++)n[d*3+i]=n[d*3+i]+c[i],n[h*3+i]=n[h*3+i]+c[i],n[v*3+i]=n[v*3+i]+c[i]}for(var i=0;i<n.length;)Av(c,n[i],n[i+1],n[i+2]),be.normalize(c,c),n[i++]=c[0],n[i++]=c[1],n[i++]=c[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,r=t.position.value,n=t.normal.value,i=ko(),a=ko(),o=ko(),s=ko(),l=ko(),u=ko();n||(n=t.normal.value=new Float32Array(r.length));for(var c=e?e.length:this.vertexCount,f,d,h,v=0;v<c;){e?(f=e[v++],d=e[v++],h=e[v++]):(f=v++,d=v++,h=v++),Av(i,r[f*3],r[f*3+1],r[f*3+2]),Av(a,r[d*3],r[d*3+1],r[d*3+2]),Av(o,r[h*3],r[h*3+1],r[h*3+2]),be.sub(s,i,a),be.sub(l,a,o),be.cross(u,s,l),be.normalize(u,u);for(var p=0;p<3;p++)n[f*3+p]=u[p],n[d*3+p]=u[p],n[h*3+p]=u[p]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(e*4));var r=t.texcoord0.value,n=t.position.value,i=t.tangent.value,a=t.normal.value;if(!r){console.warn("Geometry without texcoords can't generate tangents.");return}for(var o=[],s=[],l=0;l<e;l++)o[l]=[0,0,0],s[l]=[0,0,0];for(var u=[0,0,0],c=[0,0,0],f=this.indices,d=f?f.length:this.vertexCount,h,v,p,l=0;l<d;){f?(h=f[l++],v=f[l++],p=f[l++]):(h=l++,v=l++,p=l++);var g=r[h*2],m=r[v*2],y=r[p*2],x=r[h*2+1],b=r[v*2+1],w=r[p*2+1],S=n[h*3],C=n[v*3],E=n[p*3],A=n[h*3+1],M=n[v*3+1],D=n[p*3+1],R=n[h*3+2],L=n[v*3+2],k=n[p*3+2],O=C-S,F=E-S,H=M-A,V=D-A,U=L-R,K=k-R,q=m-g,N=y-g,W=b-x,j=w-x,Z=1/(q*j-W*N);u[0]=(j*O-W*F)*Z,u[1]=(j*H-W*V)*Z,u[2]=(j*U-W*K)*Z,c[0]=(q*F-N*O)*Z,c[1]=(q*V-N*H)*Z,c[2]=(q*K-N*U)*Z,pg(o[h],o[h],u),pg(o[v],o[v],u),pg(o[p],o[p],u),pg(s[h],s[h],c),pg(s[v],s[v],c),pg(s[p],s[p],c)}for(var ve=ko(),Te=ko(),Se=ko(),l=0;l<e;l++){Se[0]=a[l*3],Se[1]=a[l*3+1],Se[2]=a[l*3+2];var te=o[l];be.scale(ve,Se,be.dot(Se,te)),be.sub(ve,te,ve),be.normalize(ve,ve),be.cross(Te,Se,te),i[l*4]=ve[0],i[l*4+1]=ve[1],i[l*4+2]=ve[2],i[l*4+3]=be.dot(Te,s[l])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new dn.Uint32Array(this.indices));for(var e=this.attributes,t=this.indices,r=this.getEnabledAttributes(),n={},i=0;i<r.length;i++){var a=r[i];n[a]=e[a].value,e[a].init(this.indices.length)}for(var o=0,s=0;s<t.length;s++){for(var l=t[s],i=0;i<r.length;i++)for(var a=r[i],u=e[a].value,c=e[a].size,f=0;f<c;f++)u[o*c+f]=n[a][l*c+f];t[s]=o,o++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,r=this.indices;if(!(t&&t.length===r.length*3)){t=e.barycentric.value=new Float32Array(r.length*3);for(var n=0;n<(r?r.length:this.vertexCount/3);)for(var i=0;i<3;i++){var a=r?r[n++]:n*3+i;t[a*3+i]=1}this.dirty()}}},applyTransform:function(e){var t=this.attributes,r=t.position.value,n=t.normal.value,i=t.tangent.value;e=e.array;var a=st.create();st.invert(a,e),st.transpose(a,a);var o=be.transformMat4,s=be.forEach;s(r,3,0,null,o,e),n&&s(n,3,0,null,o,a),i&&s(i,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var t=this._cache;t.use(e.__uid__);var r=t.get("chunks");if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Vr.STATIC_DRAW=Jo.STATIC_DRAW;Vr.DYNAMIC_DRAW=Jo.DYNAMIC_DRAW;Vr.STREAM_DRAW=Jo.STREAM_DRAW;Vr.AttributeBuffer=Jo.AttributeBuffer;Vr.IndicesBuffer=Jo.IndicesBuffer;Vr.Attribute=Qu;const dot=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`;var Jl="uniform vec3 ",D1="uniform float ",gg="@export clay.header.",mg="@end",ka=":unconfigurable;";const hot=[gg+"directional_light",Jl+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+ka,Jl+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+ka,mg,gg+"ambient_light",Jl+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+ka,mg,gg+"ambient_sh_light",Jl+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+ka,Jl+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+ka,dot,mg,gg+"ambient_cubemap_light",Jl+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+ka,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+ka,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+ka,mg,gg+"point_light",Jl+"pointLightPosition[POINT_LIGHT_COUNT]"+ka,D1+"pointLightRange[POINT_LIGHT_COUNT]"+ka,Jl+"pointLightColor[POINT_LIGHT_COUNT]"+ka,mg,gg+"spot_light",Jl+"spotLightPosition[SPOT_LIGHT_COUNT]"+ka,Jl+"spotLightDirection[SPOT_LIGHT_COUNT]"+ka,D1+"spotLightRange[SPOT_LIGHT_COUNT]"+ka,D1+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+ka,D1+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+ka,D1+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+ka,Jl+"spotLightColor[SPOT_LIGHT_COUNT]"+ka,mg].join(`
`);wt.import(hot);var Mu=wc.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=wc.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}}),Ux=function(e,t){this.normal=e||new qe(0,1,0),this.distance=t||0};Ux.prototype={constructor:Ux,distanceToPoint:function(e){return be.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,t){t||(t=new qe);var r=this.distanceToPoint(e);return be.scaleAndAdd(t.array,e.array,this.normal.array,-r),t._dirty=!0,t},normalize:function(){var e=1/be.len(this.normal.array);be.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var t=e.vertices,r=this.normal.array,n=be.dot(t[0].array,r)>this.distance,i=1;i<8;i++)if(be.dot(t[i].array,r)>this.distance!=n)return!0},intersectLine:(function(){var e=be.create();return function(t,r,n){var i=this.distanceToPoint(t),a=this.distanceToPoint(r);if(i>0&&a>0||i<0&&a<0)return null;var o=this.normal.array,s=this.distance,l=t.array;be.sub(e,r.array,t.array),be.normalize(e,e);var u=be.dot(o,e);if(u===0)return null;n||(n=new qe);var c=(be.dot(o,l)-s)/u;return be.scaleAndAdd(n.array,l,e,-c),n._dirty=!0,n}})(),applyTransform:(function(){var e=st.create(),t=at.create(),r=at.create();return r[3]=1,function(n){n=n.array,be.scale(r,this.normal.array,this.distance),at.transformMat4(r,r,n),this.distance=be.dot(r,this.normal.array),st.invert(e,n),st.transpose(e,e),t[3]=0,be.copy(t,this.normal.array),at.transformMat4(t,t,e),be.copy(this.normal.array,t)}})(),copy:function(e){be.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new Ux;return e.copy(this),e}};var bi=be.set,QY=be.copy,eK=be.transformMat4,xI=Math.min,_I=Math.max,dM=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new Ux);this.boundingBox=new za,this.vertices=[];for(var e=0;e<8;e++)this.vertices[e]=be.fromValues(0,0,0)};dM.prototype={setFromProjection:function(e){var t=this.planes,r=e.array,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],u=r[6],c=r[7],f=r[8],d=r[9],h=r[10],v=r[11],p=r[12],g=r[13],m=r[14],y=r[15];bi(t[0].normal.array,o-n,c-s,v-f),t[0].distance=-(y-p),t[0].normalize(),bi(t[1].normal.array,o+n,c+s,v+f),t[1].distance=-(y+p),t[1].normalize(),bi(t[2].normal.array,o+i,c+l,v+d),t[2].distance=-(y+g),t[2].normalize(),bi(t[3].normal.array,o-i,c-l,v-d),t[3].distance=-(y-g),t[3].normalize(),bi(t[4].normal.array,o-a,c-u,v-h),t[4].distance=-(y-m),t[4].normalize(),bi(t[5].normal.array,o+a,c+u,v+h),t[5].distance=-(y+m),t[5].normalize();var x=this.boundingBox,b=this.vertices;if(y===0){var w=l/n,S=-m/(h-1),C=-m/(h+1),E=-C/l,A=-S/l;x.min.set(-E*w,-E,C),x.max.set(E*w,E,S),bi(b[0],-E*w,-E,C),bi(b[1],-E*w,E,C),bi(b[2],E*w,-E,C),bi(b[3],E*w,E,C),bi(b[4],-A*w,-A,S),bi(b[5],-A*w,A,S),bi(b[6],A*w,-A,S),bi(b[7],A*w,A,S)}else{var M=(-1-p)/n,D=(1-p)/n,R=(1-g)/l,L=(-1-g)/l,k=(-1-m)/h,O=(1-m)/h;x.min.set(Math.min(M,D),Math.min(L,R),Math.min(O,k)),x.max.set(Math.max(D,M),Math.max(R,L),Math.max(k,O));var F=x.min.array,H=x.max.array;bi(b[0],F[0],F[1],F[2]),bi(b[1],F[0],H[1],F[2]),bi(b[2],H[0],F[1],F[2]),bi(b[3],H[0],H[1],F[2]),bi(b[4],F[0],F[1],H[2]),bi(b[5],F[0],H[1],H[2]),bi(b[6],H[0],F[1],H[2]),bi(b[7],H[0],H[1],H[2])}},getTransformedBoundingBox:(function(){var e=be.create();return function(t,r){var n=this.vertices,i=r.array,a=t.min,o=t.max,s=a.array,l=o.array,u=n[0];eK(e,u,i),QY(s,e),QY(l,e);for(var c=1;c<8;c++)u=n[c],eK(e,u,i),s[0]=xI(e[0],s[0]),s[1]=xI(e[1],s[1]),s[2]=xI(e[2],s[2]),l[0]=_I(e[0],l[0]),l[1]=_I(e[1],l[1]),l[2]=_I(e[2],l[2]);return a._dirty=!0,o._dirty=!0,t}})()};var Im=wc.extend(function(){return{projectionMatrix:new At,invProjectionMatrix:new At,viewMatrix:new At,frustum:new dM}},function(){this.update(!0)},{update:function(e){wc.prototype.update.call(this,e),At.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),At.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){At.copy(this.viewMatrix,e),At.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){At.copy(this.projectionMatrix,e),At.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:(function(){var e=at.create();return function(t,r){var n=r!==void 0?r:new bp,i=t.array[0],a=t.array[1];return at.set(e,i,a,-1,1),at.transformMat4(e,e,this.invProjectionMatrix.array),at.transformMat4(e,e,this.worldTransform.array),be.scale(n.origin.array,e,1/e[3]),at.set(e,i,a,1,1),at.transformMat4(e,e,this.invProjectionMatrix.array),at.transformMat4(e,e,this.worldTransform.array),be.scale(e,e,1/e[3]),be.sub(n.direction.array,e,n.origin.array),be.normalize(n.direction.array,n.direction.array),n.direction._dirty=!0,n.origin._dirty=!0,n}})()}),vot=st.create(),tK=st.create(),bI={};function pot(e){var t=[],r=Object.keys(e);r.sort();for(var n=0;n<r.length;n++){var i=r[n];t.push(i+" "+e[i])}var a=t.join(`
`);if(bI[a])return bI[a];var o=Ti.genGUID();return bI[a]=o,o}function hM(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}hM.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0};hM.prototype.add=function(e,t){t?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e};hM.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var Fh=wc.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new za,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new g0(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof Im?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof Mu&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var t;e instanceof Im?(t=this._cameraList.indexOf(e),t>=0&&this._cameraList.splice(t,1)):e instanceof Mu&&(t=this.lights.indexOf(e),t>=0&&this.lights.splice(t,1)),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var t=this._cameraList.indexOf(e);t>=0&&this._cameraList.splice(t,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var t={},r=0;r<e.length;r++){var n=e[r];if(!n.invisible){var i=n.group;t[i]||(t[i]={}),t[i][n.type]=t[i][n.type]||0,t[i][n.type]++}}this._lightNumber=t;for(var a in t)this._lightProgramKeys[a]=pot(t[a]);this._updateLightUniforms()},cloneNode:function(e){var t=e.clone(),r={};function n(i,a){r[i.__uid__]=a;for(var o=0;o<i._children.length;o++){var s=i._children[o],l=a._children[o];n(s,l)}}return n(e,t),t.traverse(function(i){i.skeleton&&(i.skeleton=i.skeleton.clone(r)),i.material&&(i.material=i.material.clone())}),t},updateRenderList:function(e,t){var r=e.__uid__,n=this._renderLists.get(r);n||(n=new hM,this._renderLists.put(r,n)),n.startCount(),t&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,e,i,n,t),n.endCount(),n},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,t,r,n,i){if(!e.invisible)for(var a=0;a<e._children.length;a++){var o=e._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?vot:o.worldTransform.array,l=o.geometry;st.multiplyAffine(tK,t.viewMatrix.array,s),(i&&!l.boundingBox||!this.isFrustumCulled(o,t,tK))&&n.add(o,o.material.transparent||r)}o._children.length>0&&this._doUpdateRenderList(o,t,r,n,i)}},isFrustumCulled:(function(){var e=new za,t=new At;return function(r,n,i){var a=r.boundingBox;if(a||(r.skeleton&&r.skeleton.boundingBox?a=r.skeleton.boundingBox:a=r.geometry.boundingBox),!a)return!1;if(t.array=i,e.transformFrom(a,t),r.castShadow&&this.viewBoundingBoxLastFrame.union(e),r.frustumCulling){if(!e.intersectBoundingBox(n.frustum.boundingBox))return!0;t.array=n.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(t);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}})(),_updateLightUniforms:function(){var e=this.lights;e.sort(got);var t=this._lightUniforms;for(var r in t)for(var n in t[r])t[r][n].value.length=0;for(var i=0;i<e.length;i++){var a=e[i];if(!a.invisible){var r=a.group;for(var n in a.uniformTemplates){var o=a.uniformTemplates[n],s=o.value(a);if(s!=null){t[r]||(t[r]={}),t[r][n]||(t[r][n]={type:"",value:[]});var l=t[r][n];switch(l.type=o.type+"v",o.type){case"1i":case"1f":case"t":l.value.push(s);break;case"2f":case"3f":case"4f":for(var u=0;u<s.length;u++)l.value.push(s[u]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var e=[];for(var t in this._lightNumber)e.push(t);return e},getNumberChangedLightGroups:function(){var e=[];for(var t in this._lightNumber)this.isLightNumberChanged(t)&&e.push(t);return e},isLightNumberChanged:function(e){var t=this._previousLightNumber,r=this._lightNumber;for(var n in r[e])if(!t[e]||r[e][n]!==t[e][n])return!0;for(var n in t[e])if(!r[e]||r[e][n]!==t[e][n])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:(function(){function e(t,r,n){for(var i in t){var a=t[i];if(a.type==="tv"){if(!r.hasUniform(i))continue;for(var o=[],s=0;s<a.value.length;s++){var l=a.value[s],u=r.takeCurrentTextureSlot(n,l);o.push(u)}r.setUniform(n.gl,"1iv",i,o)}else r.setUniform(n.gl,a.type,i,a.value)}}return function(t,r,n){e(this._lightUniforms[r],t,n),e(this.shadowUniforms,t,n)}})(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function got(e,t){if(t.castShadow&&!e.castShadow)return!0}var Que=(function(){function e(t){this.value=t}return e})(),mot=(function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new Que(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e})(),ece=(function(){function e(t){this._list=new mot,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,a=null;if(i[t]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new Que(r),s.key=t,n.insertEntry(s),i[t]=s}return a},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e})(),F2=Nb.isPowerOfTwo,yot=["px","nx","py","ny","pz","nz"],zp=xt.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var r=this.format,n=this.type;t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var i=e.getGLExtension("EXT_texture_filter_anisotropic");if(i&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_CUBE_MAP,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),n===36193){var a=e.getGLExtension("OES_texture_half_float");a||(n=nt.FLOAT)}if(this.mipmaps.length)for(var o=this.width,s=this.height,l=0;l<this.mipmaps.length;l++){var u=this.mipmaps[l];this._updateTextureData(t,u,l,o,s,r,n),o/=2,s/=2}else this._updateTextureData(t,this,0,this.width,this.height,r,n),!this.NPOT&&this.useMipmap&&t.generateMipmap(t.TEXTURE_CUBE_MAP);t.bindTexture(t.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,t,r,n,i,a,o){for(var s=0;s<6;s++){var l=yot[s],u=t.image&&t.image[l];u?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,r,a,a,o,u):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,r,a,n,i,0,a,o,t.pixels&&t.pixels[l])}},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?F2(this.image.px.width)&&F2(this.image.px.height):F2(this.width)&&F2(this.height)},isRenderable:function(){return this.image.px?yg(this.image.px)&&yg(this.image.nx)&&yg(this.image.py)&&yg(this.image.ny)&&yg(this.image.pz)&&yg(this.image.nz):!!(this.width&&this.height)},load:function(e,t){var r=0,n=this;return Ti.each(e,function(i,a){var o=dn.createImage();t&&(o.crossOrigin=t),o.onload=function(){r--,r===0&&(n.dirty(),n.trigger("success",n))},o.onerror=function(){r--},r++,o.src=i,n.image[a]=o}),this}});Object.defineProperty(zp.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}});Object.defineProperty(zp.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});function yg(e){return e.width>0&&e.height>0}var ga=Im.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,t=Math.atan(1/e[5])*2;this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=Im.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}}),N2="framebuffer",vf="renderbuffer",rK=vf+"_width",nK=vf+"_height",wI=vf+"_attached",SI="depthtexture_attached",Ev=nt.FRAMEBUFFER,P1=nt.RENDERBUFFER,nx=nt.DEPTH_ATTACHMENT,tce=nt.COLOR_ATTACHMENT0,Ri=Ua.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new Rm,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer(Ev,this._getFrameBufferGL(e)),this._boundRenderer=e;var r=this._cache;r.put("viewport",e.viewport);var n=!1,i,a;for(var o in this._textures){n=!0;var s=this._textures[o];s&&(i=s.texture.width,a=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=i,this._height=a,!n&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,i,a,1);var l=r.get("attached_textures");if(l){for(var o in l)if(!this._textures[o]){var u=l[o];this._doDetach(t,o,u)}}if(!r.get(SI)&&this.depthBuffer){r.miss(vf)&&r.put(vf,t.createRenderbuffer());var c=r.get(vf);(i!==r.get(rK)||a!==r.get(nK))&&(t.bindRenderbuffer(P1,c),t.renderbufferStorage(P1,t.DEPTH_COMPONENT16,i,a),r.put(rK,i),r.put(nK,a),t.bindRenderbuffer(P1,null)),r.get(wI)||(t.framebufferRenderbuffer(Ev,nx,P1,c),r.put(wI,!0))}},unbind:function(e){e.__currentFrameBuffer=null;var t=e.gl;t.bindFramebuffer(Ev,null),this._boundRenderer=null,this._cache.use(e.__uid__);var r=this._cache.get("viewport");r&&e.setViewport(r),this.updateMipmap(e)},updateMipmap:function(e){var t=e.gl;for(var r in this._textures){var n=this._textures[r];if(n){var i=n.texture;if(!i.NPOT&&i.useMipmap&&i.minFilter===xt.LINEAR_MIPMAP_LINEAR){var a=i.textureType==="textureCube"?nt.TEXTURE_CUBE_MAP:nt.TEXTURE_2D;t.bindTexture(a,i.getWebGLTexture(e)),t.generateMipmap(a),t.bindTexture(a,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(Ev)},_getFrameBufferGL:function(e){var t=this._cache;return t.use(e.__uid__),t.miss(N2)&&t.put(N2,e.gl.createFramebuffer()),t.get(N2)},attach:function(e,t,r){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");t=t||tce,r=r||nt.TEXTURE_2D;var n=this._boundRenderer,i=n&&n.gl,a;if(i){var o=this._cache;o.use(n.__uid__),a=o.get("attached_textures")}var s=this._textures[t];if(!(s&&s.target===r&&s.texture===e&&a&&a[t]!=null)){var l=!0;n&&(l=this._doAttach(n,e,t,r),this.viewport||n.setViewport(0,0,e.width,e.height,1)),l&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=r)}},_doAttach:function(e,t,r,n){var i=e.gl,a=t.getWebGLTexture(e),o=this._cache.get("attached_textures");if(o&&o[r]){var s=o[r];if(s.texture===t&&s.target===n)return}r=+r;var l=!0;if(r===nx||r===nt.DEPTH_STENCIL_ATTACHMENT){var u=e.getGLExtension("WEBGL_depth_texture");if(u||(console.error("Depth texture is not supported by the browser"),l=!1),t.format!==nt.DEPTH_COMPONENT&&t.format!==nt.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),l=!1),l){var c=this._cache.get(vf);c&&(i.framebufferRenderbuffer(Ev,nx,P1,null),i.deleteRenderbuffer(c),this._cache.put(vf,!1)),this._cache.put(wI,!1),this._cache.put(SI,!0)}}return i.framebufferTexture2D(Ev,r,n,a,0),o||(o={},this._cache.put("attached_textures",o)),o[r]=o[r]||{},o[r].texture=t,o[r].target=n,l},_doDetach:function(e,t,r){e.framebufferTexture2D(Ev,t,r,null,0);var n=this._cache.get("attached_textures");n&&n[t]&&(n[t]=null),(t===nx||t===nt.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(SI,!1)},detach:function(e,t){if(this._textures[e]=null,this._boundRenderer){var r=this._cache;r.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,t)}},dispose:function(e){var t=e.gl,r=this._cache;r.use(e.__uid__);var n=r.get(vf);n&&t.deleteRenderbuffer(n);var i=r.get(N2);i&&t.deleteFramebuffer(i),r.deleteContext(e.__uid__),this._textures={}}});Ri.DEPTH_ATTACHMENT=nx;Ri.COLOR_ATTACHMENT0=tce;Ri.STENCIL_ATTACHMENT=nt.STENCIL_ATTACHMENT;Ri.DEPTH_STENCIL_ATTACHMENT=nt.DEPTH_STENCIL_ATTACHMENT;var xot=["px","nx","py","ny","pz","nz"],NB=Ua.extend(function(){var e={position:new qe,far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new ga({fov:90}),nx:new ga({fov:90}),py:new ga({fov:90}),ny:new ga({fov:90}),pz:new ga({fov:90}),nz:new ga({fov:90})};return t.px.lookAt(qe.POSITIVE_X,qe.NEGATIVE_Y),t.nx.lookAt(qe.NEGATIVE_X,qe.NEGATIVE_Y),t.py.lookAt(qe.POSITIVE_Y,qe.POSITIVE_Z),t.ny.lookAt(qe.NEGATIVE_Y,qe.NEGATIVE_Z),t.pz.lookAt(qe.POSITIVE_Z,qe.NEGATIVE_Y),t.nz.lookAt(qe.NEGATIVE_Z,qe.NEGATIVE_Y),e._frameBuffer=new Ri,e},{getCamera:function(e){return this._cameras[e]},render:function(e,t,r){var n=e.gl;r||t.update();for(var i=this.texture.width,a=2*Math.atan(i/(i-.5))/Math.PI*180,o=0;o<6;o++){var s=xot[o],l=this._cameras[s];if(qe.copy(l.position,this.position),l.far=this.far,l.near=this.near,l.fov=a,this.shadowMapPass){l.update();var u=t.getBoundingBox();u.applyTransform(l.viewMatrix),t.viewBoundingBoxLastFrame.copy(u),this.shadowMapPass.render(e,t,l,!0)}this._frameBuffer.attach(this.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),e.render(t,l,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}}),vM=Vr.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,t=this.widthSegments,r=this.attributes,n=[],i=[],a=[],o=[],s=0;s<=e;s++)for(var l=s/e,u=0;u<=t;u++){var c=u/t;if(n.push([2*c-1,2*l-1,0]),i&&i.push([c,l]),a&&a.push([0,0,1]),u<t&&s<e){var f=u+s*(t+1);o.push([f,f+1,f+t+1]),o.push([f+t+1,f+1,f+t+2])}}r.position.fromArray(n),r.texcoord0.fromArray(i),r.normal.fromArray(a),this.initIndicesFromArray(o),this.boundingBox=new za,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}}),li=new At,rce=Vr.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:xg("px",this.depthSegments,this.heightSegments),nx:xg("nx",this.depthSegments,this.heightSegments),py:xg("py",this.widthSegments,this.depthSegments),ny:xg("ny",this.widthSegments,this.depthSegments),pz:xg("pz",this.widthSegments,this.heightSegments),nz:xg("nz",this.widthSegments,this.heightSegments)},t=["position","texcoord0","normal"],r=0,n=0;for(var i in e)r+=e[i].vertexCount,n+=e[i].indices.length;for(var a=0;a<t.length;a++)this.attributes[t[a]].init(r);this.indices=new dn.Uint16Array(n);var o=0,s=0;for(var i in e){for(var l=e[i],a=0;a<t.length;a++)for(var u=t[a],c=l.attributes[u].value,f=l.attributes[u].size,d=u==="normal",h=0;h<c.length;h++){var v=c[h];this.inside&&d&&(v=-v),this.attributes[u].value[h+f*s]=v}for(var p=l.indices.length,h=0;h<l.indices.length;h++)this.indices[h+o]=s+l.indices[this.inside?p-h-1:h];o+=l.indices.length,s+=l.vertexCount}this.boundingBox=new za,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function xg(e,t,r){li.identity();var n=new vM({widthSegments:t,heightSegments:r});switch(e){case"px":At.translate(li,li,qe.POSITIVE_X),At.rotateY(li,li,Math.PI/2);break;case"nx":At.translate(li,li,qe.NEGATIVE_X),At.rotateY(li,li,-Math.PI/2);break;case"py":At.translate(li,li,qe.POSITIVE_Y),At.rotateX(li,li,-Math.PI/2);break;case"ny":At.translate(li,li,qe.NEGATIVE_Y),At.rotateX(li,li,Math.PI/2);break;case"pz":At.translate(li,li,qe.POSITIVE_Z);break;case"nz":At.translate(li,li,qe.NEGATIVE_Z),At.rotateY(li,li,Math.PI);break}return n.applyTransform(li),n}const _ot=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;wt.import(_ot);var K_=_a.extend(function(){var e=new wt({vertex:wt.source("clay.skybox.vertex"),fragment:wt.source("clay.skybox.fragment")}),t=new Il({shader:e,depthMask:!1});return{scene:null,geometry:new rce,material:t,environmentMap:null,culling:!1,_dummyCamera:new ga}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){e.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),e.minFilter=xt.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,t,r){this.renderSkybox(e,r)},renderSkybox:function(e,t){var r=this._dummyCamera;r.aspect=e.getViewportAspect(),r.fov=t.fov||50,r.updateProjectionMatrix(),At.invert(r.invProjectionMatrix,r.projectionMatrix),r.worldTransform.copy(t.worldTransform),r.viewMatrix.copy(t.viewMatrix),this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],r)}}),bot=542327876,wot=131072,Sot=512,Cot=4;function BB(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var Tot=31,Aot=BB("DXT1"),Eot=BB("DXT3"),Mot=BB("DXT5"),Dot=0,Pot=1,Rot=2,Lot=3,Iot=4,kot=7,Oot=20,Fot=21,Not=28,Bot={parse:function(e,t){var r=new Int32Array(e,0,Tot);if(r[Dot]!==bot||!r(Oot)&Cot)return null;var n=r(Fot),i=r[Iot],a=r[Lot],o=r[Not]&Sot,s=r[Rot]&wot,l,u;switch(n){case Aot:l=8,u=xt.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case Eot:l=16,u=xt.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case Mot:l=16,u=xt.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=r[Pot]+4,f=o?6:1,d=1;s&&(d=Math.max(1,r[kot]));for(var h=[],v=0;v<f;v++){var p=i,g=a;h[v]=new Mr({width:p,height:g,format:u});for(var m=[],y=0;y<d;y++){var x=Math.max(4,p)/4*Math.max(4,g)/4*l,b=new Uint8Array(e,c,x);c+=x,p*=.5,g*=.5,m[y]=b}h[v].pixels=m[0],s&&(h[v].mipmaps=m)}if(t)t.width=h[0].width,t.height=h[0].height,t.format=h[0].format,t.pixels=h[0].pixels,t.mipmaps=h[0].mipmaps;else return h[0]}},DC=String.fromCharCode,zot=8,Hot=32767;function Vot(e,t,r,n){if(e[3]>0){var i=Math.pow(2,e[3]-128-8+n);t[r+0]=e[0]*i,t[r+1]=e[1]*i,t[r+2]=e[2]*i}else t[r+0]=0,t[r+1]=0,t[r+2]=0;return t[r+3]=1,t}function $ot(e,t,r){for(var n="",i=t;i<r;i++)n+=DC(e[i]);return n}function Got(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}function iK(e,t,r,n){for(var i=0,a=0,o=n;o>0;)if(e[a][0]=t[r++],e[a][1]=t[r++],e[a][2]=t[r++],e[a][3]=t[r++],e[a][0]===1&&e[a][1]===1&&e[a][2]===1){for(var s=e[a][3]<<i>>>0;s>0;s--)Got(e[a-1],e[a]),a++,o--;i+=8}else a++,o--,i=0;return r}function Uot(e,t,r,n){if(n<zot|n>Hot)return iK(e,t,r,n);var i=t[r++];if(i!=2)return iK(e,t,r-1,n);if(e[0][1]=t[r++],e[0][2]=t[r++],i=t[r++],(e[0][2]<<8>>>0|i)>>>0!==n)return null;for(var i=0;i<4;i++)for(var a=0;a<n;){var o=t[r++];if(o>128){o=(o&127)>>>0;for(var s=t[r++];o--;)e[a++][i]=s}else for(;o--;)e[a++][i]=t[r++]}return r}var Wot={parseRGBE:function(e,t,r){r==null&&(r=0);var n=new Uint8Array(e),i=n.length;if($ot(n,0,2)==="#?"){for(var a=2;a<i&&!(DC(n[a])===`
`&&DC(n[a+1])===`
`);a++);if(!(a>=i)){a+=2;for(var o="";a<i;a++){var s=DC(n[a]);if(s===`
`)break;o+=s}var l=o.split(" "),u=parseInt(l[1]),c=parseInt(l[3]);if(!(!c||!u)){for(var f=a+1,d=[],h=0;h<c;h++){d[h]=[];for(var v=0;v<4;v++)d[h][v]=0}for(var p=new Float32Array(c*u*4),g=0,m=0;m<u;m++){var f=Uot(d,n,f,c);if(!f)return null;for(var h=0;h<c;h++)Vot(d[h],p,g,r),g+=4}return t||(t=new Mr),t.width=c,t.height=u,t.pixels=p,t.type=xt.FLOAT,t}}}},parseRGBEFromPNG:function(e){}},Sc={loadTexture:function(e,t,r,n){var i;if(typeof t=="function"?(r=t,n=r,t={}):t=t||{},typeof e=="string"){if(e.match(/.hdr$/)||t.fileType==="hdr")return i=new Mr({width:0,height:0,sRGB:!1}),Sc._fetchTexture(e,function(a){Wot.parseRGBE(a,i,t.exposure),i.dirty(),r&&r(i)},n),i;e.match(/.dds$/)||t.fileType==="dds"?(i=new Mr({width:0,height:0}),Sc._fetchTexture(e,function(a){Bot.parse(a,i),i.dirty(),r&&r(i)},n)):(i=new Mr,i.load(e),i.success(r),i.error(n))}else typeof e=="object"&&typeof e.px<"u"&&(i=new zp,i.load(e),i.success(r),i.error(n));return i},loadPanorama:function(e,t,r,n,i,a){var o=this;typeof n=="function"?(i=n,a=i,n={}):n=n||{},Sc.loadTexture(t,n,function(s){s.flipY=n.flipY||!1,o.panoramaToCubeMap(e,s,r,n),s.dispose(e),i&&i(r)},a)},panoramaToCubeMap:function(e,t,r,n){var i=new NB,a=new K_({scene:new Fh});return a.setEnvironmentMap(t),n=n||{},n.encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),r.sRGB=t.sRGB,i.texture=r,i.render(e,a.scene),i.texture=null,i.dispose(e),r},heightToNormal:function(e,t){var r=document.createElement("canvas"),n=r.width=e.width,i=r.height=e.height,a=r.getContext("2d");a.drawImage(e,0,0,n,i),t=t||!1;for(var o=a.getImageData(0,0,n,i),s=a.createImageData(n,i),l=0;l<o.data.length;l+=4){if(t){var u=o.data[l],c=o.data[l+1],f=o.data[l+2],d=Math.abs(u-c)+Math.abs(c-f);if(d>20)return console.warn("Given image is not a height map"),e}var h,v,p,g;l%(n*4)===0?(h=o.data[l],p=o.data[l+4]):l%(n*4)===(n-1)*4?(h=o.data[l-4],p=o.data[l]):(h=o.data[l-4],p=o.data[l+4]),l<n*4?(v=o.data[l],g=o.data[l+n*4]):l>n*(i-1)*4?(v=o.data[l-n*4],g=o.data[l]):(v=o.data[l-n*4],g=o.data[l+n*4]),s.data[l]=h-p+127,s.data[l+1]=v-g+127,s.data[l+2]=255,s.data[l+3]=255}return a.putImageData(s,0,0),r},isHeightImage:function(e,t,r){if(!e||!e.width||!e.height)return!1;var n=document.createElement("canvas"),i=n.getContext("2d"),a=t||32;r=r||20,n.width=n.height=a,i.drawImage(e,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var l=o.data[s],u=o.data[s+1],c=o.data[s+2],f=Math.abs(l-u)+Math.abs(u-c);if(f>r)return!1}return!0},_fetchTexture:function(e,t,r){dn.request.get({url:e,responseType:"arraybuffer",onload:t,onerror:r})},createChessboard:function(e,t,r,n){e=e||512,t=t||64,r=r||"black",n=n||"white";var i=Math.ceil(e/t),a=document.createElement("canvas");a.width=e,a.height=e;var o=a.getContext("2d");o.fillStyle=n,o.fillRect(0,0,e,e),o.fillStyle=r;for(var s=0;s<i;s++)for(var l=0;l<i;l++){var u=l%2?s%2:s%2-1;u&&o.fillRect(s*t,l*t,t,t)}var c=new Mr({image:a,anisotropic:8});return c},createBlank:function(e){var t=document.createElement("canvas");t.width=1,t.height=1;var r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,1,1);var n=new Mr({image:t});return n}},oO=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function sO(e){return"_on"+e}var lO=function(e){var t=this;this._texture=new Mr({anisotropic:32,flipY:!1,surface:this,dispose:function(r){t.dispose(),Mr.prototype.dispose.call(this,r)}}),oO.forEach(function(r){this[sO(r)]=function(n){n.triangle&&this._meshes.forEach(function(i){this.dispatchEvent(r,i,n.triangle,n.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};lO.prototype={constructor:lO,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var t=e.getDom();if(!(t instanceof HTMLCanvasElement))console.error("ECharts must init on canvas if it is used as texture."),t=document.createElement("canvas");else{var r=this,n=e.getZr(),i=n.__oldRefreshImmediately||n.refreshImmediately;n.refreshImmediately=function(){i.call(this),r._texture.dirty(),r.onupdate&&r.onupdate()},n.__oldRefreshImmediately=i}this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:(function(){var e=new qe,t=new qe,r=new qe,n=new hr,i=new hr,a=new hr,o=new hr,s=new qe;return function(l,u,c,f){var d=u.geometry,h=d.attributes.position,v=d.attributes.texcoord0,p=qe.dot,g=qe.cross;h.get(c[0],e.array),h.get(c[1],t.array),h.get(c[2],r.array),v.get(c[0],n.array),v.get(c[1],i.array),v.get(c[2],a.array),g(s,t,r);var m=p(e,s),y=p(f,s)/m;g(s,r,e);var x=p(f,s)/m;g(s,e,t);var b=p(f,s)/m;hr.scale(o,n,y),hr.scaleAndAdd(o,o,i,x),hr.scaleAndAdd(o,o,a,b);var w=o.x*this._chart.getWidth(),S=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(l,{zrX:w,zrY:S})}})(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(oO.forEach(function(t){e.on(t,this[sO(t)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),oO.forEach(function(r){e.off(r,this[sO(r)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};var km=Im.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=Im.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const Xot=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;wt.import(Xot);var jot=new vM,aK=new _a({geometry:jot,frustumCulling:!1}),Yot=new km,Wi=Ua.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new wt(wt.source("clay.compositor.vertex"),this.fragment),t=new Il({shader:e});t.enableTexturesAll(),this.material=t},{setUniform:function(e,t){this.material.setUniform(e,t)},getUniform:function(e){var t=this.material.uniforms[e];if(t)return t.value},attachOutput:function(e,t){this.outputs||(this.outputs={}),t=t||nt.COLOR_ATTACHMENT0,this.outputs[t]=e},detachOutput:function(e){for(var t in this.outputs)this.outputs[t]===e&&(this.outputs[t]=null)},bind:function(e,t){if(this.outputs)for(var r in this.outputs){var n=this.outputs[r];n&&t.attach(n,r)}t&&t.bind(e)},unbind:function(e,t){t.unbind(e)},render:function(e,t){var r=e.gl;if(t){this.bind(e,t);var n=e.getGLExtension("EXT_draw_buffers");if(n&&this.outputs){var i=[];for(var a in this.outputs)a=+a,a>=r.COLOR_ATTACHMENT0&&a<=r.COLOR_ATTACHMENT0+8&&i.push(a);n.drawBuffersEXT(i)}}this.trigger("beforerender",this,e);var o=this.clearDepth?r.DEPTH_BUFFER_BIT:0;if(r.depthMask(!0),this.clearColor){o=o|r.COLOR_BUFFER_BIT,r.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&r.clearColor(s[0],s[1],s[2],s[3])}r.clear(o),this.blendWithPrevious?(r.enable(r.BLEND),this.material.transparent=!0):(r.disable(r.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),t&&this.unbind(e,t)},renderQuad:function(e){aK.material=this.material,e.renderPass([aK],Yot)},dispose:function(e){}});const Kot=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,Zot=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`;var Cc={},CI=["px","nx","py","ny","pz","nz"];Cc.prefilterEnvironmentMap=function(e,t,r,n,i){(!i||!n)&&(n=Cc.generateNormalDistribution(),i=Cc.integrateBRDF(e,n)),r=r||{};var a=r.width||64,o=r.height||64,s=r.type||t.type,l=new zp({width:a,height:o,type:s,flipY:!1,mipmaps:[]});l.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var u=Math.min(a,o),c=Math.log(u)/Math.log(2)+1,f=new Il({shader:new wt({vertex:wt.source("clay.skybox.vertex"),fragment:Zot})});f.set("normalDistribution",n),r.encodeRGBM&&f.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&f.define("fragment","RGBM_DECODE");var d=new Fh,h;if(t.textureType==="texture2D"){var v=new zp({width:a,height:o,type:s===xt.FLOAT?xt.HALF_FLOAT:s});Sc.panoramaToCubeMap(e,t,v,{encodeRGBM:r.decodeRGBM}),t=v}h=new K_({scene:d,material:f}),h.material.set("environmentMap",t);var p=new NB({texture:l});r.encodeRGBM&&(s=l.type=xt.UNSIGNED_BYTE);for(var g=new Mr({width:a,height:o,type:s}),m=new Ri({depthBuffer:!1}),y=dn[s===xt.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],x=0;x<c;x++){l.mipmaps[x]={pixels:{}},h.material.set("roughness",x/(c-1));for(var b=g.width,w=2*Math.atan(b/(b-.5))/Math.PI*180,S=0;S<CI.length;S++){var C=new y(g.width*g.height*4);m.attach(g),m.bind(e);var E=p.getCamera(CI[S]);E.fov=w,e.render(d,E),e.gl.readPixels(0,0,g.width,g.height,xt.RGBA,s,C),m.unbind(e),l.mipmaps[x].pixels[CI[S]]=C}g.width/=2,g.height/=2,g.dirty()}return m.dispose(e),g.dispose(e),h.dispose(e),n.dispose(e),{environmentMap:l,brdfLookup:i,normalDistribution:n,maxMipmapLevel:c}};Cc.integrateBRDF=function(e,t){t=t||Cc.generateNormalDistribution();var r=new Ri({depthBuffer:!1}),n=new Wi({fragment:Kot}),i=new Mr({width:512,height:256,type:xt.HALF_FLOAT,wrapS:xt.CLAMP_TO_EDGE,wrapT:xt.CLAMP_TO_EDGE,minFilter:xt.NEAREST,magFilter:xt.NEAREST,useMipmap:!1});return n.setUniform("normalDistribution",t),n.setUniform("viewportSize",[512,256]),n.attachOutput(i),n.render(e,r),r.dispose(e),i};Cc.generateNormalDistribution=function(r,n){for(var r=r||256,n=n||1024,i=new Mr({width:r,height:n,type:xt.FLOAT,minFilter:xt.NEAREST,magFilter:xt.NEAREST,wrapS:xt.CLAMP_TO_EDGE,wrapT:xt.CLAMP_TO_EDGE,useMipmap:!1}),a=new Float32Array(n*r*4),o=[],s=0;s<r;s++){for(var l=s/r,u=l*l,c=0;c<n;c++){var f=(c<<16|c>>>16)>>>0;f=((f&1431655765)<<1|(f&2863311530)>>>1)>>>0,f=((f&858993459)<<2|(f&3435973836)>>>2)>>>0,f=((f&252645135)<<4|(f&4042322160)>>>4)>>>0,f=(((f&16711935)<<8|(f&4278255360)>>>8)>>>0)/4294967296;var d=Math.sqrt((1-f)/(1+(u*u-1)*f));o[c]=d}for(var c=0;c<n;c++){var h=(c*r+s)*4,d=o[c],v=Math.sqrt(1-d*d),p=c/n,g=2*Math.PI*p;a[h]=v*Math.cos(g),a[h+1]=d,a[h+2]=v*Math.sin(g),a[h+3]=1}}return i.pixels=a,i};var qot=Mu.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,t){if(!e.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=Cc.generateNormalDistribution(),this._brdfLookup=Cc.integrateBRDF(e,this._normalDistribution));var r=this.cubemap;if(!r.__prefiltered){var n=Cc.prefilterEnvironmentMap(e,r,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=n.environmentMap,this.cubemap.__prefiltered=!0,r.dispose(e)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}}),Jot=Mu.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new dn.Float32Array(27)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var t=e._coefficientsTmpArr,r=0;r<e.coefficients.length;r++)t[r]=e.coefficients[r];return t}}}}),nce={},np=["px","nx","py","ny","pz","nz"];function Qot(e,t){var r=e[0],n=e[1],i=e[2];return t===0?1:t===1?r:t===2?n:t===3?i:t===4?r*i:t===5?n*i:t===6?r*n:t===7?3*i*i-1:r*r-n*n}var est={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function tst(e,t,r,n){for(var i=new dn.Float32Array(27),a=be.create(),o=be.create(),s=be.create(),l=0;l<9;l++){for(var u=be.create(),c=0;c<np.length;c++){for(var f=t[np[c]],d=be.create(),h=0,v=0,p=est[np[c]],g=0;g<n;g++)for(var m=0;m<r;m++){a[0]=m/(r-1)*2-1,a[1]=g/(n-1)*2-1,a[2]=-1,be.normalize(a,a),s[0]=a[p[0]]*p[3],s[1]=a[p[1]]*p[4],s[2]=a[p[2]]*p[5],o[0]=f[v++]/255,o[1]=f[v++]/255,o[2]=f[v++]/255;var y=f[v++]/255*8.12;o[0]*=y,o[1]*=y,o[2]*=y,be.scaleAndAdd(d,d,o,Qot(s,l)*-a[2]),h+=-a[2]}be.scaleAndAdd(u,u,d,1/h)}i[l*3]=u[0]/6,i[l*3+1]=u[1]/6,i[l*3+2]=u[2]/6}return i}nce.projectEnvironmentMap=function(e,t,r){r=r||{},r.lod=r.lod||0;var n,i=new Fh,a=64;t.textureType==="texture2D"?n=new K_({scene:i,environmentMap:t}):(a=t.image&&t.image.px?t.image.px.width:t.width,n=new K_({scene:i,environmentMap:t}));var o=Math.ceil(a/Math.pow(2,r.lod)),s=Math.ceil(a/Math.pow(2,r.lod)),l=new Mr({width:o,height:s}),u=new Ri;n.material.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&n.material.define("fragment","RGBM_DECODE"),n.material.set("lod",r.lod);for(var c=new NB({texture:l}),f={},d=0;d<np.length;d++){f[np[d]]=new Uint8Array(o*s*4);var h=c.getCamera(np[d]);h.fov=90,u.attach(l),u.bind(e),e.render(i,h),e.gl.readPixels(0,0,o,s,xt.RGBA,xt.UNSIGNED_BYTE,f[np[d]]),u.unbind(e)}return n.dispose(e),u.dispose(e),l.dispose(e),tst(e,f,o,s)};var Nr={firstNotNull:function(){for(var e=0,t=arguments.length;e<t;e++)if(arguments[e]!=null)return arguments[e]},queryDataIndex:function(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return We(t.dataIndex)?Ye(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return We(t.name)?Ye(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}},rst=Vr.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,t=this.widthSegments,r=this.attributes.position,n=this.attributes.texcoord0,i=this.attributes.normal,a=(t+1)*(e+1);r.init(a),n.init(a),i.init(a);var o=a>65535?Uint32Array:Uint16Array,s=this.indices=new o(t*e*6),l,u,c,f,d,h,v,x=this.radius,p=this.phiStart,g=this.phiLength,m=this.thetaStart,y=this.thetaLength,x=this.radius,b=[],w=[],S=0,C=1/x;for(v=0;v<=e;v++)for(h=0;h<=t;h++)f=h/t,d=v/e,l=-x*Math.cos(p+f*g)*Math.sin(m+d*y),u=x*Math.cos(m+d*y),c=x*Math.sin(p+f*g)*Math.sin(m+d*y),b[0]=l,b[1]=u,b[2]=c,w[0]=f,w[1]=d,r.set(S,b),n.set(S,w),b[0]*=C,b[1]*=C,b[2]*=C,i.set(S,b),S++;var E,A,M,D,R=t+1,L=0;for(v=0;v<e;v++)for(h=0;h<t;h++)A=v*R+h,E=v*R+h+1,D=(v+1)*R+h+1,M=(v+1)*R+h,s[L++]=E,s[L++]=A,s[L++]=D,s[L++]=A,s[L++]=M,s[L++]=D;this.boundingBox=new za,this.boundingBox.max.set(x,x,x),this.boundingBox.min.set(-x,-x,-x)}}),nst=Mu.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}}}),ist=Mu.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new qe,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}},clone:function(){var e=Mu.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}}),ast=Mu.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}},clone:function(){var e=Mu.prototype.clone.call(this);return e.range=this.range,e}}),ost=Mu.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new qe,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}},clone:function(){var e=Mu.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}}),en=function(e,t,r,n){e=e||0,t=t||0,r=r||0,n=n||0,this.array=at.fromValues(e,t,r,n),this._dirty=!0};en.prototype={constructor:en,add:function(e){return at.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,r,n){return this.array[0]=e,this.array[1]=t,this.array[2]=r,this.array[3]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new en(this.x,this.y,this.z,this.w)},copy:function(e){return at.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return at.dist(this.array,e.array)},distance:function(e){return at.distance(this.array,e.array)},div:function(e){return at.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return at.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return at.dot(this.array,e.array)},len:function(){return at.len(this.array)},length:function(){return at.length(this.array)},lerp:function(e,t,r){return at.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},min:function(e){return at.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return at.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return at.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return at.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return at.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return at.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return at.random(this.array,e),this._dirty=!0,this},scale:function(e){return at.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return at.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return at.sqrDist(this.array,e.array)},squaredDistance:function(e){return at.squaredDistance(this.array,e.array)},sqrLen:function(){return at.sqrLen(this.array)},squaredLength:function(){return at.squaredLength(this.array)},sub:function(e){return at.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return at.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return at.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return at.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var R1=Object.defineProperty;if(R1){var B2=en.prototype;R1(B2,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),R1(B2,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),R1(B2,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),R1(B2,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}en.add=function(e,t,r){return at.add(e.array,t.array,r.array),e._dirty=!0,e};en.set=function(e,t,r,n,i){at.set(e.array,t,r,n,i),e._dirty=!0};en.copy=function(e,t){return at.copy(e.array,t.array),e._dirty=!0,e};en.dist=function(e,t){return at.distance(e.array,t.array)};en.distance=en.dist;en.div=function(e,t,r){return at.divide(e.array,t.array,r.array),e._dirty=!0,e};en.divide=en.div;en.dot=function(e,t){return at.dot(e.array,t.array)};en.len=function(e){return at.length(e.array)};en.lerp=function(e,t,r,n){return at.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};en.min=function(e,t,r){return at.min(e.array,t.array,r.array),e._dirty=!0,e};en.max=function(e,t,r){return at.max(e.array,t.array,r.array),e._dirty=!0,e};en.mul=function(e,t,r){return at.multiply(e.array,t.array,r.array),e._dirty=!0,e};en.multiply=en.mul;en.negate=function(e,t){return at.negate(e.array,t.array),e._dirty=!0,e};en.normalize=function(e,t){return at.normalize(e.array,t.array),e._dirty=!0,e};en.random=function(e,t){return at.random(e.array,t),e._dirty=!0,e};en.scale=function(e,t,r){return at.scale(e.array,t.array,r),e._dirty=!0,e};en.scaleAndAdd=function(e,t,r,n){return at.scaleAndAdd(e.array,t.array,r.array,n),e._dirty=!0,e};en.sqrDist=function(e,t){return at.sqrDist(e.array,t.array)};en.squaredDistance=en.sqrDist;en.sqrLen=function(e){return at.sqrLen(e.array)};en.squaredLength=en.sqrLen;en.sub=function(e,t,r){return at.subtract(e.array,t.array,r.array),e._dirty=!0,e};en.subtract=en.sub;en.transformMat4=function(e,t,r){return at.transformMat4(e.array,t.array,r.array),e._dirty=!0,e};en.transformQuat=function(e,t,r){return at.transformQuat(e.array,t.array,r.array),e._dirty=!0,e};var nn={};nn.create=function(){var e=new Wa(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e};nn.clone=function(e){var t=new Wa(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};nn.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};nn.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e};nn.transpose=function(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e};nn.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*a-i*n;return o?(o=1/o,e[0]=a*o,e[1]=-n*o,e[2]=-i*o,e[3]=r*o,e):null};nn.adjoint=function(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e};nn.determinant=function(e){return e[0]*e[3]-e[2]*e[1]};nn.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*s+a*l,e[1]=i*s+o*l,e[2]=n*u+a*c,e[3]=i*u+o*c,e};nn.mul=nn.multiply;nn.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=i*l+o*s,e[2]=n*-s+a*l,e[3]=i*-s+o*l,e};nn.scale=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],l=r[1];return e[0]=n*s,e[1]=i*s,e[2]=a*l,e[3]=o*l,e};nn.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))};nn.LDU=function(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]};var Yo=function(){this.array=nn.create(),this._dirty=!0};Yo.prototype={constructor:Yo,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return new Yo().copy(this)},copy:function(e){return nn.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return nn.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return nn.determinant(this.array)},identity:function(){return nn.identity(this.array),this._dirty=!0,this},invert:function(){return nn.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return nn.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return nn.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return nn.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return nn.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return nn.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return nn.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return nn.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Yo.adjoint=function(e,t){return nn.adjoint(e.array,t.array),e._dirty=!0,e};Yo.copy=function(e,t){return nn.copy(e.array,t.array),e._dirty=!0,e};Yo.determinant=function(e){return nn.determinant(e.array)};Yo.identity=function(e){return nn.identity(e.array),e._dirty=!0,e};Yo.invert=function(e,t){return nn.invert(e.array,t.array),e._dirty=!0,e};Yo.mul=function(e,t,r){return nn.mul(e.array,t.array,r.array),e._dirty=!0,e};Yo.multiply=Yo.mul;Yo.rotate=function(e,t,r){return nn.rotate(e.array,t.array,r),e._dirty=!0,e};Yo.scale=function(e,t,r){return nn.scale(e.array,t.array,r.array),e._dirty=!0,e};Yo.transpose=function(e,t){return nn.transpose(e.array,t.array),e._dirty=!0,e};var _n={};_n.create=function(){var e=new Wa(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e};_n.clone=function(e){var t=new Wa(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t};_n.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e};_n.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e};_n.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=r*a-n*i;return l?(l=1/l,e[0]=a*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*s-a*o)*l,e[5]=(n*o-r*s)*l,e):null};_n.determinant=function(e){return e[0]*e[3]-e[1]*e[2]};_n.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],d=r[3],h=r[4],v=r[5];return e[0]=n*u+a*c,e[1]=i*u+o*c,e[2]=n*f+a*d,e[3]=i*f+o*d,e[4]=n*h+a*v+s,e[5]=i*h+o*v+l,e};_n.mul=_n.multiply;_n.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+a*u,e[1]=i*c+o*u,e[2]=n*-u+a*c,e[3]=i*-u+o*c,e[4]=s,e[5]=l,e};_n.scale=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n*u,e[1]=i*u,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=l,e};_n.translate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=n*u+a*c+s,e[5]=i*u+o*c+l,e};_n.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};var ps=function(){this.array=_n.create(),this._dirty=!0};ps.prototype={constructor:ps,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return new ps().copy(this)},copy:function(e){return _n.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return _n.determinant(this.array)},identity:function(){return _n.identity(this.array),this._dirty=!0,this},invert:function(){return _n.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return _n.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return _n.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return _n.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return _n.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return _n.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return _n.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return _n.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};ps.copy=function(e,t){return _n.copy(e.array,t.array),e._dirty=!0,e};ps.determinant=function(e){return _n.determinant(e.array)};ps.identity=function(e){return _n.identity(e.array),e._dirty=!0,e};ps.invert=function(e,t){return _n.invert(e.array,t.array),e._dirty=!0,e};ps.mul=function(e,t,r){return _n.mul(e.array,t.array,r.array),e._dirty=!0,e};ps.multiply=ps.mul;ps.rotate=function(e,t,r){return _n.rotate(e.array,t.array,r),e._dirty=!0,e};ps.scale=function(e,t,r){return _n.scale(e.array,t.array,r.array),e._dirty=!0,e};ps.translate=function(e,t,r){return _n.translate(e.array,t.array,r.array),e._dirty=!0,e};var oa=function(){this.array=sr.create(),this._dirty=!0};oa.prototype={constructor:oa,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return sr.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new oa().copy(this)},copy:function(e){return sr.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return sr.determinant(this.array)},fromMat2d:function(e){return sr.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return sr.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return sr.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return sr.identity(this.array),this._dirty=!0,this},invert:function(){return sr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return sr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return sr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return sr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return sr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return sr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return sr.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return sr.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return sr.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return sr.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};oa.adjoint=function(e,t){return sr.adjoint(e.array,t.array),e._dirty=!0,e};oa.copy=function(e,t){return sr.copy(e.array,t.array),e._dirty=!0,e};oa.determinant=function(e){return sr.determinant(e.array)};oa.identity=function(e){return sr.identity(e.array),e._dirty=!0,e};oa.invert=function(e,t){return sr.invert(e.array,t.array),e};oa.mul=function(e,t,r){return sr.mul(e.array,t.array,r.array),e._dirty=!0,e};oa.multiply=oa.mul;oa.fromMat2d=function(e,t){return sr.fromMat2d(e.array,t.array),e._dirty=!0,e};oa.fromMat4=function(e,t){return sr.fromMat4(e.array,t.array),e._dirty=!0,e};oa.fromQuat=function(e,t){return sr.fromQuat(e.array,t.array),e._dirty=!0,e};oa.normalFromMat4=function(e,t){return sr.normalFromMat4(e.array,t.array),e._dirty=!0,e};oa.rotate=function(e,t,r){return sr.rotate(e.array,t.array,r),e._dirty=!0,e};oa.scale=function(e,t,r){return sr.scale(e.array,t.array,r.array),e._dirty=!0,e};oa.transpose=function(e,t){return sr.transpose(e.array,t.array),e._dirty=!0,e};oa.translate=function(e,t,r){return sr.translate(e.array,t.array,r.array),e._dirty=!0,e};var Wx={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Wx.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Wx.bounceIn(e*2)*.5:Wx.bounceOut(e*2-1)*.5+.5}};oce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{});oce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{});var ice=Array.prototype,ace=ice.slice,sst=ice.map,oK=(function(){}).constructor,z2=oK?oK.prototype:null,lst="__proto__";function ust(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function cst(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==lst&&(e[r]=t[r]);return e}function wA(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function uO(e,t,r){if(!e)return[];if(!t)return pst(e);if(e.map&&e.map===sst)return e.map(t,r);for(var n=[],i=0,a=e.length;i<a;i++)n.push(t.call(r,e[i],i,e));return n}function oce(e,t,r,n){if(e&&t){for(var i=0,a=e.length;i<a;i++)r=t.call(n,r,e[i],i,e);return r}}function sK(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function fst(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(ace.call(arguments)))}}z2&&pM(z2.bind)&&z2.call.bind(z2.bind);function pM(e){return typeof e=="function"}function dst(e){return typeof e=="string"}function TI(e){return typeof e=="number"}function hst(e){return e.colorStops!=null}function vst(e){return e!==e}function pst(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return ace.apply(e,t)}function H2(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function lK(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function AI(){}function sce(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}var V2=Math.pow,PC=Math.sqrt,uK=1e-8,cK=PC(3),$2=1/3;function G2(e){return e>-uK&&e<uK}function gst(e,t,r,n,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*n+3*a*r)}function mst(e,t,r,n,i,a){var o=n+3*(t-r)-e,s=3*(r-t*2+e),l=3*(t-e),u=e-i,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(G2(c)&&G2(f))if(G2(s))a[0]=0;else{var v=-l/s;v>=0&&v<=1&&(a[h++]=v)}else{var p=f*f-4*c*d;if(G2(p)){var g=f/c,v=-s/o+g,m=-g/2;v>=0&&v<=1&&(a[h++]=v),m>=0&&m<=1&&(a[h++]=m)}else if(p>0){var y=PC(p),x=c*s+1.5*o*(-f+y),b=c*s+1.5*o*(-f-y);x<0?x=-V2(-x,$2):x=V2(x,$2),b<0?b=-V2(-b,$2):b=V2(b,$2);var v=(-s-(x+b))/(3*o);v>=0&&v<=1&&(a[h++]=v)}else{var w=(2*c*s-3*o*f)/(2*PC(c*c*c)),S=Math.acos(w)/3,C=PC(c),E=Math.cos(S),v=(-s-2*C*E)/(3*o),m=(-s+C*(E+cK*Math.sin(S)))/(3*o),A=(-s+C*(E-cK*Math.sin(S)))/(3*o);v>=0&&v<=1&&(a[h++]=v),m>=0&&m<=1&&(a[h++]=m),A>=0&&A<=1&&(a[h++]=A)}}return h}var yst=/cubic-bezier\(([0-9,\.e ]+)\)/;function lce(e){var t=e&&yst.exec(e);if(t){var r=t[1].split(","),n=+H2(r[0]),i=+H2(r[1]),a=+H2(r[2]),o=+H2(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:mst(0,n,a,1,l,s)&&gst(0,i,o,1,s[0])}}}var xst=(function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||AI,this.ondestroy=t.ondestroy||AI,this.onrestart=t.onrestart||AI,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=pM(t)?t:Wx[t]||lce(t)},e})(),fK={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Xx(e){return e=Math.round(e),e<0?0:e>255?255:e}function dK(e){return e<0?0:e>1?1:e}function EI(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Xx(parseFloat(t)/100*255):Xx(parseInt(t,10))}function jx(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?dK(parseFloat(t)/100):dK(parseFloat(t))}function MI(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function vl(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function cO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var uce=new ece(20),U2=null;function _g(e,t){U2&&cO(U2,t),U2=uce.put(e,U2||t.slice())}function DI(e,t){if(e){t=t||[];var r=uce.get(e);if(r)return cO(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in fK)return cO(t,fK[n]),_g(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){vl(t,0,0,0,1);return}return vl(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),_g(e,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){vl(t,0,0,0,1);return}return vl(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),_g(e,t),t}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?vl(t,+u[0],+u[1],+u[2],1):vl(t,0,0,0,1);c=jx(u.pop());case"rgb":if(u.length>=3)return vl(t,EI(u[0]),EI(u[1]),EI(u[2]),u.length===3?c:jx(u[3])),_g(e,t),t;vl(t,0,0,0,1);return;case"hsla":if(u.length!==4){vl(t,0,0,0,1);return}return u[3]=jx(u[3]),hK(u,t),_g(e,t),t;case"hsl":if(u.length!==3){vl(t,0,0,0,1);return}return hK(u,t),_g(e,t),t;default:return}}vl(t,0,0,0,1)}}function hK(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=jx(e[1]),i=jx(e[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],vl(t,Xx(MI(o,a,r+1/3)*255),Xx(MI(o,a,r)*255),Xx(MI(o,a,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}var _st=(function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e})(),bst=(function(){function e(){this.browser=new _st,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e})(),df=new bst;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(df.wxa=!0,df.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?df.worker=!0:!df.hasGlobalWindow||"Deno"in window?(df.node=!0,df.svgSupported=!0):wst(navigator.userAgent,df);function wst(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}function Sst(e){return e.type==="linear"}function Cst(e){return e.type==="radial"}(function(){return df.hasGlobalWindow&&pM(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})();var fO=Array.prototype.slice;function hf(e,t,r){return(t-e)*r+e}function PI(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=hf(t[a],r[a],n);return e}function Tst(e,t,r,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=hf(t[o][s],r[o][s],n)}return e}function W2(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+r[a]*n;return e}function vK(e,t,r,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=t[o][s]+r[o][s]*n}return e}function Ast(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function Est(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(r===1?i[l]:fO.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function RI(e){if(wA(e)){var t=e.length;if(wA(e[0])){for(var r=[],n=0;n<t;n++)r.push(fO.call(e[n]));return r}return fO.call(e)}return e}function RC(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function Mst(e){return wA(e&&e[0])?2:1}var X2=0,LC=1,cce=2,ix=3,dO=4,hO=5,pK=6;function gK(e){return e===dO||e===hO}function j2(e){return e===LC||e===cce}var L1=[0,0,0,0],Dst=(function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=pK,l=r;if(wA(r)){var u=Mst(r);s=u,(u===1&&!TI(r[0])||u===2&&!TI(r[0][0]))&&(o=!0)}else if(TI(r)&&!vst(r))s=X2;else if(dst(r))if(!isNaN(+r))s=X2;else{var c=DI(r);c&&(l=c,s=ix)}else if(hst(r)){var f=cst({},l);f.colorStops=uO(r.colorStops,function(h){return{offset:h.offset,color:DI(h.color)}}),Sst(r)?s=dO:Cst(r)&&(s=hO),l=f}a===0?this.valType=s:(s!==this.valType||s===pK)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:r,percent:0};return n&&(d.easing=n,d.easingFunc=pM(n)?n:Wx[n]||lce(n)),i.push(d),d},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(p,g){return p.time-g.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=j2(i),u=gK(i),c=0;c<a;c++){var f=n[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==a-1?Est(d,h,i):u&&Ast(d.colorStops,h.colorStops))}if(!s&&i!==hO&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,c=0;c<a;c++)i===X2?n[c].additiveValue=n[c].value-v:i===ix?n[c].additiveValue=W2([],n[c].value,v,-1):j2(i)&&(n[c].additiveValue=i===LC?W2([],n[c].value,v,-1):vK([],n[c].value,v,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===ix,c,f=this._lastFr,d=Math.min,h,v;if(s===1)h=v=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var p=d(f+1,s-1);for(c=p;c>=0&&!(o[c].percent<=r);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>r);c++);c=d(c-1,s-2)}v=o[c+1],h=o[c]}if(h&&v){this._lastFr=c,this._lastFrP=r;var g=v.percent-h.percent,m=g===0?1:d((r-h.percent)/g,1);v.easingFunc&&(m=v.easingFunc(m));var y=n?this._additiveValue:u?L1:t[l];if((j2(a)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=m<1?h.rawValue:v.rawValue;else if(j2(a))a===LC?PI(y,h[i],v[i],m):Tst(y,h[i],v[i],m);else if(gK(a)){var x=h[i],b=v[i],w=a===dO;t[l]={type:w?"linear":"radial",x:hf(x.x,b.x,m),y:hf(x.y,b.y,m),colorStops:uO(x.colorStops,function(C,E){var A=b.colorStops[E];return{offset:hf(C.offset,A.offset,m),color:RC(PI([],C.color,A.color,m))}}),global:b.global},w?(t[l].x2=hf(x.x2,b.x2,m),t[l].y2=hf(x.y2,b.y2,m)):t[l].r=hf(x.r,b.r,m)}else if(u)PI(y,h[i],v[i],m),n||(t[l]=RC(y));else{var S=hf(h[i],v[i],m);n?this._additiveValue=S:t[l]=S}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===X2?t[n]=t[n]+i:r===ix?(DI(t[n],L1),W2(L1,L1,i,1),t[n]=RC(L1)):r===LC?W2(t[n],t[n],i,1):r===cce&&vK(t[n],t[n],i,1)},e})(),Pst=(function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){ust("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,sK(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new Dst(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===ix&&u&&(u=RC(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,RI(u),i),this._trackKeys.push(s)}l.addKeyframe(t,RI(r[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(r=a)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(r._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var d=new xst({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){r._started=2;var v=r._additiveAnimators;if(v){for(var p=!1,g=0;g<v.length;g++)if(v[g]._clip){p=!0;break}p||(r._additiveAnimators=null)}for(var g=0;g<n.length;g++)n[g].step(r._target,h);var m=r._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](r._target,h)},ondestroy:function(){r._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return uO(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(t[a]=RI(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||sK(t);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e})(),Rst={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,t){this._animators=this._animators||[];var r=this,n;if(e){for(var i=e.split("."),a=r,o=0,s=i.length;o<s;o++)a&&(a=a[i[o]]);a&&(n=a)}else n=r;if(n==null)throw new Error("Target "+e+" not exists");var l=this._animators,u=new Pst(n,t),c=this;return u.during(function(){c.__zr&&c.__zr.refresh()}).done(function(){var f=l.indexOf(u);f>=0&&l.splice(f,1)}),l.push(u),this.__zr&&this.__zr.animation.addAnimator(u),u},stopAnimation:function(e){this._animators=this._animators||[];for(var t=this._animators,r=t.length,n=0;n<r;n++)t[n].stop(e);return t.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.addAnimator(this._animators[t])},removeAnimatorsFromZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.removeAnimator(this._animators[t])}};const fce=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`,Lst=`
@export ecgl.common.transformUniforms
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
uniform mat4 world : WORLD;
@end

@export ecgl.common.attributes
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 normal : NORMAL;
@end

@export ecgl.common.uv.header
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
uniform vec2 detailUvRepeat : [1.0, 1.0];
uniform vec2 detailUvOffset : [0.0, 0.0];

varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end

@export ecgl.common.uv.main
v_Texcoord = texcoord * uvRepeat + uvOffset;
v_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;
@end

@export ecgl.common.uv.fragmentHeader
varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end


@export ecgl.common.albedo.main

 vec4 albedoTexel = vec4(1.0);
#ifdef DIFFUSEMAP_ENABLED
 albedoTexel = texture2D(diffuseMap, v_Texcoord);
 #ifdef SRGB_DECODE
 albedoTexel = sRGBToLinear(albedoTexel);
 #endif
#endif

#ifdef DETAILMAP_ENABLED
 vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);
 #ifdef SRGB_DECODE
 detailTexel = sRGBToLinear(detailTexel);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);
 albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;
#endif

@end

@export ecgl.common.wireframe.vertexHeader

#ifdef WIREFRAME_QUAD
attribute vec4 barycentric;
varying vec4 v_Barycentric;
#elif defined(WIREFRAME_TRIANGLE)
attribute vec3 barycentric;
varying vec3 v_Barycentric;
#endif

@end

@export ecgl.common.wireframe.vertexMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 v_Barycentric = barycentric;
#endif

@end


@export ecgl.common.wireframe.fragmentHeader

uniform float wireframeLineWidth : 1;
uniform vec4 wireframeLineColor: [0, 0, 0, 0.5];

#ifdef WIREFRAME_QUAD
varying vec4 v_Barycentric;
float edgeFactor () {
 vec4 d = fwidth(v_Barycentric);
 vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(min(a4.x, a4.y), a4.z), a4.w);
}
#elif defined(WIREFRAME_TRIANGLE)
varying vec3 v_Barycentric;
float edgeFactor () {
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#endif

@end


@export ecgl.common.wireframe.fragmentMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 if (wireframeLineWidth > 0.) {
 vec4 lineColor = wireframeLineColor;
#ifdef SRGB_DECODE
 lineColor = sRGBToLinear(lineColor);
#endif

 gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);
 }
#endif
@end




@export ecgl.common.bumpMap.header

#ifdef BUMPMAP_ENABLED
uniform sampler2D bumpMap;
uniform float bumpScale : 1.0;


vec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)
{
 vec2 dSTdx = dFdx(v_Texcoord);
 vec2 dSTdy = dFdy(v_Texcoord);

 float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;
 float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;
 float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;

 vec3 vSigmaX = dFdx(surfPos);
 vec3 vSigmaY = dFdy(surfPos);
 vec3 vN = surfNormal;

 vec3 R1 = cross(vSigmaY, vN);
 vec3 R2 = cross(vN, vSigmaX);

 float fDet = dot(vSigmaX, R1);

 vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);
 return normalize(abs(fDet) * baseNormal - vGrad);

}
#endif

@end

@export ecgl.common.normalMap.vertexHeader

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.vertexMain

#ifdef NORMALMAP_ENABLED
 if (dot(tangent, tangent) > 0.0) {
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
 }
#endif

@end


@export ecgl.common.normalMap.fragmentHeader

#ifdef NORMALMAP_ENABLED
uniform sampler2D normalMap;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.fragmentMain
#ifdef NORMALMAP_ENABLED
 if (dot(v_Tangent, v_Tangent) > 0.0) {
 vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;
 if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;
 mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);
 N = normalize(tbn * N);
 }
 }
#endif
@end



@export ecgl.common.vertexAnimation.header

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevNormal;
uniform float percent;
#endif

@end

@export ecgl.common.vertexAnimation.main

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 vec3 norm = mix(prevNormal, normal, percent);
#else
 vec3 pos = position;
 vec3 norm = normal;
#endif

@end


@export ecgl.common.ssaoMap.header
#ifdef SSAOMAP_ENABLED
uniform sampler2D ssaoMap;
uniform vec4 viewport : VIEWPORT;
#endif
@end

@export ecgl.common.ssaoMap.main
 float ao = 1.0;
#ifdef SSAOMAP_ENABLED
 ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;
#endif
@end




@export ecgl.common.diffuseLayer.header

#if (LAYER_DIFFUSEMAP_COUNT > 0)
uniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];
uniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];
#endif

@end

@export ecgl.common.emissiveLayer.header

#if (LAYER_EMISSIVEMAP_COUNT > 0)
uniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];
uniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];
#endif

@end

@export ecgl.common.layers.header
@import ecgl.common.diffuseLayer.header
@import ecgl.common.emissiveLayer.header
@end

@export ecgl.common.diffuseLayer.main

#if (LAYER_DIFFUSEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{
 float intensity = layerDiffuseIntensity[_idx_];
 vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);
 albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;
 }}
#endif

@end

@export ecgl.common.emissiveLayer.main

#if (LAYER_EMISSIVEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)
 {{
 vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 float intensity = layerEmissionIntensity[_idx_];
 gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;
 }}
#endif

@end
`,Ist=`@export ecgl.color.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

@import ecgl.common.uv.header

attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 position: POSITION;

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

#ifdef ATMOSPHERE_ENABLED
attribute vec3 normal: NORMAL;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
varying vec3 v_Normal;
#endif

void main()
{
#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 @import ecgl.common.uv.main

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef ATMOSPHERE_ENABLED
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end

@export ecgl.color.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
varying vec3 v_Normal;
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.layers.header

@import ecgl.common.uv.fragmentHeader

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain

}
@end`,kst=`/**
 * http: */

@export ecgl.lambert.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header


@import ecgl.common.attributes

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif


@import ecgl.common.vertexAnimation.header


varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{
 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main


 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

 @import ecgl.common.wireframe.vertexMain
}

@end


@export ecgl.lambert.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 gl_FragColor *= sRGBToLinear(v_Color);
 #else
 gl_FragColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseColor = vec3(0.0, 0.0, 0.0);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 diffuseColor += ambientLightColor[i] * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 vec3 lightColor = directionalLightColor[i];

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor.rgb *= diffuseColor;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,Ost=`@export ecgl.realistic.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes


@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@import ecgl.common.vertexAnimation.header

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{

 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef NORMALMAP_ENABLED
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end



@export ecgl.realistic.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0
#define PI 3.14159265358979
#define ROUGHNESS_CHANEL 0
#define METALNESS_CHANEL 1

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;

uniform sampler2D detailMap;
uniform sampler2D metalnessMap;
uniform sampler2D roughnessMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform float metalness : 0.0;
uniform float roughness : 0.5;

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
@import clay.header.ambient_cubemap_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.normalMap.fragmentHeader

@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import clay.util.rgbm

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}

float D_Phong(float g, float ndh) {
 float a = pow(8192.0, g);
 return (a + 2.0) / 8.0 * pow(ndh, a);
}

void main()
{
 vec4 albedoColor = color;

 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);
#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 albedoColor *= sRGBToLinear(v_Color);
 #else
 albedoColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 albedoColor *= albedoTexel;

 float m = metalness;

#ifdef METALNESSMAP_ENABLED
 float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];
 m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 baseColor = albedoColor.rgb;
 albedoColor.rgb = baseColor * (1.0 - m);
 vec3 specFactor = mix(vec3(0.04), baseColor, m);

 float g = 1.0 - roughness;

#ifdef ROUGHNESSMAP_ENABLED
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 N = v_Normal;

#ifdef DOUBLE_SIDED
 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

@import ecgl.common.normalMap.fragmentMain

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseTerm = vec3(0.0);
 vec3 specularTerm = vec3(0.0);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 vec3 fresnelTerm = F_Schlick(ndv, specFactor);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;
 }}
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)
 {{
 vec3 L = -directionalLightDirection[_idx_];
 vec3 lc = directionalLightColor[_idx_];

 vec3 H = normalize(L + V);
 float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[_idx_];
 }
#endif

 vec3 li = lc * ndl * shadowContrib;

 diffuseTerm += li;
 specularTerm += li * fresnelTerm * D_Phong(g, ndh);
 }}
#endif


#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
 vec3 L = reflect(-V, N);
 L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);
 float rough2 = clamp(1.0 - g, 0.0, 1.0);
 float bias2 = rough2 * 5.0;
 vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;
 vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;
 vec3 envTexel2;
 for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)
 {{
 envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);
 specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;
 }}
#endif

 gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;
 gl_FragColor.a = albedoColor.a;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

#ifdef SRGB_ENCODE
 gl_FragColor = linearTosRGB(gl_FragColor);
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,Fst=`@export ecgl.hatching.vertex

@import ecgl.realistic.vertex

@end


@export ecgl.hatching.fragment

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform vec4 color : [0.0, 0.0, 0.0, 1.0];
uniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

uniform sampler2D hatch1;
uniform sampler2D hatch2;
uniform sampler2D hatch3;
uniform sampler2D hatch4;
uniform sampler2D hatch5;
uniform sampler2D hatch6;

float shade(in float tone) {
 vec4 c = vec4(1. ,1., 1., 1.);
 float step = 1. / 6.;
 vec2 uv = v_DetailTexcoord;
 if (tone <= step / 2.0) {
 c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);
 }
 else if (tone <= step) {
 c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);
 }
 if(tone > step && tone <= 2. * step){
 c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));
 }
 if(tone > 2. * step && tone <= 3. * step){
 c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));
 }
 if(tone > 3. * step && tone <= 4. * step){
 c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));
 }
 if(tone > 4. * step && tone <= 5. * step){
 c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));
 }
 if(tone > 5. * step){
 c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));
 }

 return c.r;
}

const vec3 w = vec3(0.2125, 0.7154, 0.0721);

void main()
{
#ifdef SRGB_DECODE
 vec4 inkColor = sRGBToLinear(color);
#else
 vec4 inkColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 inkColor *= sRGBToLinear(v_Color);
 #else
 inkColor *= v_Color;
 #endif
#endif

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float tone = 0.0;

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 tone += dot(ambientLightColor[i], w) * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 float lightTone = dot(directionalLightColor[i], w);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 tone += lightTone * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));
 }
@end
`,Nst=`@export ecgl.sm.depth.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;

void main(){

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 v_ViewPosition = worldViewProjection * vec4(pos, 1.0);
 gl_Position = v_ViewPosition;

 v_Texcoord = texcoord;

}
@end



@export ecgl.sm.depth.fragment

@import clay.sm.depth.fragment

@end`;Object.assign(wc.prototype,Rst);wt.import(fce);wt.import(Kue);wt.import(Lst);wt.import(Ist);wt.import(kst);wt.import(Ost);wt.import(Fst);wt.import(Nst);function Bst(e){return!e||e==="none"}function dce(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}function zst(e){return e.getZr&&e.setOption}var Hst=Fh.prototype.addToScene,Vst=Fh.prototype.removeFromScene;Fh.prototype.addToScene=function(e){if(Hst.call(this,e),this.__zr){var t=this.__zr;e.traverse(function(r){r.__zr=t,r.addAnimatorsToZr&&r.addAnimatorsToZr(t)})}};Fh.prototype.removeFromScene=function(e){Vst.call(this,e),e.traverse(function(t){var r=t.__zr;t.__zr=null,r&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(r)})};Il.prototype.setTextureImage=function(e,t,r,n){if(this.shader){var i=r.getZr(),a=this,o;return a.autoUpdateTextureStatus=!1,a.disableTexture(e),Bst(t)||(o=ae.loadTexture(t,r,n,function(s){a.enableTexture(e),i&&i.refresh()}),a.set(e,o)),o}};var ae={};ae.Renderer=kl;ae.Node=wc;ae.Mesh=_a;ae.Shader=wt;ae.Material=Il;ae.Texture=xt;ae.Texture2D=Mr;ae.Geometry=Vr;ae.SphereGeometry=rst;ae.PlaneGeometry=vM;ae.CubeGeometry=rce;ae.AmbientLight=nst;ae.DirectionalLight=ist;ae.PointLight=ast;ae.SpotLight=ost;ae.PerspectiveCamera=ga;ae.OrthographicCamera=km;ae.Vector2=hr;ae.Vector3=qe;ae.Vector4=en;ae.Quaternion=Sn;ae.Matrix2=Yo;ae.Matrix2d=ps;ae.Matrix3=oa;ae.Matrix4=At;ae.Plane=Ux;ae.Ray=bp;ae.BoundingBox=za;ae.Frustum=dM;var Y2=null;function $st(){return Y2!==null||(Y2=Sc.createBlank("rgba(255,255,255,0)").image),Y2}function mK(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function yK(e){if((e.wrapS===xt.REPEAT||e.wrapT===xt.REPEAT)&&e.image){var t=mK(e.width),r=mK(e.height);if(t!==e.width||r!==e.height){var n=document.createElement("canvas");n.width=t,n.height=r;var i=n.getContext("2d");i.drawImage(e.image,0,0,t,r),e.image=n}}}ae.loadTexture=function(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};for(var i=Object.keys(r).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+r[i[o]]+"_";var s=t.__textureCache=t.__textureCache||new ece(20);if(zst(e)){var l=e.__textureid__,u=s.get(a+l);if(u)u.texture.surface.setECharts(e),n&&n(u.texture);else{var c=new lO(e);c.onupdate=function(){t.getZr().refresh()},u={texture:c.getTexture()};for(var o=0;o<i.length;o++)u.texture[i[o]]=r[i[o]];l=e.__textureid__||"__ecgl_ec__"+u.texture.__uid__,e.__textureid__=l,s.put(a+l,u),n&&n(u.texture)}return u.texture}else if(dce(e)){var l=e.__textureid__,u=s.get(a+l);if(!u){u={texture:new ae.Texture2D({image:e})};for(var o=0;o<i.length;o++)u.texture[i[o]]=r[i[o]];l=e.__textureid__||"__ecgl_image__"+u.texture.__uid__,e.__textureid__=l,s.put(a+l,u),yK(u.texture),n&&n(u.texture)}return u.texture}else{var u=s.get(a+e);if(u)u.callbacks?u.callbacks.push(n):n&&n(u.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){u={callbacks:[n]};var f=Sc.loadTexture(e,{exposure:r.exposure,fileType:"hdr"},function(){f.dirty(),u.callbacks.forEach(function(v){v&&v(f)}),u.callbacks=null});u.texture=f,s.put(a+e,u)}else{for(var f=new ae.Texture2D({image:new Image}),o=0;o<i.length;o++)f[i[o]]=r[i[o]];u={texture:f,callbacks:[n]};var d=f.image;d.onload=function(){f.image=d,yK(f),f.dirty(),u.callbacks.forEach(function(p){p&&p(f)}),u.callbacks=null},d.crossOrigin="Anonymous",d.src=e,f.image=$st(),s.put(a+e,u)}return u.texture}};ae.createAmbientCubemap=function(e,t,r,n){e=e||{};var i=e.texture,a=Nr.firstNotNull(e.exposure,1),o=new qot({intensity:Nr.firstNotNull(e.specularIntensity,1)}),s=new Jot({intensity:Nr.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=ae.loadTexture(i,r,{exposure:a},function(){o.cubemap.flipY=!1,o.prefilter(t,32),s.coefficients=nce.projectEnvironmentMap(t,o.cubemap,{lod:1}),n&&n()}),{specular:o,diffuse:s}};ae.createBlankTexture=Sc.createBlank;ae.isImage=dce;ae.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)};ae.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):(t=_o(e||"#000",t)||[0,0,0,0],t[0]/=255,t[1]/=255,t[2]/=255,t)};ae.directionFromAlphaBeta=function(e,t){var r=e/180*Math.PI+Math.PI/2,n=-t/180*Math.PI+Math.PI/2,i=[],a=Math.sin(r);return i[0]=a*Math.cos(n),i[1]=-Math.cos(r),i[2]=a*Math.sin(n),i};ae.getShadowResolution=function(e){var t=1024;switch(e){case"low":t=512;break;case"medium":break;case"high":t=2048;break;case"ultra":t=4096;break}return t};ae.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"];ae.createShader=function(e){e==="ecgl.shadow"&&(e="ecgl.displayShadow");var t=wt.source(e+".vertex"),r=wt.source(e+".fragment");t||console.error("Vertex shader of '%s' not exits",e),r||console.error("Fragment shader of '%s' not exits",e);var n=new wt(t,r);return n.name=e,n};ae.createMaterial=function(e,t){t instanceof Array||(t=[t]);var r=ae.createShader(e),n=new Il({shader:r});return t.forEach(function(i){typeof i=="string"&&n.define(i)}),n};ae.setMaterialFromModel=function(e,t,r,n){t.autoUpdateTextureStatus=!1;var i=r.getModel(e+"Material"),a=i.get("detailTexture"),o=Nr.firstNotNull(i.get("textureTiling"),1),s=Nr.firstNotNull(i.get("textureOffset"),0);typeof o=="number"&&(o=[o,o]),typeof s=="number"&&(s=[s,s]);var l=o[0]>1||o[1]>1?ae.Texture.REPEAT:ae.Texture.CLAMP_TO_EDGE,u={anisotropic:8,wrapS:l,wrapT:l};if(e==="realistic"){var c=i.get("roughness"),f=i.get("metalness");f!=null?isNaN(f)&&(t.setTextureImage("metalnessMap",f,n,u),f=Nr.firstNotNull(i.get("metalnessAdjust"),.5)):f=0,c!=null?isNaN(c)&&(t.setTextureImage("roughnessMap",c,n,u),c=Nr.firstNotNull(i.get("roughnessAdjust"),.5)):c=.5;var d=i.get("normalTexture");t.setTextureImage("detailMap",a,n,u),t.setTextureImage("normalMap",d,n,u),t.set({roughness:c,metalness:f,detailUvRepeat:o,detailUvOffset:s})}else if(e==="lambert")t.setTextureImage("detailMap",a,n,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(e==="color")t.setTextureImage("detailMap",a,n,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(e==="hatching"){var h=i.get("hatchingTextures")||[];h.length<6;for(var v=0;v<6;v++)t.setTextureImage("hatch"+(v+1),h[v],n,{anisotropic:8,wrapS:ae.Texture.REPEAT,wrapT:ae.Texture.REPEAT});t.set({detailUvRepeat:o,detailUvOffset:s})}};ae.updateVertexAnimation=function(e,t,r,n){var i=n.get("animation"),a=n.get("animationDurationUpdate"),o=n.get("animationEasingUpdate"),s=r.shadowDepthMaterial;if(i&&t&&a>0&&t.geometry.vertexCount===r.geometry.vertexCount){r.material.define("vertex","VERTEX_ANIMATION"),r.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var l=0;l<e.length;l++)r.geometry.attributes[e[l][0]].value=t.geometry.attributes[e[l][1]].value;r.geometry.dirty(),r.__percent=0,r.material.set("percent",0),r.stopAnimation(),r.animate().when(a,{__percent:1}).during(function(){r.material.set("percent",r.__percent),s&&s.set("percent",r.__percent)}).done(function(){r.ignorePreZ=!1,r.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")}).start(o)}else r.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};var SA;SA=df.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var kn=function(e,t){this.id=e,this.zr=t;try{this.renderer=new kl({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight())}catch(n){this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",console.error(n);return}this.onglobalout=this.onglobalout.bind(this),t.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var r=this.dom.style;r.position="absolute",r.left="0",r.top="0",this.views=[],this._picking=new FB({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new vr({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};kn.prototype.setUnpainted=function(){};kn.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var r=this.zr;e.scene.traverse(function(n){n.__zr=r,n.addAnimatorsToZr&&n.addAnimatorsToZr(r)})}};function hce(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}kn.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(hce,this),e.layer=null,this._viewsToDispose.push(e))}};kn.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(hce,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0};kn.prototype.resize=function(e,t){var r=this.renderer;r.resize(e,t)};kn.prototype.clear=function(){var e=this.renderer.gl,t=this._backgroundColor||[0,0,0,0];e.clearColor(t[0],t[1],t[2],t[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)};kn.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)};kn.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)};kn.prototype.needsRefresh=function(){this.zr.refresh()};kn.prototype.refresh=function(e){this._backgroundColor=e?ae.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var t=0;t<this.views.length;t++)this.views[t].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(var t=0;t<this._viewsToDispose.length;t++)this._viewsToDispose[t].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()};kn.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)};kn.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++)this.views[t].render(this.renderer,e);this.renderer.restoreViewport()};kn.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var Gst=1;kn.prototype._startAccumulating=function(e){var t=this;this._stopAccumulating();for(var r=!1,n=0;n<this.views.length;n++)r=this.views[n].needsAccumulate()||r;if(!r)return;function i(a){if(!(!t._accumulatingId||a!==t._accumulatingId)){for(var o=!0,s=0;s<t.views.length;s++)o=t.views[s].isAccumulateFinished()&&r;o||(t._doRender(!0),e?i(a):SA(function(){i(a)}))}}this._accumulatingId=Gst++,e?i(t._accumulatingId):this._accumulatingTimeout=setTimeout(function(){i(t._accumulatingId)},50)};kn.prototype._trackAndClean=function(){var e=[],t=[];this._textureList&&(CA(this._textureList),CA(this._geometriesList));for(var r=0;r<this.views.length;r++)Ust(this.views[r].scene,e,t);this._textureList&&(TA(this.renderer,this._textureList),TA(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=t};function CA(e){for(var t=0;t<e.length;t++)e[t].__used__=0}function TA(e,t){for(var r=0;r<t.length;r++)t[r].__used__||t[r].dispose(e)}function K2(e,t){e.__used__=e.__used__||0,e.__used__++,e.__used__===1&&t.push(e)}function Ust(e,t,r){var n,i;e.traverse(function(o){if(o.isRenderable()){var s=o.geometry,l=o.material;if(l!==n)for(var u=l.getTextureUniforms(),c=0;c<u.length;c++){var f=u[c],d=l.uniforms[f].value;if(d){if(d instanceof xt)K2(d,t);else if(d instanceof Array)for(var h=0;h<d.length;h++)d[h]instanceof xt&&K2(d[h],t)}}s!==i&&K2(s,r),n=l,i=s}});for(var a=0;a<e.lights.length;a++)e.lights[a].cubemap&&K2(e.lights[a].cubemap,t)}kn.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(CA(this._textureList),CA(this._geometriesList),TA(this.renderer,this._textureList),TA(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)};kn.prototype.onmousedown=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mousedown",e,t),this._dispatchDataEvent("mousedown",e,t)),this._downX=e.offsetX,this._downY=e.offsetY}};kn.prototype.onmousemove=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),r=t&&t.target,n=this._hovered;this._hovered=t,n&&r!==n.target&&(n.relatedTarget=r,this._dispatchEvent("mouseout",e,n),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,t),t&&(this.zr.setCursorStyle("pointer"),(!n||r!==n.target)&&this._dispatchEvent("mouseover",e,t)),this._dispatchDataEvent("mousemove",e,t)}};kn.prototype.onmouseup=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mouseup",e,t),this._dispatchDataEvent("mouseup",e,t)),this._upX=e.offsetX,this._upY=e.offsetY}};kn.prototype.onclick=kn.prototype.dblclick=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){var t=this._upX-this._downX,r=this._upY-this._downY;if(!(Math.sqrt(t*t+r*r)>20)){e=e.event;var n=this.pickObject(e.offsetX,e.offsetY);n&&(this._dispatchEvent(e.type,e,n),this._dispatchDataEvent(e.type,e,n));var i=this._clickToSetFocusPoint(e);if(i){var a=i.view.setDOFFocusOnPoint(i.distance);a&&this.zr.refresh()}}}};kn.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,r=t.viewport,n=this.views.length-1;n>=0;n--){var i=this.views[n];if(i.hasDOF()&&i.containPoint(e.offsetX,e.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,t.viewport=i.viewport;var a=this._picking.pick(e.offsetX,e.offsetY,!0);if(a)return a.view=i,a}}t.viewport=r};kn.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent("mouseout",e,{target:t.target})};kn.prototype.pickObject=function(e,t){for(var r=[],n=this.renderer,i=n.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,n.viewport=o.viewport,this._picking.pickAll(e,t,r))}return n.viewport=i,r.sort(function(s,l){return s.distance-l.distance}),r[0]};kn.prototype._dispatchEvent=function(e,t,r){r||(r={});var n=r.target;for(r.cancelBubble=!1,r.event=t,r.type=e,r.offsetX=t.offsetX,r.offsetY=t.offsetY;n&&(n.trigger(e,r),n=n.getParent(),!r.cancelBubble););this._dispatchToView(e,r)};kn.prototype._dispatchDataEvent=function(e,t,r){var n=r&&r.target,i=n&&n.dataIndex,a=n&&n.seriesIndex,o=n&&n.eventData,s=!1,l=this._zrEventProxy;l.x=t.offsetX,l.y=t.offsetY,l.update();var u={target:l};const c=qt(l);e==="mousemove"&&(i!=null?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(c.dataIndex=this._lastDataIndex,c.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(u,"mouseout",t)),s=!0):o!=null&&o!==this._lastEventData&&(this._lastEventData!=null&&(c.eventData=this._lastEventData,this.zr.handler.dispatchToElement(u,"mouseout",t)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),c.eventData=o,c.dataIndex=i,c.seriesIndex=a,(o!=null||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(u,e,t),s&&this.zr.handler.dispatchToElement(u,"mouseover",t))};kn.prototype._dispatchToView=function(e,t){for(var r=0;r<this.views.length;r++)this.views[r].containPoint(t.offsetX,t.offsetY)&&this.views[r].trigger(e,t)};Object.assign(kn.prototype,OB);var Wst=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function ax(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,n=e[t].emphasis;r&&(e[t]=r),n&&(e.emphasis=e.emphasis||{},e.emphasis[t]=n)}}function Xst(e){ax(e,"itemStyle"),ax(e,"lineStyle"),ax(e,"areaStyle"),ax(e,"label")}function Z2(e){e&&(e instanceof Array||(e=[e]),G(e,function(t){if(t.axisLabel){var r=t.axisLabel;Object.assign(r,r.textStyle),r.textStyle=null}}))}function jst(e){G(e.series,function(t){ur(Wst,t.type)>=0&&(Xst(t),t.coordinateSystem==="mapbox"&&(t.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),Z2(e.xAxis3D),Z2(e.yAxis3D),Z2(e.zAxis3D),Z2(e.grid3D),ax(e.geo3D)}function vce(e){this._layers={},this._zr=e}vce.prototype.update=function(e,t){var r=this,n=t.getZr();if(!n.getWidth()||!n.getHeight()){console.warn("Dom has no width or height");return}function i(s){n.setSleepAfterStill(0);var l;s.coordinateSystem&&s.coordinateSystem.model,l=s.get("zlevel");var u=r._layers,c=u[l];if(!c){if(c=u[l]=new kn("gl-"+l,n),n.painter.isSingleCanvas()){c.virtual=!0;var f=new Ra({z:1e4,style:{image:c.renderer.canvas},silent:!0});c.__hostImage=f,n.add(f)}n.painter.insertLayer(l,c)}return c.__hostImage&&c.__hostImage.setStyle({width:c.renderer.getWidth(),height:c.renderer.getHeight()}),c}function a(s,l){s&&s.traverse(function(u){u.isRenderable&&u.isRenderable()&&(u.ignorePicking=u.$ignorePicking!=null?u.$ignorePicking:l)})}for(var o in this._layers)this._layers[o].removeViewsAll();e.eachComponent(function(s,l){if(s!=="series"){var u=t.getViewOfComponentModel(l),c=l.coordinateSystem;if(u.__ecgl__){var f;if(c){if(!c.viewGL){console.error("Can't find viewGL in coordinateSystem of component "+l.id);return}f=c.viewGL}else{if(!l.viewGL){console.error("Can't find viewGL of component "+l.id);return}f=c.viewGL}var f=c.viewGL,d=i(l);d.addView(f),u.afterRender&&u.afterRender(l,e,t,d),a(u.groupGL,l.get("silent"))}}}),e.eachSeries(function(s){var l=t.getViewOfSeriesModel(s),u=s.coordinateSystem;if(l.__ecgl__){if(u&&!u.viewGL&&!l.viewGL){console.error("Can't find viewGL of series "+l.id);return}var c=u&&u.viewGL||l.viewGL,f=i(s);f.addView(c),l.afterRender&&l.afterRender(s,e,t,f),a(l.groupGL,s.get("silent"))}})};Bae(function(e){var t=e.getZr(),r=t.painter.dispose;t.painter.dispose=function(){typeof this.eachOtherLayer=="function"&&this.eachOtherLayer(function(n){n instanceof kn&&n.dispose()}),r.call(this)},t.painter.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas)return this._layers[0].dom;var i=document.createElement("canvas"),a=n.pixelRatio||this.dpr;i.width=this.getWidth()*a,i.height=this.getHeight()*a;var o=i.getContext("2d");o.dpr=a,o.clearRect(0,0,i.width,i.height),n.backgroundColor&&(o.fillStyle=n.backgroundColor,o.fillRect(0,0,i.width,i.height));var s=this.storage.getDisplayList(!0),l={},u,c=this;function f(p,g){var m=c._zlevelList;p==null&&(p=-1/0);for(var y,x=0;x<m.length;x++){var b=m[x],w=c._layers[b];if(!w.__builtin__&&b>p&&b<g){y=w;break}}y&&y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())}for(var d={ctx:o},h=0;h<s.length;h++){var v=s[h];v.zlevel!==u&&(f(u,v.zlevel),u=v.zlevel),this._doPaintEl(v,d,!0,null,l)}return f(u,1/0),i}});zae(function(e,t){var r=t.getZr(),n=r.__egl=r.__egl||new vce(r);n.update(e,t)});uN(jst);const gM={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},e.alpha!=null&&(this.option.viewControl.alpha=e.alpha),e.beta!=null&&(this.option.viewControl.beta=e.beta),e.distance!=null&&(this.option.viewControl.distance=e.distance),e.center!=null&&(this.option.viewControl.center=e.center)}},gy={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},my={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var mM=dr.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});Et(mM.prototype,gM);Et(mM.prototype,gy);Et(mM.prototype,my);var I1=Nr.firstNotNull,xK={left:0,middle:1,right:2};function _K(e){return e instanceof Array||(e=[e,e]),e}var Bb=Ua.extend(function(){return{zr:null,viewGL:null,_center:new qe,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new hr,_panVelocity:new hr,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){t=t||{};var r=t.baseDistance||0,n=t.baseOrthoSize||1,i=e.get("projection");i!=="perspective"&&i!=="orthographic"&&i!=="isometric"&&(i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=e.get("distance")+r,o=e.get("orthographicSize")+n;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(d){this[d[0]]=I1(e.get(d[0]),d[1])},this),this.minDistance+=r,this.maxDistance+=r,this.minOrthographicSize+=n,this.maxOrthographicSize+=n;var s=e.ecModel,l={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(d){l[d]=I1(e.get(d),s&&s.get(d))});var u=I1(t.alpha,e.get("alpha"))||0,c=I1(t.beta,e.get("beta"))||0,f=I1(t.center,e.get("center"))||[0,0,0];l.animation&&l.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:u,beta:c,center:f,distance:a,orthographicSize:o,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(u),this.setBeta(c),this.setCenter(f),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(e){var t=this.zr,r=this,n={},i={};return e.distance!=null&&(n.distance=this.getDistance(),i.distance=e.distance),e.orthographicSize!=null&&(n.orthographicSize=this.getOrthographicSize(),i.orthographicSize=e.orthographicSize),e.alpha!=null&&(n.alpha=this.getAlpha(),i.alpha=e.alpha),e.beta!=null&&(n.beta=this.getBeta(),i.beta=e.beta),e.center!=null&&(n.center=this.getCenter(),i.center=e.center),this._addAnimator(t.animation.animate(n).when(e.duration||1e3,i).during(function(){n.alpha!=null&&r.setAlpha(n.alpha),n.beta!=null&&r.setBeta(n.beta),n.distance!=null&&r.setDistance(n.distance),n.center!=null&&r.setCenter(n.center),n.orthographicSize!=null&&r.setOrthographicSize(n.orthographicSize),r._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var t=(this.autoRotateDirection==="cw"?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=t*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){this._projection==="perspective"?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var t=this.getCamera(),r=this._orthoSize,n=r/this.viewGL.viewport.height*this.viewGL.viewport.width;t.left=-n/2,t.right=n/2,t.top=r/2,t.bottom=-r/2},_updatePan:function(e){var t=this._panVelocity,r=this._distance,n=this.getCamera(),i=n.worldTransform.y,a=n.worldTransform.x;this._center.scaleAndAdd(a,-t.x*r/200).scaleAndAdd(i,-t.y*r/200),this._vectorDamping(t,0)},_updateTransform:function(){var e=this.getCamera(),t=new qe,r=this._theta+Math.PI/2,n=this._phi+Math.PI/2,i=Math.sin(r);t.x=i*Math.cos(n),t.y=-Math.cos(r),t.z=i*Math.sin(n),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){t._rotating=!0},e*1e3))},_vectorDamping:function(e,t){var r=e.len();r=r*t,r<1e-4&&(r=0),e.normalize().scale(r)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,t=Math.asin(e.y),r=Math.atan2(e.x,e.z);this._theta=t,this._phi=-r,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,r=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,r)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?e.event.targetTouches.length===1&&(this._mode="rotate"):e.event.button===xK[this.rotateMouseButton]?this._mode="rotate":e.event.button===xK[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy)&&!this._isAnimating()){var t=_K(this.panSensitivity),r=_K(this.rotateSensitivity);this._mode==="rotate"?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*r[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*r[1]):this._mode==="pan"&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*t[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*t[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,t){if(t!==0){var r=e.offsetX,n=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(r,n))){var i;this._projection==="perspective"?i=Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):i=Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(t>0?-1:1)*i*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&this._mode==="rotate"&&this._startCountingStill(),e.event.preventDefault()}}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return this.rotateMouseButton==="right"||this.panMouseButton==="right"},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var t=this._animators;return t.push(e),e.done(function(){var r=t.indexOf(e);r>=0&&t.splice(r,1)}),e}});Object.defineProperty(Bb.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const zb={convertToDynamicArray:function(e){e&&this.resetOffset();var t=this.attributes;for(var r in t)e||!t[r].value?t[r].value=[]:t[r].value=Array.prototype.slice.call(t[r].value);e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var t in e)e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},ki={vec2:vt,vec3:be,vec4:at,mat3:sr,mat4:st};var LI=ki.vec3,bK=[[0,0],[1,1]],Nh=Vr.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new Vr.Attribute("position","float",3,"POSITION"),positionPrev:new Vr.Attribute("positionPrev","float",3),positionNext:new Vr.Attribute("positionNext","float",3),prevPositionPrev:new Vr.Attribute("prevPositionPrev","float",3),prevPosition:new Vr.Attribute("prevPosition","float",3),prevPositionNext:new Vr.Attribute("prevPositionNext","float",3),offset:new Vr.Attribute("offset","float",1),color:new Vr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(e===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(e*3):new Uint16Array(e*3))},_getCubicCurveApproxStep:function(e,t,r,n){var i=LI.dist(e,t)+LI.dist(r,t)+LI.dist(n,r),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?a*2:a*2+2},getCubicCurveTriangleCount:function(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?0:a*2},getLineVertexCount:function(){return this.getPolylineVertexCount(bK)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(bK)},getPolylineVertexCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/3}return this.useNativeLine?(t-1)*2:(t-1)*2+2},getPolylineTriangleCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/3}return this.useNativeLine?0:Math.max(t-1,0)*2},addCubicCurve:function(e,t,r,n,i,a){a==null&&(a=1);for(var o=e[0],s=e[1],l=e[2],u=t[0],c=t[1],f=t[2],d=r[0],h=r[1],v=r[2],p=n[0],g=n[1],m=n[2],y=this._getCubicCurveApproxStep(e,t,r,n),x=y*y,b=x*y,w=3*y,S=3*x,C=6*x,E=6*b,A=o-u*2+d,M=s-c*2+h,D=l-f*2+v,R=(u-d)*3-o+p,L=(c-h)*3-s+g,k=(f-v)*3-l+m,O=o,F=s,H=l,V=(u-o)*w+A*S+R*b,U=(c-s)*w+M*S+L*b,K=(f-l)*w+D*S+k*b,q=A*C+R*E,N=M*C+L*E,W=D*C+k*E,j=R*E,Z=L*E,ve=k*E,Te=0,Se=0,te=Math.ceil(1/y),pe=new Float32Array((te+1)*3),pe=[],Re=0,Se=0;Se<te+1;Se++)pe[Re++]=O,pe[Re++]=F,pe[Re++]=H,O+=V,F+=U,H+=K,V+=q,U+=N,K+=W,q+=j,N+=Z,W+=ve,Te+=y,Te>1&&(O=V>0?Math.min(O,p):Math.max(O,p),F=U>0?Math.min(F,g):Math.max(F,g),H=K>0?Math.min(H,m):Math.max(H,m));return this.addPolyline(pe,i,a)},addLine:function(e,t,r,n){return this.addPolyline([e,t],r,n)},addPolyline:function(e,t,r,n,i){if(e.length){var a=typeof e[0]!="number";if(i==null&&(i=a?e.length:e.length/3),!(i<2)){n==null&&(n=0),r==null&&(r=1),this._itemVertexOffsets.push(this._vertexOffset);var a=typeof e[0]!="number",o=a?typeof t[0]!="number":t.length/4===i,s=this.attributes.position,l=this.attributes.positionPrev,u=this.attributes.positionNext,c=this.attributes.color,f=this.attributes.offset,d=this.indices,h=this._vertexOffset,v,p;r=Math.max(r,.01);for(var g=n;g<i;g++){if(a)v=e[g],o?p=t[g]:p=t;else{var m=g*3;if(v=v||[],v[0]=e[m],v[1]=e[m+1],v[2]=e[m+2],o){var y=g*4;p=p||[],p[0]=t[y],p[1]=t[y+1],p[2]=t[y+2],p[3]=t[y+3]}else p=t}if(this.useNativeLine?g>1&&(s.copy(h,h-1),c.copy(h,h-1),h++):(g<i-1&&(l.set(h+2,v),l.set(h+3,v)),g>0&&(u.set(h-2,v),u.set(h-1,v)),s.set(h,v),s.set(h+1,v),c.set(h,p),c.set(h+1,p),f.set(h,r/2),f.set(h+1,-r/2),h+=2),this.useNativeLine)c.set(h,p),s.set(h,v),h++;else if(g>0){var x=this._triangleOffset*3,d=this.indices;d[x]=h-4,d[x+1]=h-3,d[x+2]=h-2,d[x+3]=h-3,d[x+4]=h-1,d[x+5]=h-2,this._triangleOffset+=2}}if(!this.useNativeLine){var b=this._vertexOffset,w=this._vertexOffset+i*2;l.copy(b,b+2),l.copy(b+1,b+3),u.copy(w-1,w-3),u.copy(w-2,w-4)}return this._vertexOffset=h,this._vertexOffset}}},setItemColor:function(e,t){for(var r=this._itemVertexOffsets[e],n=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=r;i<n;i++)this.attributes.color.set(i,t);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});kt(Nh.prototype,zb);function AA(e,t,r,n,i,a,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=n,this.height=i,this.offsetX=t,this.offsetY=r,this.dpr=o,this.gap=a}AA.prototype={constructor:AA,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,t,r){var n=e.getBoundingRect();t==null&&(t=n.width),r==null&&(r=n.height),t*=this.dpr,r*=this.dpr,this._fitElement(e,t,r);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(i+t+l>o&&(i=this._x=0,a+=this._rowHeight+l,this._y=a,this._rowHeight=0),this._x+=t+l,this._rowHeight=Math.max(this._rowHeight,r),a+r+l>s)return null;e.x+=this.offsetX*this.dpr+i,e.y+=this.offsetY*this.dpr+a,this._zr.add(e);var u=[this.offsetX/this.width,this.offsetY/this.height],c=[[i/o+u[0],a/s+u[1]],[(i+t)/o+u[0],(a+r)/s+u[1]]];return c},_fitElement:function(e,t,r){var n=e.getBoundingRect(),i=t/n.width,a=r/n.height;e.x=-n.x*i,e.y=-n.y*a,e.scaleX=i,e.scaleY=a,e.update()}};function EA(e){e=e||{},e.width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=e.gap==null?2:e.gap;var t=document.createElement("canvas");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new Mr({image:t,flipY:!1});var r=this;this._zr=dk(t);var n=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){n.call(this),r._texture.dirty(),r.onupdate&&r.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new AA(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}EA.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes,r=t.length,n=r*this._nodeWidth%e,i=Math.floor(r*this._nodeWidth/e)*this._nodeHeight;if(!(i>=e)){var a=(n+this._nodeWidth)*this._dpr,o=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:o})}catch{this._canvas.width=a,this._canvas.height=o}var s=new AA(this._zr,n,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s}},add:function(e,t,r){if(this._coords[e.id])return this._coords[e.id];var n=this._getCurrentNode().add(e,t,r);if(!n){var i=this._expand();if(!i)return;n=i.add(e,t,r)}return this._coords[e.id]=n,n},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};function Th(){}Th.prototype={constructor:Th,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new ae.DirectionalLight({shadowBias:.005}),this.ambientLight=new ae.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var t=this.mainLight,r=this.ambientLight,n=e.getModel("light"),i=n.getModel("main"),a=n.getModel("ambient");t.intensity=i.get("intensity"),r.intensity=a.get("intensity"),t.color=ae.parseColor(i.get("color")).slice(0,3),r.color=ae.parseColor(a.get("color")).slice(0,3);var o=i.get("alpha")||0,s=i.get("beta")||0;t.position.setArray(ae.directionFromAlphaBeta(o,s)),t.lookAt(ae.Vector3.ZERO),t.castShadow=i.get("shadow"),t.shadowResolution=ae.getShadowResolution(i.get("shadowQuality"))},updateAmbientCubemap:function(e,t,r){var n=t.getModel("light.ambientCubemap"),i=n.get("texture");if(i){this._cubemapLightsCache=this._cubemapLightsCache||{};var a=this._cubemapLightsCache[i];if(!a){var o=this;a=this._cubemapLightsCache[i]=ae.createAmbientCubemap(n.option,e,r,function(){o._isSkyboxFromAmbientCubemap&&o._skybox.setEnvironmentMap(a.specular.cubemap),r.getZr().refresh()})}this._lightRoot.add(a.diffuse),this._lightRoot.add(a.specular),this._currentCubemapLights=a}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,t,r){var n=t.get("environment"),i=this;function a(){return i._skybox=i._skybox||new K_,i._skybox}var o=a();if(n&&n!=="none")if(n==="auto")if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var s=this._currentCubemapLights.specular.cubemap;o.setEnvironmentMap(s),this._scene&&o.attachScene(this._scene),o.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if(typeof n=="object"&&n.colorStops||typeof n=="string"&&_o(n)){this._isSkyboxFromAmbientCubemap=!1;var l=new ae.Texture2D({anisotropic:8,flipY:!1});o.setEnvironmentMap(l);var u=l.image=document.createElement("canvas");u.width=u.height=16;var c=u.getContext("2d"),f=new vr({shape:{x:0,y:0,width:16,height:16},style:{fill:n}});QE(c,f),o.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;var l=ae.loadTexture(n,r,{anisotropic:8,flipY:!1});o.setEnvironmentMap(l),o.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=t.coordinateSystem;if(this._skybox)if(d&&d.viewGL&&n!=="auto"&&!(n.match&&n.match(/.hdr$/))){var h=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[h]("fragment","SRGB_DECODE")}else this._skybox.material.undefine("fragment","SRGB_DECODE")}};var Mv=ki.vec3,pce=Vr.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new Vr.Attribute("position","float",3,"POSITION"),normal:new Vr.Attribute("normal","float",3,"NORMAL"),color:new Vr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var t=this.attributes,r=this.getQuadVertexCount()*e,n=this.getQuadTriangleCount()*e;this.vertexCount!==r&&(t.position.init(r),t.normal.init(r),t.color.init(r)),this.triangleCount!==n&&(this.indices=r>65535?new Uint32Array(n*3):new Uint16Array(n*3))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:(function(){var e=Mv.create(),t=Mv.create(),r=Mv.create(),n=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,l=this.attributes.color;Mv.sub(e,i[1],i[0]),Mv.sub(t,i[2],i[1]),Mv.cross(r,e,t),Mv.normalize(r,r);for(var u=0;u<4;u++)o.set(this._vertexOffset+u,i[u]),l.set(this._vertexOffset+u,a),s.set(this._vertexOffset+u,r);for(var c=this._faceOffset*3,u=0;u<6;u++)this.indices[c+u]=n[u]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}})()});kt(pce.prototype,zb);var vO=Nr.firstNotNull,Yst={x:0,y:2,z:1};function Kst(e,t,r,n){var i=[0,0,0],a=n<0?r.getExtentMin():r.getExtentMax();i[Yst[r.dim]]=a,e.position.setArray(i),e.rotation.identity(),t.distance=-Math.abs(a),t.normal.set(0,0,0),r.dim==="x"?(e.rotation.rotateY(n*Math.PI/2),t.normal.x=-n):r.dim==="z"?(e.rotation.rotateX(-n*Math.PI/2),t.normal.y=-n):(n>0&&e.rotation.rotateY(Math.PI),t.normal.z=-n)}function yM(e,t,r){this.rootNode=new ae.Node;var n=new ae.Mesh({geometry:new Nh({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new ae.Mesh({geometry:new pce,material:r,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(n),this.faceInfo=e,this.plane=new ae.Plane,this.linesMesh=n,this.quadsMesh=i}yM.prototype.update=function(e,t,r){var n=e.coordinateSystem,i=[n.getAxis(this.faceInfo[0]),n.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,e,r),this._udpateSplitAreas(o,i,e,r),a.convertToTypedArray(),o.convertToTypedArray();var s=n.getAxis(this.faceInfo[2]);Kst(this.rootNode,this.plane,s,this.faceInfo[3])};yM.prototype._updateSplitLines=function(e,t,r,n){var i=n.getDevicePixelRatio();t.forEach(function(a,o){var s=a.model,l=t[1-o].getExtent();if(!a.scale.isBlank()){var u=s.getModel("splitLine",r.getModel("splitLine"));if(u.get("show")){var c=u.getModel("lineStyle"),f=c.get("color"),d=vO(c.get("opacity"),1),h=vO(c.get("width"),1);f=We(f)?f:[f];for(var v=a.getTicksCoords({tickModel:u}),p=0,g=0;g<v.length;g++){var m=v[g].coord,y=ae.parseColor(f[p%f.length]);y[3]*=d;var x=[0,0,0],b=[0,0,0];x[o]=b[o]=m,x[1-o]=l[0],b[1-o]=l[1],e.addLine(x,b,y,h*i),p++}}}})};yM.prototype._udpateSplitAreas=function(e,t,r,n){t.forEach(function(i,a){var o=i.model,s=t[1-a].getExtent();if(!i.scale.isBlank()){var l=o.getModel("splitArea",r.getModel("splitArea"));if(l.get("show")){var u=l.getModel("areaStyle"),c=u.get("color"),f=vO(u.get("opacity"),1);c=We(c)?c:[c];for(var d=i.getTicksCoords({tickModel:l,clamp:!0}),h=0,v=[0,0,0],p=[0,0,0],g=0;g<d.length;g++){var m=d[g].coord,y=[0,0,0],x=[0,0,0];if(y[a]=x[a]=m,y[1-a]=s[0],x[1-a]=s[1],g===0){v=y,p=x;continue}var b=ae.parseColor(c[h%c.length]);b[3]*=f,e.addQuad([v,y,x,p],b),v=y,p=x,h++}}}})};var wK=[0,1,2,0,2,3],gce=Vr.extend(function(){return{attributes:{position:new Vr.Attribute("position","float",3,"POSITION"),texcoord:new Vr.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new Vr.Attribute("offset","float",2),color:new Vr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var t=e*4,r=e*2;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==r&&(this.indices=t>65535?new Uint32Array(r*3):new Uint16Array(r*3))},setSpriteAlign:function(e,t,r,n,i){r==null&&(r="left"),n==null&&(n="top");var a,o,s,l;switch(i=i||0,r){case"left":a=i,s=t[0]+i;break;case"center":case"middle":a=-t[0]/2,s=t[0]/2;break;case"right":a=-t[0]-i,s=-i;break}switch(n){case"bottom":o=i,l=t[1]+i;break;case"middle":o=-t[1]/2,l=t[1]/2;break;case"top":o=-t[1]-i,l=-i;break}var u=e*4,c=this.attributes.offset;c.set(u,[a,l]),c.set(u+1,[s,l]),c.set(u+2,[s,o]),c.set(u+3,[a,o])},addSprite:function(e,t,r,n,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,r,n,i,a);for(var s=0;s<wK.length;s++)this.indices[this._faceOffset*3+s]=wK[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,t,r,n,i,a,o){for(var s=e*4,l=this.attributes,u=0;u<4;u++)l.position.set(s+u,t);var c=l.texcoord;c.set(s,[n[0][0],n[0][1]]),c.set(s+1,[n[1][0],n[0][1]]),c.set(s+2,[n[1][0],n[1][1]]),c.set(s+3,[n[0][0],n[1][1]]),this.setSpriteAlign(e,r,i,a,o)}});kt(gce.prototype,zb);const Zst=`@export ecgl.labels.vertex

attribute vec3 position: POSITION;
attribute vec2 texcoord: TEXCOORD_0;
attribute vec2 offset;
#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec2 v_Texcoord;

void main()
{
 vec4 proj = worldViewProjection * vec4(position, 1.0);

 vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;

 screen += offset;

 proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);
 gl_Position = proj;
#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif
 v_Texcoord = texcoord;
}
@end


@export ecgl.labels.fragment

uniform vec3 color : [1.0, 1.0, 1.0];
uniform float alpha : 1.0;
uniform sampler2D textureAtlas;
uniform vec2 uvScale: [1.0, 1.0];

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif
varying float v_Miter;

varying vec2 v_Texcoord;

void main()
{
 gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);
#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif
}

@end`;ae.Shader.import(Zst);const zB=ae.Mesh.extend(function(){var e=new gce({dynamic:!0}),t=new ae.Material({shader:ae.createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:e,material:t,culling:!1,castShadow:!1,ignorePicking:!0}});var Dv=Nr.firstNotNull,Pv={x:0,y:2,z:1};function HB(e,t){var r=new ae.Mesh({geometry:new Nh({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),n=new zB;n.material.depthMask=!1;var i=new ae.Node;i.add(r),i.add(n),this.rootNode=i,this.dim=e,this.linesMesh=r,this.labelsMesh=n,this.axisLineCoords=null,this.labelElements=[]}var II={x:"y",y:"x",z:"y"};HB.prototype.update=function(e,t,r){var n=e.coordinateSystem,i=n.getAxis(this.dim),a=this.linesMesh.geometry,o=this.labelsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0);var s=i.model,l=i.getExtent(),D=r.getDevicePixelRatio(),u=s.getModel("axisLine",e.getModel("axisLine")),c=s.getModel("axisTick",e.getModel("axisTick")),f=s.getModel("axisLabel",e.getModel("axisLabel")),d=u.get("lineStyle.color");if(u.get("show")){var h=u.getModel("lineStyle"),v=[0,0,0],p=[0,0,0],g=Pv[i.dim];v[g]=l[0],p[g]=l[1],this.axisLineCoords=[v,p];var m=ae.parseColor(d),y=Dv(h.get("width"),1),x=Dv(h.get("opacity"),1);m[3]*=x,a.addLine(v,p,m,y*D)}if(c.get("show")){var b=c.getModel("lineStyle"),w=ae.parseColor(Dv(b.get("color"),d)),y=Dv(b.get("width"),1);w[3]*=Dv(b.get("opacity"),1);for(var S=i.getTicksCoords(),C=c.get("length"),E=0;E<S.length;E++){var A=S[E].coord,v=[0,0,0],p=[0,0,0],g=Pv[i.dim],M=Pv[II[i.dim]];v[g]=p[g]=A,p[M]=C,a.addLine(v,p,w,y*D)}}this.labelElements=[];var D=r.getDevicePixelRatio();if(f.get("show"))for(var S=i.getTicksCoords(),R=s.get("data"),L=f.get("margin"),k=i.getViewLabels(),E=0;E<k.length;E++){var O=k[E].tickValue,F=k[E].formattedLabel,H=k[E].rawLabel,A=i.dataToCoord(O),V=[0,0,0],g=Pv[i.dim],M=Pv[II[i.dim]];V[g]=V[g]=A,V[M]=L;var U=f;R&&R[O]&&R[O].textStyle&&(U=new pr(R[O].textStyle,f,s.ecModel));var K=Dv(U.get("color"),d),q=new Pr({style:gn(U,{text:F,fill:typeof K=="function"?K(i.type==="category"?H:i.type==="value"?O+"":O,E):K,verticalAlign:"top",align:"left"})}),N=t.add(q),W=q.getBoundingRect();o.addSprite(V,[W.width*D,W.height*D],N),this.labelElements.push(q)}if(s.get("name")){var j=s.getModel("nameTextStyle"),V=[0,0,0],g=Pv[i.dim],M=Pv[II[i.dim]],Z=Dv(j.get("color"),d),ve=j.get("borderColor"),y=j.get("borderWidth");V[g]=V[g]=(l[0]+l[1])/2,V[M]=s.get("nameGap");var q=new Pr({style:gn(j,{text:s.get("name"),fill:Z,stroke:ve,lineWidth:y})}),N=t.add(q),W=q.getBoundingRect();o.addSprite(V,[W.width*D,W.height*D],N),q.__idx=this.labelElements.length,this.nameLabelElement=q}this.labelsMesh.material.set("textureAtlas",t.getTexture()),this.labelsMesh.material.set("uvScale",t.getCoordsScale()),a.convertToTypedArray(),o.convertToTypedArray()};HB.prototype.setSpriteAlign=function(e,t,r){for(var n=r.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a],s=o.getBoundingRect();i.setSpriteAlign(a,[s.width*n,s.height*n],e,t)}var l=this.nameLabelElement;if(l){var s=l.getBoundingRect();i.setSpriteAlign(l.__idx,[s.width*n,s.height*n],e,t),i.dirty()}this.textAlign=e,this.textVerticalAlign=t};const xM=`@export ecgl.lines3D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

void main()
{
 gl_Position = worldViewProjection * vec4(position, 1.0);
 v_Color = a_Color;
}

@end

@export ecgl.lines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif
}
@end



@export ecgl.lines3D.clipNear

vec4 clipNear(vec4 p1, vec4 p2) {
 float n = (p1.w - near) / (p1.w - p2.w);
 return vec4(mix(p1.xy, p2.xy, n), -near, near);
}

@end

@export ecgl.lines3D.expandLine
#ifdef VERTEX_ANIMATION
 vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);
 vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);
 vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);
#else
 vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);
 vec4 currProj = worldViewProjection * vec4(position, 1.0);
 vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);
#endif

 if (currProj.w < 0.0) {
 if (nextProj.w > 0.0) {
 currProj = clipNear(currProj, nextProj);
 }
 else if (prevProj.w > 0.0) {
 currProj = clipNear(currProj, prevProj);
 }
 }

 vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;

 vec2 dir;
 float len = offset;
 if (position == positionPrev) {
 dir = normalize(nextScreen - currScreen);
 }
 else if (position == positionNext) {
 dir = normalize(currScreen - prevScreen);
 }
 else {
 vec2 dirA = normalize(currScreen - prevScreen);
 vec2 dirB = normalize(nextScreen - currScreen);

 vec2 tanget = normalize(dirA + dirB);

 float miter = 1.0 / max(dot(tanget, dirA), 0.5);
 len *= miter;
 dir = tanget;
 }

 dir = vec2(-dir.y, dir.x) * len;
 currScreen += dir;

 currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);
@end


@export ecgl.meshLines3D.vertex

attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute vec4 a_Color : COLOR;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevPositionPrev;
attribute vec3 prevPositionNext;
uniform float percent : 1.0;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

varying vec4 v_Color;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain
}
@end


@export ecgl.meshLines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain
}

@end`;var SK=Nr.firstNotNull;ae.Shader.import(xM);var Rv={x:0,y:2,z:1};const qst=Cn.extend({type:"grid3D",__ecgl__:!0,init:function(e,t){var r=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],n=["x","y","z"],i=new ae.Material({shader:ae.createShader("ecgl.color"),depthMask:!1,transparent:!0}),a=new ae.Material({shader:ae.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});i.define("fragment","DOUBLE_SIDED"),i.define("both","VERTEX_COLOR"),this.groupGL=new ae.Node,this._control=new Bb({zr:t.getZr()}),this._control.init(),this._faces=r.map(function(s){var l=new yM(s,a,i);return this.groupGL.add(l.rootNode),l},this),this._axes=n.map(function(s){var l=new HB(s,a);return this.groupGL.add(l.rootNode),l},this);var o=t.getDevicePixelRatio();this._axisLabelSurface=new EA({width:256,height:256,devicePixelRatio:o}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh()},this._axisPointerLineMesh=new ae.Mesh({geometry:new Nh({useNativeLine:!1}),material:a,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new EA({width:128,height:128,devicePixelRatio:o}),this._axisPointerLabelsMesh=new zB({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new ae.Node,this._sceneHelper=new Th,this._sceneHelper.initLight(this._lightRoot)},render:function(e,t,r){this._model=e,this._api=r;var n=e.coordinateSystem;n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(n.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),e.get("show")&&(this._faces.forEach(function(o){o.update(e,t,r)},this),this._axes.forEach(function(o){o.update(e,this._axisLabelSurface,r)},this)),i.on("update",this._onCameraChange.bind(this,e,r),this),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r)},showAxisPointer:function(e,t,r,n){this._doShowAxisPointer(),this._updateAxisPointer(n.value)},hideAxisPointer:function(e,t,r,n){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem,r=t.viewGL;e.get("show")&&e.get("axisPointer.show")?r.on("mousemove",this._updateAxisPointerOnMousePosition,this):r.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var t=this._model,r=t.coordinateSystem,n=r.viewGL,i=n.castRay(e.offsetX,e.offsetY,new ae.Ray),a,o=0;o<this._faces.length;o++){var s=this._faces[o];if(!s.rootNode.invisible){s.plane.normal.dot(n.camera.worldTransform.z)<0&&s.plane.normal.negate();var l=i.intersectPlane(s.plane);if(l){var u=r.getAxis(s.faceInfo[0]),c=r.getAxis(s.faceInfo[1]),f=Rv[s.faceInfo[0]],d=Rv[s.faceInfo[1]];u.contain(l.array[f])&&c.contain(l.array[d])&&(a=l)}}}if(a){var h=r.pointToData(a.array,[],!0);this._updateAxisPointer(h),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,t){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var r=this._control;t.dispatchAction({type:"grid3DChangeCamera",alpha:r.getAlpha(),beta:r.getBeta(),distance:r.getDistance(),center:r.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),t=new ae.Vector3;e.update();for(var r=0;r<this._faces.length/2;r++){for(var n=[],i=0;i<2;i++){var a=this._faces[r*2+i];a.rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),n[i]=t.z}var o=n[0]>n[1]?0:1,s=this._faces[r*2+o],l=this._faces[r*2+1-o];s.rootNode.invisible=!0,l.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,t=e.getAxis("x"),r=e.getAxis("y"),n=e.getAxis("z"),i=n.getExtentMax(),a=n.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),l=r.getExtentMax(),u=r.getExtentMin(),c=this._axes[0].rootNode,f=this._axes[1].rootNode,d=this._axes[2].rootNode,h=this._faces,v=h[4].rootNode.invisible?u:l,p=h[2].rootNode.invisible?i:a,g=h[0].rootNode.invisible?o:s,m=h[2].rootNode.invisible?i:a,y=h[0].rootNode.invisible?s:o,x=h[4].rootNode.invisible?u:l;c.rotation.identity(),f.rotation.identity(),d.rotation.identity(),h[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),h[0].rootNode.invisible&&(this._axes[1].flipped=!0,f.rotation.rotateZ(Math.PI)),h[4].rootNode.invisible&&(this._axes[2].flipped=!0,d.rotation.rotateY(Math.PI)),c.position.set(0,p,v),f.position.set(g,m,0),d.position.set(y,0,x),c.update(),f.update(),d.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),t=[new ae.Vector4,new ae.Vector4],r=new ae.Vector4;this.groupGL.getWorldPosition(r),r.w=1,r.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),r.x/=r.w,r.y/=r.w,this._axes.forEach(function(n){var i=n.axisLineCoords;n.labelsMesh.geometry;for(var a=0;a<t.length;a++)t[a].setArray(i[a]),t[a].w=1,t[a].transformMat4(n.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[a].x/=t[a].w,t[a].y/=t[a].w;var o=t[1].x-t[0].x,s=t[1].y-t[0].y,l=(t[1].x+t[0].x)/2,u=(t[1].y+t[0].y)/2,c,f;Math.abs(s/o)<.5?(c="center",f=u>r.y?"bottom":"top"):(f="middle",c=l>r.x?"left":"right"),n.setSpriteAlign(c,f,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var t=this._model.coordinateSystem,r=t.dataToPoint(e),n=this._axisPointerLineMesh,i=n.geometry,a=this._model.getModel("axisPointer"),o=this._api.getDevicePixelRatio();i.convertToDynamicArray(!0);function s(E){return Nr.firstNotNull(E.model.get("axisPointer.show"),a.get("show"))}function l(E){var A=E.model.getModel("axisPointer",a),M=A.getModel("lineStyle"),D=ae.parseColor(M.get("color")),R=SK(M.get("width"),1),L=SK(M.get("opacity"),1);return D[3]*=L,{color:D,lineWidth:R}}for(var u=0;u<this._faces.length;u++){var c=this._faces[u];if(!c.rootNode.invisible){for(var f=c.faceInfo,d=f[3]<0?t.getAxis(f[2]).getExtentMin():t.getAxis(f[2]).getExtentMax(),h=Rv[f[2]],v=0;v<2;v++){var p=f[v],g=f[1-v],m=t.getAxis(p),y=t.getAxis(g);if(s(m)){var x=[0,0,0],b=[0,0,0],w=Rv[p],S=Rv[g];x[w]=b[w]=r[w],x[h]=b[h]=d,x[S]=y.getExtentMin(),b[S]=y.getExtentMax();var C=l(m);i.addLine(x,b,C.color,C.lineWidth*o)}}if(s(t.getAxis(f[2]))){var x=r.slice(),b=r.slice();b[h]=d;var C=l(t.getAxis(f[2]));i.addLine(x,b,C.color,C.lineWidth*o)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var t=this._model,r=this._axisPointerLabelsMesh,n=this._axisPointerLabelsSurface,i=t.coordinateSystem,a=t.getModel("axisPointer");r.geometry.convertToDynamicArray(!0),n.clear();var o={x:"y",y:"x",z:"y"};this._axes.forEach(function(s,l){var u=i.getAxis(s.dim),c=u.model,f=c.getModel("axisPointer",a),d=f.getModel("label"),h=f.get("lineStyle.color");if(!(!d.get("show")||!f.get("show"))){var v=e[l],p=d.get("formatter"),g=u.scale.getLabel({value:v});if(p!=null)g=p(g,e);else if(u.scale.type==="interval"||u.scale.type==="log"){var m=xF(u.scale.getTicks()[0]);g=v.toFixed(m+2)}var y=d.get("color"),x=new Pr({style:gn(d,{text:g,fill:y||h,align:"left",verticalAlign:"top"})}),b=n.add(x),w=x.getBoundingRect(),S=this._api.getDevicePixelRatio(),C=s.rootNode.position.toArray(),E=Rv[o[s.dim]];C[E]+=(s.flipped?-1:1)*d.get("margin"),C[Rv[s.dim]]=u.dataToCoord(e[l]),r.geometry.addSprite(C,[w.width*S,w.height*S],b,s.textAlign,s.textVerticalAlign)}},this),n.getZr().refreshImmediately(),r.material.set("uvScale",n.getCoordsScale()),r.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});function Z_(e){DN.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}Z_.prototype={constructor:Z_,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,t,r){return t=t||[],t[0]=this.getAxis("x").dataToCoord(e[0],r),t[2]=this.getAxis("y").dataToCoord(e[1],r),t[1]=this.getAxis("z").dataToCoord(e[2],r),t},pointToData:function(e,t,r){return t=t||[],t[0]=this.getAxis("x").coordToData(e[0],r),t[1]=this.getAxis("y").coordToData(e[2],r),t[2]=this.getAxis("z").coordToData(e[1],r),t}};fF(Z_,DN);function MA(e,t,r){es.call(this,e,t,r)}MA.prototype={constructor:MA,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}};fF(MA,es);var DA=function(){this._pool={},this._allocatedTextures=[]};DA.prototype={constructor:DA,get:function(e){var t=CK(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var r=this._pool[t];if(!r.length){var n=new Mr(e);return this._allocatedTextures.push(n),n}return r.pop()},put:function(e){var t=CK(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var r=this._pool[t];r.push(e)},clear:function(e){for(var t=0;t<this._allocatedTextures.length;t++)this._allocatedTextures[t].dispose(e);this._pool={},this._allocatedTextures=[]}};var mce={width:512,height:512,type:nt.UNSIGNED_BYTE,format:nt.RGBA,wrapS:nt.CLAMP_TO_EDGE,wrapT:nt.CLAMP_TO_EDGE,minFilter:nt.LINEAR_MIPMAP_LINEAR,magFilter:nt.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},kI=Object.keys(mce);function CK(e){Ti.defaultsWithPropList(e,mce,kI),Jst(e);for(var t="",r=0;r<kI.length;r++){var n=kI[r],i=e[n].toString();t+=i}return t}function Jst(e){var t=Qst(e.width,e.height);e.format===nt.DEPTH_COMPONENT&&(e.useMipmap=!1),(!t||!e.useMipmap)&&(e.minFilter==nt.NEAREST_MIPMAP_NEAREST||e.minFilter==nt.NEAREST_MIPMAP_LINEAR?e.minFilter=nt.NEAREST:(e.minFilter==nt.LINEAR_MIPMAP_LINEAR||e.minFilter==nt.LINEAR_MIPMAP_NEAREST)&&(e.minFilter=nt.LINEAR)),t||(e.wrapS=nt.CLAMP_TO_EDGE,e.wrapT=nt.CLAMP_TO_EDGE)}function Qst(e,t){return(e&e-1)===0&&(t&t-1)===0}const elt=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`;var Pd=["px","nx","py","ny","pz","nz"];wt.import(elt);function OI(e,t,r){if(r==="alphaMap")return e.material.get("diffuseMap");if(r==="alphaCutoff"){if(e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")){var n=e.material.get("alphaCutoff");return n||0}return 0}else return r==="uvRepeat"?e.material.get("uvRepeat"):r==="uvOffset"?e.material.get("uvOffset"):t.get(r)}function TK(e,t){var r=e.material,n=t.material;return r.get("diffuseMap")!==n.get("diffuseMap")||(r.get("alphaCutoff")||0)!==(n.get("alphaCutoff")||0)}var rc=Ua.extend(function(){return{softShadow:rc.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new Ri,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new DA}},function(){this._gaussianPassH=new Wi({fragment:wt.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new Wi({fragment:wt.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new Wi({fragment:wt.source("clay.sm.debug_depth")})},{render:function(e,t,r,n){r||(r=t.getMainCamera()),this.trigger("beforerender",this,e,t,r),this._renderShadowPass(e,t,r,n),this.trigger("afterrender",this,e,t,r)},renderDebug:function(e,t){e.saveClear();var r=e.viewport,n=0,i=0,a=t||r.width/4,o=a;this.softShadow===rc.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var s in this._textures){var l=this._textures[s];e.setViewport(n,i,a*l.width/l.height,o),this._outputDepthPass.setUniform("depthMap",l),this._outputDepthPass.render(e),n+=a*l.width/l.height}e.setViewport(r),e.restoreClear()},_updateReceivers:function(e,t){if(t.receiveShadow?(this._receivers.push(t),t.material.set("shadowEnabled",1),t.material.set("pcfKernel",this.kernelPCF)):t.material.set("shadowEnabled",0),this.softShadow===rc.VSM)t.material.define("fragment","USE_VSM"),t.material.undefine("fragment","PCF_KERNEL_SIZE");else{t.material.undefine("fragment","USE_VSM");var r=this.kernelPCF;r&&r.length?t.material.define("fragment","PCF_KERNEL_SIZE",r.length/2):t.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,t){var r=this;t.traverse(function(a){a.isRenderable()&&r._updateReceivers(e,a)});for(var n=0;n<t.lights.length;n++){var i=t.lights[n];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(e,t,r,n){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=e.gl;if(n||t.update(),r&&r.update(),t.updateLights(),this._update(e,t),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o=[],s=[],l=[],u=[],c=[],f=[],d,h=0;h<this._lightsCastShadow.length;h++){var v=this._lightsCastShadow[h];if(v.type==="DIRECTIONAL_LIGHT"){if(d){console.warn("Only one direectional light supported with shadow cascade");continue}if(v.shadowCascade>4){console.warn("Support at most 4 cascade");continue}v.shadowCascade>1&&(d=v),this.renderDirectionalLightShadow(e,t,r,v,c,u,l)}else v.type==="SPOT_LIGHT"?this.renderSpotLightShadow(e,t,v,s,o):v.type==="POINT_LIGHT"&&this.renderPointLightShadow(e,t,v,f);this._shadowMapNumber[v.type]++}for(var p in this._shadowMapNumber)for(var g=this._shadowMapNumber[p],m=p+"_SHADOWMAP_COUNT",h=0;h<this._receivers.length;h++){var y=this._receivers[h],x=y.material;x.fragmentDefines[m]!==g&&(g>0?x.define("fragment",m,g):x.isDefined("fragment",m)&&x.undefine("fragment",m))}for(var h=0;h<this._receivers.length;h++){var y=this._receivers[h],x=y.material;d?x.define("fragment","SHADOW_CASCADE",d.shadowCascade):x.undefine("fragment","SHADOW_CASCADE")}var b=t.shadowUniforms;function w(M){return M.height}if(l.length>0){var S=l.map(w);if(b.directionalLightShadowMaps={value:l,type:"tv"},b.directionalLightMatrices={value:u,type:"m4v"},b.directionalLightShadowMapSizes={value:S,type:"1fv"},d){var C=c.slice(),E=c.slice();C.pop(),E.shift(),C.reverse(),E.reverse(),u.reverse(),b.shadowCascadeClipsNear={value:C,type:"1fv"},b.shadowCascadeClipsFar={value:E,type:"1fv"}}}if(o.length>0){var A=o.map(w),b=t.shadowUniforms;b.spotLightShadowMaps={value:o,type:"tv"},b.spotLightMatrices={value:s,type:"m4v"},b.spotLightShadowMapSizes={value:A,type:"1fv"}}f.length>0&&(b.pointLightShadowMaps={value:f,type:"tv"})},renderDirectionalLightShadow:(function(){var e=new dM,t=new At,r=new za,n=new At,i=new At,a=new At,o=new At;return function(s,l,u,c,f,d,h){var v=this._getDepthMaterial(c),p={getMaterial:function(W){return W.shadowDepthMaterial||v},isMaterialChanged:TK,getUniform:OI,ifRender:function(W){return W.castShadow},sortCompare:kl.opaqueSortCompare};if(!l.viewBoundingBoxLastFrame.isFinite()){var g=l.getBoundingBox();l.viewBoundingBoxLastFrame.copy(g).applyTransform(u.viewMatrix)}var m=Math.min(-l.viewBoundingBoxLastFrame.min.z,u.far),y=Math.max(-l.viewBoundingBoxLastFrame.max.z,u.near),x=this._getDirectionalLightCamera(c,l,u),b=a.array;o.copy(x.projectionMatrix),st.invert(i.array,x.worldTransform.array),st.multiply(i.array,i.array,u.worldTransform.array),st.multiply(b,o.array,i.array);for(var w=[],S=u instanceof ga,C=(u.near+u.far)/(u.near-u.far),E=2*u.near*u.far/(u.near-u.far),A=0;A<=c.shadowCascade;A++){var M=y*Math.pow(m/y,A/c.shadowCascade),D=y+(m-y)*A/c.shadowCascade,R=M*c.cascadeSplitLogFactor+D*(1-c.cascadeSplitLogFactor);w.push(R),f.push(-(-R*C+E)/-R)}var L=this._getTexture(c,c.shadowCascade);h.push(L);var k=s.viewport,O=s.gl;this._frameBuffer.attach(L),this._frameBuffer.bind(s),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT);for(var A=0;A<c.shadowCascade;A++){var F=w[A],H=w[A+1];S?st.perspective(t.array,u.fov/180*Math.PI,u.aspect,F,H):st.ortho(t.array,u.left,u.right,u.bottom,u.top,F,H),e.setFromProjection(t),e.getTransformedBoundingBox(r,i),r.applyProjection(o);var V=r.min.array,U=r.max.array;V[0]=Math.max(V[0],-1),V[1]=Math.max(V[1],-1),U[0]=Math.min(U[0],1),U[1]=Math.min(U[1],1),n.ortho(V[0],U[0],V[1],U[1],1,-1),x.projectionMatrix.multiplyLeft(n);var K=c.shadowResolution||512;s.setViewport((c.shadowCascade-A-1)*K,0,K,K,1);var q=l.updateRenderList(x);s.renderPass(q.opaque,x,p),this.softShadow===rc.VSM&&this._gaussianFilter(s,L,L.width);var N=new At;N.copy(x.viewMatrix).multiplyLeft(x.projectionMatrix),d.push(N.array),x.projectionMatrix.copy(o)}this._frameBuffer.unbind(s),s.setViewport(k)}})(),renderSpotLightShadow:function(e,t,r,n,i){var a=this._getTexture(r),o=this._getSpotLightCamera(r),s=e.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var l=this._getDepthMaterial(r),u={getMaterial:function(d){return d.shadowDepthMaterial||l},isMaterialChanged:TK,getUniform:OI,ifRender:function(d){return d.castShadow},sortCompare:kl.opaqueSortCompare},c=t.updateRenderList(o);e.renderPass(c.opaque,o,u),this._frameBuffer.unbind(e),this.softShadow===rc.VSM&&this._gaussianFilter(e,a,a.width);var f=new At;f.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),n.push(f.array)},renderPointLightShadow:function(e,t,r,n){var i=this._getTexture(r),a=e.gl;n.push(i);var o=this._getDepthMaterial(r),s={getMaterial:function(y){return y.shadowDepthMaterial||o},getUniform:OI,sortCompare:kl.opaqueSortCompare},l={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},u=new za,c=r.getWorldPosition().array,f=new za,d=r.range;f.min.setArray(c),f.max.setArray(c);var h=new qe(d,d,d);f.max.add(h),f.min.sub(h);var v={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};t.traverse(function(y){if(y.isRenderable()&&y.castShadow){var x=y.geometry;if(!x.boundingBox){for(var b=0;b<Pd.length;b++)l[Pd[b]].push(y);return}if(u.transformFrom(x.boundingBox,y.worldTransform),!u.intersectBoundingBox(f))return;u.updateVertices();for(var b=0;b<Pd.length;b++)v[Pd[b]]=!1;for(var b=0;b<8;b++){var w=u.vertices[b],S=w[0]-c[0],C=w[1]-c[1],E=w[2]-c[2],A=Math.abs(S),M=Math.abs(C),D=Math.abs(E);A>M?A>D?v[S>0?"px":"nx"]=!0:v[E>0?"pz":"nz"]=!0:M>D?v[C>0?"py":"ny"]=!0:v[E>0?"pz":"nz"]=!0}for(var b=0;b<Pd.length;b++)v[Pd[b]]&&l[Pd[b]].push(y)}});for(var p=0;p<6;p++){var g=Pd[p],m=this._getPointLightCamera(r,g);this._frameBuffer.attach(i,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+p),this._frameBuffer.bind(e),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),e.renderPass(l[g],m,s)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var t=this._lightMaterials[e.__uid__],r=e.type==="POINT_LIGHT";if(!t){var n=r?"clay.sm.distance.":"clay.sm.depth.";t=new Il({precision:this.precision,shader:new wt(wt.source(n+"vertex"),wt.source(n+"fragment"))}),this._lightMaterials[e.__uid__]=t}return e.shadowSlopeScale!=null&&t.setUniform("slopeScale",e.shadowSlopeScale),e.shadowBias!=null&&t.setUniform("bias",e.shadowBias),this.softShadow===rc.VSM?t.define("fragment","USE_VSM"):t.undefine("fragment","USE_VSM"),r&&(t.set("lightPosition",e.getWorldPosition().array),t.set("range",e.range)),t},_gaussianFilter:function(e,t,r){var n={width:r,height:r,type:xt.FLOAT},i=this._texturePool.get(n);this._frameBuffer.attach(i),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",t),this._gaussianPassH.setUniform("textureWidth",r),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",r),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(i)},_getTexture:function(e,t){var r=e.__uid__,n=this._textures[r],i=e.shadowResolution||512;return t=t||1,n||(e.type==="POINT_LIGHT"?n=new zp:n=new Mr,n.width=i*t,n.height=i,this.softShadow===rc.VSM?(n.type=xt.FLOAT,n.anisotropic=4):(n.minFilter=nt.NEAREST,n.magFilter=nt.NEAREST,n.useMipmap=!1),this._textures[r]=n),n},_getPointLightCamera:function(e,t){this._lightCameras.point||(this._lightCameras.point={px:new ga,nx:new ga,py:new ga,ny:new ga,pz:new ga,nz:new ga});var r=this._lightCameras.point[t];switch(r.far=e.range,r.fov=90,r.position.set(0,0,0),t){case"px":r.lookAt(qe.POSITIVE_X,qe.NEGATIVE_Y);break;case"nx":r.lookAt(qe.NEGATIVE_X,qe.NEGATIVE_Y);break;case"py":r.lookAt(qe.POSITIVE_Y,qe.POSITIVE_Z);break;case"ny":r.lookAt(qe.NEGATIVE_Y,qe.NEGATIVE_Z);break;case"pz":r.lookAt(qe.POSITIVE_Z,qe.NEGATIVE_Y);break;case"nz":r.lookAt(qe.NEGATIVE_Z,qe.NEGATIVE_Y);break}return e.getWorldPosition(r.position),r.update(),r},_getDirectionalLightCamera:(function(){var e=new At,t=new za,r=new za;return function(n,i,a){this._lightCameras.directional||(this._lightCameras.directional=new km);var o=this._lightCameras.directional;t.copy(i.viewBoundingBoxLastFrame),t.intersection(a.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(n.rotation),o.scale.copy(n.scale),o.updateWorldTransform(),At.invert(e,o.worldTransform),At.multiply(e,e,a.worldTransform),r.copy(t).applyTransform(e);var s=r.min.array,l=r.max.array;return o.position.set((s[0]+l[0])/2,(s[1]+l[1])/2,l[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+l[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=l[0],o.top=l[1],o.bottom=s[1],o.update(!0),o}})(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new ga);var t=this._lightCameras.spot;return t.fov=e.penumbraAngle*2,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),st.invert(t.viewMatrix.array,t.worldTransform.array),t},dispose:function(e){var t=e.gl||e;this._frameBuffer&&this._frameBuffer.dispose(t);for(var r in this._textures)this._textures[r].dispose(t);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var n=0;n<this._receivers.length;n++){var i=this._receivers[n];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});rc.VSM=1;rc.PCF=2;var q_=Ua.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,t){var r=this.outputs[e],n=r.parameters,i=r._parametersCopy;if(i||(i=r._parametersCopy={}),n)for(var a in n)a!=="width"&&a!=="height"&&(i[a]=n[a]);var o,s;return n.width instanceof Function?o=n.width.call(this,t):o=n.width,n.height instanceof Function?s=n.height.call(this,t):s=n.height,(i.width!==o||i.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),i.width=o,i.height=s,i},setParameter:function(e,t){},getParameter:function(e){},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},render:function(){},getOutput:function(e,t){if(t==null)return t=e,this._outputTextures[t];var r=this.outputs[t];if(r)return this._rendered?r.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(r.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t])},removeReference:function(e){if(this._outputReferences[e]--,this._outputReferences[e]===0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},link:function(e,t,r){this.inputLinks[e]={node:t,pin:r},t.outputLinks[r]||(t.outputLinks[r]=[]),t.outputLinks[r].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){this._rendering=!0;for(var t in this.inputLinks){var r=this.inputLinks[t];r.node.updateReference(r.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){this._rendered=!1;for(var e in this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}}}),AK=Ua.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){typeof e=="string"&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0)},getNodeByName:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].name===e)return this.nodes[t]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs){for(var r in t.inputs)if(t.inputs[r]){if(t.pass&&!t.pass.material.isUniformEnabled(r)){console.warn("Pin "+t.name+"."+r+" not used.");continue}var n=t.inputs[r],i=this.findPin(n);i?t.link(r,i.node,i.pin):console.warn(typeof n=="string"?"Node "+n+" not exist":"Pin of "+n.node+"."+n.pin+" not exist")}}}},findPin:function(e){var t;if((typeof e=="string"||e instanceof q_)&&(e={node:e}),typeof e.node=="string")for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r];n.name===e.node&&(t=n)}else t=e.node;if(t){var i=e.pin;if(i||t.outputs&&(i=Object.keys(t.outputs)[0]),t.outputs[i])return{node:t,pin:i}}}}),tlt=AK.extend(function(){return{_outputs:[],_texturePool:new DA,_frameBuffer:new Ri({depthBuffer:!1})}},{addNode:function(e){AK.prototype.addNode.call(this,e),e._compositor=this},render:function(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var r=0;r<this.nodes.length;r++)this.nodes[r].outputs||this._outputs.push(this.nodes[r])}for(var r=0;r<this.nodes.length;r++)this.nodes[r].beforeFrame();for(var r=0;r<this._outputs.length;r++)this._outputs[r].updateReference();for(var r=0;r<this._outputs.length;r++)this._outputs[r].render(e,t);for(var r=0;r<this.nodes.length;r++)this.nodes[r].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}}),rlt=q_.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new Ri},{render:function(e){this._rendering=!0;var t=e.gl;this.trigger("beforerender");var r;if(!this.outputs)r=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var n=this.frameBuffer;for(var i in this.outputs){var a=this.updateParameter(i,e),o=this.outputs[i],s=this._compositor.allocateTexture(a);this._outputTextures[i]=s;var l=o.attachment||t.COLOR_ATTACHMENT0;typeof l=="string"&&(l=t[l]),n.attach(s,l)}n.bind(e);var u=e.getGLExtension("EXT_draw_buffers");if(u){var c=[];for(var l in this.outputs)l=parseInt(l),l>=t.COLOR_ATTACHMENT0&&l<=t.COLOR_ATTACHMENT0+8&&c.push(l);u.drawBuffersEXT(c)}e.saveClear(),e.clearBit=nt.DEPTH_BUFFER_BIT|nt.COLOR_BUFFER_BIT,r=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),n.unbind(e)}this.trigger("afterrender",r),this._rendering=!1,this._rendered=!0}}),nlt=q_.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,t){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),ilt=q_.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new Wi({fragment:this.shader});this.pass=e},{render:function(e,t){this.trigger("beforerender",e),this._rendering=!0;var r=e.gl;for(var n in this.inputLinks){var i=this.inputLinks[n],a=i.node.getOutput(e,i.pin);this.pass.setUniform(n,a)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);else{this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,e);isNaN(l.width)&&this.updateParameter(s,e);var u=this.outputs[s],c=this._compositor.allocateTexture(l);this._outputTextures[s]=c;var f=u.attachment||r.COLOR_ATTACHMENT0;typeof f=="string"&&(f=r[f]),o[f]=c}this._compositor.getFrameBuffer().bind(e);for(var f in o)this._compositor.getFrameBuffer().attach(o[f],f);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}for(var n in this.inputLinks){var i=this.inputLinks[n];i.node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,t){var r=this.outputs[e],n=r.parameters,i=r._parametersCopy;if(i||(i=r._parametersCopy={}),n)for(var a in n)a!=="width"&&a!=="height"&&(i[a]=n[a]);var o,s;return typeof n.width=="function"?o=n.width.call(this,t):o=n.width,typeof n.height=="function"?s=n.height.call(this,t):s=n.height,o=Math.ceil(o),s=Math.ceil(s),(i.width!==o||i.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(t),i.width=o,i.height=s,i},setParameter:function(e,t){this.pass.setUniform(e,t)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},define:function(e,t){this.pass.material.define("fragment",e,t)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){if(this._outputReferences[e]--,this._outputReferences[e]===0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},clear:function(){q_.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const alt=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,yce=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`,olt=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,xce=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`,slt=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,_ce=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,bce=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`,wce=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`,Sce=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`,Cce=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,llt=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,Tce=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`,Ace=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`;function ult(e){e.import(alt),e.import(yce),e.import(olt),e.import(xce),e.import(slt),e.import(_ce),e.import(bce),e.import(wce),e.import(Sce),e.import(Cce),e.import(llt),e.import(Tce),e.import(Ace)}ult(wt);var clt=/^#source\((.*?)\)/;function flt(e,t){var r=new tlt;t=t||{};var n={textures:{},parameters:{}},i=function(s,l){for(var u=0;u<e.nodes.length;u++){var c=e.nodes[u],f=dlt(c,n,t);f&&r.addNode(f)}};for(var a in e.parameters){var o=e.parameters[a];n.parameters[a]=VB(o)}return plt(e,n,t,function(s){n.textures=s,i()}),r}function dlt(e,t,r){var n=e.type||"filter",i,a,o;if(n==="filter"){var s=e.shader.trim(),l=clt.exec(s);if(l?i=wt.source(l[1].trim()):s.charAt(0)==="#"&&(i=t.shaders[s.substr(1)]),i||(i=s),!i)return}if(e.inputs){a={};for(var u in e.inputs)typeof e.inputs[u]=="string"?a[u]=e.inputs[u]:a[u]={node:e.inputs[u].node,pin:e.inputs[u].pin}}if(e.outputs){o={};for(var u in e.outputs){var c=e.outputs[u];o[u]={},c.attachment!=null&&(o[u].attachment=c.attachment),c.keepLastFrame!=null&&(o[u].keepLastFrame=c.keepLastFrame),c.outputLastFrame!=null&&(o[u].outputLastFrame=c.outputLastFrame),c.parameters&&(o[u].parameters=VB(c.parameters))}}var f;if(n==="scene"?f=new rlt({name:e.name,scene:r.scene,camera:r.camera,outputs:o}):n==="texture"?f=new nlt({name:e.name,outputs:o}):f=new ilt({name:e.name,shader:i,inputs:a,outputs:o}),f){if(e.parameters)for(var u in e.parameters){var d=e.parameters[u];typeof d=="string"?(d=d.trim(),d.charAt(0)==="#"?d=t.textures[d.substr(1)]:f.on("beforerender",glt(u,Ece(d)))):typeof d=="function"&&f.on("beforerender",d),f.setParameter(u,d)}if(e.defines&&f.pass)for(var u in e.defines){var d=e.defines[u];f.pass.material.define("fragment",u,d)}}return f}function hlt(e,t){return e}function vlt(e,t){return t}function VB(e){var t={};if(!e)return t;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(n){var i=e[n];i!=null&&(typeof i=="string"&&(i=xt[i]),t[n]=i)});var r=e.scale||1;return["width","height"].forEach(function(n){if(e[n]!=null){var i=e[n];typeof i=="string"?(i=i.trim(),t[n]=mlt(n,Ece(i),r)):t[n]=i}}),t.width||(t.width=hlt),t.height||(t.height=vlt),e.useMipmap!=null&&(t.useMipmap=e.useMipmap),t}function plt(e,t,r,n){if(!e.textures){n({});return}var i={},a=0,o=!1,s=r.textureRootPath;Ti.each(e.textures,function(l,u){var c,f=l.path,d=VB(l.parameters);if(Array.isArray(f)&&f.length===6)s&&(f=f.map(function(h){return Ti.relative2absolute(h,s)})),c=new zp(d);else if(typeof f=="string")s&&(f=Ti.relative2absolute(f,s)),c=new Mr(d);else return;c.load(f),a++,c.once("success",function(){i[u]=c,a--,a===0&&(n(i),o=!0)})}),a===0&&!o&&n(i)}function glt(e,t){return function(r){var n=r.getDevicePixelRatio(),i=r.getWidth(),a=r.getHeight(),o=t(i,a,n);this.setParameter(e,o)}}function mlt(e,t,r){return r=r||1,function(n){var i=n.getDevicePixelRatio(),a=n.getWidth()*r,o=n.getHeight()*r;return t(a,o,i)}}function Ece(e){var t=/^expr\((.*)\)$/.exec(e);if(t)try{var r=new Function("width","height","dpr","return "+t[1]);return r(1,1),r}catch{throw new Error("Invalid expression.")}}function Om(e,t){for(var r=0,n=1/t,i=e;i>0;)r=r+n*(i%t),i=Math.floor(i/t),n=n/t;return r}const ylt=`@export ecgl.ssao.estimate

uniform sampler2D depthTex;

uniform sampler2D normalTex;

uniform sampler2D noiseTex;

uniform vec2 depthTexSize;

uniform vec2 noiseTexSize;

uniform mat4 projection;

uniform mat4 projectionInv;

uniform mat4 viewInverseTranspose;

uniform vec3 kernel[KERNEL_SIZE];

uniform float radius : 1;

uniform float power : 1;

uniform float bias: 1e-2;

uniform float intensity: 1.0;

varying vec2 v_Texcoord;

float ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {
 float occlusion = 0.0;

 for (int i = 0; i < KERNEL_SIZE; i++) {
 vec3 samplePos = kernel[i];
#ifdef NORMALTEX_ENABLED
 samplePos = kernelBasis * samplePos;
#endif
 samplePos = samplePos * radius + originPos;

 vec4 texCoord = projection * vec4(samplePos, 1.0);
 texCoord.xy /= texCoord.w;

 vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);

 float sampleDepth = depthTexel.r * 2.0 - 1.0;
 if (projection[3][3] == 0.0) {
 sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);
 }
 else {
 sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];
 }
 
 float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));
 occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);
 }
#ifdef NORMALTEX_ENABLED
 occlusion = 1.0 - occlusion / float(KERNEL_SIZE);
#else
 occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);
#endif
 return pow(occlusion, power);
}

void main()
{

 vec4 depthTexel = texture2D(depthTex, v_Texcoord);

#ifdef NORMALTEX_ENABLED
 vec4 tex = texture2D(normalTex, v_Texcoord);
 if (dot(tex.rgb, tex.rgb) == 0.0) {
 gl_FragColor = vec4(1.0);
 return;
 }
 vec3 N = tex.rgb * 2.0 - 1.0;
 N = (viewInverseTranspose * vec4(N, 0.0)).xyz;

 vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;
 vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;
 vec3 T = normalize(rvec - N * dot(rvec, N));
 vec3 BT = normalize(cross(N, T));
 mat3 kernelBasis = mat3(T, BT, N);
#else
 if (depthTexel.r > 0.99999) {
 gl_FragColor = vec4(1.0);
 return;
 }
 mat3 kernelBasis;
#endif

 float z = depthTexel.r * 2.0 - 1.0;

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * projectedPos;

 vec3 position = p4.xyz / p4.w;

 float ao = ssaoEstimator(position, kernelBasis);
 ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);
 gl_FragColor = vec4(vec3(ao), 1.0);
}

@end


@export ecgl.ssao.blur
#define SHADER_NAME SSAO_BLUR

uniform sampler2D ssaoTexture;

#ifdef NORMALTEX_ENABLED
uniform sampler2D normalTex;
#endif

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

uniform int direction: 0.0;

#ifdef DEPTHTEX_ENABLED
uniform sampler2D depthTex;
uniform mat4 projection;
uniform float depthRange : 0.5;

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}
#endif

void main()
{
 float kernel[5];
 kernel[0] = 0.122581;
 kernel[1] = 0.233062;
 kernel[2] = 0.288713;
 kernel[3] = 0.233062;
 kernel[4] = 0.122581;

 vec2 off = vec2(0.0);
 if (direction == 0) {
 off[0] = blurSize / textureSize.x;
 }
 else {
 off[1] = blurSize / textureSize.y;
 }

 vec2 coord = v_Texcoord;

 float sum = 0.0;
 float weightAll = 0.0;

#ifdef NORMALTEX_ENABLED
 vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;
#endif
#if defined(DEPTHTEX_ENABLED)
 float centerDepth = getLinearDepth(v_Texcoord);
#endif

 for (int i = 0; i < 5; i++) {
 vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));

 float w = kernel[i];
#ifdef NORMALTEX_ENABLED
 vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;
 w *= clamp(dot(normal, centerNormal), 0.0, 1.0);
#endif
#ifdef DEPTHTEX_ENABLED
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));
#endif

 weightAll += w;
 sum += texture2D(ssaoTexture, coord).r * w;
 }

 gl_FragColor = vec4(vec3(sum / weightAll), 1.0);
}

@end
`;wt.import(ylt);function Mce(e){for(var t=new Uint8Array(e*e*4),r=0,n=new qe,i=0;i<e;i++)for(var a=0;a<e;a++)n.set(Math.random()*2-1,Math.random()*2-1,0).normalize(),t[r++]=(n.x*.5+.5)*255,t[r++]=(n.y*.5+.5)*255,t[r++]=0,t[r++]=255;return t}function EK(e){return new Mr({pixels:Mce(e),wrapS:xt.REPEAT,wrapT:xt.REPEAT,width:e,height:e})}function xlt(e,t,r){var n=new Float32Array(e*3);t=t||0;for(var i=0;i<e;i++){var a=Om(i+t,2)*(r?1:2)*Math.PI,o=Om(i+t,3)*Math.PI,s=Math.random(),l=Math.cos(a)*Math.sin(o)*s,u=Math.cos(o)*s,c=Math.sin(a)*Math.sin(o)*s;n[i*3]=l,n[i*3+1]=u,n[i*3+2]=c}return n}function rd(e){e=e||{},this._ssaoPass=new Wi({fragment:wt.source("ecgl.ssao.estimate")}),this._blurPass=new Wi({fragment:wt.source("ecgl.ssao.blur")}),this._framebuffer=new Ri({depthBuffer:!1}),this._ssaoTexture=new Mr,this._blurTexture=new Mr,this._blurTexture2=new Mr,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),e.radius!=null&&this.setParameter("radius",e.radius),e.power!=null&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}rd.prototype.setDepthTexture=function(e){this._depthTex=e};rd.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)};rd.prototype.update=function(e,t,r){var n=e.getWidth(),i=e.getHeight(),a=this._ssaoPass,o=this._blurPass;a.setUniform("kernel",this._kernels[r%this._kernels.length]),a.setUniform("depthTex",this._depthTex),this._normalTex!=null&&a.setUniform("normalTex",this._normalTex),a.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new At;At.transpose(s,t.worldTransform),a.setUniform("projection",t.projectionMatrix.array),a.setUniform("projectionInv",t.invProjectionMatrix.array),a.setUniform("viewInverseTranspose",s.array);var l=this._ssaoTexture,u=this._blurTexture,c=this._blurTexture2;l.width=n/2,l.height=i/2,u.width=n,u.height=i,c.width=n,c.height=i,this._framebuffer.attach(l),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),a.render(e),o.setUniform("textureSize",[n/2,i/2]),o.setUniform("projection",t.projectionMatrix.array),this._framebuffer.attach(u),o.setUniform("direction",0),o.setUniform("ssaoTexture",l),o.render(e),this._framebuffer.attach(c),o.setUniform("textureSize",[n,i]),o.setUniform("direction",1),o.setUniform("ssaoTexture",u),o.render(e),this._framebuffer.unbind(e);var f=e.clearColor;e.gl.clearColor(f[0],f[1],f[2],f[3])};rd.prototype.getTargetTexture=function(){return this._blurTexture2};rd.prototype.setParameter=function(e,t){e==="noiseTexSize"?this.setNoiseSize(t):e==="kernelSize"?this.setKernelSize(t):e==="intensity"?this._ssaoPass.material.set("intensity",t):this._ssaoPass.setUniform(e,t)};rd.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++)this._kernels[t]=xlt(e,t*e,!!this._normalTex)};rd.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform("noiseTex");t?(t.data=Mce(e),t.width=t.height=e,t.dirty()):(t=EK(e),this._ssaoPass.setUniform("noiseTex",EK(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])};rd.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const _lt=`@export ecgl.ssr.main

#define SHADER_NAME SSR
#define MAX_ITERATION 20;
#define SAMPLE_PER_FRAME 5;
#define TOTAL_SAMPLES 128;

uniform sampler2D sourceTexture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform sampler2D gBufferTexture3;
uniform samplerCube specularCubemap;
uniform float specularIntensity: 1;

uniform mat4 projection;
uniform mat4 projectionInv;
uniform mat4 toViewSpace;
uniform mat4 toWorldSpace;

uniform float maxRayDistance: 200;

uniform float pixelStride: 16;
uniform float pixelStrideZCutoff: 50; 
uniform float screenEdgeFadeStart: 0.9; 
uniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; 
uniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;

uniform float nearZ;
uniform vec2 viewportSize : VIEWPORT_SIZE;

uniform float jitterOffset: 0;

varying vec2 v_Texcoord;

#ifdef DEPTH_DECODE
@import clay.util.decode_float
#endif

#ifdef PHYSICALLY_CORRECT
uniform sampler2D normalDistribution;
uniform float sampleOffset: 0;
uniform vec2 normalDistributionSize;

vec3 transformNormal(vec3 H, vec3 N) {
 vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
vec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {
 float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));
 vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;
 return transformNormal(H, N);
}
float G_Smith(float g, float ndv, float ndl) {
 float roughness = 1.0 - g;
 float k = roughness * roughness / 2.0;
 float G1V = ndv / (ndv * (1.0 - k) + k);
 float G1L = ndl / (ndl * (1.0 - k) + k);
 return G1L * G1V;
}
vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}
#endif

float fetchDepth(sampler2D depthTexture, vec2 uv)
{
 vec4 depthTexel = texture2D(depthTexture, uv);
 return depthTexel.r * 2.0 - 1.0;
}

float linearDepth(float depth)
{
 if (projection[3][3] == 0.0) {
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
 }
 else {
 return (depth - projection[3][2]) / projection[2][2];
 }
}

bool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)
{
 if (rayZFar > rayZNear)
 {
 float t = rayZFar; rayZFar = rayZNear; rayZNear = t;
 }
 float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));
 return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;
}


bool traceScreenSpaceRay(
 vec3 rayOrigin, vec3 rayDir, float jitter,
 out vec2 hitPixel, out vec3 hitPoint, out float iterationCount
)
{
 float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)
 ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;

 vec3 rayEnd = rayOrigin + rayDir * rayLength;

 vec4 H0 = projection * vec4(rayOrigin, 1.0);
 vec4 H1 = projection * vec4(rayEnd, 1.0);

 float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;

 vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;

 vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;
 vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;

 P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;
 vec2 delta = P1 - P0;

 bool permute = false;
 if (abs(delta.x) < abs(delta.y)) {
 permute = true;
 delta = delta.yx;
 P0 = P0.yx;
 P1 = P1.yx;
 }
 float stepDir = sign(delta.x);
 float invdx = stepDir / delta.x;

 vec3 dQ = (Q1 - Q0) * invdx;
 float dk = (k1 - k0) * invdx;

 vec2 dP = vec2(stepDir, delta.y * invdx);

 float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);
 float pixStride = 1.0 + strideScaler * pixelStride;

 dP *= pixStride; dQ *= pixStride; dk *= pixStride;

 vec4 pqk = vec4(P0, Q0.z, k0);
 vec4 dPQK = vec4(dP, dQ.z, dk);

 pqk += dPQK * jitter;
 float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);
 float rayZNear;

 bool intersect = false;

 vec2 texelSize = 1.0 / viewportSize;

 iterationCount = 0.0;

 for (int i = 0; i < MAX_ITERATION; i++)
 {
 pqk += dPQK;

 rayZNear = rayZFar;
 rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);

 hitPixel = permute ? pqk.yx : pqk.xy;
 hitPixel *= texelSize;

 intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);

 iterationCount += 1.0;

 dPQK *= 1.2;

 if (intersect) {
 break;
 }
 }

 Q0.xy += dQ.xy * iterationCount;
 Q0.z = pqk.z;
 hitPoint = Q0 / pqk.w;

 return intersect;
}

float calculateAlpha(
 float iterationCount, float reflectivity,
 vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir
)
{
 float alpha = clamp(reflectivity, 0.0, 1.0);
 alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));
 vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;
 float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));
 alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);

 float _eyeFadeStart = eyeFadeStart;
 float _eyeFadeEnd = eyeFadeEnd;
 if (_eyeFadeStart > _eyeFadeEnd) {
 float tmp = _eyeFadeEnd;
 _eyeFadeEnd = _eyeFadeStart;
 _eyeFadeStart = tmp;
 }

 float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);
 alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);

 alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);

 return alpha;
}

@import clay.util.rand

@import clay.util.rgbm

void main()
{
 vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);

 if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {
 discard;
 }

 float g = normalAndGloss.a;
#if !defined(PHYSICALLY_CORRECT)
 if (g <= minGlossiness) {
 discard;
 }
#endif

 float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);

 vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);
 N = normalize((toViewSpace * vec4(N, 0.0)).xyz);

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);
 vec4 pos = projectionInv * projectedPos;
 vec3 rayOrigin = pos.xyz / pos.w;
 vec3 V = -normalize(rayOrigin);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 float iterationCount;
 float jitter = rand(fract(v_Texcoord + jitterOffset));

#ifdef PHYSICALLY_CORRECT
 vec4 color = vec4(vec3(0.0), 1.0);
 vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);
 vec3 albedo = albedoMetalness.rgb;
 float m = albedoMetalness.a;
 vec3 diffuseColor = albedo * (1.0 - m);
 vec3 spec = mix(vec3(0.04), albedo, m);

 float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);

 for (int i = 0; i < SAMPLE_PER_FRAME; i++) {
 vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);
 vec3 rayDir = normalize(reflect(-V, H));
#else
 vec3 rayDir = normalize(reflect(-V, N));
#endif
 vec2 hitPixel;
 vec3 hitPoint;

 bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);

 float dist = distance(rayOrigin, hitPoint);

 vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;
 hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);
#ifdef PHYSICALLY_CORRECT
 float ndl = clamp(dot(N, rayDir), 0.0, 1.0);
 float vdh = clamp(dot(V, H), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);
 vec3 litTexel = vec3(0.0);
 if (dot(hitNormal, rayDir) < 0.0 && intersect) {
 litTexel = texture2D(sourceTexture, hitPixel).rgb;
 litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);

 }
 else {
 #ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;
#endif
 }
 color.rgb += ndl * litTexel * (
 F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)
 );
 }
 color.rgb /= float(SAMPLE_PER_FRAME);
#else
 #if !defined(SPECULARCUBEMAP_ENABLED)
 if (dot(hitNormal, rayDir) >= 0.0) {
 discard;
 }
 if (!intersect) {
 discard;
 }
#endif
 float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);
 vec4 color = texture2D(sourceTexture, hitPixel);
 color.rgb *= alpha;

#ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 alpha = alpha * (intersect ? 1.0 : 0.0);
 float bias = (1.0 -g) * 5.0;
 color.rgb += (1.0 - alpha)
 * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb
 * specularIntensity;
#endif

#endif

 gl_FragColor = encodeHDR(color);
}
@end

@export ecgl.ssr.blur

uniform sampler2D texture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform mat4 projection;
uniform float depthRange : 0.05;

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

#ifdef BLEND
 #ifdef SSAOTEX_ENABLED
uniform sampler2D ssaoTex;
 #endif
uniform sampler2D sourceTexture;
#endif

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}

@import clay.util.rgbm


void main()
{
 @import clay.compositor.kernel.gaussian_9

 vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);
 float g = centerNTexel.a;
 float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;
#ifdef VERTICAL
 vec2 off = vec2(0.0, maxBlurSize / textureSize.y);
#else
 vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);
#endif

 vec2 coord = v_Texcoord;

 vec4 sum = vec4(0.0);
 float weightAll = 0.0;

 vec3 cN = centerNTexel.rgb * 2.0 - 1.0;
 float cD = getLinearDepth(v_Texcoord);
 for (int i = 0; i < 9; i++) {
 vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));
 float w = gaussianKernel[i]
 * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));

 weightAll += w;
 sum += decodeHDR(texture2D(texture, coord)) * w;
 }

#ifdef BLEND
 float aoFactor = 1.0;
 #ifdef SSAOTEX_ENABLED
 aoFactor = texture2D(ssaoTex, v_Texcoord).r;
 #endif
 gl_FragColor = encodeHDR(
 sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))
 );
#else
 gl_FragColor = encodeHDR(sum / weightAll);
#endif
}

@end`;wt.import(_lt);function nd(e){e=e||{},this._ssrPass=new Wi({fragment:wt.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new Wi({fragment:wt.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new Wi({fragment:wt.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new Wi({fragment:wt.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Mr({type:xt.HALF_FLOAT}),this._texture2=new Mr({type:xt.HALF_FLOAT}),this._texture3=new Mr({type:xt.HALF_FLOAT}),this._prevTexture=new Mr({type:xt.HALF_FLOAT}),this._currentTexture=new Mr({type:xt.HALF_FLOAT}),this._frameBuffer=new Ri({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}nd.prototype.setAmbientCubemap=function(e,t){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",t);var r=e&&t;this._ssrPass.material[r?"enableTexture":"disableTexture"]("specularCubemap")};nd.prototype.update=function(e,t,r,n){var i=e.getWidth(),a=e.getHeight(),o=this._ssrTexture,s=this._texture2,l=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=i/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=a/this._downScale,s.width=l.width=i,s.height=l.height=a;var u=this._frameBuffer,c=this._ssrPass,f=this._blurPass1,d=this._blurPass2,h=this._blendPass,v=new At,p=new At;At.transpose(v,t.worldTransform),At.transpose(p,t.viewMatrix),c.setUniform("sourceTexture",r),c.setUniform("projection",t.projectionMatrix.array),c.setUniform("projectionInv",t.invProjectionMatrix.array),c.setUniform("toViewSpace",v.array),c.setUniform("toWorldSpace",p.array),c.setUniform("nearZ",t.near);var g=n/this._totalSamples*this._samplePerFrame;if(c.setUniform("jitterOffset",g),c.setUniform("sampleOffset",n*this._samplePerFrame),f.setUniform("textureSize",[o.width,o.height]),d.setUniform("textureSize",[i,a]),d.setUniform("sourceTexture",r),f.setUniform("projection",t.projectionMatrix.array),d.setUniform("projection",t.projectionMatrix.array),u.attach(o),u.bind(e),c.render(e),this._physicallyCorrect&&(u.attach(this._currentTexture),h.setUniform("texture1",this._prevTexture),h.setUniform("texture2",o),h.material.set({weight1:n>=1?.95:0,weight2:n>=1?.05:1}),h.render(e)),u.attach(s),f.setUniform("texture",this._physicallyCorrect?this._currentTexture:o),f.render(e),u.attach(l),d.setUniform("texture",s),d.render(e),u.unbind(e),this._physicallyCorrect){var m=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=m}};nd.prototype.getTargetTexture=function(){return this._texture3};nd.prototype.setParameter=function(e,t){e==="maxIteration"?this._ssrPass.material.define("fragment","MAX_ITERATION",t):this._ssrPass.setUniform(e,t)};nd.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=Cc.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e};nd.prototype.setSSAOTexture=function(e){var t=this._blurPass2;e?(t.material.enableTexture("ssaoTex"),t.material.set("ssaoTex",e)):t.material.disableTexture("ssaoTex")};nd.prototype.isFinished=function(e){return this._physicallyCorrect?e>this._totalSamples/this._samplePerFrame:!0};nd.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const MK=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925],blt=`@export ecgl.normal.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

@import ecgl.common.normalMap.vertexHeader

@import ecgl.common.vertexAnimation.header

void main()
{

 @import ecgl.common.vertexAnimation.main

 @import ecgl.common.uv.main

 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

 @import ecgl.common.normalMap.vertexMain

 gl_Position = worldViewProjection * vec4(pos, 1.0);

}


@end


@export ecgl.normal.fragment

#define ROUGHNESS_CHANEL 0

uniform bool useBumpMap;
uniform bool useRoughnessMap;
uniform bool doubleSide;
uniform float roughness;

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform mat4 viewInverse : VIEWINVERSE;

@import ecgl.common.normalMap.fragmentHeader
@import ecgl.common.bumpMap.header

uniform sampler2D roughnessMap;

void main()
{
 vec3 N = v_Normal;
 
 bool flipNormal = false;
 if (doubleSide) {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 flipNormal = true;
 }
 }

 @import ecgl.common.normalMap.fragmentMain

 if (useBumpMap) {
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 }

 float g = 1.0 - roughness;

 if (useRoughnessMap) {
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
 }

 if (flipNormal) {
 N = -N;
 }

 gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;
 gl_FragColor.a = g;
}
@end`;wt.import(blt);function FI(e,t,r,n,i){var a=e.gl;t.setUniform(a,"1i",r,i),a.activeTexture(a.TEXTURE0+i),n.isRenderable()?n.bind(e):n.unbind(e)}function wlt(e,t,r,n,i){var a,o,s,l,u=e.gl;return function(c,f,d){if(!(l&&l.material===c.material)){var h=c.material,v=c.__program,p=h.get("roughness");p==null&&(p=1);var g=h.get("normalMap")||t,m=h.get("roughnessMap"),y=h.get("bumpMap"),x=h.get("uvRepeat"),b=h.get("uvOffset"),w=h.get("detailUvRepeat"),S=h.get("detailUvOffset"),C=!!y&&h.isTextureEnabled("bumpMap"),E=!!m&&h.isTextureEnabled("roughnessMap"),A=h.isDefined("fragment","DOUBLE_SIDED");y=y||r,m=m||n,d!==f?(f.set("normalMap",g),f.set("bumpMap",y),f.set("roughnessMap",m),f.set("useBumpMap",C),f.set("useRoughnessMap",E),f.set("doubleSide",A),x!=null&&f.set("uvRepeat",x),b!=null&&f.set("uvOffset",b),w!=null&&f.set("detailUvRepeat",w),S!=null&&f.set("detailUvOffset",S),f.set("roughness",p)):(v.setUniform(u,"1f","roughness",p),a!==g&&FI(e,v,"normalMap",g,0),o!==y&&y&&FI(e,v,"bumpMap",y,1),s!==m&&m&&FI(e,v,"roughnessMap",m,2),x!=null&&v.setUniform(u,"2f","uvRepeat",x),b!=null&&v.setUniform(u,"2f","uvOffset",b),w!=null&&v.setUniform(u,"2f","detailUvRepeat",w),S!=null&&v.setUniform(u,"2f","detailUvOffset",S),v.setUniform(u,"1i","useBumpMap",+C),v.setUniform(u,"1i","useRoughnessMap",+E),v.setUniform(u,"1i","doubleSide",+A)),a=g,o=y,s=m,l=c}}}function yy(e){this._depthTex=new Mr({format:xt.DEPTH_COMPONENT,type:xt.UNSIGNED_INT}),this._normalTex=new Mr({type:xt.HALF_FLOAT}),this._framebuffer=new Ri,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,Ri.DEPTH_ATTACHMENT),this._normalMaterial=new Il({shader:new wt(wt.source("ecgl.normal.vertex"),wt.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=Sc.createBlank("#000"),this._defaultBumpMap=Sc.createBlank("#000"),this._defaultRoughessMap=Sc.createBlank("#000"),this._debugPass=new Wi({fragment:wt.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}yy.prototype.getDepthTexture=function(){return this._depthTex};yy.prototype.getNormalTexture=function(){return this._normalTex};yy.prototype.update=function(e,t,r){var n=e.getWidth(),i=e.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=n,a.height=i,o.width=n,o.height=i;var l=t.getRenderList(r).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(l,r,{getMaterial:function(){return s},ifRender:function(u){return u.renderNormal},beforeRender:wlt(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)};yy.prototype.renderDebug=function(e){this._debugPass.render(e)};yy.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};function Hb(e){e=e||{},this._edgePass=new Wi({fragment:wt.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new Mr({type:xt.HALF_FLOAT}),this._frameBuffer=new Ri,this._frameBuffer.attach(this._targetTexture)}Hb.prototype.update=function(e,t,r,n){var i=e.getWidth(),a=e.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform("projectionInv",t.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",r),this._edgePass.render(e),s.unbind(e)};Hb.prototype.getTargetTexture=function(){return this._targetTexture};Hb.prototype.setParameter=function(e,t){this._edgePass.setUniform(e,t)};Hb.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const Slt={nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]},Clt=`@export ecgl.dof.coc

uniform sampler2D depth;

uniform float zNear: 0.1;
uniform float zFar: 2000;

uniform float focalDistance: 3;
uniform float focalRange: 1;
uniform float focalLength: 30;
uniform float fstop: 2.8;

varying vec2 v_Texcoord;

@import clay.util.encode_float

void main()
{
 float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;

 float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));

 float aperture = focalLength / fstop;

 float coc;

 float uppper = focalDistance + focalRange;
 float lower = focalDistance - focalRange;
 if (dist <= uppper && dist >= lower) {
 coc = 0.5;
 }
 else {
 float focalAdjusted = dist > uppper ? uppper : lower;

 coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));
 coc = clamp(coc, 0.0, 2.0) / 2.00001;

 if (dist < lower) {
 coc = -coc;
 }
 coc = coc * 0.5 + 0.5;
 }

 gl_FragColor = encodeFloat(coc);
}
@end


@export ecgl.dof.composite

#define DEBUG 0

uniform sampler2D original;
uniform sampler2D blurred;
uniform sampler2D nearfield;
uniform sampler2D coc;
uniform sampler2D nearcoc;
varying vec2 v_Texcoord;

@import clay.util.rgbm
@import clay.util.float

void main()
{
 vec4 blurredColor = texture2D(blurred, v_Texcoord);
 vec4 originalColor = texture2D(original, v_Texcoord);

 float fCoc = decodeFloat(texture2D(coc, v_Texcoord));

 fCoc = abs(fCoc * 2.0 - 1.0);

 float weight = smoothstep(0.0, 1.0, fCoc);
 
#ifdef NEARFIELD_ENABLED
 vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);
 float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));
 fNearCoc = abs(fNearCoc * 2.0 - 1.0);

 gl_FragColor = encodeHDR(
 mix(
 nearfieldColor, mix(originalColor, blurredColor, weight),
 pow(1.0 - fNearCoc, 4.0)
 )
 );
#else
 gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));
#endif

}

@end



@export ecgl.dof.diskBlur

#define POISSON_KERNEL_SIZE 16;

uniform sampler2D texture;
uniform sampler2D coc;
varying vec2 v_Texcoord;

uniform float blurRadius : 10.0;
uniform vec2 textureSize : [512.0, 512.0];

uniform vec2 poissonKernel[POISSON_KERNEL_SIZE];

uniform float percent;

float nrand(const in vec2 n) {
 return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

@import clay.util.rgbm
@import clay.util.float


void main()
{
 vec2 offset = blurRadius / textureSize;

 float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );
 float cosa = cos(rnd);
 float sina = sin(rnd);
 vec4 basis = vec4(cosa, -sina, sina, cosa);

#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)
 offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);
#endif

#ifdef BLUR_COC
 float cocSum = 0.0;
#else
 vec4 color = vec4(0.0);
#endif


 float weightSum = 0.0;

 for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {
 vec2 ofs = poissonKernel[i];

 ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));

 vec2 uv = v_Texcoord + ofs * offset;
 vec4 texel = texture2D(texture, uv);

 float w = 1.0;
#ifdef BLUR_COC
 float fCoc = decodeFloat(texel) * 2.0 - 1.0;
 cocSum += clamp(fCoc, -1.0, 0.0) * w;
#else
 texel = texel;
 #if !defined(BLUR_NEARFIELD)
 float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;
 w *= abs(fCoc);
 #endif
 texel.rgb *= texel.a;
 color += texel * w;
#endif

 weightSum += w;
 }

#ifdef BLUR_COC
 gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);
#else
 color /= weightSum;
 color.rgb /= (color.a + 0.0001);
 gl_FragColor = color;
#endif
}

@end`,Tlt=`@export ecgl.edge

uniform sampler2D texture;

uniform sampler2D normalTexture;
uniform sampler2D depthTexture;

uniform mat4 projectionInv;

uniform vec2 textureSize;

uniform vec4 edgeColor: [0,0,0,0.8];

varying vec2 v_Texcoord;

vec3 packColor(vec2 coord) {
 float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;
 vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * p;

 return vec3(
 texture2D(normalTexture, coord).rg,
 -p4.z / p4.w / 5.0
 );
}

void main() {
 vec2 cc = v_Texcoord;
 vec3 center = packColor(cc);

 float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;
 float dx = size / textureSize.x;
 float dy = size / textureSize.y;

 vec2 coord;
 vec3 topLeft = packColor(cc+vec2(-dx, -dy));
 vec3 top = packColor(cc+vec2(0.0, -dy));
 vec3 topRight = packColor(cc+vec2(dx, -dy));
 vec3 left = packColor(cc+vec2(-dx, 0.0));
 vec3 right = packColor(cc+vec2(dx, 0.0));
 vec3 bottomLeft = packColor(cc+vec2(-dx, dy));
 vec3 bottom = packColor(cc+vec2(0.0, dy));
 vec3 bottomRight = packColor(cc+vec2(dx, dy));

 vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;
 vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;

 float edge = sqrt(dot(h, h) + dot(v, v));

 edge = smoothstep(0.8, 1.0, edge);

 gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);
}
@end`;wt.import(yce);wt.import(xce);wt.import(_ce);wt.import(bce);wt.import(wce);wt.import(Sce);wt.import(Cce);wt.import(Tce);wt.import(Ace);wt.import(Clt);wt.import(Tlt);function Dce(e,t){return{color:{parameters:{width:e,height:t}}}}var $B=["composite","FXAA"];function Kr(){this._width,this._height,this._dpr,this._sourceTexture=new Mr({type:xt.HALF_FLOAT}),this._depthTexture=new Mr({format:xt.DEPTH_COMPONENT,type:xt.UNSIGNED_INT}),this._framebuffer=new Ri,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,Ri.DEPTH_ATTACHMENT),this._normalPass=new yy,this._compositor=flt(Slt);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var t=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=t,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(n){return this._compositor.getNodeByName(n)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=$B.map(function(n){return this._compositor.getNodeByName(n)},this);var r={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new rd(r),this._ssrPass=new nd(r),this._edgePass=new Hb(r)}Kr.prototype.resize=function(n,i,r){r=r||1;var n=n*r,i=i*r,a=this._sourceTexture,o=this._depthTexture;a.width=n,a.height=i,o.width=n,o.height=i;var s={getWidth:function(){return n},getHeight:function(){return i},getDevicePixelRatio:function(){return r}};function l(u,c){if(typeof u[c]=="function"){var f=u[c].__original||u[c];u[c]=function(d){return f.call(this,s)},u[c].__original=f}}this._compositor.nodes.forEach(function(u){for(var c in u.outputs){var f=u.outputs[c].parameters;f&&(l(f,"width"),l(f,"height"))}for(var d in u.parameters)l(u.parameters,d)}),this._width=n,this._height=i,this._dpr=r};Kr.prototype.getWidth=function(){return this._width};Kr.prototype.getHeight=function(){return this._height};Kr.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR};Kr.prototype._getPrevNode=function(e){for(var t=$B.indexOf(e.name)-1,r=this._finalNodesChain[t];r&&!this._compositor.getNodeByName(r.name);)t-=1,r=this._finalNodesChain[t];return r};Kr.prototype._getNextNode=function(e){for(var t=$B.indexOf(e.name)+1,r=this._finalNodesChain[t];r&&!this._compositor.getNodeByName(r.name);)t+=1,r=this._finalNodesChain[t];return r};Kr.prototype._addChainNode=function(e){var t=this._getPrevNode(e),r=this._getNextNode(e);t&&(e.inputs.texture=t.name,r?(e.outputs=Dce(this.getWidth.bind(this),this.getHeight.bind(this)),r.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))};Kr.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),r=this._getNextNode(e);t&&(r?(t.outputs=Dce(this.getWidth.bind(this),this.getHeight.bind(this)),r.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e))};Kr.prototype.updateNormal=function(e,t,r,n){this._ifRenderNormalPass()&&this._normalPass.update(e,t,r)};Kr.prototype.updateSSAO=function(e,t,r,n){this._ssaoPass.update(e,r,n)};Kr.prototype.enableSSAO=function(){this._enableSSAO=!0};Kr.prototype.disableSSAO=function(){this._enableSSAO=!1};Kr.prototype.enableSSR=function(){this._enableSSR=!0};Kr.prototype.disableSSR=function(){this._enableSSR=!1};Kr.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()};Kr.prototype.getSourceFrameBuffer=function(){return this._framebuffer};Kr.prototype.getSourceTexture=function(){return this._sourceTexture};Kr.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)};Kr.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)};Kr.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()};Kr.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()};Kr.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()};Kr.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()};Kr.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0};Kr.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1};Kr.prototype.enableEdge=function(){this._enableEdge=!0};Kr.prototype.disableEdge=function(){this._enableEdge=!1};Kr.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)};Kr.prototype.setSSAOParameter=function(e,t){switch(e){case"quality":var r={low:6,medium:12,high:32,ultra:62}[t]||12;this._ssaoPass.setParameter("kernelSize",r);break;case"radius":this._ssaoPass.setParameter(e,t),this._ssaoPass.setParameter("bias",t/200);break;case"intensity":this._ssaoPass.setParameter(e,t);break}};Kr.prototype.setDOFParameter=function(e,t){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,t);break;case"blurRadius":for(var r=0;r<this._dofBlurNodes.length;r++)this._dofBlurNodes[r].setParameter("blurRadius",t);break;case"quality":var n={low:4,medium:8,high:16,ultra:32}[t]||8;this._dofBlurKernelSize=n;for(var r=0;r<this._dofBlurNodes.length;r++)this._dofBlurNodes[r].pass.material.define("POISSON_KERNEL_SIZE",n);this._dofBlurKernel=new Float32Array(n*2);break}};Kr.prototype.setSSRParameter=function(e,t){if(t!=null)switch(e){case"quality":var r={low:10,medium:15,high:30,ultra:80}[t]||20,n={low:32,medium:16,high:8,ultra:4}[t]||16;this._ssrPass.setParameter("maxIteration",r),this._ssrPass.setParameter("pixelStride",n);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-t,1),0));break;case"physical":this.setPhysicallyCorrectSSR(t);break;default:console.warn("Unkown SSR parameter "+e)}};Kr.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)};Kr.prototype.setEdgeColor=function(e){var t=ae.parseColor(e);this._edgePass.setParameter("edgeColor",t)};Kr.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))};Kr.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",t,{minFilter:ae.Texture.NEAREST,magFilter:ae.Texture.NEAREST,flipY:!1})};Kr.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t)};Kr.prototype.isSSREnabled=function(){return this._enableSSR};Kr.prototype.composite=function(e,t,r,n,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(e,r,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,r,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,u=Math.floor(MK.length/2/l),c=i%u,f=0;f<l*2;f++)s[f]=MK[f+c*l*2];for(var f=0;f<this._dofBlurNodes.length;f++)this._dofBlurNodes[f].setParameter("percent",i/30),this._dofBlurNodes[f].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",r.near),this._cocNode.setParameter("zFar",r.far),this._compositor.render(e,n)};Kr.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};function pO(e){for(var t=[],r=0;r<30;r++)t.push([Om(r,2),Om(r,3)]);this._haltonSequence=t,this._frame=0,this._sourceTex=new Mr,this._sourceFb=new Ri,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Mr,this._outputTex=new Mr;var n=this._blendPass=new Wi({fragment:wt.source("clay.compositor.blend")});n.material.disableTexturesAll(),n.material.enableTexture(["texture1","texture2"]),this._blendFb=new Ri({depthBuffer:!1}),this._outputPass=new Wi({fragment:wt.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(i){i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA)}}pO.prototype={constructor:pO,jitterProjection:function(e,t){var r=e.viewport,n=r.devicePixelRatio||e.getDevicePixelRatio(),i=r.width*n,a=r.height*n,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new At;s.array[12]=(o[0]*2-1)/i,s.array[13]=(o[1]*2-1)/a,At.mul(t.projectionMatrix,s,t.projectionMatrix),At.invert(t.invProjectionMatrix,t.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,t){this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,t,r){var n=this._blendPass;this._frame===0?(n.setUniform("weight1",0),n.setUniform("weight2",1)):(n.setUniform("weight1",.9),n.setUniform("weight2",.1)),n.setUniform("texture1",this._prevFrameTex),n.setUniform("texture2",t||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),n.render(e),this._blendFb.unbind(e),r||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};function An(e){e=e||"perspective",this.layer=null,this.scene=new Fh,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new Kr,this._temporalSS=new pO,this._shadowMapPass=new rc;for(var t=[],r=0,n=0;n<30;n++){for(var i=[],a=0;a<6;a++)i.push(Om(r,2)*4-2),i.push(Om(r,3)*4-2),r++;t.push(i)}this._pcfKernels=t,this.scene.on("beforerender",function(o,s,l){this.needsTemporalSS()&&this._temporalSS.jitterProjection(o,l)},this)}An.prototype.setProjection=function(e){var t=this.camera;t&&t.update(),e==="perspective"?this.camera instanceof ga||(this.camera=new ga,t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof km||(this.camera=new km,t&&this.camera.setLocalTransform(t.localTransform)),this.camera.near=.1,this.camera.far=2e3};An.prototype.setViewport=function(e,t,r,n,i){this.camera instanceof ga&&(this.camera.aspect=r/n),i=i||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=r,this.viewport.height=n,this.viewport.devicePixelRatio=i,this._compositor.resize(r*i,n*i),this._temporalSS.resize(r*i,n*i)};An.prototype.containPoint=function(e,t){var r=this.viewport,n=this.layer.renderer.getHeight();return t=n-t,e>=r.x&&t>=r.y&&e<=r.x+r.width&&t<=r.y+r.height};var DK=new hr;An.prototype.castRay=function(e,t,r){var n=this.layer.renderer,i=n.viewport;return n.viewport=this.viewport,n.screenToNDC(e,t,DK),this.camera.castRay(DK,r),n.viewport=i,r};An.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var t=0;t<e.transparent.length;t++){var r=e.transparent[t],n=r.geometry;n.needsSortVerticesProgressively&&n.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),n.needsSortTrianglesProgressively&&n.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()};An.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++};An.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively};An.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return e==="auto"&&(e=this._enablePostEffect),e};An.prototype.hasDOF=function(){return this._enableDOF};An.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30};An.prototype._doRender=function(e,t,r){var n=this.scene,i=this.camera;r=r||0,this._updateTransparent(e,n,i,r),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,n,i,!0)),this._updateShadowPCFKernel(r);var a=e.clearColor;if(e.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,i),this._compositor.updateNormal(e,n,i,this._temporalSS.getFrame())),this._updateSSAO(e,n,i,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(n,i,!0,!0),o.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,n,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,n,i,null,0))}else if(this.needsTemporalSS()&&t){var o=this._temporalSS.getSourceFrameBuffer();o.bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(n,i,!0,!0),e.restoreClear(),o.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(n,i,!0,!0)};An.prototype._updateTransparent=function(e,t,r,n){for(var i=new qe,a=new At,o=r.getWorldPosition(),s=t.getRenderList(r).transparent,l=0;l<s.length;l++){var u=s[l],c=u.geometry;At.invert(a,u.worldTransform),qe.transformMat4(i,o,a),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(i,n),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(i,n)}};An.prototype._updateSSAO=function(e,t,r){var n=this._enableSSAO&&this._enablePostEffect;n&&this._compositor.updateSSAO(e,t,r,this._temporalSS.getFrame());for(var i=t.getRenderList(r),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[n?"enableTexture":"disableTexture"]("ssaoMap"),n&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}};An.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],r=this.scene.getRenderList(this.camera),n=r.opaque,i=0;i<n.length;i++)n[i].receiveShadow&&(n[i].material.set("pcfKernel",t),n[i].material.define("fragment","PCF_KERNEL_SIZE",t.length/2))};An.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)};An.prototype.setPostEffect=function(e,t){var r=this._compositor;this._enablePostEffect=e.get("enable");var n=e.getModel("bloom"),i=e.getModel("edge"),a=e.getModel("DOF",e.getModel("depthOfField")),o=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),s=e.getModel("SSR",e.getModel("screenSpaceReflection")),l=e.getModel("FXAA"),u=e.getModel("colorCorrection");n.get("enable")?r.enableBloom():r.disableBloom(),a.get("enable")?r.enableDOF():r.disableDOF(),s.get("enable")?r.enableSSR():r.disableSSR(),u.get("enable")?r.enableColorCorrection():r.disableColorCorrection(),i.get("enable")?r.enableEdge():r.disableEdge(),l.get("enable")?r.enableFXAA():r.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?r.enableSSAO():r.disableSSAO(),r.setBloomIntensity(n.get("intensity")),r.setEdgeColor(i.get("color")),r.setColorLookupTexture(u.get("lookupTexture"),t),r.setExposure(u.get("exposure")),["radius","quality","intensity"].forEach(function(c){r.setSSAOParameter(c,o.get(c))}),["quality","maxRoughness","physical"].forEach(function(c){r.setSSRParameter(c,s.get(c))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(c){r.setDOFParameter(c,a.get(c))}),["brightness","contrast","saturation"].forEach(function(c){r.setColorCorrection(c,u.get(c))})};An.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)};An.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")};An.prototype.isLinearSpace=function(){return this._enablePostEffect};An.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var t=this.rootNode.children(),r=0;r<t.length;r++)e.add(t[r]);e!==this.scene&&this.scene.add(e),this.rootNode=e}};An.prototype.add=function(e){this.rootNode.add(e)};An.prototype.remove=function(e){this.rootNode.remove(e)};An.prototype.removeAll=function(e){this.rootNode.removeAll(e)};Object.assign(An.prototype,OB);function Alt(e,t){var r=e.getBoxLayoutParams(),n=Dn(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio());var i=e.get("boxWidth"),a=e.get("boxHeight"),o=e.get("boxDepth");this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function Elt(e,t){var r={};function n(i,a){r[i]=r[i]||[1/0,-1/0],r[i][0]=Math.min(a[0],r[i][0]),r[i][1]=Math.max(a[1],r[i][1])}e.eachSeries(function(i){if(i.coordinateSystem===this){var a=i.getData();["x","y","z"].forEach(function(o){a.mapDimensionsAll(o,!0).forEach(function(s){n(o,a.getDataExtent(s,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(i){e.eachComponent(i,function(a){var o=i.charAt(0),s=a.getReferringComponents("grid3D").models[0],l=s.coordinateSystem;if(l===this){var u=l.getAxis(o);if(!u){var c=xN(r[o]||[1/0,-1/0],a);u=new MA(o,c),u.type=a.get("type");var f=u.type==="category";u.onBand=f&&a.get("boundaryGap"),u.inverse=a.get("inverse"),a.axis=u,u.model=a,u.getLabelModel=function(){return a.getModel("axisLabel",s.getModel("axisLabel"))},u.getTickModel=function(){return a.getModel("axisTick",s.getModel("axisTick"))},l.addAxis(u)}}},this)},this),this.resize(this.model,t)}var Mlt={dimensions:Z_.prototype.dimensions,create:function(e,t){var r=[];e.eachComponent("grid3D",function(a){a.__viewGL=a.__viewGL||new An;var o=new Z_;o.model=a,o.viewGL=a.__viewGL,a.coordinateSystem=o,r.push(o),o.resize=Alt,o.update=Elt});var n=["xAxis3D","yAxis3D","zAxis3D"];function i(a,o){return n.map(function(s){var l=a.getReferringComponents(s).models[0];return l==null&&(l=o.getComponent(s)),l})}return e.eachSeries(function(a){if(a.get("coordinateSystem")==="cartesian3D"){var o=a.getReferringComponents("grid3D").models[0];if(o==null){var s=i(a,e),o=s[0].getCoordSysModel();s.forEach(function(c){c.getCoordSysModel()})}var l=o.coordinateSystem;a.coordinateSystem=l}}),r}},Pce=dr.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});uUe(Pce);var Rce={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},Dlt=Et({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},Rce),GB=Et({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},Rce),Plt=kt({scale:!0,min:"dataMin",max:"dataMax"},GB),Lce=kt({logBase:10},GB);Lce.scale=!0;const Rlt={categoryAxis3D:Dlt,valueAxis3D:GB,timeAxis3D:Plt,logAxis3D:Lce};var Llt=["value","category","time","log"];function Ilt(e,t,r,n,i){Llt.forEach(function(a){var o=r.extend({type:t+"Axis3D."+a,__ordinalMeta:null,mergeDefaultAndTheme:function(s,l){var u=l.getTheme();Et(s,u.get(a+"Axis3D")),Et(s,this.getDefaultOption()),s.type=n(t,s)},optionUpdated:function(){var s=this.option;s.type==="category"&&(this.__ordinalMeta=bm.createByAxisModel(this))},getCategories:function(){if(this.option.type==="category")return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:Et(Vt(Rlt[a+"Axis3D"]),i||{},!0)});e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis3D",lr(n,t))}function klt(e,t){return t.type||(t.data?"category":"value")}function Olt(e){e.registerComponentModel(mM),e.registerComponentView(qst),e.registerCoordinateSystem("grid3D",Mlt),["x","y","z"].forEach(function(t){Ilt(e,t,Pce,klt,{name:t.toUpperCase()});const r=e.ComponentView.extend({type:t+"Axis3D"});e.registerComponentView(r)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"grid3D",query:t},function(n){n.setView(t)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(t,r){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(t,r){})}Yt(Olt);const xy={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},Ice={getFilledRegions:function(e,t){var r=(e||[]).slice(),n;if(typeof t=="string"?(t=Zk(t),n=t&&t.geoJson):t&&t.features&&(n=t),!n)return[];for(var i={},a=n.features,o=0;o<r.length;o++)i[r[o].name]=r[o];for(var o=0;o<a.length;o++){var s=a[o].properties.name;i[s]||r.push({name:s})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var _y=dr.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=Db(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),r=new oi(t,this);r.initData(e.regions);var n={};r.each(function(i){var a=r.getName(i),o=r.getItemModel(i);n[a]=o}),this._regionModelMap=n,this._data=r},getData:function(){return this._data},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new pr(null,this)},getRegionPolygonCoords:function(e){var t=this.getData().getName(e),r=this.coordinateSystem.getRegion(t);return r?r.geometries:[]},getFormattedLabel:function(e,t){var r=this._data.getName(e),n=this.getRegionModel(e),i=n.get(t==="normal"?["label","formatter"]:["emphasis","label","formatter"]);i==null&&(i=n.get(["label","formatter"]));var a={name:r};if(typeof i=="function")return a.status=t,i(a);if(typeof i=="string"){var o=a.seriesName;return i.replace("{a}",o??"")}else return r},defaultOption:{regions:[]}});Et(_y.prototype,Ice);Et(_y.prototype,gM);Et(_y.prototype,gy);Et(_y.prototype,my);Et(_y.prototype,xy);function kce(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,a=Oce(e,0,i,r,!0),o=[];if(!a)return o;var s,l,u,c,f,d,h;if(n&&(a=Hlt(e,t,a,r)),e.length>80*r){s=u=e[0],l=c=e[1];for(var v=r;v<i;v+=r)f=e[v],d=e[v+1],f<s&&(s=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);h=Math.max(u-s,c-l)}return Q_(a,o,r,s,l,h),o}function Oce(e,t,r,n,i){var a,o;if(i===yO(e,t,r,n)>0)for(a=t;a<r;a+=n)o=PK(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=PK(a,e[a],e[a+1],o);return o&&ip(o,o.next)&&(tb(o),o=o.next),o}function J_(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(ip(r,r.next)||Uo(r.prev,r,r.next)===0)){if(tb(r),r=t=r.prev,r===r.next)return null;n=!0}else r=r.next;while(n||r!==t);return t}function Q_(e,t,r,n,i,a,o){if(e){!o&&a&&Ult(e,n,i,a);for(var s=e,l,u;e.prev!==e.next;){if(l=e.prev,u=e.next,a?Nlt(e,n,i,a):Flt(e)){t.push(l.i/r),t.push(e.i/r),t.push(u.i/r),tb(e),e=u.next,s=u.next;continue}if(e=u,e===s){o?o===1?(e=Blt(e,t,r),Q_(e,t,r,n,i,a,2)):o===2&&zlt(e,t,r,n,i,a):Q_(J_(e),t,r,n,i,a,1);break}}}}function Flt(e){var t=e.prev,r=e,n=e.next;if(Uo(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(PA(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Uo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Nlt(e,t,r,n){var i=e.prev,a=e,o=e.next;if(Uo(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=gO(s,l,t,r,n),d=gO(u,c,t,r,n),h=e.nextZ;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&PA(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Uo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&PA(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Uo(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function Blt(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!ip(i,a)&&Fce(i,n,n.next,a)&&eb(i,a)&&eb(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),tb(n),tb(n.next),n=e=a),n=n.next}while(n!==e);return n}function zlt(e,t,r,n,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&jlt(o,s)){var l=Nce(o,s);o=J_(o,o.next),l=J_(l,l.next),Q_(o,t,r,n,i,a),Q_(l,t,r,n,i,a);return}s=s.next}o=o.next}while(o!==e)}function Hlt(e,t,r,n){var i=[],a,o,s,l,u;for(a=0,o=t.length;a<o;a++)s=t[a]*n,l=a<o-1?t[a+1]*n:e.length,u=Oce(e,s,l,n,!1),u===u.next&&(u.steiner=!0),i.push(Xlt(u));for(i.sort(Vlt),a=0;a<i.length;a++)$lt(i[a],r),r=J_(r,r.next);return r}function Vlt(e,t){return e.x-t.x}function $lt(e,t){if(t=Glt(e,t),t){var r=Nce(t,e);J_(r,r.next)}}function Glt(e,t){var r=t,n=e.x,i=e.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a){if(a=s,s===n){if(i===r.y)return r;if(i===r.next.y)return r.next}o=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!o)return null;if(n===a)return o.prev;var l=o,u=o.x,c=o.y,f=1/0,d;for(r=o.next;r!==l;)n>=r.x&&r.x>=u&&n!==r.x&&PA(i<c?n:a,i,u,c,i<c?a:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),(d<f||d===f&&r.x>o.x)&&eb(r,e)&&(o=r,f=d)),r=r.next;return o}function Ult(e,t,r,n){var i=e;do i.z===null&&(i.z=gO(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Wlt(i)}function Wlt(e){var t,r,n,i,a,o,s,l,u=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ,!!n);t++);for(l=u;s>0||l>0&&n;)s!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,u*=2}while(o>1);return e}function gO(e,t,r,n,i){return e=32767*(e-r)/i,t=32767*(t-n)/i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Xlt(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function PA(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function jlt(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Ylt(e,t)&&eb(e,t)&&eb(t,e)&&Klt(e,t)}function Uo(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function ip(e,t){return e.x===t.x&&e.y===t.y}function Fce(e,t,r,n){return ip(e,t)&&ip(r,n)||ip(e,n)&&ip(r,t)?!0:Uo(e,t,r)>0!=Uo(e,t,n)>0&&Uo(r,n,e)>0!=Uo(r,n,t)>0}function Ylt(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Fce(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function eb(e,t){return Uo(e.prev,e,e.next)<0?Uo(e,t,e.next)>=0&&Uo(e,e.prev,t)>=0:Uo(e,t,e.prev)<0||Uo(e,e.next,t)<0}function Klt(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function Nce(e,t){var r=new mO(e.i,e.x,e.y),n=new mO(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function PK(e,t,r,n){var i=new mO(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function tb(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function mO(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}kce.deviation=function(e,t,r,n){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(yO(e,0,a,r));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*r,c=s<l-1?t[s+1]*r:e.length;o-=Math.abs(yO(e,u,c,r))}var f=0;for(s=0;s<n.length;s+=3){var d=n[s]*r,h=n[s+1]*r,v=n[s+2]*r;f+=Math.abs((e[d]-e[v])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[v+1]-e[d+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function yO(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function NI(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Bce(e,t,r,n,i){var a=r,o=e[t];NI(e,t,n);for(var s=r;s<n;s++)i(e[s],o)<0&&(NI(e,s,a),a++);return NI(e,n,a),a}function RA(e,t,r,n){if(r<n){var i=Math.floor((r+n)/2),a=Bce(e,i,r,n,t);RA(e,t,r,a-1),RA(e,t,a+1,n)}}function Fm(){this._parts=[]}Fm.prototype.step=function(e,t,r){var n=e.length;if(r===0){this._parts=[],this._sorted=!1;var i=Math.floor(n/2);this._parts.push({pivot:i,left:0,right:n-1}),this._currentSortPartIdx=0}if(!this._sorted){var a=this._parts;if(a.length===0)return this._sorted=!0,!0;if(a.length<512){for(var o=0;o<a.length;o++)a[o].pivot=Bce(e,a[o].pivot,a[o].left,a[o].right,t);for(var s=[],o=0;o<a.length;o++){var l=a[o].left,u=a[o].pivot-1;u>l&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u});var l=a[o].pivot+1,u=a[o].right;u>l&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u})}a=this._parts=s}else for(var o=0;o<Math.floor(a.length/10);o++){var c=a.length-1-this._currentSortPartIdx;if(RA(e,t,a[c].left,a[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0,!0}return!1}};Fm.sort=RA;var rm=ki.vec3,RK=rm.create(),LK=rm.create(),IK=rm.create();const UB={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,t){var r=this.indices;if(t===0){var n=this.attributes.position,e=e.array;(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new r.constructor(r.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i=0,a,o=0;o<r.length;){n.get(r[o++],RK),n.get(r[o++],LK),n.get(r[o++],IK);var s=rm.sqrDist(RK,e),l=rm.sqrDist(LK,e),u=rm.sqrDist(IK,e),c=Math.min(s,l);c=Math.min(c,u),o===3?(a=c,c=0):c=c-a,this._triangleZList[i++]=c}}for(var f=this._sortedTriangleIndices,o=0;o<f.length;o++)f[o]=o;if(this.triangleCount<2e4)t===0&&this._simpleSort(!0);else for(var o=0;o<3;o++)this._progressiveQuickSort(t*3+o);for(var d=this._indicesTmp,h=this._triangleZListTmp,v=this._triangleZList,o=0;o<this.triangleCount;o++){var p=f[o]*3,g=o*3;d[g++]=r[p++],d[g++]=r[p++],d[g]=r[p],h[o]=v[f[o]]}var m=this._indicesTmp;this._indicesTmp=this.indices,this.indices=m;var m=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=m,this.dirtyIndices()},_simpleSort:function(e){var t=this._triangleZList,r=this._sortedTriangleIndices;function n(i,a){return t[a]-t[i]}e?Array.prototype.sort.call(r,n):Fm.sort(r,n,0,r.length-1)},_progressiveQuickSort:function(e){var t=this._triangleZList,r=this._sortedTriangleIndices;this._quickSort=this._quickSort||new Fm,this._quickSort.step(r,function(n,i){return t[i]-t[n]},e)}};function Zlt(e){const t=e.getVisual("style");if(t){const r=e.getVisual("drawType");return t[r]}}function qlt(e){return e.getVisual("style").opacity}function Ea(e,t){const r=e.getItemVisual(t,"style");if(r){const n=e.getVisual("drawType");return r[n]}}function ba(e,t){const r=e.getItemVisual(t,"style");return r&&r.opacity}var zce=1,Hce=2;function id(e,t,r){this._labelsMesh=new zB,this._labelTextureSurface=new EA({width:512,height:512,devicePixelRatio:r.getDevicePixelRatio(),onupdate:function(){r.getZr().refresh()}}),this._api=r,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}id.prototype.getLabelPosition=function(e,t,r){return[0,0,0]};id.prototype.getLabelDistance=function(e,t,r){return 0};id.prototype.getMesh=function(){return this._labelsMesh};id.prototype.updateData=function(e,t,r){t==null&&(t=0),r==null&&(r=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==r-t)&&(this._labelsVisibilitiesBits=new Uint8Array(r-t));for(var n=["label","show"],i=["emphasis","label","show"],a=t;a<r;a++){var o=e.getItemModel(a),s=o.get(n),l=o.get(i);l==null&&(l=s);var u=(s?zce:0)|(l?Hce:0);this._labelsVisibilitiesBits[a-t]=u}this._start=t,this._end=r,this._data=e};id.prototype.updateLabels=function(e){if(this._data){e=e||[];for(var t=e.length>0,r={},n=0;n<e.length;n++)r[e[n]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var i=["label"],a=["emphasis","label"],o=this._data.hostModel,s=this._data,l=o.getModel(i),u=o.getModel(a,l),c={left:"right",right:"left",top:"center",bottom:"center"},f={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var h=!1;t&&r[d]&&(h=!0);var v=this._labelsVisibilitiesBits[d-this._start]&(h?Hce:zce);if(v){var p=s.getItemModel(d),g=p.getModel(h?a:i,h?u:l),m=g.get("distance")||0,y=g.get("position"),x=this._api.getDevicePixelRatio(),b=o.getFormattedLabel(d,h?"emphasis":"normal");if(b==null||b==="")return;var w=new Pr({style:gn(g,{text:b,fill:g.get("color")||Ea(s,d)||"#000",align:"left",verticalAlign:"top",opacity:Nr.firstNotNull(g.get("opacity"),ba(s,d),1)})}),S=w.getBoundingRect(),C=1.2;S.height*=C;var E=this._labelTextureSurface.add(w),A=c[y]||"center",M=f[y]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,y,m),[S.width*x,S.height*x],E,A,M,this.getLabelDistance(d,y,m)*x)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}};id.prototype.dispose=function(){this._labelTextureSurface.dispose()};var ss=ki.vec3;ae.Shader.import(xM);function Nm(e){this.rootNode=new ae.Node,this._triangulationResults={},this._shadersMap=ae.COMMON_SHADERS.filter(function(r){return r!=="shadow"}).reduce(function(r,n){return r[n]=ae.createShader("ecgl."+n),r},{}),this._linesShader=ae.createShader("ecgl.meshLines3D");var t={};ae.COMMON_SHADERS.forEach(function(r){t[r]=new ae.Material({shader:ae.createShader("ecgl."+r)})}),this._groundMaterials=t,this._groundMesh=new ae.Mesh({geometry:new ae.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new id(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}Nm.prototype={constructor:Nm,extrudeY:!0,update:function(e,t,r,n,i){var a=e.getData();n==null&&(n=0),i==null&&(i=a.count()),this._startIndex=n,this._endIndex=i-1,this._triangulation(e,n,i);var o=this._getShader(e.get("shading"));this._prepareMesh(e,o,r,n,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,r,n,i);var s=e.coordinateSystem;s.type==="geo3D"&&this._updateGroundPlane(e,s,r);var l=this;this._labelsBuilder.updateData(a,n,i),this._labelsBuilder.getLabelPosition=function(u,c,f){var d=a.getName(u),h,v=f;if(s.type==="geo3D"){var p=s.getRegion(d);if(!p)return[NaN,NaN,NaN];h=p.getCenter();var g=s.dataToPoint([h[0],h[1],v]);return g}else var m=l._triangulationResults[u-l._startIndex],h=l.extrudeY?[(m.max[0]+m.min[0])/2,m.max[1]+v,(m.max[2]+m.min[2])/2]:[(m.max[0]+m.min[0])/2,(m.max[1]+m.min[1])/2,m.max[2]+v]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this;function t(){var i=new ae.Mesh({name:"Polygon",material:new ae.Material({shader:e._shadersMap.lambert}),geometry:new ae.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(i.geometry,UB),i}var r=t(),n=new ae.Mesh({material:new ae.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Nh({useNativeLine:!1})});this.rootNode.add(r),this.rootNode.add(n),r.material.define("both","VERTEX_COLOR"),r.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=r,this._linesMesh=n,this.rootNode.add(this._groundMesh)},_getShader:function(e){var t=this._shadersMap[e];return t||(t=this._shadersMap.lambert),t.__shading=e,t},_prepareMesh:function(e,t,r,n,i){for(var a=0,o=0,s=0,l=0,u=n;u<i;u++){var c=this._getRegionPolygonInfo(u),f=this._getRegionLinesInfo(u,e,this._linesMesh.geometry);a+=c.vertexCount,o+=c.triangleCount,s+=f.vertexCount,l+=f.triangleCount}var d=this._polygonMesh,h=d.geometry;["position","normal","texcoord0","color"].forEach(function(v){h.attributes[v].init(a)}),h.indices=a>65535?new Uint32Array(o*3):new Uint16Array(o*3),d.material.shader!==t&&d.material.attachShader(t,!0),ae.setMaterialFromModel(t.__shading,d.material,e,r),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(a),this._vertexRangeOfDataIndex=new Uint32Array((i-n)*2)},_updateRegionMesh:function(e,t,r,n){for(var i=e.getData(),a=0,o=0,s=!1,S=this._polygonMesh,l=this._linesMesh,u=r;u<n;u++){var c=e.getRegionModel(u),f=c.getModel("itemStyle"),d=Nr.firstNotNull(Ea(i,u),f.get("color"),"#fff"),h=Nr.firstNotNull(ba(i,u),f.get("opacity"),1),v=ae.parseColor(d),p=ae.parseColor(f.get("borderColor"));v[3]*=h,p[3]*=h;var g=v[3]<.99;S.material.set("color",[1,1,1,1]),s=s||g;for(var m=Nr.firstNotNull(c.get("height",!0),e.get("regionHeight")),y=this._updatePolygonGeometry(e,S.geometry,u,m,a,o,v),x=a;x<y.vertexOffset;x++)this._dataIndexOfVertex[x]=u;this._vertexRangeOfDataIndex[(u-r)*2]=a,this._vertexRangeOfDataIndex[(u-r)*2+1]=y.vertexOffset,a=y.vertexOffset,o=y.triangleOffset;var b=f.get("borderWidth"),w=b>0;w&&(b*=t.getDevicePixelRatio(),this._updateLinesGeometry(l.geometry,e,u,m,b,e.coordinateSystem.transform)),l.invisible=!w,l.material.set({color:p})}var S=this._polygonMesh;S.material.transparent=s,S.material.depthMask=!s,S.geometry.updateBoundingBox(),S.frontFace=this.extrudeY?ae.Mesh.CCW:ae.Mesh.CW,S.material.get("normalMap")&&S.geometry.generateTangents(),S.seriesIndex=e.seriesIndex,S.on("mousemove",this._onmousemove,this),S.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var t=e.getModel("debug.wireframe");if(t.get("show")){var r=ae.parseColor(t.get("lineStyle.color")||"rgba(0,0,0,0.5)"),n=Nr.firstNotNull(t.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",r),i.material.set("wireframeLineWidth",n)}},_onmousemove:function(e){var t=this._dataIndexOfVertex[e.triangle[0]];t==null&&(t=-1),t!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(t),this._labelsBuilder.updateLabels([t])),this._lastHoverDataIndex=t,this._polygonMesh.dataIndex=t},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,t,r){var n=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!n.get("show",!0),!this._groundMesh.invisible){var i=e.get("shading"),a=this._groundMaterials[i];a||(a=this._groundMaterials.lambert),ae.setMaterialFromModel(i,a,n,r),a.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=a,this._groundMesh.material.set("color",ae.parseColor(n.get("color"))),this._groundMesh.scale.set(t.size[0],t.size[2],1)}},_triangulation:function(e,t,r){this._triangulationResults=[];for(var n=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=e.coordinateSystem,o=t;o<r;o++){for(var s=[],l=e.getRegionPolygonCoords(o),u=0;u<l.length;u++){var c=l[u].exterior,f=l[u].interiors,d=[],h=[];if(!(c.length<3)){for(var v=0,p=0;p<c.length;p++){var g=c[p];d[v++]=g[0],d[v++]=g[1]}for(var p=0;p<f.length;p++)if(!(f[p].length<3)){for(var m=d.length/2,y=0;y<f[p].length;y++){var g=f[p][y];d.push(g[0]),d.push(g[1])}h.push(m)}for(var x=kce(d,h),b=new Float64Array(d.length/2*3),w=[],S=[1/0,1/0,1/0],C=[-1/0,-1/0,-1/0],E=0,p=0;p<d.length;)ss.set(w,d[p++],0,d[p++]),a&&a.transform&&ss.transformMat4(w,w,a.transform),ss.min(S,S,w),ss.max(C,C,w),b[E++]=w[0],b[E++]=w[1],b[E++]=w[2];ss.min(n,n,S),ss.max(i,i,C),s.push({points:b,indices:x,min:S,max:C})}}this._triangulationResults.push(s)}this._geoBoundingBox=[n,i]},_getRegionPolygonInfo:function(e){for(var t=this._triangulationResults[e-this._startIndex],r=0,n=0,i=0;i<t.length;i++)r+=t[i].points.length/3,n+=t[i].indices.length/3;var a=r*2+r*4,o=n*2+r*2;return{vertexCount:a,triangleCount:o}},_updatePolygonGeometry:function(e,t,r,n,i,a,o){var s=e.get("projectUVOnGround"),l=t.attributes.position,u=t.attributes.normal,c=t.attributes.texcoord0,f=t.attributes.color,d=this._triangulationResults[r-this._startIndex],h=f.value&&o,v=t.indices,p=this.extrudeY?1:2,g=this.extrudeY?2:1,m=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=ss.mul([],this._geoBoundingBox[0],m),x=ss.mul([],this._geoBoundingBox[1],m),b=Math.max(x[0]-y[0],x[2]-y[2]);function w(Se,te,pe){for(var Re=Se.points,z=Re.length,J=[],se=[],he=0;he<z;he+=3)J[0]=Re[he],J[p]=te,J[g]=Re[he+2],se[0]=(Re[he]*m[0]-y[0])/b,se[1]=(Re[he+2]*m[g]-y[2])/b,l.set(i,J),h&&f.set(i,o),c.set(i++,se)}function S(Se,te,pe){var Re=i;w(Se,te);for(var z=Se.indices.length,J=0;J<z;J++)v[a*3+J]=Se.indices[J]+Re;a+=Se.indices.length/3}for(var C=this.extrudeY?[0,1,0]:[0,0,1],E=ss.negate([],C),A=0;A<d.length;A++){var M=i,D=d[A];S(D,0),S(D,n);for(var R=D.points.length/3,L=0;L<R;L++)u.set(M+L,E),u.set(M+L+R,C);for(var k=[0,3,1,1,3,2],O=[[],[],[],[]],F=[],H=[],V=[],U=[],K=0,L=0;L<R;L++){for(var q=(L+1)%R,N=(D.points[q*3]-D.points[L*3])*m[0],W=(D.points[q*3+2]-D.points[L*3+2])*m[g],j=Math.sqrt(N*N+W*W),Z=0;Z<4;Z++){var ve=Z===0||Z===3,Te=(ve?L:q)*3;O[Z][0]=D.points[Te],O[Z][p]=Z>1?n:0,O[Z][g]=D.points[Te+2],l.set(i+Z,O[Z]),s?(U[0]=(D.points[Te]*m[0]-y[0])/b,U[1]=(D.points[Te+2]*m[g]-y[g])/b):(U[0]=(ve?K:K+j)/b,U[1]=(O[Z][p]*m[p]-y[p])/b),c.set(i+Z,U)}ss.sub(F,O[1],O[0]),ss.sub(H,O[3],O[0]),ss.cross(V,F,H),ss.normalize(V,V);for(var Z=0;Z<4;Z++)u.set(i+Z,V),h&&f.set(i+Z,o);for(var Z=0;Z<6;Z++)v[a*3+Z]=k[Z]+i;i+=4,a+=2,K+=j}}return t.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(e,t,r){var n=0,i=0,a=t.getRegionModel(e),o=a.getModel("itemStyle"),s=o.get("borderWidth");if(s>0){var l=t.getRegionPolygonCoords(e);l.forEach(function(u){var c=u.exterior,f=u.interiors;n+=r.getPolylineVertexCount(c),i+=r.getPolylineTriangleCount(c);for(var d=0;d<f.length;d++)n+=r.getPolylineVertexCount(f[d]),i+=r.getPolylineTriangleCount(f[d])},this)}return{vertexCount:n,triangleCount:i}},_updateLinesGeometry:function(e,t,r,n,i,a){function o(u){for(var c=new Float64Array(u.length*3),f=0,d=[],h=0;h<u.length;h++)d[0]=u[h][0],d[1]=n+.1,d[2]=u[h][1],a&&ss.transformMat4(d,d,a),c[f++]=d[0],c[f++]=d[1],c[f++]=d[2];return c}var s=[1,1,1,1],l=t.getRegionPolygonCoords(r);l.forEach(function(u){var c=u.exterior,f=u.interiors;e.addPolyline(o(c),s,i);for(var d=0;d<f.length;d++)e.addPolyline(o(f[d]),s,i)})},highlight:function(e){var t=this._data;if(t){var r=t.getItemModel(e),n=r.getModel(["emphasis","itemStyle"]),i=n.get("color"),a=Nr.firstNotNull(n.get("opacity"),ba(t,e),1);if(i==null){var o=Ea(t,e);i=pm(o,-.4)}a==null&&(a=ba(t,e));var s=ae.parseColor(i);s[3]*=a,this._setColorOfDataIndex(t,e,s)}},downplay:function(e){var t=this._data;if(t){var r=t.getItemModel(e),n=Nr.firstNotNull(Ea(t,e),r.get(["itemStyle","color"]),"#fff"),i=Nr.firstNotNull(ba(t,e),r.get(["itemStyle","opacity"]),1),a=ae.parseColor(n);a[3]*=i,this._setColorOfDataIndex(t,e,a)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,t,r){if(!(t<this._startIndex&&t>this._endIndex)){t-=this._startIndex;for(var n=this._vertexRangeOfDataIndex[t*2];n<this._vertexRangeOfDataIndex[t*2+1];n++)this._polygonMesh.geometry.attributes.color.set(n,r);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const Jlt=Cn.extend({type:"geo3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new Nm(t),this.groupGL=new ae.Node,this._lightRoot=new ae.Node,this._sceneHelper=new Th(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new Bb({zr:t.getZr()}),this._control.init()},render:function(e,t,r){this.groupGL.add(this._geo3DBuilder.rootNode);var n=e.coordinateSystem;if(!(!n||!n.viewGL)){n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(n.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,r,0,e.getData().count());var o=n.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")}),i.off("update"),i.on("update",function(){r.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:e.id})}),i.update()}},afterRender:function(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var Qlt={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function eut(e,t){if(e==="world"){var r=Qlt[t.name];if(r){var n=[r[0],r[1]];t.setCenter(n)}}}var tut=ki.vec3,Bg=ki.mat4,rut=[Rse,eut];function LA(e,t,r,n,i){this.name=e,this.map=t,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(r,n,i),this.transform=Bg.identity(new Float64Array(16)),this.invTransform=Bg.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}LA.prototype={constructor:LA,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,t,r){var n=t4||t4;try{this.regions=e?n(e):[]}catch(u){throw`Invalid geoJson format
`+u}t=t||{},r=r||{};for(var i=this.regions,a={},o=0;o<i.length;o++){var s=i[o].name;s=r[s]||s,i[o].name=s,a[s]=i[o],this.addGeoCoord(s,i[o].getCenter());var l=t[s];l&&i[o].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=a,this._geoRect=null,rut.forEach(function(u){u(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,r=0;r<t.length;r++){var n=t[r].getBoundingRect();e=e||n.clone(),e.union(n)}return this._geoRect=e||new jt(0,0,0,0)},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,r=0;r<t.length;r++)if(t[r].contain(e))return t[r]},setSize:function(e,t,r){this.size=[e,t,r];var n=this.getGeoBoundingRect(),i=e/n.width,a=-r/n.height,o=-e/2-n.x*i,s=r/2-n.y*a,l=this.extrudeY?[o,0,s]:[o,s,0],u=this.extrudeY?[i,1,a]:[i,a,1],c=this.transform;Bg.identity(c),Bg.translate(c,c,l),Bg.scale(c,c,u),Bg.invert(this.invTransform,c)},dataToPoint:function(e,t){t=t||[];var r=this.extrudeY?1:2,n=this.extrudeY?2:1,i=e[2];return isNaN(i)&&(i=0),t[0]=e[0],t[n]=e[1],this.altitudeAxis?t[r]=this.altitudeAxis.dataToCoord(i):t[r]=0,t[r]+=this.regionHeight,tut.transformMat4(t,t,this.transform),t},pointToData:function(e,t){}};function nut(e,t){var r=e.getBoxLayoutParams(),n=Dn(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(e.get("aspectScale")||.75),o=e.get("boxWidth"),s=e.get("boxDepth"),l=e.get("boxHeight");l==null&&(l=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/a:isNaN(o)&&(o=s/a),this.setSize(o,l,s),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function iut(e,t){var r=[1/0,-1/0];if(e.eachSeries(function(i){if(i.coordinateSystem===this&&i.type!=="series.map3D"){var a=i.getData(),o=i.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=a.getDataExtent(s,!0);r[0]=Math.min(r[0],l[0]),r[1]=Math.max(r[1],l[1])}}},this),r&&isFinite(r[1]-r[0])){var n=xN(r,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new es("altitude",n),this.resize(this.model,t)}}var kK=0,WB={dimensions:LA.prototype.dimensions,create:function(e,t){var r=[];if(!Zk)throw new Error("geo3D component depends on geo component");function n(i,a){var o=WB.createGeo3D(i);i.__viewGL=i.__viewGL||new An,o.viewGL=i.__viewGL,i.coordinateSystem=o,o.model=i,r.push(o),o.resize=nut,o.resize(i,t),o.update=iut}return e.eachComponent("geo3D",function(i,a){n(i)}),e.eachSeriesByType("map3D",function(i,a){var o=i.get("coordinateSystem");o==null&&(o="geo3D"),o==="geo3D"&&n(i)}),e.eachSeries(function(i){if(i.get("coordinateSystem")==="geo3D"){if(i.type==="series.map3D")return;var a=i.getReferringComponents("geo3D").models[0];if(a||(a=e.getComponent("geo3D")),!a)throw new Error('geo "'+Nr.firstNotNull(i.get("geo3DIndex"),i.get("geo3DId"),0)+'" not found');i.coordinateSystem=a.coordinateSystem}}),r},createGeo3D:function(e){var t=e.get("map"),r;return typeof t=="string"?(r=t,t=Zk(t)):t&&t.features&&(t={geoJson:t}),r==null&&(r="GEO_ANONYMOUS_"+kK++),new LA(r+kK++,r,t&&t.geoJson,t&&t.specialAreas,e.get("nameMap"))}};function Vce(e){e.registerComponentModel(_y),e.registerComponentView(Jlt),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"geo3D",query:t},function(n){n.setView(t)})}),e.registerCoordinateSystem("geo3D",WB)}Yt(Vce);function OK(e,t){e.id=e.id||e.name||t+""}var Hp=dr.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){Hp.superApply(this,"init",arguments),G(this.option.layers,function(e,t){Et(e,this.defaultLayerOption),OK(e,t)},this)},mergeOption:function(e){var t=this.option.layers;this.option.layers=null,Hp.superApply(this,"mergeOption",arguments);function r(o){return Cu(o,function(s,l,u){return OK(l,u),s[l.id]=l,s},{})}if(t&&t.length){var n=r(e.layers),i=r(t);for(var a in n)i[a]?Et(i[a],n[a],!0):t.push(e.layers[a]);this.option.layers=t}G(this.option.layers,function(o){Et(o,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,t,r){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=r},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),t=this.get("displacementScale");return(!e||e==="none")&&(t=0),t},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),t=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==t,this._displacementTexture=e,this._displacementScale=t},isDisplacementChanged:function(){return this._displacementChanged}});Et(Hp.prototype,gM);Et(Hp.prototype,gy);Et(Hp.prototype,my);Et(Hp.prototype,xy);var $ce=Math.PI,Ol=Math.sin,Pf=Math.cos,Gce=Math.tan,Uce=Math.asin,Wce=Math.atan2,Vp=$ce/180,aut=1e3*60*60*24,out=2440588,sut=2451545;function lut(e){return e.valueOf()/aut-.5+out}function uut(e){return lut(e)-sut}var IA=Vp*23.4397;function cut(e,t){return Wce(Ol(e)*Pf(IA)-Gce(t)*Ol(IA),Pf(e))}function fut(e,t){return Uce(Ol(t)*Pf(IA)+Pf(t)*Ol(IA)*Ol(e))}function dut(e,t,r){return Wce(Ol(e),Pf(e)*Ol(t)-Gce(r)*Pf(t))}function hut(e,t,r){return Uce(Ol(t)*Ol(r)+Pf(t)*Pf(r)*Pf(e))}function vut(e,t){return Vp*(280.16+360.9856235*e)-t}function put(e){return Vp*(357.5291+.98560028*e)}function gut(e){var t=Vp*(1.9148*Ol(e)+.02*Ol(2*e)+3e-4*Ol(3*e)),r=Vp*102.9372;return e+t+r+$ce}function mut(e){var t=put(e),r=gut(t);return{dec:fut(r,0),ra:cut(r,0)}}var Xce={};Xce.getPosition=function(e,t,r){var n=Vp*-r,i=Vp*t,a=uut(e),o=mut(a),s=vut(a,n)-o.ra;return{azimuth:dut(s,i,o.dec),altitude:hut(s,i,o.dec)}};const yut=`@export ecgl.atmosphere.vertex
attribute vec3 position: POSITION;
attribute vec3 normal : NORMAL;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;

varying vec3 v_Normal;

void main() {
 v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end


@export ecgl.atmosphere.fragment
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform float glowPower;
uniform vec3 glowColor;

varying vec3 v_Normal;

void main() {
 float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor = vec4(glowColor, intensity * intensity);
}
@end`;ae.Shader.import(fce);ae.Shader.import(yut);const xut=Cn.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,t){this.groupGL=new ae.Node,this._sphereGeometry=new ae.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new ae.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new ae.PlaneGeometry,this._earthMesh=new ae.Mesh({renderNormal:!0}),this._atmosphereMesh=new ae.Mesh,this._atmosphereGeometry=new ae.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new ae.Material({shader:new ae.Shader(ae.Shader.source("ecgl.atmosphere.vertex"),ae.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=ae.Mesh.CW,this._lightRoot=new ae.Node,this._sceneHelper=new Th,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new Bb({zr:t.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,t,r){var n=e.coordinateSystem,i=e.get("shading");n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL),this._sceneHelper.setScene(n.viewGL.scene),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._earthMesh;a.geometry=this._sphereGeometry;var o="ecgl."+i;(!a.material||a.material.shader.name!==o)&&(a.material=ae.createMaterial(o)),ae.setMaterialFromModel(i,a.material,e,r),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(f){var d=a.material.get(f);d&&(d.flipY=!1)}),a.material.set("color",ae.parseColor(e.get("baseColor")));var s=n.radius*.99;if(a.scale.set(s,s,s),e.get("atmosphere.show")){a.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),a.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var l=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+l,s+l,s+l)}else a.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var u=a.material.setTextureImage("diffuseMap",e.get("baseTexture"),r,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(a);var c=a.material.setTextureImage("bumpMap",e.get("heightTexture"),r,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(a),a.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,r),this._displaceVertices(e,r),this._updateViewControl(e,r),this._updateLayers(e,r)},afterRender:function(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r)},_updateLayers:function(e,t){var r=e.coordinateSystem,n=e.get("layers"),i=r.radius,a=[],o=[],s=[],l=[];G(n,function(h){var v=new pr(h),p=v.get("type"),g=ae.loadTexture(v.get("texture"),t,{flipY:!1,anisotropic:8});if(g.surface&&g.surface.attachToMesh(this._earthMesh),p==="blend"){var m=v.get("blendTo"),y=Nr.firstNotNull(v.get("intensity"),1);m==="emission"?(s.push(g),l.push(y)):(a.push(g),o.push(y))}else{var x=v.get("id"),b=this._layerMeshes[x];b||(b=this._layerMeshes[x]=new ae.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var w=v.get("shading");w==="lambert"?(b.material=b.__lambertMaterial||new ae.Material({autoUpdateTextureStatus:!1,shader:ae.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),b.__lambertMaterial=b.material):(b.material=b.__colorMaterial||new ae.Material({autoUpdateTextureStatus:!1,shader:ae.createShader("ecgl.color"),transparent:!0,depthMask:!1}),b.__colorMaterial=b.material),b.material.enableTexture("diffuseMap");var S=v.get("distance"),C=i+(S??r.radius/100);b.scale.set(C,C,C),i=C;var E=this._blankTexture||(this._blankTexture=ae.createBlankTexture("rgba(255, 255, 255, 0)"));b.material.set("diffuseMap",E),ae.loadTexture(v.get("texture"),t,{flipY:!1,anisotropic:8},function(A){A.surface&&A.surface.attachToMesh(b),b.material.set("diffuseMap",A),t.getZr().refresh()}),v.get("show")?this.groupGL.add(b):this.groupGL.remove(b)}},this);var u=this._earthMesh.material;u.define("fragment","LAYER_DIFFUSEMAP_COUNT",a.length),u.define("fragment","LAYER_EMISSIVEMAP_COUNT",s.length),u.set("layerDiffuseMap",a),u.set("layerDiffuseIntensity",o),u.set("layerEmissiveMap",s),u.set("layerEmissionIntensity",l);var c=e.getModel("debug.wireframe");if(c.get("show")){u.define("both","WIREFRAME_TRIANGLE");var f=ae.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)"),d=Nr.firstNotNull(c.get("lineStyle.width"),1);u.set("wireframeLineWidth",d),u.set("wireframeLineColor",f)}else u.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,t){var r=e.coordinateSystem,n=e.getModel("viewControl");r.viewGL.camera;var i=this;function a(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-r.radius,center:o.getCenter(),from:i.uid,globeId:e.id}}var o=this._control;o.setViewGL(r.viewGL);var s=n.get("targetCoord"),l,u;s!=null&&(u=s[0]+90,l=s[1]),o.setFromViewControlModel(n,{baseDistance:r.radius,alpha:l,beta:u}),o.off("update"),o.on("update",function(){t.dispatchAction(a())})},_displaceVertices:function(e,t){var r=e.get("displacementQuality"),n=e.get("debug.wireframe.show"),i=e.coordinateSystem;if(!(!e.isDisplacementChanged()&&r===this._displacementQuality&&n===this._showDebugWireframe)){this._displacementQuality=r,this._showDebugWireframe=n;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[r]||200,s=o/2;(a.widthSegments!==o||n)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),n&&a.generateBarycentric()}},_doDisplaceVertices:function(e,t){var r=e.attributes.position.value,n=e.attributes.texcoord0.value,i=e.__originalPosition;(!i||i.length!==r.length)&&(i=new Float32Array(r.length),i.set(r),e.__originalPosition=i);for(var a=t.displacementWidth,o=t.displacementHeight,s=t.displacementData,l=0;l<e.vertexCount;l++){var u=l*3,c=l*2,f=i[u+1],d=i[u+2],h=i[u+3],v=n[c++],p=n[c++],g=Math.round(v*(a-1)),m=Math.round(p*(o-1)),y=m*a+g,x=s?s[y]:0;r[u+1]=f+f*x,r[u+2]=d+d*x,r[u+3]=h+h*x}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,t){var r=this._earthMesh;this._sceneHelper.updateLight(e);var n=this._sceneHelper.mainLight,i=e.get("light.main.time")||new Date,a=Xce.getPosition(Jf(i),0,0),o=Math.cos(a.altitude);n.position.y=-o*Math.cos(a.azimuth),n.position.x=Math.sin(a.altitude),n.position.z=o*Math.sin(a.azimuth),n.lookAt(r.getWorldPosition())},dispose:function(e,t){this.groupGL.removeAll(),this._control.dispose()}});var _ut=ki.vec3;function kA(e){this.radius=e,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}kA.prototype={constructor:kA,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,t,r){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=r},_getDisplacementScale:function(e,t){var r=(e+180)/360*(this.displacementWidth-1),n=(90-t)/180*(this.displacementHeight-1),i=Math.round(r)+Math.round(n)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(e,t){var r=e[0],n=e[1],i=e[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(r,n)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),r=r*Math.PI/180,n=n*Math.PI/180;var o=Math.cos(n)*a;return t=t||[],t[0]=-o*Math.cos(r+Math.PI),t[1]=Math.sin(n)*a,t[2]=o*Math.sin(r+Math.PI),t},pointToData:function(e,t){var r=e[0],n=e[1],i=e[2],a=_ut.len(e);r/=a,n/=a,i/=a;var o=Math.asin(n),s=Math.atan2(i,-r);s<0&&(s=Math.PI*2+s);var l=o*180/Math.PI,u=s*180/Math.PI-180;return t=t||[],t[0]=u,t[1]=l,t[2]=a-this.radius,this.altitudeAxis&&(t[2]=this.altitudeAxis.coordToData(t[2])),t}};function but(e,t){var r=document.createElement("canvas"),n=r.getContext("2d"),i=e.width,a=e.height;r.width=i,r.height=a,n.drawImage(e,0,0,i,a);for(var o=n.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++){var u=o[l*4];s[l]=u/255*t}return{data:s,width:i,height:a}}function wut(e,t){var r=e.getBoxLayoutParams(),n=Dn(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio()),this.radius=e.get("globeRadius");var i=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function Sut(e,t){var r=[1/0,-1/0];if(e.eachSeries(function(i){if(i.coordinateSystem===this){var a=i.getData(),o=i.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=a.getDataExtent(s,!0);r[0]=Math.min(r[0],l[0]),r[1]=Math.max(r[1],l[1])}}},this),r&&isFinite(r[1]-r[0])){var n=xN(r,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new es("altitude",n),this.resize(this.model,t)}}var Cut={dimensions:kA.prototype.dimensions,create:function(e,t){var r=[];return e.eachComponent("globe",function(n){n.__viewGL=n.__viewGL||new An;var i=new kA;i.viewGL=n.__viewGL,n.coordinateSystem=i,i.model=n,r.push(i),i.resize=wut,i.resize(n,t),i.update=Sut}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="globe"){var i=n.getReferringComponents("globe").models[0];if(i||(i=e.getComponent("globe")),!i)throw new Error('globe "'+Nr.firstNotNull(n.get("globe3DIndex"),n.get("globe3DId"),0)+'" not found');var a=i.coordinateSystem;n.coordinateSystem=a}}),e.eachComponent("globe",function(n,i){var a=n.coordinateSystem,o=n.getDisplacementTexture(),s=n.getDisplacemenScale();if(n.isDisplacementChanged()){if(n.hasDisplacement()){var l=!0;ae.loadTexture(o,t,function(u){var c=u.image,f=but(c,s);n.setDisplacementData(f.data,f.width,f.height),l||t.dispatchAction({type:"globeUpdateDisplacment"})}),l=!1}else a.setDisplacementData(null,0,0);a.setDisplacementData(n.displacementData,n.displacementWidth,n.displacementHeight)}}),r}};function Tut(e){e.registerComponentModel(Hp),e.registerComponentView(xut),e.registerCoordinateSystem("globe",Cut),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"globe",query:t},function(n){n.setView(t)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(t,r){})}Yt(Tut);var FK=["zoom","center","pitch","bearing"],XB=dr.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return FK.reduce(function(t,r){return t[r]=e.get(r),t},{})},setMapboxCameraOption:function(e){e!=null&&FK.forEach(function(t){e[t]!=null&&(this.option[t]=e[t])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});Et(XB.prototype,gy);Et(XB.prototype,my);function Bh(e,t){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Bh.prototype.setUnpainted=function(){};Bh.prototype.resize=function(){this._mapbox.resize()};Bh.prototype.getMapbox=function(){return this._mapbox};Bh.prototype.clear=function(){};Bh.prototype.refresh=function(){this._mapbox.resize()};var jce=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Bh.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},jce.forEach(function(t){this._handlers[t]=function(r){var n={};for(var i in r)n[i]=r[i];n.bubbles=!1;var a=new r.constructor(r.type,n);e.dispatchEvent(a)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Bh.prototype.dispose=function(){jce.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const Yce=`
@export ecgl.displayShadow.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_WorldPosition;

varying vec3 v_Normal;

void main()
{
 @import ecgl.common.uv.main
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);

 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}

@end


@export ecgl.displayShadow.fragment

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform float roughness: 0.2;

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.ssaoMap.header

@import clay.plugin.compute_shadow_map

void main()
{
 float shadow = 1.0;

 @import ecgl.common.ssaoMap.main

#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
 for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {
 shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);
 }
#endif

 shadow *= 0.5 + ao * 0.5;
 shadow = clamp(shadow, 0.0, 1.0);

 gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);
}

@end`;ae.Shader.import(Yce);const Aut=Cn.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,t){var r=t.getZr();this._zrLayer=new Bh("mapbox3D",r),r.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new ae.Node,this._sceneHelper=new Th(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var n=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,t,n);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(a){n.on(a,i)}),this._groundMesh=new ae.Mesh({geometry:new ae.PlaneGeometry,material:new ae.Material({shader:new ae.Shader({vertex:ae.Shader.source("ecgl.displayShadow.vertex"),fragment:ae.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,t,r){var n=this._zrLayer.getMapbox(),i=e.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&n.setStyle(i),this._oldStyleStr=a,n.setCenter(e.get("center")),n.setZoom(e.get("zoom")),n.setPitch(e.get("pitch")),n.setBearing(e.get("bearing")),e.setMapbox(n);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),r),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r),e.coordinateSystem.viewGL.scene.traverse(function(a){a.material&&(a.material.define("fragment","NORMAL_UP_AXIS",2),a.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,t,r,n){e.coordinateSystem.setCameraOption(n),this._updateGroundMesh(),r.getZr().refresh()},_dispatchInteractAction:function(e,t,r){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:t.getPitch(),zoom:t.getZoom(),center:t.getCenter().toArray(),bearing:t.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var r=new ae.Plane(new ae.Vector3(0,0,1),0),n=e.viewGL.camera.castRay(new ae.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new ae.Vector2(1,1)),a=n.intersectPlane(r),o=i.intersectPlane(r),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}});var Rd=ki.mat4,k1=512,BI=.6435011087932844,ls=Math.PI,bg=1/10;function Bm(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}Bm.prototype={constructor:Bm,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,k1)),this._initialZoom==null&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(BI/2)*this.height*bg,t=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,r=BI/2,n=Math.PI/2+t,i=Math.sin(r)*e/Math.sin(Math.PI-n-r),a=Math.cos(Math.PI/2-t)*i+e,o=a*1.1;this.pitch>50&&(o=1e3);var s=[];Rd.perspective(s,BI,this.width/this.height,1,o),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix();var s=Rd.identity([]),l=this.dataToPoint(this.center);Rd.scale(s,s,[1,-1,1]),Rd.translate(s,s,[0,0,-e]),Rd.rotateX(s,s,t),Rd.rotateZ(s,s,-this.bearing/180*Math.PI),Rd.translate(s,s,[-l[0]*this.getScale()*bg,-l[1]*this.getScale()*bg,0]),this.viewGL.camera.viewMatrix.array=s;var u=[];Rd.invert(u,s),this.viewGL.camera.worldTransform.array=u,this.viewGL.camera.decomposeWorldTransform();var c=k1*this.getScale(),f;if(this.altitudeExtent&&!isNaN(this.boxHeight)){var d=this.altitudeExtent[1]-this.altitudeExtent[0];f=this.boxHeight/d*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else f=c/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*bg;this.viewGL.rootNode.scale.set(this.getScale()*bg,this.getScale()*bg,f)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,t){return this.projectOnTileWithScale(e,this.getScale()*k1,t)},projectOnTileWithScale:function(e,t,r){var n=e[0],i=e[1],a=n*ls/180,o=i*ls/180,s=t*(a+ls)/(2*ls),l=t*(ls-Math.log(Math.tan(ls/4+o*.5)))/(2*ls);return r=r||[],r[0]=s,r[1]=l,r},unprojectFromTile:function(e,t){return this.unprojectOnTileWithScale(e,this.getScale()*k1,t)},unprojectOnTileWithScale:function(e,t,r){var n=e[0],i=e[1],a=n/t*(2*ls)-ls,o=2*(Math.atan(Math.exp(ls-i/t*(2*ls)))-ls/4);return r=r||[],r[0]=a*180/ls,r[1]=o*180/ls,r},dataToPoint:function(e,t){return t=this.projectOnTileWithScale(e,k1,t),t[0]-=this._origin[0],t[1]-=this._origin[1],t[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(t[2]=e[2],this.altitudeExtent&&(t[2]-=this.altitudeExtent[0])),t}};function rb(){Bm.apply(this,arguments)}rb.prototype=new Bm;rb.prototype.constructor=rb;rb.prototype.type="mapbox3D";function Kce(e,t,r){function n(a,o){var s=o.getWidth(),l=o.getHeight(),u=o.getDevicePixelRatio();this.viewGL.setViewport(0,0,s,l,u),this.width=s,this.height=l,this.altitudeScale=a.get("altitudeScale"),this.boxHeight=a.get("boxHeight")}function i(a,o){if(this.model.get("boxHeight")!=="auto"){var s=[1/0,-1/0];a.eachSeries(function(l){if(l.coordinateSystem===this){var u=l.getData(),c=l.coordDimToDataDim("alt")[0];if(c){var f=u.getDataExtent(c,!0);s[0]=Math.min(s[0],f[0]),s[1]=Math.max(s[1],f[1])}}},this),s&&isFinite(s[1]-s[0])&&(this.altitudeExtent=s)}}return{dimensions:t.prototype.dimensions,create:function(a,o){var s=[];return a.eachComponent(e,function(l){var u=l.__viewGL;u||(u=l.__viewGL=new An,u.setRootNode(new ae.Node));var c=new t;c.viewGL=l.__viewGL,c.resize=n,c.resize(l,o),s.push(c),l.coordinateSystem=c,c.model=l,c.update=i}),a.eachSeries(function(l){if(l.get("coordinateSystem")===e){var u=l.getReferringComponents(e).models[0];if(u||(u=a.getComponent(e)),!u)throw new Error(e+' "'+Nr.firstNotNull(l.get(e+"Index"),l.get(e+"Id"),0)+'" not found');l.coordinateSystem=u.coordinateSystem}}),r&&r(s,a,o),s}}}var Eut=Kce("mapbox3D",rb,function(e){e.forEach(function(t){t.setCameraOption(t.model.getMapboxCameraOption())})});function Mut(e){e.registerComponentModel(XB),e.registerComponentView(Aut),e.registerCoordinateSystem("mapbox3D",Eut),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(t,r){r.eachComponent({mainType:"mapbox3D",query:t},function(n){n.setMapboxCameraOption(t)})})}Yt(Mut);var NK=["zoom","center","pitch","bearing"],jB=dr.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return NK.reduce(function(t,r){return t[r]=e.get(r),t},{})},setMaptalksCameraOption:function(e){e!=null&&NK.forEach(function(t){e[t]!=null&&(this.option[t]=e[t])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});Et(jB.prototype,gy);Et(jB.prototype,my);function zh(e,t,r,n){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:r,zoom:n,doubleClickZoom:!1,fog:!1}),this._initEvents()}zh.prototype.setUnpainted=function(){};zh.prototype.resize=function(){this._maptalks.checkSize()};zh.prototype.getMaptalks=function(){return this._maptalks};zh.prototype.clear=function(){};zh.prototype.refresh=function(){this._maptalks.checkSize()};var Zce=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];zh.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},Zce.forEach(function(t){this._handlers[t]=function(r){var n={};for(var i in r)n[i]=r[i];n.bubbles=!1;var a=new r.constructor(r.type,n);t==="mousewheel"||t==="DOMMouseScroll"?e.dispatchEvent(a):e.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};zh.prototype.dispose=function(){Zce.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};ae.Shader.import(Yce);const Dut=Cn.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,t){this._groundMesh=new ae.Mesh({geometry:new ae.PlaneGeometry,material:new ae.Material({shader:new ae.Shader({vertex:ae.Shader.source("ecgl.displayShadow.vertex"),fragment:ae.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,t){var r=t.getZr();this._zrLayer=new zh("maptalks3D",r,e.get("center"),e.get("zoom")),r.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new ae.Node,this._sceneHelper=new Th(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var n=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,t,n);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(a){n.on(a,i)})},render:function(e,t,r){this._zrLayer||this._initMaptalksLayer(e,r);var n=this._zrLayer.getMaptalks(),i=e.get("urlTemplate"),a=n.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:e.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:e.get("attribution")}),n.setBaseLayer(a))),this._oldUrlTemplate=i,n.setCenter(e.get("center")),n.setZoom(e.get("zoom"),{animation:!1}),n.setPitch(e.get("pitch")),n.setBearing(e.get("bearing")),e.setMaptalks(n);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),r),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,t,r,n){var i=n.renderer;this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r),e.coordinateSystem.viewGL.scene.traverse(function(a){a.material&&(a.material.define("fragment","NORMAL_UP_AXIS",2),a.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,t,r,n){e.coordinateSystem.setCameraOption(n),this._updateGroundMesh(),r.getZr().refresh()},_dispatchInteractAction:function(e,t,r){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:t.getPitch(),zoom:Rut(t.getResolution())+1,center:t.getCenter().toArray(),bearing:t.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var r=new ae.Plane(new ae.Vector3(0,0,1),0),n=e.viewGL.camera.castRay(new ae.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new ae.Vector2(1,1)),a=n.intersectPlane(r),o=i.intersectPlane(r),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),Put=2*6378137*Math.PI/(256*Math.pow(2,20));function Rut(e){return 19-Math.log(e/Put)/Math.LN2}function nb(){Bm.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}nb.prototype=new Bm;nb.prototype.constructor=nb;nb.prototype.type="maptalks3D";var Lut=Kce("maptalks3D",nb,function(e){e.forEach(function(t){t.setCameraOption(t.model.getMaptalksCameraOption())})});function Iut(e){e.registerComponentModel(jB),e.registerComponentView(Dut),e.registerCoordinateSystem("maptalks3D",Lut),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(t,r){r.eachComponent({mainType:"maptalks3D",query:t},function(n){n.setMaptalksCameraOption(t)})})}Yt(Iut);var kut=ki.vec3,Out=yN.isDimensionStacked;function Fut(e){var t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function Nut(e,t){var r=e.getData(),n=e.get("barSize");if(n==null){var i=t.size,a,o,s=t.getAxis("x"),l=t.getAxis("y");s.type==="category"?a=s.getBandWidth()*.7:a=Math.round(i[0]/Math.sqrt(r.count()))*.6,l.type==="category"?o=l.getBandWidth()*.7:o=Math.round(i[1]/Math.sqrt(r.count()))*.6,n=[a,o]}else We(n)||(n=[n,n]);var u=t.getAxis("z").scale.getExtent(),c=Fut(u),f=["x","y","z"].map(function(v){return e.coordDimToDataDim(v)[0]}),d=Out(r,f[2]),h=d?r.getCalculationInfo("stackResultDimension"):f[2];r.each(f,function(v,p,g,m){var y=r.get(h,m),x=d?y-g:c?0:u[0],b=t.dataToPoint([v,p,x]),w=t.dataToPoint([v,p,y]),S=kut.dist(b,w),C=[0,w[1]<b[1]?-1:1,0];Math.abs(S)===0&&(S=.1);var E=[n[0],S,n[1]];r.setItemLayout(m,[b,C,E])}),r.setLayout("orient",[1,0,0])}function YB(e,t,r){for(var n=e.getDataExtent(t),i=e.getDataExtent(r),a=n[1]-n[0]||n[0],o=i[1]-i[0]||i[0],s=50,l=new Uint8Array(s*s),u=0;u<e.count();u++){var c=e.get(t,u),f=e.get(r,u),d=Math.floor((c-n[0])/a*(s-1)),h=Math.floor((f-i[0])/o*(s-1)),v=h*s+d;l[v]=l[v]||1}for(var p=0,u=0;u<l.length;u++)l[u]&&p++;return p/l.length}var BK=ki.vec3,But=yN.isDimensionStacked;function zut(e,t){var r=e.getData(),n=e.get("minHeight")||0,i=e.get("barSize"),a=["lng","lat","alt"].map(function(u){return e.coordDimToDataDim(u)[0]});if(i==null){var o=t.radius*Math.PI,s=YB(r,a[0],a[1]);i=[o/Math.sqrt(r.count()/s),o/Math.sqrt(r.count()/s)]}else We(i)||(i=[i,i]);var l=KB(r,a);r.each(a,function(u,c,f,d){var h=r.get(l.dimension,d),v=l.isStacked?h-f:t.altitudeAxis.scale.getExtent()[0],p=Math.max(t.altitudeAxis.dataToCoord(f),n),g=t.dataToPoint([u,c,v]),m=t.dataToPoint([u,c,h]),y=BK.sub([],m,g);BK.normalize(y,y);var x=[i[0],p,i[1]];r.setItemLayout(d,[g,y,x])}),r.setLayout("orient",qe.UP.array)}function Hut(e,t){var r=e.getData(),n=e.get("barSize"),i=e.get("minHeight")||0,a=["lng","lat","alt"].map(function(c){return e.coordDimToDataDim(c)[0]});if(n==null){var o=Math.min(t.size[0],t.size[2]),s=YB(r,a[0],a[1]);n=[o/Math.sqrt(r.count()/s),o/Math.sqrt(r.count()/s)]}else We(n)||(n=[n,n]);var l=[0,1,0],u=KB(r,a);r.each(a,function(c,f,d,h){var v=r.get(u.dimension,h),p=u.isStacked?v-d:t.altitudeAxis.scale.getExtent()[0],g=Math.max(t.altitudeAxis.dataToCoord(d),i),m=t.dataToPoint([c,f,p]),y=[n[0],g,n[1]];r.setItemLayout(h,[m,l,y])}),r.setLayout("orient",[1,0,0])}function Vut(e,t){var r=e.getData(),n=e.coordDimToDataDim("lng")[0],i=e.coordDimToDataDim("lat")[0],a=e.coordDimToDataDim("alt")[0],o=e.get("barSize"),s=e.get("minHeight")||0;if(o==null){var l=r.getDataExtent(n),u=r.getDataExtent(i),c=t.dataToPoint([l[0],u[0]]),f=t.dataToPoint([l[1],u[1]]),d=Math.min(Math.abs(c[0]-f[0]),Math.abs(c[1]-f[1]))||1,h=YB(r,n,i);o=[d/Math.sqrt(r.count()/h),d/Math.sqrt(r.count()/h)]}else We(o)||(o=[o,o]),o[0]/=t.getScale()/16,o[1]/=t.getScale()/16;var v=[0,0,1],p=[n,i,a],g=KB(r,p);r.each(p,function(m,y,x,b){var w=r.get(g.dimension,b),S=g.isStacked?w-x:0,C=t.dataToPoint([m,y,S]),E=t.dataToPoint([m,y,w]),A=Math.max(E[2]-C[2],s),M=[o[0],A,o[1]];r.setItemLayout(b,[C,v,M])}),r.setLayout("orient",[1,0,0])}function KB(e,t){var r=But(e,t[2]);return{dimension:r?e.getCalculationInfo("stackResultDimension"):t[2],isStacked:r}}function $ut(e){e.registerLayout(function(t,r){t.eachSeriesByType("bar3D",function(n){var i=n.coordinateSystem,a=i&&i.type;a==="globe"?zut(n,i):a==="cartesian3D"?Nut(n,i):a==="geo3D"?Hut(n,i):(a==="mapbox3D"||a==="maptalks3D")&&Vut(n,i)})})}var Hh={};Hh.getFormattedLabel=function(e,t,r,n,i){r=r||"normal";var a=e.getData(n),o=a.getItemModel(t),s=e.getDataParams(t,n);i!=null&&s.value instanceof Array&&(s.value=s.value[i]);var l=o.get(r==="normal"?["label","formatter"]:["emphasis","label","formatter"]);l==null&&(l=o.get(["label","formatter"]));var u;return typeof l=="function"?(s.status=r,u=l(s)):typeof l=="string"&&(u=jF(l,s)),u};Hh.normalizeToArray=function(e){return e instanceof Array?e:e==null?[]:[e]};function Gut(e,t){var r=[];return G(e.dimensions,function(n){var i=e.getDimensionInfo(n),a=i.otherDims,o=a[t];o!=null&&o!==!1&&(r[o]=i.name)}),r}function Vb(e,t,r){function n(f){var d=[],h=Gut(i,"tooltip");h.length?G(h,function(p){v(i.get(p,t),p)}):G(f,v);function v(p,g){var m=i.getDimensionInfo(g);if(!(!m||m.otherDims.tooltip===!1)){var y=m.type,x="- "+(m.tooltipName||m.name)+": "+(y==="ordinal"?p+"":y==="time"?E9e("yyyy/MM/dd hh:mm:ss",p):kT(p));x&&d.push($i(x))}}return"<br/>"+d.join("<br/>")}var i=e.getData(),a=e.getRawValue(t),o=We(a)?n(a):$i(kT(a)),s=i.getName(t),l=Ea(i,t);Xt(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color),l=l||"transparent";var u=xie(l),c=e.name;return c==="\0-"&&(c=""),c=c?$i(c)+"<br/>":"",c+u+(s?$i(s)+": "+o:o)}function _M(e,t,r){r=r||e.getSource();var n=t||Hae(e.get("coordinateSystem"))||["x","y","z"],i=Db(r,{dimensionsDefine:r.dimensionsDefine||e.get("dimensions"),encodeDefine:r.encodeDefine||e.get("encode"),coordDimensions:n.map(function(s){var l=e.getReferringComponents(s+"Axis3D").models[0];return{type:l&&l.get("type")==="category"?"ordinal":"float",name:s}})});e.get("coordinateSystem")==="cartesian3D"&&i.forEach(function(s){if(n.indexOf(s.coordDim)>=0){var l=e.getReferringComponents(s.coordDim+"Axis3D").models[0];l&&l.get("type")==="category"&&(s.ordinalMeta=l.getOrdinalMeta())}});var a=yN.enableDataStack(e,i,{byIndex:!0,stackedCoordDimension:"z"}),o=new oi(i,e);return o.setCalculationInfo(a),o.initData(r),o}var qce=Xr.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,t){return _M(this)},getFormattedLabel:function(e,t,r,n){var i=Hh.getFormattedLabel(this,e,t,r,n);return i==null&&(i=this.getData().get("z",e)),i},formatTooltip:function(e){return Vb(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});Et(qce.prototype,xy);var ui=ki.vec3,Uut=ki.mat3,ZB=Vr.extend(function(){return{attributes:{position:new Vr.Attribute("position","float",3,"POSITION"),normal:new Vr.Attribute("normal","float",3,"NORMAL"),color:new Vr.Attribute("color","float",4,"COLOR"),prevPosition:new Vr.Attribute("prevPosition","float",3),prevNormal:new Vr.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var t=this.enableNormal,r=this.getBarVertexCount()*e,n=this.getBarTriangleCount()*e;this.vertexCount!==r&&(this.attributes.position.init(r),t?this.attributes.normal.init(r):this.attributes.normal.value=null,this.attributes.color.init(r)),this.triangleCount!==n&&(this.indices=r>65535?new Uint32Array(n*3):new Uint16Array(n*3),this._dataIndices=new Uint32Array(r))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return(e+1)*4*(e+1)*2},_getBevelBarTriangleCount:function(e){var t=e*4+3,r=e*2+1;return(t+1)*r*2+4},setColor:function(e,t){for(var r=this.getBarVertexCount(),n=r*e,i=r*(e+1),a=n;a<i;a++)this.attributes.color.set(a,t);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:(function(){for(var e=ui.create,t=ui.scaleAndAdd,r=e(),n=e(),i=e(),a=e(),o=e(),s=e(),l=e(),u=[],c=[],f=0;f<8;f++)u[f]=e();for(var d=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],h=[0,1,2,0,2,3],v=[],f=0;f<d.length;f++)for(var p=d[f],g=0;g<2;g++){for(var m=[],y=0;y<3;y++)m.push(p[h[g*3+y]]);v.push(m)}return function(x,b,w,S,C,E){var A=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(x,b,w,S,this.bevelSize,this.bevelSegments,C);else{ui.copy(i,b),ui.normalize(i,i),ui.cross(a,w,i),ui.normalize(a,a),ui.cross(n,i,a),ui.normalize(a,a),ui.negate(o,n),ui.negate(s,i),ui.negate(l,a),t(u[0],x,n,S[0]/2),t(u[0],u[0],a,S[2]/2),t(u[1],x,n,S[0]/2),t(u[1],u[1],l,S[2]/2),t(u[2],x,o,S[0]/2),t(u[2],u[2],l,S[2]/2),t(u[3],x,o,S[0]/2),t(u[3],u[3],a,S[2]/2),t(r,x,i,S[1]),t(u[4],r,n,S[0]/2),t(u[4],u[4],a,S[2]/2),t(u[5],r,n,S[0]/2),t(u[5],u[5],l,S[2]/2),t(u[6],r,o,S[0]/2),t(u[6],u[6],l,S[2]/2),t(u[7],r,o,S[0]/2),t(u[7],u[7],a,S[2]/2);var M=this.attributes;if(this.enableNormal){c[0]=n,c[1]=o,c[2]=i,c[3]=s,c[4]=a,c[5]=l;for(var D=this._vertexOffset,R=0;R<d.length;R++){for(var L=this._triangleOffset*3,k=0;k<6;k++)this.indices[L++]=D+h[k];D+=4,this._triangleOffset+=2}for(var R=0;R<d.length;R++)for(var O=c[R],k=0;k<4;k++){var F=d[R][k];M.position.set(this._vertexOffset,u[F]),M.normal.set(this._vertexOffset,O),M.color.set(this._vertexOffset++,C)}}else{for(var R=0;R<v.length;R++){for(var L=this._triangleOffset*3,k=0;k<3;k++)this.indices[L+k]=v[R][k]+this._vertexOffset;this._triangleOffset++}for(var R=0;R<u.length;R++)M.position.set(this._vertexOffset,u[R]),M.color.set(this._vertexOffset++,C)}}for(var H=this._vertexOffset,R=A;R<H;R++)this._dataIndices[R]=E}})(),_addBevelBar:(function(){var e=ui.create(),t=ui.create(),r=ui.create(),n=Uut.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,u,c,f,d,h,v){ui.copy(t,u),ui.normalize(t,t),ui.cross(r,c,t),ui.normalize(r,r),ui.cross(e,t,r),ui.normalize(r,r),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=t[0],n[4]=t[1],n[5]=t[2],n[6]=r[0],n[7]=r[1],n[8]=r[2],d=Math.min(f[0],f[2])/2*d;for(var p=0;p<3;p++)i[p]=Math.max(f[p]-d*2,0);for(var g=(f[0]-i[0])/2,m=(f[1]-i[1])/2,y=(f[2]-i[2])/2,x=[],b=[],w=this._vertexOffset,S=[],p=0;p<2;p++){S[p]=S[p]=[];for(var C=0;C<=h;C++)for(var E=0;E<4;E++){(C===0&&p===0||p===1&&C===h)&&S[p].push(w);for(var A=0;A<=h;A++){var M=A/h*Math.PI/2+Math.PI/2*E,D=C/h*Math.PI/2+Math.PI/2*p;b[0]=g*Math.cos(M)*Math.sin(D),b[1]=m*Math.cos(D),b[2]=y*Math.sin(M)*Math.sin(D),x[0]=b[0]+a[E]*i[0]/2,x[1]=b[1]+m+s[p]*i[1]/2,x[2]=b[2]+o[E]*i[2]/2,Math.abs(g-m)<1e-6&&Math.abs(m-y)<1e-6||(b[0]/=g*g,b[1]/=m*m,b[2]/=y*y),ui.normalize(b,b),ui.transformMat3(x,x,n),ui.transformMat3(b,b,n),ui.add(x,x,l),this.attributes.position.set(w,x),this.enableNormal&&this.attributes.normal.set(w,b),this.attributes.color.set(w,v),w++}}}for(var R=h*4+3,L=h*2+1,k=R+1,E=0;E<L;E++)for(var p=0;p<=R;p++){var O=E*k+p+this._vertexOffset,F=E*k+(p+1)%k+this._vertexOffset,H=(E+1)*k+(p+1)%k+this._vertexOffset,V=(E+1)*k+p+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[H,O,F]),this.setTriangleIndices(this._triangleOffset++,[H,V,O])}this.setTriangleIndices(this._triangleOffset++,[S[0][0],S[0][2],S[0][1]]),this.setTriangleIndices(this._triangleOffset++,[S[0][0],S[0][3],S[0][2]]),this.setTriangleIndices(this._triangleOffset++,[S[1][0],S[1][1],S[1][2]]),this.setTriangleIndices(this._triangleOffset++,[S[1][0],S[1][2],S[1][3]]),this._vertexOffset=w}})()});kt(ZB.prototype,zb);kt(ZB.prototype,UB);var Wut=ki.vec3;const Xut=zr.extend({type:"bar3D",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this._api=t,this._labelsBuilder=new id(256,256,t);var r=this;this._labelsBuilder.getLabelPosition=function(n,i,a){if(r._data){var o=r._data.getItemLayout(n),s=o[0],l=o[1],u=o[2][1];return Wut.scaleAndAdd([],s,l,a+u)}else return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,t,r){var n=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=n,this._barMesh||(this._barMesh=new ae.Mesh({geometry:new ZB,shadowDepthMaterial:new ae.Material({shader:new ae.Shader(ae.Shader.source("ecgl.sm.depth.vertex"),ae.Shader.source("ecgl.sm.depth.fragment"))}),culling:e.coordinateSystem.type==="cartesian3D",renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=e.coordinateSystem;if(this._doRender(e,r),i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[a]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){ae.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,t){var r=e.getData(),n=e.get("shading"),i=n!=="color",a=this,o=this._barMesh,s="ecgl."+n;(!o.material||o.material.shader.name!==s)&&(o.material=ae.createMaterial(s,["VERTEX_COLOR"])),ae.setMaterialFromModel(n,o.material,e,t),o.geometry.enableNormal=i,o.geometry.resetOffset();var l=e.get("bevelSize"),u=e.get("bevelSmoothness");o.geometry.bevelSegments=u,o.geometry.bevelSize=l;var c=[],f=new Float32Array(r.count()*4),d=0,g=0,h=!1;r.each(function(y){if(r.hasValue(y)){var x=Ea(r,y),b=ba(r,y);b==null&&(b=1),ae.parseColor(x,c),c[3]*=b,f[d++]=c[0],f[d++]=c[1],f[d++]=c[2],f[d++]=c[3],c[3]>0&&(g++,c[3]<.99&&(h=!0))}}),o.geometry.setBarCount(g);var v=r.getLayout("orient"),p=this._barIndexOfData=new Int32Array(r.count()),g=0;r.each(function(y){if(!r.hasValue(y)){p[y]=-1;return}var x=r.getItemLayout(y),b=x[0],w=x[1],S=x[2],C=y*4;c[0]=f[C++],c[1]=f[C++],c[2]=f[C++],c[3]=f[C++],c[3]>0&&(a._barMesh.geometry.addBar(b,w,v,S,c,y),p[y]=g++)}),o.geometry.dirty(),o.geometry.updateBoundingBox();var m=o.material;m.transparent=h,m.depthMask=!h,o.geometry.sortTriangles=h,this._initHandler(e,t)},_initHandler:function(e,t){var r=e.getData(),n=this._barMesh,i=e.coordinateSystem.type==="cartesian3D";n.seriesIndex=e.seriesIndex;var a=-1;n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(o){var s=n.geometry.getDataIndexOfVertex(o.triangle[0]);s!==a&&(this._downplay(a),this._highlight(s),this._labelsBuilder.updateLabels([s]),i&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",s),r.get("y",s),r.get("z",s,!0)]})),a=s,n.dataIndex=s},this),n.on("mouseout",function(o){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,n.dataIndex=-1,i&&t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var t=this._data;if(t){var r=this._barIndexOfData[e];if(!(r<0)){var n=t.getItemModel(e),i=n.getModel("emphasis.itemStyle"),a=i.get("color"),o=i.get("opacity");if(a==null){var s=Ea(t,e);a=pm(s,-.4)}o==null&&(o=ba(t,e));var l=ae.parseColor(a);l[3]*=o,this._barMesh.geometry.setColor(r,l),this._api.getZr().refresh()}}},_downplay:function(e){var t=this._data;if(t){var r=this._barIndexOfData[e];if(!(r<0)){var n=Ea(t,e),i=ba(t,e),a=ae.parseColor(n);a[3]*=i,this._barMesh.geometry.setColor(r,a),this._api.getZr().refresh()}}},highlight:function(e,t,r,n){this._toggleStatus("highlight",e,t,r,n)},downplay:function(e,t,r,n){this._toggleStatus("downplay",e,t,r,n)},_toggleStatus:function(e,t,r,n,i){var a=t.getData(),o=Nr.queryDataIndex(a,i),s=this;o!=null?G(Hh.normalizeToArray(o),function(l){e==="highlight"?this._highlight(l):this._downplay(l)},this):a.each(function(l){e==="highlight"?s._highlight(l):s._downplay(l)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});function jut(e){e.registerChartView(Xut),e.registerSeriesModel(qce),$ut(e),e.registerProcessor(function(t,r){t.eachSeriesByType("bar3d",function(n){var i=n.getData();i.filterSelf(function(a){return i.hasValue(a)})})})}Yt(jut);var Yut=Xr.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){return _M(this)},formatTooltip:function(e){return Vb(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});function Kut(e,t,r,n,i,a,o){if(i===0)return!1;var s=i,l=0,u=e;if(o>t+s&&o>n+s||o<t-s&&o<n-s||a>e+s&&a>r+s||a<e-s&&a<r-s)return!1;if(e!==r)l=(t-n)/(e-r),u=(e*n-r*t)/(e-r);else return Math.abs(a-e)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}var Zut=ki.vec3;ae.Shader.import(xM);const qut=zr.extend({type:"line3D",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this._api=t},render:function(e,t,r){var n=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=n,this._line3DMesh||(this._line3DMesh=new ae.Mesh({geometry:new Nh({useNativeLine:!1,sortTriangles:!0}),material:new ae.Material({shader:ae.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[a]("fragment","SRGB_DECODE")}this._doRender(e,r),this._data=e.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,t){var r=e.getData(),n=this._line3DMesh;n.geometry.resetOffset();var i=r.getLayout("points"),a=[],o=new Float32Array(i.length/3*4),s=0,l=!1;r.each(function(f){var d=Ea(r,f),h=ba(r,f);h==null&&(h=1),ae.parseColor(d,a),a[3]*=h,o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3],a[3]<.99&&(l=!0)}),n.geometry.setVertexCount(n.geometry.getPolylineVertexCount(i)),n.geometry.setTriangleCount(n.geometry.getPolylineTriangleCount(i)),n.geometry.addPolyline(i,o,Nr.firstNotNull(e.get("lineStyle.width"),1)),n.geometry.dirty(),n.geometry.updateBoundingBox();var u=n.material;u.transparent=l,u.depthMask=!l;var c=e.getModel("debug.wireframe");c.get("show")?(n.geometry.createAttribute("barycentric","float",3),n.geometry.generateBarycentric(),n.material.set("both","WIREFRAME_TRIANGLE"),n.material.set("wireframeLineColor",ae.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)")),n.material.set("wireframeLineWidth",Nr.firstNotNull(c.get("lineStyle.width"),1))):n.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(e,t)},_updateAnimation:function(e){ae.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,t){var r=e.getData(),n=e.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(o){var s=n.pointToData(o.point.array),l=r.indicesOfNearest("x",s[0])[0];l!==a&&(t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",l),r.get("y",l),r.get("z",l)]}),i.dataIndex=l),a=l},this),i.on("mouseout",function(o){a=-1,i.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new At,t=this._camera;At.multiply(e,t.projectionMatrix,t.viewMatrix);var r=this._positionNDC,n=this._points,i=n.length/3;(!r||r.length/2!==i)&&(r=this._positionNDC=new Float32Array(i*2));for(var a=[],o=0;o<i;o++){var s=o*3,l=o*2;a[0]=n[s],a[1]=n[s+1],a[2]=n[s+2],a[3]=1,Zut.transformMat4(a,a,e.array),r[l]=a[0]/a[3],r[l+1]=a[1]/a[3]}},_pick:function(e,t,r,n,i,a){var o=this._positionNDC,s=this._data.hostModel,l=s.get("lineStyle.width"),u=-1,c=r.viewport.width,f=r.viewport.height,d=c*.5,h=f*.5;e=(e+1)*d,t=(t+1)*h;for(var v=1;v<o.length/2;v++){var p=(o[(v-1)*2]+1)*d,g=(o[(v-1)*2+1]+1)*h,m=(o[v*2]+1)*d,y=(o[v*2+1]+1)*h;if(Kut(p,g,m,y,l,e,t)){var x=(p-e)*(p-e)+(g-t)*(g-t),b=(m-e)*(m-e)+(y-t)*(y-t);u=x<b?v-1:v}}if(u>=0){var w=u*3,S=new qe(this._points[w],this._points[w+1],this._points[w+2]);a.push({dataIndex:u,point:S,pointWorld:S.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(S)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function Jut(e){e.registerChartView(qut),e.registerSeriesModel(Yut),e.registerLayout(function(t,r){t.eachSeriesByType("line3D",function(n){var i=n.getData(),a=n.coordinateSystem;if(a){if(a.type!=="cartesian3D")return;var o=new Float32Array(i.count()*3),s=[],l=[],u=a.dimensions,c=u.map(function(f){return n.coordDimToDataDim(f)[0]});a&&i.each(c,function(f,d,h,v){s[0]=f,s[1]=d,s[2]=h,a.dataToPoint(s,l),o[v*3]=l[0],o[v*3+1]=l[1],o[v*3+2]=l[2]}),i.setLayout("points",o)}})})}Yt(Jut);const Qut=Xr.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,t){return _M(this)},getFormattedLabel:function(e,t,r,n){var i=Hh.getFormattedLabel(this,e,t,r,n);if(i==null){var a=this.getData(),o=a.dimensions[a.dimensions.length-1];i=a.get(o,e)}return i},formatTooltip:function(e){return Vb(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function zI(e,n,r){var n=n||document.createElement("canvas");n.width=e,n.height=e;var i=n.getContext("2d");return r&&r(i),n}function ect(e,t,r,n){We(t)||(t=[t,t]);var i=OA.getMarginByStyle(r,n),a=t[0]+i.left+i.right,o=t[1]+i.top+i.bottom,s=Pi(e,0,0,t[0],t[1]),l=Math.max(a,o);s.x=i.left,s.y=i.top,a>o?s.y+=(l-o)/2:s.x+=(l-a)/2;var u=s.getBoundingRect();return s.x-=u.x,s.y-=u.y,s.setStyle(r),s.update(),s.__size=l,s}function tct(e,t,r){var n=t.width,i=t.height,a=e.canvas.width,o=e.canvas.height,s=n/a,l=i/o;function u(m){return m<128?1:-1}function c(m,y){var x=1/0;m=Math.floor(m*s),y=Math.floor(y*l);for(var b=y*n+m,w=t.data[b*4],S=u(w),C=Math.max(y-r,0);C<Math.min(y+r,i);C++)for(var E=Math.max(m-r,0);E<Math.min(m+r,n);E++){var b=C*n+E,A=t.data[b*4],M=u(A),D=E-m,R=C-y;if(S!==M){var L=D*D+R*R;L<x&&(x=L)}}return S*Math.sqrt(x)}for(var f=e.createImageData(a,o),d=0;d<o;d++)for(var h=0;h<a;h++){var v=c(h,d),p=v/r*.5+.5,g=(d*a+h)*4;f.data[g++]=(1-p)*255,f.data[g++]=(1-p)*255,f.data[g++]=(1-p)*255,f.data[g++]=255}return f}var OA={getMarginByStyle:function(e){var t=e.minMargin||0,r=0;e.stroke&&e.stroke!=="none"&&(r=e.lineWidth==null?1:e.lineWidth);var n=e.shadowBlur||0,i=e.shadowOffsetX||0,a=e.shadowOffsetY||0,o={};return o.left=Math.max(r/2,-i+n,t),o.right=Math.max(r/2,i+n,t),o.top=Math.max(r/2,-a+n,t),o.bottom=Math.max(r/2,a+n,t),o},createSymbolSprite:function(e,t,r,n){var i=ect(e,t,r),a=OA.getMarginByStyle(r);return{image:zI(i.__size,n,function(o){QE(o,i)}),margin:a}},createSDFFromCanvas:function(e,t,r,n){return zI(t,n,function(i){var a=e.getContext("2d"),o=a.getImageData(0,0,e.width,e.height);i.putImageData(tct(i,o,r),0,0)})},createSimpleSprite:function(e,t){return zI(e,t,function(r){var n=e/2;r.beginPath(),r.arc(n,n,60,0,Math.PI*2,!1),r.closePath();var i=r.createRadialGradient(n,n,0,n,n,n);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),r.fillStyle=i,r.fill()})}},zK=ki.vec3;const rct={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,t){var r=this.indices,n=zK.create();if(!r){r=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<r.length;i++)r[i]=i}if(t===0){var a=this.attributes.position,e=e.array,o=0;(!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount));for(var s,i=0;i<this.vertexCount;i++){a.get(i,n);var l=zK.sqrDist(n,e);isNaN(l)&&(l=1e7,o++),i===0?(s=l,l=0):l=l-s,this._zList[i]=l}this._noneCount=o}if(this.vertexCount<2e4)t===0&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(var i=0;i<3;i++)this._progressiveQuickSort(t*3+i);this.dirtyIndices()},_simpleSort:function(e){var t=this._zList,r=this.indices;function n(i,a){return t[a]-t[i]}e?Array.prototype.sort.call(r,n):Fm.sort(r,n,0,r.length-1)},_progressiveQuickSort:function(e){var t=this._zList,r=this.indices;this._quickSort=this._quickSort||new Fm,this._quickSort.step(r,function(n,i){return t[i]-t[n]},e)}},nct=`@export ecgl.sdfSprite.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform float elapsedTime : 0;

attribute vec3 position : POSITION;

#ifdef VERTEX_SIZE
attribute float size;
#else
uniform float u_Size;
#endif

#ifdef VERTEX_COLOR
attribute vec4 a_FillColor: COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute float prevSize;
uniform float percent : 1.0;
#endif


#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

varying float v_Size;

void main()
{

#ifdef POSITIONTEXTURE_ENABLED
 gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);
#else

 #ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 #else
 vec3 pos = position;
 #endif
 gl_Position = worldViewProjection * vec4(pos, 1.0);
#endif

#ifdef VERTEX_SIZE
#ifdef VERTEX_ANIMATION
 v_Size = mix(prevSize, size, percent);
#else
 v_Size = size;
#endif
#else
 v_Size = u_Size;
#endif

#ifdef VERTEX_COLOR
 v_Color = a_FillColor;
 #endif

 gl_PointSize = v_Size;
}

@end

@export ecgl.sdfSprite.fragment

uniform vec4 color: [1, 1, 1, 1];
uniform vec4 strokeColor: [1, 1, 1, 1];
uniform float smoothing: 0.07;

uniform float lineWidth: 0.0;

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

varying float v_Size;

uniform sampler2D sprite;

@import clay.util.srgb

void main()
{
 gl_FragColor = color;

 vec4 _strokeColor = strokeColor;

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
 #endif

#ifdef SPRITE_ENABLED
 float d = texture2D(sprite, gl_PointCoord).r;
 gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);

 if (lineWidth > 0.0) {
 float sLineWidth = lineWidth / 2.0;

 float outlineMaxValue0 = 0.5 + sLineWidth;
 float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;
 float outlineMinValue0 = 0.5 - sLineWidth - smoothing;
 float outlineMinValue1 = 0.5 - sLineWidth;

 if (d <= outlineMaxValue1 && d >= outlineMinValue0) {
 float a = _strokeColor.a;
 if (d <= outlineMinValue1) {
 a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);
 }
 else {
 a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);
 }
 gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);
 gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;
 }
 }
#endif

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(gl_FragColor);
#endif
}
@end`;var HI=ki.vec4;ae.Shader.import(nct);var ict=ae.Mesh.extend(function(){var e=new ae.Geometry({dynamic:!0,attributes:{color:new ae.Geometry.Attribute("color","float",4,"COLOR"),position:new ae.Geometry.Attribute("position","float",3,"POSITION"),size:new ae.Geometry.Attribute("size","float",1),prevPosition:new ae.Geometry.Attribute("prevPosition","float",3),prevSize:new ae.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,rct);var t=new ae.Material({shader:ae.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});t.enableTexture("sprite"),t.define("both","VERTEX_COLOR"),t.define("both","VERTEX_SIZE");var r=new ae.Texture2D({image:document.createElement("canvas"),flipY:!1});return t.set("sprite",r),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:ae.Mesh.POINTS,sizeScale:1}},{_pick:function(e,t,r,n,i,a){var o=this._positionNDC;if(o)for(var s=r.viewport,l=2/s.width,u=2/s.height,c=this.geometry.vertexCount-1;c>=0;c--){var f;this.geometry.indices?f=this.geometry.indices[c]:f=c;var d=o[f*2],h=o[f*2+1],v=this.geometry.attributes.size.get(f)/this.sizeScale,p=v/2;if(e>d-p*l&&e<d+p*l&&t>h-p*u&&t<h+p*u){var g=new ae.Vector3,m=new ae.Vector3;this.geometry.attributes.position.get(f,g.array),ae.Vector3.transformMat4(m,g,this.worldTransform),a.push({vertexIndex:f,point:g,pointWorld:m,target:this,distance:m.distance(n.getWorldPosition())})}}},updateNDCPosition:function(e,t,r){var n=this._positionNDC,i=this.geometry;(!n||n.length/2!==i.vertexCount)&&(n=this._positionNDC=new Float32Array(i.vertexCount*2));for(var a=HI.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,HI.transformMat4(a,a,e.array),HI.scale(a,a,1/a[3]),n[o*2]=a[0],n[o*2+1]=a[1]}}),HK=20,VK=-10;function act(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function $p(e,t){this.rootNode=new ae.Node,this.is2D=e,this._labelsBuilder=new id(256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}$p.prototype={constructor:$p,highlightOnMouseover:!0,update:function(e,t,r,n,i){var a=this._prevMesh;this._prevMesh=this._mesh,this._mesh=a;var o=e.getData();if(n==null&&(n=0),i==null&&(i=o.count()),this._startDataIndex=n,this._endDataIndex=i-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new ict({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}var s=this._mesh.material,l=this._mesh.geometry,u=l.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var c=this._getSymbolInfo(e,n,i),f=r.getDevicePixelRatio(),d=e.getModel("itemStyle").getItemStyle(),h=e.get("large"),v=1;c.maxSize>2?(v=this._updateSymbolSprite(e,d,c,f),s.enableTexture("sprite")):s.disableTexture("sprite"),u.position.init(i-n);var p=[];if(h){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var g=Zlt(o),m=qlt(o);ae.parseColor(g,p),p[3]*=m,s.set({color:p,u_Size:c.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),u.size.init(i-n),u.color.init(i-n),this._originalOpacity=new Float32Array(i-n);for(var y=o.getLayout("points"),x=u.position.value,b=0;b<i-n;b++){var w=b*3,S=b*2;if(this.is2D?(x[w]=y[S],x[w+1]=y[S+1],x[w+2]=VK):(x[w]=y[w],x[w+1]=y[w+1],x[w+2]=y[w+2]),!h){var g=Ea(o,b),m=ba(o,b);ae.parseColor(g,p),p[3]*=m,u.color.set(b,p),p[3]<.99;var C=o.getItemVisual(b,"symbolSize");C=C instanceof Array?Math.max(C[0],C[1]):C,isNaN(C)&&(C=0),u.size.value[b]=C*v*this._sizeScale,this._originalOpacity[b]=p[3]}}this._mesh.sizeScale=v,l.updateBoundingBox(),l.dirty(),this._updateMaterial(e,d);var E=e.coordinateSystem;if(E&&E.viewGL){var A=E.viewGL.isLinearSpace()?"define":"undefine";s[A]("fragment","SRGB_DECODE")}h||this._updateLabelBuilder(e,n,i),this._updateHandler(e,t,r),this._updateAnimation(e),this._api=r},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,t,r,n){r.maxSize=Math.min(r.maxSize*2,200);var i=[];return r.aspect>1?(i[0]=r.maxSize,i[1]=r.maxSize/r.aspect):(i[1]=r.maxSize,i[0]=r.maxSize*r.aspect),i[0]=i[0]||1,i[1]=i[1]||1,(this._symbolType!==r.type||!act(this._symbolSize,i)||this._lineWidth!==t.lineWidth)&&(OA.createSymbolSprite(r.type,i,{fill:"#fff",lineWidth:t.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),OA.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),HK,this._mesh.material.get("sprite").image),this._symbolType=r.type,this._symbolSize=i,this._lineWidth=t.lineWidth),this._spriteImageCanvas.width/r.maxSize*n},_updateMaterial:function(e,t){var r=e.get("blendMode")==="lighter"?ae.additiveBlend:null,n=this._mesh.material;n.blend=r,n.set("lineWidth",t.lineWidth/HK);var i=ae.parseColor(t.stroke);n.set("strokeColor",i),n.transparent=!0,n.depthMask=!1,n.depthTest=!this.is2D,n.sortVertices=!this.is2D},_updateLabelBuilder:function(e,o,r){var n=e.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=this._startDataIndex,s=this._mesh.sizeScale;this._labelsBuilder.updateData(n,o,r),this._labelsBuilder.getLabelPosition=function(l,u,c){var f=(l-o)*3;return[a[f],a[f+1],a[f+2]]},this._labelsBuilder.getLabelDistance=function(l,u,c){var f=i.attributes.size.get(l-o)/s;return f/2+c},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){ae.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,t,r){var n=e.getData(),i=this._mesh,a=this,o=-1,s=e.coordinateSystem&&e.coordinateSystem.type==="cartesian3D",l;s&&(l=e.coordinateSystem.model),i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(u){var c=u.vertexIndex+a._startDataIndex;c!==o&&(this.highlightOnMouseover&&(this.downplay(n,o),this.highlight(n,c),this._labelsBuilder.updateLabels([c])),s&&r.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get(e.coordDimToDataDim("x")[0],c),n.get(e.coordDimToDataDim("y")[0],c),n.get(e.coordDimToDataDim("z")[0],c)],grid3DIndex:l.componentIndex})),i.dataIndex=c,o=c},this),i.on("mouseout",function(u){var c=u.vertexIndex+a._startDataIndex;this.highlightOnMouseover&&(this.downplay(n,c),this._labelsBuilder.updateLabels()),o=-1,i.dataIndex=-1,s&&r.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:l.componentIndex})},this)},updateLayout:function(e,t,r){var n=e.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=n.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=o*3,l=o*2;i[s]=a[l],i[s+1]=a[l+1],i[s+2]=VK}else for(var o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),r.getZr().refresh()}},updateView:function(e){if(this._mesh){var t=new At;At.mul(t,e.viewMatrix,this._mesh.worldTransform),At.mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api)}},highlight:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var r=e.getItemModel(t),n=r.getModel("emphasis.itemStyle"),i=n.get("color"),a=n.get("opacity");if(i==null){var o=Ea(e,t);i=pm(o,-.4)}a==null&&(a=ba(e,t));var s=ae.parseColor(i);s[3]*=a,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,s),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var r=Ea(e,t),n=ba(e,t),i=ae.parseColor(r);i[3]*=n,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var t=this._mesh.geometry,r=0;r<t.vertexCount;r++){var n=this._originalOpacity[r]*e;t.attributes.color.value[r*4+3]=n}t.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var t=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",t/this._sizeScale*e);var r=this._mesh.geometry.attributes;if(r.size.value)for(var n=0;n<r.size.value.length;n++)r.size.value[n]=r.size.value[n]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,t){t&&e.material.set("positionTexture",t),e.material[t?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,t,r){if(e.get("large")){var n=Nr.firstNotNull(e.get("symbolSize"),1),s,a;return n instanceof Array?(s=Math.max(n[0],n[1]),a=n[0]/n[1]):(s=n,a=1),{maxSize:n,type:e.get("symbol"),aspect:a}}for(var i=e.getData(),a,o=i.getItemVisual(0,"symbol")||"circle",s=0,l=t;l<r;l++){var n=i.getItemVisual(l,"symbolSize"),u=i.getItemVisual(l,"symbol"),c;if(n instanceof Array)c=n[0]/n[1],s=Math.max(Math.max(n[0],n[1]),s);else{if(isNaN(n))continue;c=1,s=Math.max(n,s)}o=u,a=c}return{maxSize:s,type:o,aspect:a}}};const oct=zr.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,t,r){if(this.groupGL.removeAll(),!!e.getData().count()){var n=e.coordinateSystem;if(n&&n.viewGL){n.viewGL.add(this.groupGL),this._camera=n.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new $p(!1,r)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(e,t,r),i.updateView(n.viewGL.camera)}}},incrementalPrepareRender:function(e,t,r){var n=e.coordinateSystem;n&&n.viewGL&&(n.viewGL.add(this.groupGL),this._camera=n.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,t,r,n){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new $p(!1,n),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(t,r,n,e.start,e.end),i.updateView(t.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,t,r,n){this._toggleStatus("highlight",e,t,r,n)},downplay:function(e,t,r,n){this._toggleStatus("downplay",e,t,r,n)},_toggleStatus:function(e,t,r,n,i){var a=t.getData(),o=Nr.queryDataIndex(a,i),s=e==="highlight";o!=null?G(Hh.normalizeToArray(o),function(l){for(var u=0;u<this._pointsBuilderList.length;u++){var c=this._pointsBuilderList[u];s?c.highlight(a,l):c.downplay(a,l)}},this):a.each(function(l){for(var u=0;u<this._pointsBuilderList.length;u++){var c=this._pointsBuilderList[u];s?c.highlight(a,l):c.downplay(a,l)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function sct(e){e.registerChartView(oct),e.registerSeriesModel(Qut),e.registerLayout({seriesType:"scatter3D",reset:function(t){var r=t.coordinateSystem;if(r){var n=r.dimensions;if(n.length<3)return;var i=n.map(function(s){return t.coordDimToDataDim(s)[0]}),a=[],o=[];return{progress:function(s,l){for(var u=new Float32Array((s.end-s.start)*3),c=s.start;c<s.end;c++){var f=(c-s.start)*3;a[0]=l.get(i[0],c),a[1]=l.get(i[1],c),a[2]=l.get(i[2],c),r.dataToPoint(a,o),u[f]=o[0],u[f+1]=o[1],u[f+2]=o[2]}l.setLayout("points",u)}}}}})}Yt(sct);var na=ki.vec3,$K=ki.vec2,lf=na.normalize,q2=na.cross,GK=na.sub,VI=na.add,nh=na.create,Ld=nh(),fl=nh(),Id=nh(),O1=nh(),UK=[],WK=[];function lct(e,t){$K.copy(UK,e[0]),$K.copy(WK,e[1]);var r=[],n=r[0]=nh(),i=r[1]=nh(),a=r[2]=nh(),o=r[3]=nh();t.dataToPoint(UK,n),t.dataToPoint(WK,o),lf(Ld,n),GK(fl,o,n),lf(fl,fl),q2(Id,fl,Ld),lf(Id,Id),q2(fl,Ld,Id),VI(i,Ld,fl),lf(i,i),lf(Ld,o),GK(fl,n,o),lf(fl,fl),q2(Id,fl,Ld),lf(Id,Id),q2(fl,Ld,Id),VI(a,Ld,fl),lf(a,a),VI(O1,n,o),lf(O1,O1);var s=na.dot(n,O1),l=na.dot(O1,i),u=(Math.max(na.len(n),na.len(o))-s)/l*2;return na.scaleAndAdd(i,n,i,u),na.scaleAndAdd(a,o,a,u),r}function uct(e,t,r){var n=[],i=n[0]=na.create(),a=n[1]=na.create(),o=n[2]=na.create(),s=n[3]=na.create();t.dataToPoint(e[0],i),t.dataToPoint(e[1],s);var l=na.dist(i,s);return na.lerp(a,i,s,.3),na.lerp(o,i,s,.3),na.scaleAndAdd(a,a,r,Math.min(l*.1,10)),na.scaleAndAdd(o,o,r,Math.min(l*.1,10)),n}function Jce(e,t){for(var r=new Float32Array(e.length*3),n=0,i=[],a=0;a<e.length;a++)t.dataToPoint(e[a],i),r[n++]=i[0],r[n++]=i[1],r[n++]=i[2];return r}function Qce(e){var t=[];return e.each(function(r){var n=e.getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords",!0);t.push(i)}),{coordsList:t}}function cct(e,t){var r=e.getData(),n=e.get("polyline");r.setLayout("lineType",n?"polyline":"cubicBezier");var i=Qce(r);r.each(function(a){var o=i.coordsList[a],s=n?Jce:lct;r.setItemLayout(a,s(o,t))})}function XK(e,t,r){var n=e.getData(),i=e.get("polyline"),a=Qce(n);n.setLayout("lineType",i?"polyline":"cubicBezier"),n.each(function(o){var s=a.coordsList[o],l=i?Jce(s,t):uct(s,t,r);n.setItemLayout(o,l)})}function fct(e,t){e.eachSeriesByType("lines3D",function(r){var n=r.coordinateSystem;n.type==="globe"?cct(r,n):n.type==="geo3D"?XK(r,n,[0,1,0]):(n.type==="mapbox3D"||n.type==="maptalks3D")&&XK(r,n,[0,0,1])})}const dct=Xr.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){var r=new oi(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(n,i,a,o){if(n instanceof Array)return NaN;r.hasItemOption=!0;var s=n.value;if(s!=null)return s instanceof Array?s[o]:s}),r},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),hct=`@export ecgl.trail2.vertex
attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute float dist;
attribute float distAll;
attribute float start;

attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

uniform float speed : 0;
uniform float trailLength: 0.3;
uniform float time;
uniform float period: 1000;

uniform float spotSize: 1;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain

#ifdef CONSTANT_SPEED
 float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;
#else
 float t = mod((time + start) / period, 1. + trailLength) - trailLength;
#endif

 float trailLen = distAll * trailLength;

 v_Percent = (dist - t * distAll) / trailLen;

 v_SpotPercent = spotSize / distAll;

 }
@end


@export ecgl.trail2.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform float spotIntensity: 5;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
 if (v_Percent > 1.0 || v_Percent < 0.0) {
 discard;
 }

 float fade = v_Percent;

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain

 if (v_Percent > (1.0 - v_SpotPercent)) {
 gl_FragColor.rgb *= spotIntensity;
 }

 gl_FragColor.a *= fade;
}

@end`;var jK=ki.vec3;function vct(e){return e>0?1:-1}ae.Shader.import(hct);const pct=ae.Mesh.extend(function(){var e=new ae.Material({shader:new ae.Shader(ae.Shader.source("ecgl.trail2.vertex"),ae.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),t=new Nh({dynamic:!0});return t.createAttribute("dist","float",1),t.createAttribute("distAll","float",1),t.createAttribute("start","float",1),{geometry:t,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,t,r){var n=e.hostModel,i=this.geometry,a=n.getModel("effect"),o=a.get("trailWidth")*t.getDevicePixelRatio(),s=a.get("trailLength"),l=n.get("effect.constantSpeed"),u=n.get("effect.period")*1e3,c=l!=null;c?this.material.set("speed",l/1e3):this.material.set("period",u),this.material[c?"define":"undefine"]("vertex","CONSTANT_SPEED");var f=n.get("polyline");i.trailLength=s,this.material.set("trailLength",s),i.resetOffset(),["position","positionPrev","positionNext"].forEach(function(C){i.attributes[C].value=r.attributes[C].value});var d=["dist","distAll","start","offset","color"];d.forEach(function(C){i.attributes[C].init(i.vertexCount)}),i.indices=r.indices;var h=[],v=a.get("trailColor"),p=a.get("trailOpacity"),g=v!=null,m=p!=null;this.updateWorldTransform();var y=this.worldTransform.x.len(),x=this.worldTransform.y.len(),b=this.worldTransform.z.len(),w=0,S=0;e.each(function(C){var E=e.getItemLayout(C),A=m?p:ba(e,C),M=Ea(e,C);A==null&&(A=1),h=ae.parseColor(g?v:M,h),h[3]*=A;for(var D=f?r.getPolylineVertexCount(E):r.getCubicCurveVertexCount(E[0],E[1],E[2],E[3]),R=0,L=[],k=[],O=w;O<w+D;O++)i.attributes.position.get(O,L),L[0]*=y,L[1]*=x,L[2]*=b,O>w&&(R+=jK.dist(L,k)),i.attributes.dist.set(O,R),jK.copy(k,L);S=Math.max(S,R);for(var F=Math.random()*(c?R:u),O=w;O<w+D;O++)i.attributes.distAll.set(O,R),i.attributes.start.set(O,F),i.attributes.offset.set(O,vct(r.attributes.offset.get(O))*o/2),i.attributes.color.set(O,h);w+=D}),this.material.set("spotSize",S*.1*s),this.material.set("spotIntensity",a.get("spotIntensity")),i.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});ae.Shader.import(xM);function gct(e){return e.radius!=null?e.radius:e.size!=null?Math.max(e.size[0],e.size[1],e.size[2]):100}const mct=zr.extend({type:"lines3D",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this._meshLinesMaterial=new ae.Material({shader:ae.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new ae.Mesh({geometry:new Nh,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new pct},render:function(e,t,r){this.groupGL.add(this._linesMesh);var n=e.coordinateSystem,i=e.getData();if(n&&n.viewGL){var a=n.viewGL;a.add(this.groupGL),this._updateLines(e,t,r);var o=n.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[o]("fragment","SRGB_DECODE"),this._trailMesh.material[o]("fragment","SRGB_DECODE")}var s=this._trailMesh;if(s.stopAnimation(),e.get("effect.show")){this.groupGL.add(s),s.updateData(i,r,this._linesMesh.geometry),s.__time=s.__time||0;var l=3600*1e3;this._curveEffectsAnimator=s.animate("",{loop:!0}).when(l,{__time:l}).during(function(){s.setAnimationTime(s.__time)}).start()}else this.groupGL.remove(s),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend=e.get("blendMode")==="lighter"?ae.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,t,r){var n=e.getData(),i=e.coordinateSystem,a=this._linesMesh.geometry,o=e.get("polyline");a.expandLine=!0;var s=gct(i);a.segmentScale=s/20;var l="lineStyle.width".split("."),u=r.getDevicePixelRatio();n.each(function(h){var v=n.getItemModel(h),p=v.get(l);p==null&&(p=1),n.setItemVisual(h,"lineWidth",p)}),a.useNativeLine=!1;var c=0,f=0;n.each(function(h){var v=n.getItemLayout(h);o?(c+=a.getPolylineVertexCount(v),f+=a.getPolylineTriangleCount(v)):(c+=a.getCubicCurveVertexCount(v[0],v[1],v[2],v[3]),f+=a.getCubicCurveTriangleCount(v[0],v[1],v[2],v[3]))}),a.setVertexCount(c),a.setTriangleCount(f),a.resetOffset();var d=[];n.each(function(h){var v=n.getItemLayout(h),p=Ea(n,h),g=ba(n,h),m=n.getItemVisual(h,"lineWidth")*u;g==null&&(g=1),d=ae.parseColor(p,d),d[3]*=g,o?a.addPolyline(v,d,m):a.addCubicCurve(v[0],v[1],v[2],v[3],d,m)}),a.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function yct(e){e.registerChartView(mct),e.registerSeriesModel(dct),e.registerLayout(fct),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})}Yt(yct);function YK(e,t){for(var r=[],n=0;n<t.length;n++)r.push(e.dataToPoint(t[n]));return r}var efe=Xr.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,r=this.getData().getItemModel(e),n=r.option instanceof Array?r.option:r.getShallow("coords");r.get("multiPolygon")||(n=[n]);for(var i=[],a=0;a<n.length;a++){for(var o=[],s=1;s<n[a].length;s++)o.push(YK(t,n[a][s]));i.push({exterior:YK(t,n[a][0]),interiors:o})}return i},getInitialData:function(e){var t=new oi(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(r,n,i,a){if(r instanceof Array)return NaN;t.hasItemOption=!0;var o=r.value;if(o!=null)return o instanceof Array?o[a]:o}),t},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});Et(efe.prototype,xy);const xct=zr.extend({type:"polygons3D",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,t,r){this.groupGL.removeAll();var n=e.coordinateSystem;n&&n.viewGL&&n.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||(i=new Nm(r),i.extrudeY=n.type!=="mapbox3D"&&n.type!=="maptalks3D",this._geo3DBuilderList[0]=i),this._updateShaderDefines(n,i),i.update(e,t,r),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(e,t,r){this.groupGL.removeAll();var n=e.coordinateSystem;n&&n.viewGL&&n.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,t,r,n){var i=this._geo3DBuilderList[this._currentStep],a=t.coordinateSystem;i||(i=new Nm(n),i.extrudeY=a.type!=="mapbox3D"&&a.type!=="maptalks3D",this._geo3DBuilderList[this._currentStep]=i),i.update(t,r,n,e.start,e.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(a,i),this._currentStep++},_updateShaderDefines:function(e,t){var r=e.viewGL.isLinearSpace()?"define":"undefine";t.rootNode.traverse(function(n){n.material&&(n.material[r]("fragment","SRGB_DECODE"),(e.type==="mapbox3D"||e.type==="maptalks3D")&&(n.material.define("fragment","NORMAL_UP_AXIS",2),n.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});function _ct(e){e.registerChartView(xct),e.registerSeriesModel(efe)}Yt(_ct);var tfe=Xr.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return Vb(this,e)},getInitialData:function(e,t){var r=e.data;function n(H){return!(isNaN(H.min)||isNaN(H.max)||isNaN(H.step))}function i(H){var V=xF;return Math.max(V(H.min),V(H.max),V(H.step))+1}if(!r)if(e.parametric){var b=e.parametricEquation||{},w=b.u||{},S=b.v||{};["u","v"].forEach(function(V){n(b[V])}),["x","y","z"].forEach(function(V){b[V]});var C=Math.floor((w.max+w.step-w.min)/w.step),E=Math.floor((S.max+S.step-S.min)/S.step);r=new Float32Array(C*E*5);for(var A=i(w),M=i(S),d=0,h=0;h<E;h++)for(var v=0;v<C;v++){var D=v*w.step+w.min,R=h*S.step+S.min,L=ii(Math.min(D,w.max),A),k=ii(Math.min(R,S.max),M),p=b.x(L,k),g=b.y(L,k),x=b.z(L,k);r[d++]=p,r[d++]=g,r[d++]=x,r[d++]=L,r[d++]=k}}else{var a=e.equation||{},o=a.x||{},s=a.y||{};if(["x","y"].forEach(function(H){n(a[H])}),typeof a.z!="function")return;var l=Math.floor((o.max+o.step-o.min)/o.step),u=Math.floor((s.max+s.step-s.min)/s.step);r=new Float32Array(l*u*3);for(var c=i(o),f=i(s),d=0,h=0;h<u;h++)for(var v=0;v<l;v++){var p=v*o.step+o.min,g=h*s.step+s.min,m=ii(Math.min(p,o.max),c),y=ii(Math.min(g,s.max),f),x=a.z(m,y);r[d++]=m,r[d++]=y,r[d++]=x}}var O=["x","y","z"];e.parametric&&O.push("u","v");var F=_M(this,O,r);return F},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});Et(tfe.prototype,xy);var Lv=ki.vec3;function bct(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const wct=zr.extend({type:"surface",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node},render:function(e,t,r){var n=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=n,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=e.coordinateSystem,a=e.get("shading"),o=e.getData(),s="ecgl."+a;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==s)&&(this._surfaceMesh.material=ae.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),ae.setMaterialFromModel(a,this._surfaceMesh.material,e,r),i&&i.viewGL){i.viewGL.add(this.groupGL);var l=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[l]("fragment","SRGB_DECODE")}var u=e.get("parametric"),c=e.get("dataShape");c||(c=this._getDataShape(o,u));var f=e.getModel("wireframe"),d=f.get("lineStyle.width"),h=f.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,e,c,h);var v=this._surfaceMesh.material;h?(v.define("WIREFRAME_QUAD"),v.set("wireframeLineWidth",d),v.set("wireframeLineColor",ae.parseColor(f.get("lineStyle.color")))):v.undefine("WIREFRAME_QUAD"),this._initHandler(e,r),this._updateAnimation(e)},_updateAnimation:function(e){ae.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new ae.Mesh({geometry:new ae.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new ae.Material({shader:new ae.Shader(ae.Shader.source("ecgl.sm.depth.vertex"),ae.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,UB),e},_initHandler:function(e,t){var r=e.getData(),n=this._surfaceMesh,i=e.coordinateSystem;function a(s,l){for(var u=1/0,c=-1,f=[],d=0;d<s.length;d++){n.geometry.attributes.position.get(s[d],f);var h=Lv.dist(l.array,f);h<u&&(u=h,c=s[d])}return c}n.seriesIndex=e.seriesIndex;var o=-1;n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(s){var l=a(s.triangle,s.point);if(l>=0){var u=[];n.geometry.attributes.position.get(l,u);for(var c=i.pointToData(u),f=1/0,d=-1,h=[],v=0;v<r.count();v++){h[0]=r.get("x",v),h[1]=r.get("y",v),h[2]=r.get("z",v);var p=Lv.squaredDistance(h,c);p<f&&(d=v,f=p)}d!==o&&t.dispatchAction({type:"grid3DShowAxisPointer",value:c}),o=d,n.dataIndex=d}else n.dataIndex=-1},this),n.on("mouseout",function(s){o=-1,n.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,t,r,n){var i=e.geometry,a=t.getData(),o=a.getLayout("points"),s=0;a.each(function(J){a.hasValue(J)||s++});var l=s||n,u=i.attributes.position,c=i.attributes.normal,f=i.attributes.texcoord0,d=i.attributes.barycentric,h=i.attributes.color,v=r[0],p=r[1],g=t.get("shading"),m=g!=="color";if(l){var y=(v-1)*(p-1)*4;u.init(y),n&&d.init(y)}else u.value=new Float32Array(o);h.init(i.vertexCount),f.init(i.vertexCount);var x=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],w=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((v-1)*(p-1)*6),S=function(J,se,he){he[1]=J*p+se,he[0]=J*p+se+1,he[3]=(J+1)*p+se+1,he[2]=(J+1)*p+se},C=!1;if(l){var E=[],A=[],M=0;m?c.init(i.vertexCount):c.value=null;for(var D=[[],[],[]],R=[],L=[],k=Lv.create(),O=function(J,se,he){var _e=se*3;return he[0]=J[_e],he[1]=J[_e+1],he[2]=J[_e+2],he},F=new Float32Array(o.length),H=new Float32Array(o.length/3*4),V=0;V<a.count();V++)if(a.hasValue(V)){var pe=ae.parseColor(Ea(a,V)),U=ba(a,V);U!=null&&(pe[3]*=U),pe[3]<.99&&(C=!0);for(var K=0;K<4;K++)H[V*4+K]=pe[K]}for(var q=[1e7,1e7,1e7],V=0;V<v-1;V++)for(var N=0;N<p-1;N++){var W=V*(p-1)+N,j=W*4;S(V,N,E);for(var Z=!1,K=0;K<4;K++)O(o,E[K],A),bct(A)&&(Z=!0);for(var K=0;K<4;K++)Z?u.set(j+K,q):(O(o,E[K],A),u.set(j+K,A)),n&&d.set(j+K,b[K]);for(var K=0;K<6;K++)w[M++]=x[K]+j;if(m&&!Z)for(var K=0;K<2;K++){for(var ve=K*3,Te=0;Te<3;Te++){var Se=E[x[ve]+Te];O(o,Se,D[Te])}Lv.sub(R,D[0],D[1]),Lv.sub(L,D[1],D[2]),Lv.cross(k,R,L);for(var Te=0;Te<3;Te++){var te=E[x[ve]+Te]*3;F[te]=F[te]+k[0],F[te+1]=F[te+1]+k[1],F[te+2]=F[te+2]+k[2]}}}if(m)for(var V=0;V<F.length/3;V++)O(F,V,k),Lv.normalize(k,k),F[V*3]=k[0],F[V*3+1]=k[1],F[V*3+2]=k[2];for(var pe=[],Re=[],V=0;V<v-1;V++)for(var N=0;N<p-1;N++){var W=V*(p-1)+N,j=W*4;S(V,N,E);for(var K=0;K<4;K++){for(var Te=0;Te<4;Te++)pe[Te]=H[E[K]*4+Te];h.set(j+K,pe),m&&(O(F,E[K],k),c.set(j+K,k));var Se=E[K];Re[0]=Se%p/(p-1),Re[1]=Math.floor(Se/p)/(v-1),f.set(j+K,Re)}W++}}else{for(var Re=[],V=0;V<a.count();V++){Re[0]=V%p/(p-1),Re[1]=Math.floor(V/p)/(v-1);var pe=ae.parseColor(Ea(a,V)),U=ba(a,V);U!=null&&(pe[3]*=U),pe[3]<.99&&(C=!0),h.set(V,pe),f.set(V,Re)}for(var E=[],z=0,V=0;V<v-1;V++)for(var N=0;N<p-1;N++){S(V,N,E);for(var K=0;K<6;K++)w[z++]=E[x[K]]}m?i.generateVertexNormals():c.value=null}e.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),e.material.transparent=C,e.material.depthMask=!C},_getDataShape:function(e,t){for(var r=-1/0,n=0,i=0,a=!1,o=t?"u":"x",s=e.count(),l=0;l<s;l++){var u=e.get(o,l);u<r&&(i=0,n++),r=u,i++}if((!n||i===1)&&(a=!0),!a)return[n+1,i];for(var c=Math.floor(Math.sqrt(s));c>0;){if(Math.floor(s/c)===s/c)return[c,s/c];c--}return c=Math.floor(Math.sqrt(s)),[c,c]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function Sct(e){e.registerChartView(wct),e.registerSeriesModel(tfe),e.registerLayout(function(t,r){t.eachSeriesByType("surface",function(n){var i=n.coordinateSystem;!i||i.type;var a=n.getData(),o=new Float32Array(3*a.count()),s=[NaN,NaN,NaN];if(i&&i.type==="cartesian3D"){var l=i.dimensions,u=l.map(function(c){return n.coordDimToDataDim(c)[0]});a.each(u,function(c,f,d,h){var v;a.hasValue(h)?v=i.dataToPoint([c,f,d]):v=s,o[h*3]=v[0],o[h*3+1]=v[1],o[h*3+2]=v[2]})}a.setLayout("points",o)})})}Yt(Sct);function KK(e,t){for(var r=[],n=0;n<t.length;n++)r.push(e.dataToPoint(t[n]));return r}var by=Xr.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){var t=this.get("coordinateSystem");t==null||t==="geo3D"||(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var t=Db(e.data,{coordDimensions:["value"]}),r=new oi(t,this);r.initData(e.data);var n={};return r.each(function(i){var a=r.getName(i),o=r.getItemModel(i);n[a]=o}),this._regionModelMap=n,r},formatTooltip:function(e){return Vb(this,e)},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new pr(null,this)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,r=this.getData().getName(e);if(t.transform){var n=t.getRegion(r);return n?n.geometries:[]}else{this._geo||(this._geo=WB.createGeo3D(this));for(var n=this._geo.getRegion(r),i=[],a=0;a<n.geometries.length;a++){var o=n.geometries[a],s=[],l=KK(t,o.exterior);if(s&&s.length)for(var u=0;u<o.interiors.length;u++)s.push(KK(t,s[u]));i.push({interiors:s,exterior:l})}return i}},getFormattedLabel:function(e,t){var r=Hh.getFormattedLabel(this,e,t);return r==null&&(r=this.getData().getName(e)),r},defaultOption:{coordinateSystem:"geo3D",data:null}});Et(by.prototype,Ice);Et(by.prototype,gM);Et(by.prototype,gy);Et(by.prototype,my);Et(by.prototype,xy);const Cct=zr.extend({type:"map3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new Nm(t),this.groupGL=new ae.Node},render:function(e,t,r){var n=e.coordinateSystem;if(!(!n||!n.viewGL)){if(this.groupGL.add(this._geo3DBuilder.rootNode),n.viewGL.add(this.groupGL),n.type==="geo3D"){this._sceneHelper||(this._sceneHelper=new Th,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new Bb({zr:r.getZr()}),this._control.init());var a=e.getModel("viewControl");i.setViewGL(n.viewGL),i.setFromViewControlModel(a,0),i.off("update"),i.on("update",function(){r.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,t,r,0,e.getData().count());var o=n.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")})}},afterRender:function(e,t,r,n){var i=n.renderer,a=e.coordinateSystem;a&&a.type==="geo3D"&&(this._sceneHelper.updateAmbientCubemap(i,e,r),this._sceneHelper.updateSkybox(i,e,r))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});function Tct(e){Vce(e),e.registerChartView(Cct),e.registerSeriesModel(by),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"series",subType:"map3D",query:t},function(n){n.setView(t)})})}Yt(Tct);const Act=Xr.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return lUe(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function Ect(){return[1,0,0,1,0,0]}function Mct(e,t){var r=t[0],n=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=r*o-a*n;return l?(l=1/l,e[0]=o*l,e[1]=-a*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*s-o*i)*l,e[5]=(a*i-r*s)*l,e):null}function ad(e){this.viewGL=e}ad.prototype.reset=function(e,t){this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio()),this._viewTransform=Ect(),this.updateTransform(e,t)};ad.prototype.updateTransform=function(e,t){var r=e.coordinateSystem;r.getRoamTransform&&(Mct(this._viewTransform,r.getRoamTransform()),this._setCameraTransform(this._viewTransform),t.getZr().refresh())};ad.prototype.dataToPoint=function(e,t,r){r=e.dataToPoint(t,null,r);var n=this._viewTransform;n&&sce(r,r,n)};ad.prototype.removeTransformInPoint=function(e){return this._viewTransform&&sce(e,e,this._viewTransform),e};ad.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1};ad.prototype._setCameraTransform=function(e){var t=this.viewGL.camera;t.position.set(e[4],e[5],0),t.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)};ad.prototype._updateCamera=function(e,t,r){this.viewGL.setViewport(0,0,e,t,r);var n=this.viewGL.camera;n.left=n.top=0,n.bottom=t,n.right=e,n.near=0,n.far=100};const Dct=zr.extend({type:"scatterGL",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this.viewGL=new An("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new ad(this.viewGL)},render:function(e,t,r){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,r),!!e.getData().count()){var n=this._pointsBuilderList[0];n||(n=this._pointsBuilderList[0]=new $p(!0,r)),this._pointsBuilderList.length=1,this.groupGL.add(n.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),n.update(e,t,r),this.viewGL.setPostEffect(e.getModel("postEffect"),r)}},incrementalPrepareRender:function(e,t,r){this.groupGL.removeAll(),this._glViewHelper.reset(e,r),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),r)},incrementalRender:function(e,t,r,n){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new $p(!0,n),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(t,r,n,e.start,e.end),n.getZr().refresh(),this._currentStep++}},updateTransform:function(e,t,r){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,r);var n=this._glViewHelper.getZoom(),i=Math.max((e.get("zoomScale")||0)*(n-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach(function(a){a.setSizeScale(i)})}},_removeTransformInPoints:function(e){if(e)for(var t=[],r=0;r<e.length;r+=2)t[0]=e[r],t[1]=e[r+1],this._glViewHelper.removeTransformInPoint(t),e[r]=t[0],e[r+1]=t[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});function Pct(e){e.registerChartView(Dct),e.registerSeriesModel(Act),e.registerLayout({seriesType:"scatterGL",reset:function(t){var r=t.coordinateSystem,n=t.getData(),i;if(r){var a=r.dimensions.map(function(s){return n.mapDimension(s)}).slice(0,2),o=[];a.length===1?i=function(s){for(var l=new Float32Array((s.end-s.start)*2),u=s.start;u<s.end;u++){var c=(u-s.start)*2,f=n.get(a[0],u),d=r.dataToPoint(f);l[c]=d[0],l[c+1]=d[1]}n.setLayout("points",l)}:a.length===2&&(i=function(s){for(var l=new Float32Array((s.end-s.start)*2),u=s.start;u<s.end;u++){var c=(u-s.start)*2,f=n.get(a[0],u),d=n.get(a[1],u);o[0]=f,o[1]=d,o=r.dataToPoint(o),l[c]=o[0],l[c+1]=o[1]}n.setLayout("points",l)})}return{progress:i}}})}Yt(Pct);function Rct(e,t,r,n,i){for(var a=new rle(n),o=0;o<e.length;o++)a.addNode(Nr.firstNotNull(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;a.addEdge(f,d,u)&&(l.push(c),s.push(Nr.firstNotNull(c.id,f+" > "+d)),u++)}var h,v=Db(e,{coordDimensions:["value"]});h=new oi(v,r),h.initData(e);var p=new oi(["value"],r);return p.initData(l,s),i&&i(h,p),zN({mainData:h,struct:a,structAttr:"graph",datas:{node:h,edge:p},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var ox=Xr.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){ox.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){ox.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,t,r,n){var i=Hh.getFormattedLabel(this,e,t,r,n);if(i==null){var a=this.getData(),o=a.dimensions[a.dimensions.length-1];i=a.get(o,e)}return i},getInitialData:function(e,t){var r=e.edges||e.links||[],n=e.data||e.nodes||[],i=this;if(n&&r)return Rct(n,r,this,!0,a).data;function a(o,s){o.wrapMethod("getItemModel",function(f){const d=i._categoriesModels,h=f.getShallow("category"),v=d[h];return v&&(v.parentModel=f.parentModel,f.parentModel=v),f});const l=t.getModel([]).getModel;function u(f,d){const h=l.call(this,f,d);return h.resolveParentPath=c,h}s.wrapMethod("getItemModel",function(f){return f.resolveParentPath=c,f.getModel=u,f});function c(f){if(f&&(f[0]==="label"||f[1]==="label")){const d=f.slice();return f[0]==="label"?d[0]="edgeLabel":f[1]==="label"&&(d[1]="edgeLabel"),d}return f}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,r){if(r==="edge"){var n=this.getData(),i=this.getDataParams(e,r),a=n.graph.getEdgeByIndex(e),o=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),l=[];return o!=null&&l.push(o),s!=null&&l.push(s),l=$i(l.join(" > ")),i.value&&(l+=" : "+$i(i.value)),l}else return ox.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(r){return r.value!=null?r:Object.assign({value:0},r)}),t=new oi(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(r){return t.getItemModel(r,!0)})},setView:function(e){e.zoom!=null&&(this.option.zoom=e.zoom),e.offset!=null&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var t=0;t<e.length/2;t++){var r=e[t*2],n=e[t*2+1],i=this.getData().getRawDataItem(t);i.x=r,i.y=n}},isAnimationEnabled:function(){return ox.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}}),ea=ki.vec2,ZK=[[0,0],[1,1]],qB=Vr.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new Vr.Attribute("position","float",2,"POSITION"),normal:new Vr.Attribute("normal","float",2),offset:new Vr.Attribute("offset","float",1),color:new Vr.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(e===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(e*3):new Uint16Array(e*3))},_getCubicCurveApproxStep:function(e,t,r,n){var i=ea.dist(e,t)+ea.dist(r,t)+ea.dist(n,r),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?a*2:a*2+2},getCubicCurveTriangleCount:function(e,t,r,n){var i=this._getCubicCurveApproxStep(e,t,r,n),a=Math.ceil(1/i);return this.useNativeLine?0:a*2},getLineVertexCount:function(){return this.getPolylineVertexCount(ZK)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(ZK)},getPolylineVertexCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/2}return this.useNativeLine?(t-1)*2:(t-1)*2+2},getPolylineTriangleCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/2}return this.useNativeLine?0:(t-1)*2},addCubicCurve:function(e,t,r,n,i,a){a==null&&(a=1);for(var o=e[0],s=e[1],l=t[0],u=t[1],c=r[0],f=r[1],d=n[0],h=n[1],v=this._getCubicCurveApproxStep(e,t,r,n),p=v*v,g=p*v,m=3*v,y=3*p,x=6*p,b=6*g,w=o-l*2+c,S=s-u*2+f,C=(l-c)*3-o+d,E=(u-f)*3-s+h,A=o,M=s,D=(l-o)*m+w*y+C*g,R=(u-s)*m+S*y+E*g,L=w*x+C*b,k=S*x+E*b,O=C*b,F=E*b,H=0,V=0,U=Math.ceil(1/v),K=new Float32Array((U+1)*3),K=[],q=0,V=0;V<U+1;V++)K[q++]=A,K[q++]=M,A+=D,M+=R,D+=L,R+=k,L+=O,k+=F,H+=v,H>1&&(A=D>0?Math.min(A,d):Math.max(A,d),M=R>0?Math.min(M,h):Math.max(M,h));this.addPolyline(K,i,a)},addLine:function(e,t,r,n){this.addPolyline([e,t],r,n)},addPolyline:(function(){var e=ea.create(),t=ea.create(),r=ea.create(),n=ea.create(),i=[],a=[],o=[];return function(s,l,u,c,f){if(s.length){var d=typeof s[0]!="number";if(f==null&&(f=d?s.length:s.length/2),!(f<2)){c==null&&(c=0),u==null&&(u=1),this._itemVertexOffsets.push(this._vertexOffset);for(var h=d?typeof l[0]!="number":l.length/4===f,v=this.attributes.position,p=this.attributes.color,g=this.attributes.offset,m=this.attributes.normal,y=this.indices,x=this._vertexOffset,b,w=0;w<f;w++){if(d)i=s[w+c],h?b=l[w+c]:b=l;else{var S=w*2+c;if(i=i||[],i[0]=s[S],i[1]=s[S+1],h){var C=w*4+c;b=b||[],b[0]=l[C],b[1]=l[C+1],b[2]=l[C+2],b[3]=l[C+3]}else b=l}if(this.useNativeLine)w>1&&(v.copy(x,x-1),p.copy(x,x-1),x++);else{var E;if(w<f-1){if(d)ea.copy(a,s[w+1]);else{var S=(w+1)*2+c;a=a||[],a[0]=s[S],a[1]=s[S+1]}if(w>0){ea.sub(e,i,o),ea.sub(t,a,i),ea.normalize(e,e),ea.normalize(t,t),ea.add(n,e,t),ea.normalize(n,n);var A=u/2*Math.min(1/ea.dot(e,n),2);r[0]=-n[1],r[1]=n[0],E=A}else ea.sub(e,a,i),ea.normalize(e,e),r[0]=-e[1],r[1]=e[0],E=u/2}else ea.sub(e,i,o),ea.normalize(e,e),r[0]=-e[1],r[1]=e[0],E=u/2;m.set(x,r),m.set(x+1,r),g.set(x,E),g.set(x+1,-E),ea.copy(o,i),v.set(x,i),v.set(x+1,i),p.set(x,b),p.set(x+1,b),x+=2}if(this.useNativeLine)p.set(x,b),v.set(x,i),x++;else if(w>0){var M=this._faceOffset*3,y=this.indices;y[M]=x-4,y[M+1]=x-3,y[M+2]=x-2,y[M+3]=x-3,y[M+4]=x-1,y[M+5]=x-2,this._faceOffset+=2}}this._vertexOffset=x}}}})(),setItemColor:function(e,t){for(var r=this._itemVertexOffsets[e],n=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=r;i<n;i++)this.attributes.color.set(i,t);this.dirty("color")}});kt(qB.prototype,zb);const Lct=`@export ecgl.forceAtlas2.updateNodeRepulsion

#define NODE_COUNT 0

uniform sampler2D positionTex;

uniform vec2 textureSize;
uniform float gravity;
uniform float scaling;
uniform vec2 gravityCenter;

uniform bool strongGravityMode;
uniform bool preventOverlap;

varying vec2 v_Texcoord;

void main() {

 vec4 n0 = texture2D(positionTex, v_Texcoord);

 vec2 force = vec2(0.0);
 for (int i = 0; i < NODE_COUNT; i++) {
 vec2 uv = vec2(
 mod(float(i), textureSize.x) / (textureSize.x - 1.0),
 floor(float(i) / textureSize.x) / (textureSize.y - 1.0)
 );
 vec4 n1 = texture2D(positionTex, uv);

 vec2 dir = n0.xy - n1.xy;
 float d2 = dot(dir, dir);

 if (d2 > 0.0) {
 float factor = 0.0;
 if (preventOverlap) {
 float d = sqrt(d2);
 d = d - n0.w - n1.w;
 if (d > 0.0) {
 factor = scaling * n0.z * n1.z / (d * d);
 }
 else if (d < 0.0) {
 factor = scaling * 100.0 * n0.z * n1.z;
 }
 }
 else {
 factor = scaling * n0.z * n1.z / d2;
 }
 force += dir * factor;
 }
 }

 vec2 dir = gravityCenter - n0.xy;
 float d = 1.0;
 if (!strongGravityMode) {
 d = length(dir);
 }

 force += dir * n0.z * gravity / (d + 1.0);

 gl_FragColor = vec4(force, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.vertex

attribute vec2 node1;
attribute vec2 node2;
attribute float weight;

uniform sampler2D positionTex;
uniform float edgeWeightInfluence;
uniform bool preventOverlap;
uniform bool linLogMode;

uniform vec2 windowSize: WINDOW_SIZE;

varying vec2 v_Force;

void main() {

 vec4 n0 = texture2D(positionTex, node1);
 vec4 n1 = texture2D(positionTex, node2);

 vec2 dir = n1.xy - n0.xy;
 float d = length(dir);
 float w;
 if (edgeWeightInfluence == 0.0) {
 w = 1.0;
 }
 else if (edgeWeightInfluence == 1.0) {
 w = weight;
 }
 else {
 w = pow(weight, edgeWeightInfluence);
 }
 vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);
 vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);
 vec2 pos = node1 * scale * 2.0 - 1.0;
 gl_Position = vec4(pos + offset, 0.0, 1.0);
 gl_PointSize = 1.0;

 float factor;
 if (preventOverlap) {
 d = d - n1.w - n0.w;
 }
 if (d <= 0.0) {
 v_Force = vec2(0.0);
 return;
 }

 if (linLogMode) {
 factor = w * log(d) / d;
 }
 else {
 factor = w;
 }
 v_Force = dir * factor;
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.fragment

varying vec2 v_Force;

void main() {
 gl_FragColor = vec4(v_Force, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.vertex

attribute vec2 node;

varying vec2 v_NodeUv;

void main() {

 v_NodeUv = node;
 gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
 gl_PointSize = 1.0;
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.fragment

varying vec2 v_NodeUv;

uniform sampler2D positionTex;
uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;

void main() {
 vec2 force = texture2D(forceTex, v_NodeUv).rg;
 vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;

 float mass = texture2D(positionTex, v_NodeUv).z;
 float swing = length(force - forcePrev) * mass;
 float traction = length(force + forcePrev) * 0.5 * mass;

 gl_FragColor = vec4(swing, traction, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcGlobalSpeed

uniform sampler2D globalSpeedPrevTex;
uniform sampler2D weightedSumTex;
uniform float jitterTolerence;

void main() {
 vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;
 float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;
 float globalSpeed = jitterTolerence * jitterTolerence
 * weightedSum.y / weightedSum.x;
 if (prevGlobalSpeed > 0.0) {
 globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;
 }
 gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updatePosition

uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;
uniform sampler2D positionTex;
uniform sampler2D globalSpeedTex;

varying vec2 v_Texcoord;

void main() {
 vec2 force = texture2D(forceTex, v_Texcoord).xy;
 vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;
 vec4 node = texture2D(positionTex, v_Texcoord);

 float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;
 float swing = length(force - forcePrev);
 float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));

 float df = length(force);
 if (df > 0.0) {
 speed = min(df * speed, 10.0) / df;

 gl_FragColor = vec4(node.xy + speed * force, node.zw);
 }
 else {
 gl_FragColor = node;
 }
}
@end

@export ecgl.forceAtlas2.edges.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 node;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

uniform sampler2D positionTex;

void main()
{
 gl_Position = worldViewProjection * vec4(
 texture2D(positionTex, node).xy, -10.0, 1.0
 );
 v_Color = a_Color;
}
@end

@export ecgl.forceAtlas2.edges.fragment
uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
varying vec4 v_Color;
void main() {
 gl_FragColor = color * v_Color;
}
@end`;ae.Shader.import(Lct);var $I={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function sa(e){var t={type:ae.Texture.FLOAT,minFilter:ae.Texture.NEAREST,magFilter:ae.Texture.NEAREST};this._positionSourceTex=new ae.Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new ae.Texture2D(t),this._positionPrevTex=new ae.Texture2D(t),this._forceTex=new ae.Texture2D(t),this._forcePrevTex=new ae.Texture2D(t),this._weightedSumTex=new ae.Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new ae.Texture2D(t),this._globalSpeedPrevTex=new ae.Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new Wi({fragment:ae.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new Wi({fragment:ae.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new Wi({fragment:ae.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new Wi({fragment:ae.Shader.source("clay.compositor.output")});var r=function(n){n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE)};this._edgeForceMesh=new ae.Mesh({geometry:new ae.Geometry({attributes:{node1:new ae.Geometry.Attribute("node1","float",2),node2:new ae.Geometry.Attribute("node2","float",2),weight:new ae.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new ae.Material({transparent:!0,shader:ae.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:r,depthMask:!1,depthText:!1}),mode:ae.Mesh.POINTS}),this._weightedSumMesh=new ae.Mesh({geometry:new ae.Geometry({attributes:{node:new ae.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new ae.Material({transparent:!0,shader:ae.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:r,depthMask:!1,depthText:!1}),mode:ae.Mesh.POINTS}),this._framebuffer=new Ri({depthBuffer:!1}),this._dummyCamera=new ae.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}sa.prototype.updateOption=function(e){for(var t in $I)this[t]=$I[t];var r=this._nodes.length;if(r>5e4?this.jitterTolerence=10:r>5e3?this.jitterTolerence=1:this.jitterTolerence=.1,r>100?this.scaling=2:this.scaling=10,e)for(var t in $I)e[t]!=null&&(this[t]=e[t]);if(this.repulsionByDegree)for(var n=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)n[i*4+2]=(this._nodes[i].degree||0)+1};sa.prototype._updateGravityCenter=function(e){var t=this._nodes,r=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var n=[1/0,1/0],i=[-1/0,-1/0],a=0;a<t.length;a++)n[0]=Math.min(t[a].x,n[0]),n[1]=Math.min(t[a].y,n[1]),i[0]=Math.max(t[a].x,i[0]),i[1]=Math.max(t[a].y,i[1]);this._gravityCenter=[(n[0]+i[0])*.5,(n[1]+i[1])*.5]}for(var a=0;a<r.length;a++){var o=r[a].node1,s=r[a].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1}};sa.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var r=Math.ceil(Math.sqrt(e.length)),n=r,i=new Float32Array(r*n*4);this._resize(r,n);for(var a=0,o=0;o<e.length;o++){var s=e[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var l=this._edgeForceMesh.geometry,u=t.length;l.attributes.node1.init(u*2),l.attributes.node2.init(u*2),l.attributes.weight.init(u*2);for(var c=[],o=0;o<t.length;o++){var f=l.attributes,d=t[o].weight;d==null&&(d=1),f.node1.set(o,this.getNodeUV(t[o].node1,c)),f.node2.set(o,this.getNodeUV(t[o].node2,c)),f.weight.set(o,d),f.node1.set(o+u,this.getNodeUV(t[o].node2,c)),f.node2.set(o+u,this.getNodeUV(t[o].node1,c)),f.weight.set(o+u,d)}var h=this._weightedSumMesh.geometry;h.attributes.node.init(e.length);for(var o=0;o<e.length;o++)h.attributes.node.set(o,this.getNodeUV(o,c));l.dirty(),h.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[r,n]),this._inited=!1,this._frame=0};sa.prototype.getNodes=function(){return this._nodes};sa.prototype.getEdges=function(){return this._edges};sa.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform("strongGravityMode",this.strongGravityMode),t.setUniform("gravity",this.gravity),t.setUniform("gravityCenter",this._gravityCenter),t.setUniform("scaling",this.scaling),t.setUniform("preventOverlap",this.preventOverlap),t.setUniform("positionTex",this._positionPrevTex),t.render(e);var r=this._edgeForceMesh;r.material.set("linLogMode",this.linLogMode),r.material.set("edgeWeightInfluence",this.edgeWeightInfluence),r.material.set("preventOverlap",this.preventOverlap),r.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var n=this._weightedSumMesh;n.material.set("positionTex",this._positionPrevTex),n.material.set("forceTex",this._forceTex),n.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),i.render(e);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(e),this._framebuffer.unbind(e),this._swapTexture()};sa.prototype.update=function(e,t,r){t==null&&(t=1),t=Math.max(t,1);for(var n=0;n<t;n++)this.step(e);r&&r()};sa.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex};sa.prototype.getNodeUV=function(e,t){t=t||[];var r=this._positionTex.width,n=this._positionTex.height;return t[0]=e%r/(r-1),t[1]=Math.floor(e/r)/(n-1)||0,t};sa.prototype.getNodePosition=function(e,t){var r=this._positionArr,n=this._positionTex.width,i=this._positionTex.height,a=n*i;(!r||r.length!==a*4)&&(r=this._positionArr=new Float32Array(a*4)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,n,i,e.gl.RGBA,e.gl.FLOAT,r),this._framebuffer.unbind(e),t||(t=new Float32Array(this._nodes.length*2));for(var o=0;o<this._nodes.length;o++)t[o*2]=r[o*4],t[o*2+1]=r[o*4+1];return t};sa.prototype.getTextureData=function(e,t){var r=this["_"+t+"Tex"],n=r.width,i=r.height;this._framebuffer.bind(e),this._framebuffer.attach(r);var a=new Float32Array(n*i*4);return e.gl.readPixels(0,0,n,i,e.gl.RGBA,e.gl.FLOAT,a),this._framebuffer.unbind(e),a};sa.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}};sa.prototype.isFinished=function(e){return this._frame>e};sa.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;var e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;var e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e};sa.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)};sa.prototype._resize=function(e,t){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(r){this[r].width=e,this[r].height=t,this[r].dirty()},this)};sa.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};function Ict(){var e={create:function(){return new Float32Array(2)},dist:function(l,u){var c=u[0]-l[0],f=u[1]-l[1];return Math.sqrt(c*c+f*f)},len:function(l){var u=l[0],c=l[1];return Math.sqrt(u*u+c*c)},scaleAndAdd:function(l,u,c,f){return l[0]=u[0]+c[0]*f,l[1]=u[1]+c[1]*f,l},scale:function(l,u,c){return l[0]=u[0]*c,l[1]=u[1]*c,l},add:function(l,u,c){return l[0]=u[0]+c[0],l[1]=u[1]+c[1],l},sub:function(l,u,c){return l[0]=u[0]-c[0],l[1]=u[1]-c[1],l},normalize:function(l,u){var c=u[0],f=u[1],d=c*c+f*f;return d>0&&(d=1/Math.sqrt(d),l[0]=u[0]*d,l[1]=u[1]*d),l},negate:function(l,u){return l[0]=-u[0],l[1]=-u[1],l},copy:function(l,u){return l[0]=u[0],l[1]=u[1],l},set:function(l,u,c){return l[0]=u,l[1]=c,l}};function t(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var r=t.prototype;r.beforeUpdate=function(){for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},r.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].afterUpdate()},r.addNode=function(l){if(this.nSubRegions===0)if(this.node==null){this.node=l;return}else this._addNodeToSubRegion(this.node),this.node=null;this._addNodeToSubRegion(l),this._updateCenterOfMass(l)},r.findSubRegion=function(l,u){for(var c=0;c<this.nSubRegions;c++){var f=this.subRegions[c];if(f.contain(l,u))return f}},r.contain=function(l,u){return this.bbox[0]<=l&&this.bbox[2]>=l&&this.bbox[1]<=u&&this.bbox[3]>=u},r.setBBox=function(l,u,c,f){this.bbox[0]=l,this.bbox[1]=u,this.bbox[2]=c,this.bbox[3]=f,this.size=(c-l+f-u)/2},r._newSubRegion=function(){var l=this.subRegions[this.nSubRegions];return l||(l=new t,this.subRegions[this.nSubRegions]=l),this.nSubRegions++,l},r._addNodeToSubRegion=function(l){var u=this.findSubRegion(l.position[0],l.position[1]),c=this.bbox;if(!u){var f=(c[0]+c[2])/2,d=(c[1]+c[3])/2,h=(c[2]-c[0])/2,v=(c[3]-c[1])/2,p=l.position[0]>=f?1:0,g=l.position[1]>=d?1:0,u=this._newSubRegion();u.setBBox(p*h+c[0],g*v+c[1],(p+1)*h+c[0],(g+1)*v+c[1])}u.addNode(l)},r._updateCenterOfMass=function(l){this.centerOfMass==null&&(this.centerOfMass=new Float32Array(2));var u=this.centerOfMass[0]*this.mass,c=this.centerOfMass[1]*this.mass;u+=l.position[0]*l.mass,c+=l.position[1]*l.mass,this.mass+=l.mass,this.centerOfMass[0]=u/this.mass,this.centerOfMass[1]=c/this.mass};function n(){this.position=new Float32Array(2),this.force=e.create(),this.forcePrev=e.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(l,u){this.source=l,this.target=u,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new t,this.rootRegion.centerOfMass=e.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}var o=a.prototype;o.initNodes=function(l,u,c){var f=u.length;this.nodes.length=0;for(var d=typeof c<"u",h=0;h<f;h++){var v=new n;v.position[0]=l[h*2],v.position[1]=l[h*2+1],v.mass=u[h],d&&(v.size=c[h]),this.nodes.push(v)}this._massArr=u,this._swingingArr=new Float32Array(f),d&&(this._sizeArr=c)},o.initEdges=function(l,u){var c=l.length/2;this.edges.length=0;for(var f=0;f<c;f++){var d=l[f*2],h=l[f*2+1],v=this.nodes[d],p=this.nodes[h];if(!v||!p){console.error("Node not exists, try initNodes before initEdges");return}v.outDegree++,p.inDegree++;var g=new i(v,p);u&&(g.weight=u[f]),this.edges.push(g)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.mass=u.inDegree+u.outDegree+1}else for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.mass=this._massArr[l]}},o.update=function(){var l=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var u=0;u<l;u++)this.rootRegion.addNode(this.nodes[u]);this.rootRegion.afterUpdate()}for(var u=0;u<l;u++){var c=this.nodes[u];e.copy(c.forcePrev,c.force),e.set(c.force,0,0)}for(var u=0;u<l;u++){var f=this.nodes[u];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,f);else for(var d=u+1;d<l;d++){var h=this.nodes[d];this.applyNodeToNodeRepulsion(f,h,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(f):this.applyNodeGravity(f))}for(var u=0;u<this.edges.length;u++)this.applyEdgeAttraction(this.edges[u]);for(var v=0,p=0,g=e.create(),u=0;u<l;u++){var c=this.nodes[u],m=e.dist(c.force,c.forcePrev);v+=m*c.mass,e.add(g,c.force,c.forcePrev);var y=e.len(g)*.5;p+=y*c.mass,this._swingingArr[u]=m}var x=this.jitterTolerence*this.jitterTolerence*p/v;this._globalSpeed>0&&(x=Math.min(x/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=x;for(var u=0;u<l;u++){var c=this.nodes[u],m=this._swingingArr[u],b=.1*x/(1+x*Math.sqrt(m)),w=e.len(c.force);w>0&&(b=Math.min(w*b,10)/w,e.scaleAndAdd(c.position,c.position,c.force,b))}},o.applyRegionToNodeRepulsion=(function(){var l=e.create();return function(c,f){if(c.node)this.applyNodeToNodeRepulsion(c.node,f,!0);else{e.sub(l,f.position,c.centerOfMass);var d=l[0]*l[0]+l[1]*l[1];if(d>this.barnesHutTheta*c.size*c.size){var h=this.scaling*f.mass*c.mass/d;e.scaleAndAdd(f.force,f.force,l,h)}else for(var v=0;v<c.nSubRegions;v++)this.applyRegionToNodeRepulsion(c.subRegions[v],f)}}})(),o.applyNodeToNodeRepulsion=(function(){var l=e.create();return function(c,f,d){if(c!=f){e.sub(l,c.position,f.position);var h=l[0]*l[0]+l[1]*l[1];if(h!==0){var v;if(this.preventOverlap){var p=Math.sqrt(h);if(p=p-c.size-f.size,p>0)v=this.scaling*c.mass*f.mass/(p*p);else if(p<0)v=this.scaling*100*c.mass*f.mass;else return}else v=this.scaling*c.mass*f.mass/h;e.scaleAndAdd(c.force,c.force,l,v),e.scaleAndAdd(f.force,f.force,l,-v)}}}})(),o.applyEdgeAttraction=(function(){var l=e.create();return function(c){var f=c.source,d=c.target;e.sub(l,f.position,d.position);var h=e.len(l),v;this.edgeWeightInfluence===0?v=1:this.edgeWeightInfluence===1?v=c.weight:v=Math.pow(c.weight,this.edgeWeightInfluence);var p;this.preventOverlap&&(h=h-f.size-d.size,h<=0)||(this.linLogMode?p=-v*Math.log(h+1)/(h+1):p=-v,e.scaleAndAdd(f.force,f.force,l,p),e.scaleAndAdd(d.force,d.force,l,-p))}})(),o.applyNodeGravity=(function(){var l=e.create();return function(u){e.sub(l,this.gravityCenter,u.position);var c=e.len(l);e.scaleAndAdd(u.force,u.force,l,this.gravity*u.mass/(c+1))}})(),o.applyNodeStrongGravity=(function(){var l=e.create();return function(u){e.sub(l,this.gravityCenter,u.position),e.scaleAndAdd(u.force,u.force,l,this.gravity*u.mass)}})(),o.updateBBox=function(){for(var l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<this.nodes.length;d++){var h=this.nodes[d].position;l=Math.min(l,h[0]),u=Math.min(u,h[1]),c=Math.max(c,h[0]),f=Math.max(f,h[1])}this.bbox[0]=l,this.bbox[1]=u,this.bbox[2]=c,this.bbox[3]=f},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(l){switch(l.data.cmd){case"init":s=new a,s.initNodes(l.data.nodesPosition,l.data.nodesMass,l.data.nodesSize),s.initEdges(l.data.edges,l.data.edgesWeight);break;case"updateConfig":if(s)for(var u in l.data.config)s[u]=l.data.config[u];break;case"update":var c=l.data.steps;if(s){for(var f=0;f<c;f++)s.update();for(var d=s.nodes.length,h=new Float32Array(d*2),f=0;f<d;f++){var v=s.nodes[f];h[f*2]=v.position[0],h[f*2+1]=v.position[1]}self.postMessage({buffer:h.buffer,globalSpeed:s.getGlobalSpeed()},[h.buffer])}else{var p=new Float32Array;self.postMessage({buffer:p.buffer,globalSpeed:s.getGlobalSpeed()},[p.buffer])}break}}}var sx=Ict.toString();sx=sx.slice(sx.indexOf("{")+1,sx.lastIndexOf("}"));var Yx={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},xs=function(e){for(var t in Yx)this[t]=Yx[t];if(e)for(var t in e)this[t]=e[t];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Mr({type:xt.FLOAT,flipY:!1,minFilter:xt.NEAREST,magFilter:xt.NEAREST})};xs.prototype.initData=function(e,t){var r=new Blob([sx]),n=window.URL.createObjectURL(r);this._worker=new Worker(n),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var i=e.length,a=t.length,o=new Float32Array(i*2),s=new Float32Array(i),l=new Float32Array(i),u=new Float32Array(a*2),c=new Float32Array(a),f=0;f<e.length;f++){var d=e[f];o[f*2]=d.x,o[f*2+1]=d.y,s[f]=d.mass==null?1:d.mass,l[f]=d.size==null?1:d.size}for(var f=0;f<t.length;f++){var h=t[f],v=h.node1,p=h.node2;u[f*2]=v,u[f*2+1]=p,c[f]=h.weight==null?1:h.weight}var g=Math.ceil(Math.sqrt(e.length)),m=g,y=new Float32Array(g*m*4),x=this._positionTex;x.width=g,x.height=m,x.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:o,nodesMass:s,nodesSize:l,edges:u,edgesWeight:c}),this._globalSpeed=1/0};xs.prototype.updateOption=function(e){var t={};for(var r in Yx)t[r]=Yx[r];var n=this._nodes,i=this._edges,a=n.length;if(a>5e4?t.jitterTolerence=10:a>5e3?t.jitterTolerence=1:t.jitterTolerence=.1,a>100?t.scaling=2:t.scaling=10,a>1e3?t.barnesHutOptimize=!0:t.barnesHutOptimize=!1,e)for(var r in Yx)e[r]!=null&&(t[r]=e[r]);if(!t.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],l=0;l<n.length;l++)o[0]=Math.min(n[l].x,o[0]),o[1]=Math.min(n[l].y,o[1]),s[0]=Math.max(n[l].x,s[0]),s[1]=Math.max(n[l].y,s[1]);t.gravityCenter=[(o[0]+s[0])*.5,(o[1]+s[1])*.5]}for(var l=0;l<i.length;l++){var u=i[l].node1,c=i[l].node2;n[u].degree=(n[u].degree||0)+1,n[c].degree=(n[c].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:t})};xs.prototype.update=function(e,t,r){t==null&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=r,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(t)})};xs.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate()}};xs.prototype.getNodePositionTexture=function(){return this._positionTex};xs.prototype.getNodeUV=function(e,t){t=t||[];var r=this._positionTex.width,n=this._positionTex.height;return t[0]=e%r/(r-1),t[1]=Math.floor(e/r)/(n-1),t};xs.prototype.getNodes=function(){return this._nodes};xs.prototype.getEdges=function(){return this._edges};xs.prototype.isFinished=function(e){return this._frame>e};xs.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(this._nodes.length*2)),this._positionArr)for(var r=0;r<this._positionArr.length;r++)t[r]=this._positionArr[r];return t};xs.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,r=0,n=0;n<e.length;)t[r++]=e[n++],t[r++]=e[n++],t[r++]=1,t[r++]=1;this._positionTex.dirty()};xs.prototype.dispose=function(e){this._disposed=!0,this._worker=null};var kct=Ua.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var t=e.offsetX,r=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(t,r))){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var n=this._convertPos(t,r);this._x=n.x,this._y=n.y}}},_convertPos:function(e,t){var r=this.viewGL.camera,n=this.viewGL.viewport;return{x:(e-n.x)/n.width*(r.right-r.left)+r.left,y:(t-n.y)/n.height*(r.bottom-r.top)+r.top}},_mouseMoveHandler:function(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){e=e.event;var t=e.wheelDelta||-e.detail;if(t!==0){var r=e.offsetX,n=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(r,n))){var i=t>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(r,n),s=(o.x-this._dx)*(i-1),l=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=l,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const Oct=`@export ecgl.lines2D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

void main()
{
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 v_Color = a_Color;
}

@end

@export ecgl.lines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

void main()
{
 gl_FragColor = color * v_Color;
}
@end


@export ecgl.meshLines2D.vertex

attribute vec2 position: POSITION;
attribute vec2 normal;
attribute float offset;
attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 p2.xy /= p2.w;
 gl_Position.xy /= gl_Position.w;

 vec2 N = normalize(p2.xy - gl_Position.xy);
 gl_Position.xy += N * offset / viewport.zw * 2.0;

 gl_Position.xy *= gl_Position.w;

 v_Color = a_Color;
}
@end


@export ecgl.meshLines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 gl_FragColor = color * v_Color;
}

@end`;var J2=ki.vec2;ae.Shader.import(Oct);var Fct=1;const Nct=zr.extend({type:"graphGL",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this.viewGL=new An("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new $p(!0,t),this._forceEdgesMesh=new ae.Mesh({material:new ae.Material({shader:ae.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new ae.Geometry({attributes:{node:new ae.Geometry.Attribute("node","float",2),color:new ae.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:ae.Mesh.LINES}),this._edgesMesh=new ae.Mesh({material:new ae.Material({shader:ae.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new qB({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new kct({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,t,r){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=r,this._initLayout(e,t,r),this._pointsBuilder.update(e,t,r),this._forceLayoutInstance instanceof sa||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,r),this._control.off("update"),this._control.on("update",function(){r.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(Nr.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var n=this._pointsBuilder.getPointsMesh();if(n.off("mousemove",this._mousemoveHandler),n.off("mouseout",this._mouseOutHandler,this),r.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var i=e.get("focusNodeAdjacencyOn");i==="click"?r.getZr().on("click",this._clickHandler):i==="mouseover"&&(n.on("mousemove",this._mousemoveHandler,this),n.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?t!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=t}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,t){var r=this._forceEdgesMesh.geometry,n=t.getEdgeData(),i=0,a=this._forceLayoutInstance,o=n.count()*2;r.attributes.node.init(o),r.attributes.color.init(o),n.each(function(s){var l=e[s];r.attributes.node.set(i,a.getNodeUV(l.node1)),r.attributes.node.set(i+1,a.getNodeUV(l.node2));var u=Ea(n,l.dataIndex),c=ae.parseColor(u);c[3]*=Nr.firstNotNull(ba(n,l.dataIndex),1),r.attributes.color.set(i,c),r.attributes.color.set(i+1,c),i+=2}),r.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,t=this._model.getEdgeData(),r=this._model.getData().getLayout("points");e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var n=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(t.count()*4),this._edgeIndicesMap=new Float32Array(t.count()),t.each(function(o){var s=t.graph.getEdgeByIndex(o),l=s.node1.dataIndex*2,u=s.node2.dataIndex*2;n[0]=r[l],n[1]=r[l+1],i[0]=r[u],i[1]=r[u+1];var c=Ea(t,s.dataIndex),f=ae.parseColor(c);f[3]*=Nr.firstNotNull(ba(t,s.dataIndex),1);var d=t.getItemModel(s.dataIndex),h=Nr.firstNotNull(d.get(a),1)*this._api.getDevicePixelRatio();e.addLine(n,i,f,h);for(var v=0;v<4;v++)this._originalEdgeColors[s.dataIndex*4+v]=f[v];this._edgeIndicesMap[s.dataIndex]=o},this),e.dirty()},_updateForceNodesGeometry:function(e){for(var t=this._pointsBuilder.getPointsMesh(),r=[],n=0;n<e.count();n++)this._forceLayoutInstance.getNodeUV(n,r),t.geometry.attributes.position.set(n,r);t.geometry.dirty("position")},_initLayout:function(e,t,r){var n=e.get("layout"),i=e.getGraph(),a=e.getBoxLayoutParams(),o=Dn(a,{width:r.getWidth(),height:r.getHeight()});n==="force"&&(n="forceAtlas2"),this.stopLayout(e,t,r,{beforeLayout:!0});var s=e.getData(),l=e.getData();if(n==="forceAtlas2"){var u=e.getModel("forceAtlas2"),c=this._forceLayoutInstance,f=[],d=[],h=s.getDataExtent("value"),v=l.getDataExtent("value"),p=Nr.firstNotNull(u.get("edgeWeight"),1),g=Nr.firstNotNull(u.get("nodeWeight"),1);typeof p=="number"&&(p=[p,p]),typeof g=="number"&&(g=[g,g]);var m=0,y={},x=new Float32Array(s.count()*2);if(i.eachNode(function(w){var S=w.dataIndex,C=s.get("value",S),E,A;if(s.hasItemOption){var M=s.getItemModel(S);E=M.get("x"),A=M.get("y")}E==null&&(E=o.x+Math.random()*o.width,A=o.y+Math.random()*o.height),x[m*2]=E,x[m*2+1]=A,y[w.id]=m++;var D=qr(C,h,g);isNaN(D)&&(isNaN(g[0])?D=1:D=g[0]),f.push({x:E,y:A,mass:D,size:s.getItemVisual(S,"symbolSize")})}),s.setLayout("points",x),i.eachEdge(function(w){var S=w.dataIndex,C=s.get("value",S),E=qr(C,v,p);isNaN(E)&&(isNaN(p[0])?E=1:E=p[0]),d.push({node1:y[w.node1.id],node2:y[w.node2.id],weight:E,dataIndex:S})}),!c){var b=u.get("GPU");this._forceLayoutInstance&&(b&&!(this._forceLayoutInstance instanceof sa)||!b&&!(this._forceLayoutInstance instanceof xs))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),c=this._forceLayoutInstance=b?new sa:new xs}c.initData(f,d),c.updateOption(u.option),this._updateForceEdgesGeometry(c.getEdges(),e),this._updatePositionTexture(),r.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{var x=new Float32Array(s.count()*2),m=0;i.eachNode(function(C){var E=C.dataIndex,A,M;if(s.hasItemOption){var D=s.getItemModel(E);A=D.get("x"),M=D.get("y")}x[m++]=A,x[m++]=M}),s.setLayout("points",x),this._updateAfterLayout(e,t,r)}},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,t,a,n){if(!(n&&n.from!=null&&n.from!==this.uid)){var i=this.viewGL,a=this._api,o=this._forceLayoutInstance,s=this._model.getData(),l=this._model.getModel("forceAtlas2");if(o&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),!!this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var u=this,c=this._layoutId=Fct++,f=l.getShallow("maxSteps"),d=l.getShallow("steps"),h=0,v=Math.max(d*2,20),p=function(g){if(g===u._layoutId){if(o.isFinished(f)){a.dispatchAction({type:"graphGLStopLayout",from:u.uid}),a.dispatchAction({type:"graphGLFinishLayout",points:s.getLayout("points"),from:u.uid});return}o.update(i.layer.renderer,d,function(){u._updatePositionTexture(),h+=d,h>=v&&(u._syncNodePosition(e),h=0),a.getZr().refresh(),SA(function(){p(g)})})}};SA(function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(i.layer.renderer),u._forceLayoutInstanceToDispose=null),p(c)}),this._layouting=!0}}},stopLayout:function(e,t,r,n){n&&n.from!=null&&n.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(n&&n.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,t,r)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var t=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",t),e.setNodePosition(t)},_updateAfterLayout:function(e,t,r){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,t,r),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,t,r,n){var i=this._model.getData();this._downplayAll();var a=n.dataIndex,o=i.graph,s=[],l=o.getNodeByIndex(a);s.push(l),l.edges.forEach(function(c){c.dataIndex<0||(c.node1!==l&&s.push(c.node1),c.node2!==l&&s.push(c.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach(function(c){this._pointsBuilder.highlight(i,c.dataIndex)},this),this._pointsBuilder.updateLabels(s.map(function(c){return c.dataIndex}));var u=[];l.edges.forEach(function(c){c.dataIndex>=0&&(this._highlightEdge(c.dataIndex),u.push(c))},this),this._focusNodes=s,this._focusEdges=u},unfocusNodeAdjacency:function(e,t,r,n){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var t=this._model.getEdgeData().getItemModel(e),r=ae.parseColor(t.get("emphasis.lineStyle.color")||t.get("lineStyle.color")),n=Nr.firstNotNull(t.get("emphasis.lineStyle.opacity"),t.get("lineStyle.opacity"),1);r[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],r)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var t=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_setEdgeFade:(function(){var e=[];return function(t,r){this._getColor(t,e),e[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)}})(),_getColor:function(e,t){for(var r=0;r<4;r++)t[r]=this._originalEdgeColors[e*4+r];return t},_fadeOutEdgesAll:function(e){var t=this._model.getData().graph;t.eachEdge(function(r){this._setEdgeFade(r.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var r=this.viewGL.camera,n=e.getData(),i=n.getLayout("points"),a=J2.create(1/0,1/0),o=J2.create(-1/0,-1/0),s=[],l=0;l<i.length;)s[0]=i[l++],s[1]=i[l++],J2.min(a,a,s),J2.max(o,o,s);var u=(o[1]+a[1])/2,c=(o[0]+a[0])/2;if(!(c>r.left&&c<r.right&&u<r.bottom&&u>r.top)){var f=Math.max(o[0]-a[0],10),d=f/t.getWidth()*t.getHeight();f*=1.4,d*=1.4,a[0]-=f*.2,r.left=a[0],r.top=u-d/2,r.bottom=u+d/2,r.right=f+a[0],r.near=0,r.far=100}},dispose:function(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function Q2(e){return e instanceof Array||(e=[e,e]),e}function Bct(e){e.registerChartView(Nct),e.registerSeriesModel(ox),e.registerVisual(function(r){const n={};r.eachSeriesByType("graphGL",function(i){var a=i.getCategoriesData(),o=i.getData(),s={};a.each(function(l){var u=a.getName(l);s["ec-"+u]=l;var c=a.getItemModel(l),f=c.getModel("itemStyle").getItemStyle();f.fill||(f.fill=i.getColorFromPalette(u,n)),a.setItemVisual(l,"style",f);var d=["symbol","symbolSize","symbolKeepAspect"];for(let v=0;v<d.length;v++){var h=c.getShallow(d[v],!0);h!=null&&a.setItemVisual(l,d[v],h)}}),a.count()&&o.each(function(l){var u=o.getItemModel(l);let c=u.getShallow("category");if(c!=null){typeof c=="string"&&(c=s["ec-"+c]);var f=a.getItemVisual(c,"style"),d=o.ensureUniqueItemVisual(l,"style");He(d,f);var h=["symbol","symbolSize","symbolKeepAspect"];for(let v=0;v<h.length;v++)o.setItemVisual(l,h[v],a.getItemVisual(c,h[v]))}})})}),e.registerVisual(function(r){r.eachSeriesByType("graphGL",function(n){var i=n.getGraph(),a=n.getEdgeData(),o=Q2(n.get("edgeSymbol")),s=Q2(n.get("edgeSymbolSize"));a.setVisual("drawType","stroke"),a.setVisual("fromSymbol",o&&o[0]),a.setVisual("toSymbol",o&&o[1]),a.setVisual("fromSymbolSize",s&&s[0]),a.setVisual("toSymbolSize",s&&s[1]),a.setVisual("style",n.getModel("lineStyle").getLineStyle()),a.each(function(l){var u=a.getItemModel(l),c=i.getEdgeByIndex(l),f=Q2(u.getShallow("symbol",!0)),d=Q2(u.getShallow("symbolSize",!0)),h=u.getModel("lineStyle").getLineStyle(),v=a.ensureUniqueItemVisual(l,"style");switch(He(v,h),v.stroke){case"source":{var p=c.node1.getVisual("style");v.stroke=p&&p.fill;break}case"target":{var p=c.node2.getVisual("style");v.stroke=p&&p.fill;break}}f[0]&&c.setVisual("fromSymbol",f[0]),f[1]&&c.setVisual("toSymbol",f[1]),d[0]&&c.setVisual("fromSymbolSize",d[0]),d[1]&&c.setVisual("toSymbolSize",d[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(r,n){n.eachComponent({mainType:"series",query:r},function(i){i.setView(r)})});function t(){}e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},t),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},t),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},t),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},t)}Yt(Bct);const zct=Xr.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,t){var r=this.get("coordinateSystem"),n=r==="geo"?["lng","lat"]:Hae(r)||["x","y"];n.push("vx","vy");var i=Db(this.getSource(),{coordDimensions:n,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),a=new oi(i,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var Hct=Vr.extend(function(){return{dynamic:!0,attributes:{position:new Vr.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=this.attributes,r=4*e,n=2*e;this.vertexCount!==r&&t.position.init(r),this.triangleCount!==n&&(n===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(n*3):new Uint16Array(n*3))},addLine:function(e){var t=this._vertexOffset;this.attributes.position.set(t,[e[0],e[1],1]),this.attributes.position.set(t+1,[e[0],e[1],-1]),this.attributes.position.set(t+2,[e[0],e[1],2]),this.attributes.position.set(t+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[t,t+1,t+2]),this.setTriangleIndices(this._faceOffset++,[t+1,t+2,t+3]),this._vertexOffset+=4}});const Vct=`@export ecgl.vfParticle.particle.fragment

uniform sampler2D particleTexture;
uniform sampler2D spawnTexture;
uniform sampler2D velocityTexture;

uniform float deltaTime;
uniform float elapsedTime;

uniform float speedScaling : 1.0;

uniform vec2 textureSize;
uniform vec4 region : [0, 0, 1, 1];
uniform float firstFrameTime;

varying vec2 v_Texcoord;


void main()
{
 vec4 p = texture2D(particleTexture, v_Texcoord);
 bool spawn = false;
 if (p.w <= 0.0) {
 p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));
 p.w -= firstFrameTime;
 spawn = true;
 }
 vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;
 v = (v - 0.5) * 2.0;
 p.z = length(v);
 p.xy += v * deltaTime / 10.0 * speedScaling;
 p.w -= deltaTime;

 if (spawn || p.xy != fract(p.xy)) {
 p.z = 0.0;
 }
 p.xy = fract(p.xy);

 gl_FragColor = p;
}
@end

@export ecgl.vfParticle.renderPoints.vertex

#define PI 3.1415926

attribute vec2 texcoord : TEXCOORD_0;

uniform sampler2D particleTexture;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

uniform float size : 1.0;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 vec4 p = texture2D(particleTexture, texcoord);

 if (p.w > 0.0 && p.z > 1e-5) {
 gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }

 v_Mag = p.z;
 v_Uv = p.xy;

 gl_PointSize = size;
}

@end

@export ecgl.vfParticle.renderPoints.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;
uniform sampler2D spriteTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
#ifdef SPRITETEXTURE_ENABLED
 gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);
 if (color.a == 0.0) {
 discard;
 }
#endif
#ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end

@export ecgl.vfParticle.renderLines.vertex

#define PI 3.1415926

attribute vec3 position : POSITION;

uniform sampler2D particleTexture;
uniform sampler2D prevParticleTexture;

uniform float size : 1.0;
uniform vec4 vp: VIEWPORT;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

varying float v_Mag;
varying vec2 v_Uv;

@import clay.util.rand

void main()
{
 vec4 p = texture2D(particleTexture, position.xy);
 vec4 p2 = texture2D(prevParticleTexture, position.xy);

 p.xy = p.xy * 2.0 - 1.0;
 p2.xy = p2.xy * 2.0 - 1.0;

 if (p.w > 0.0 && p.z > 1e-5) {
 vec2 dir = normalize(p.xy - p2.xy);
 vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;
 if (abs(position.z) == 2.0) {
 gl_Position = vec4(p.xy + norm, 0.0, 1.0);
 v_Uv = p.xy;
 v_Mag = p.z;
 }
 else {
 gl_Position = vec4(p2.xy + norm, 0.0, 1.0);
 v_Mag = p2.z;
 v_Uv = p2.xy;
 }
 gl_Position = worldViewProjection * gl_Position;
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }
}

@end

@export ecgl.vfParticle.renderLines.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
 #ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end
`;wt.import(Vct);function $ct(e){var t=document.createElement("canvas");t.width=t.height=e;var r=t.getContext("2d");return r.fillStyle="#fff",r.arc(e/2,e/2,e/2,0,Math.PI*2),r.fill(),t}var xO=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Mr({type:xt.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};xO.prototype={constructor:xO,init:function(){var e={type:xt.FLOAT,minFilter:xt.NEAREST,magFilter:xt.NEAREST,useMipmap:!1};this._spawnTexture=new Mr(e),this._particleTexture0=new Mr(e),this._particleTexture1=new Mr(e),this._frameBuffer=new Ri({depthBuffer:!1}),this._particlePass=new Wi({fragment:wt.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new Wi({fragment:wt.source("clay.compositor.downsample")});var t=new _a({renderOrder:10,material:new Il({shader:new wt(wt.source("ecgl.vfParticle.renderPoints.vertex"),wt.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:_a.POINTS,geometry:new Vr({dynamic:!0,mainAttribute:"texcoord0"})}),r=new _a({renderOrder:10,material:new Il({shader:new wt(wt.source("ecgl.vfParticle.renderLines.vertex"),wt.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new Hct,culling:!1}),n=new _a({material:new Il({shader:new wt(wt.source("ecgl.color.vertex"),wt.source("ecgl.color.fragment"))}),geometry:new vM});n.material.enableTexture("diffuseMap"),this._particlePointsMesh=t,this._particleLinesMesh=r,this._lastFrameFullQuadMesh=n,this._camera=new km,this._thisFrameTexture=new Mr,this._lastFrameTexture=new Mr},setParticleDensity:function(e,t){for(var r=e*t,n=new Float32Array(r*4),i=0,a=this.particleLife,o=0;o<e;o++)for(var s=0;s<t;s++,i++){n[i*4]=Math.random(),n[i*4+1]=Math.random(),n[i*4+2]=Math.random();var l=(a[1]-a[0])*Math.random()+a[0];n[i*4+3]=l}this._particleType==="line"?this._setLineGeometry(e,t):this._setPointsGeometry(e,t),this._spawnTexture.width=e,this._spawnTexture.height=t,this._spawnTexture.pixels=n,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=t,this._particlePass.setUniform("textureSize",[e,t])},_setPointsGeometry:function(e,t){var r=e*t,n=this._particlePointsMesh.geometry,i=n.attributes;i.texcoord0.init(r);for(var a=0,o=0;o<e;o++)for(var s=0;s<t;s++,a++)i.texcoord0.value[a*2]=o/e,i.texcoord0.value[a*2+1]=s/t;n.dirty()},_setLineGeometry:function(e,t){var r=e*t,n=this._getParticleMesh().geometry;n.setLineCount(r),n.resetOffset();for(var i=0;i<e;i++)for(var a=0;a<t;a++)n.addLine([i/e,a/t]);n.dirty()},_getParticleMesh:function(){return this._particleType==="line"?this._particleLinesMesh:this._particlePointsMesh},update:function(e,t,r,n){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;n&&this._updateDownsampleTextures(e,t),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",n?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",r),o.setUniform("elapsedTime",this._elapsedTime),o.render(e,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,i],this._camera),a.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=r},_downsample:function(e){var t=this._downsampleTextures;if(t.length!==0)for(var r=0,n=this._thisFrameTexture,i=t[r];i;)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",n),this._downsamplePass.setUniform("textureSize",[n.width,n.height]),this._downsamplePass.render(e,this._frameBuffer),n=i,i=t[++r]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,t){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=t*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=t*this._supersampling,this._width=e,this._height=t},setParticleSize:function(e){var t=this._getParticleMesh();if(e<=2){t.material.disableTexture("spriteTexture"),t.material.transparent=!1;return}this._spriteTexture||(this._spriteTexture=new Mr),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=$ct(e),this._spriteTexture.dirty()),t.material.transparent=!0,t.material.enableTexture("spriteTexture"),t.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var t=this._getParticleMesh().material;t[e?"enableTexture":"disableTexture"]("gradientTexture"),t.setUniform("gradientTexture",e)},setColorTextureImage:function(e,t){var r=this._getParticleMesh().material;r.setTextureImage("colorTexture",e,t,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var t=this._frameBuffer;t.attach(this._lastFrameTexture),t.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),t.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,t){for(var r=this._downsampleTextures,n=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<n;s++)r[s]=r[s]||new Mr,r[s].width=a/i,r[s].height=o/i,i*=2;for(;s<r.length;s++)r[s].dispose(e);r.length=n},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e;var e=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(t){t.dispose(e)})}};const Gct=zr.extend({type:"flowGL",__ecgl__:!0,init:function(e,t){this.viewGL=new An("orthographic"),this.groupGL=new ae.Node,this.viewGL.add(this.groupGL),this._particleSurface=new xO;var r=new ae.Mesh({geometry:new ae.PlaneGeometry,material:new ae.Material({shader:new ae.Shader({vertex:ae.Shader.source("ecgl.color.vertex"),fragment:ae.Shader.source("ecgl.color.fragment")}),transparent:!0})});r.material.enableTexture("diffuseMap"),this.groupGL.add(r),this._planeMesh=r},render:function(e,t,r){var n=this._particleSurface;n.setParticleType(e.get("particleType")),n.setSupersampling(e.get("supersampling")),this._updateData(e,r),this._updateCamera(r.getWidth(),r.getHeight(),r.getDevicePixelRatio());var i=Nr.firstNotNull(e.get("particleDensity"),128);n.setParticleDensity(i,i);var a=this._planeMesh,o=+new Date,s=this,l=!0;a.__percent=0,a.stopAnimation(),a.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var f=+new Date,d=Math.min(f-o,20);o=o+d,s._renderer&&(n.update(s._renderer,r,d/1e3,l),a.material.set("diffuseMap",n.getSurfaceTexture())),l=!1}).start();var u=e.getModel("itemStyle"),c=ae.parseColor(u.get("color"));c[3]*=Nr.firstNotNull(u.get("opacity"),1),a.material.set("color",c),n.setColorTextureImage(e.get("colorTexture"),r),n.setParticleSize(e.get("particleSize")),n.particleSpeedScaling=e.get("particleSpeed"),n.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,t,r){this._updateData(e,r)},afterRender:function(e,t,r,n){var i=n.renderer;this._renderer=i},_updateData:function(e,t){var r=e.coordinateSystem,n=r.dimensions.map(function(y){return e.coordDimToDataDim(y)[0]}),i=e.getData(),a=i.getDataExtent(n[0]),o=i.getDataExtent(n[1]),s=e.get("gridWidth"),l=e.get("gridHeight");if(s==null||s==="auto"){var u=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(u*i.count()))}(l==null||l==="auto")&&(l=Math.ceil(i.count()/s));var c=this._particleSurface.vectorFieldTexture,f=c.pixels;if(!f||f.length!==l*s*4)f=c.pixels=new Float32Array(s*l*4);else for(var d=0;d<f.length;d++)f[d]=0;var h=0,v=1/0,p=new Float32Array(i.count()*2),g=0,m=[[1/0,1/0],[-1/0,-1/0]];i.each([n[0],n[1],"vx","vy"],function(y,x,b,w){var S=r.dataToPoint([y,x]);p[g++]=S[0],p[g++]=S[1],m[0][0]=Math.min(S[0],m[0][0]),m[0][1]=Math.min(S[1],m[0][1]),m[1][0]=Math.max(S[0],m[1][0]),m[1][1]=Math.max(S[1],m[1][1]);var C=Math.sqrt(b*b+w*w);h=Math.max(h,C),v=Math.min(v,C)}),i.each(["vx","vy"],function(y,x,b){var w=Math.round((p[b*2]-m[0][0])/(m[1][0]-m[0][0])*(s-1)),S=l-1-Math.round((p[b*2+1]-m[0][1])/(m[1][1]-m[0][1])*(l-1)),C=(S*s+w)*4;f[C]=y/h*.5+.5,f[C+1]=x/h*.5+.5,f[C+3]=1}),c.width=s,c.height=l,e.get("coordinateSystem")==="bmap"&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(m[0],m[1],e,t),this._updateGradientTexture(i.getVisual("visualMeta"),[v,h])},_fillEmptyPixels:function(e){var t=e.pixels,r=e.width,n=e.height;function i(p,g,m){p=Math.max(Math.min(p,r-1),0),g=Math.max(Math.min(g,n-1),0);var y=(g*(r-1)+p)*4;return t[y+3]===0?!1:(m[0]=t[y],m[1]=t[y+1],!0)}function a(p,g,m){m[0]=p[0]+g[0],m[1]=p[1]+g[1]}for(var o=[],s=[],l=[],u=[],c=[],f=0,d=0;d<n;d++)for(var h=0;h<r;h++){var v=(d*(r-1)+h)*4;t[v+3]===0&&(f=o[0]=o[1]=0,i(h-1,d,s)&&(f++,a(s,o,o)),i(h+1,d,l)&&(f++,a(l,o,o)),i(h,d-1,u)&&(f++,a(u,o,o)),i(h,d+1,c)&&(f++,a(c,o,o)),o[0]/=f,o[1]/=f,t[v]=o[0],t[v+1]=o[1]),t[v+3]=1}},_updateGradientTexture:function(e,t){if(!e||!e.length){this._particleSurface.setGradientTexture(null);return}this._gradientTexture=this._gradientTexture||new ae.Texture2D({image:document.createElement("canvas")});var r=this._gradientTexture,n=r.image;n.width=200,n.height=1;var i=n.getContext("2d"),a=i.createLinearGradient(0,.5,n.width,.5);e[0].stops.forEach(function(o){var s;t[1]===t[0]?s=0:(s=o.value/t[1],s=Math.min(Math.max(s,0),1)),a.addColorStop(s,o.color)}),i.fillStyle=a,i.fillRect(0,0,n.width,n.height),r.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)},_updatePlanePosition:function(e,t,r,n){var i=this._limitInViewportAndFullFill(e,t,r,n);e=i.leftTop,t=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((e[0]+t[0])/2,n.getHeight()-(e[1]+t[1])/2,0);var a=t[0]-e[0],o=t[1]-e[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,t,r,n){var i=[Math.max(e[0],0),Math.max(e[1],0)],a=[Math.min(t[0],n.getWidth()),Math.min(t[1],n.getHeight())];if(r.get("coordinateSystem")==="bmap"){var o=r.getData().getDataExtent(r.coordDimToDataDim("lng")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(i[0]>0&&(i[0]=0),a[0]<n.getWidth()&&(a[0]=n.getWidth()))}var l=t[0]-e[0],u=t[1]-e[1],c=a[0]-i[0],f=a[1]-i[1],d=[(i[0]-e[0])/l,1-f/u-(i[1]-e[1])/u,c/l,f/u];return{leftTop:i,rightBottom:a,region:d}},_updateCamera:function(e,t,r){this.viewGL.setViewport(0,0,e,t,r);var n=this.viewGL.camera;n.left=n.bottom=0,n.top=t,n.right=e,n.near=0,n.far=100,n.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function Uct(e){e.registerChartView(Gct),e.registerSeriesModel(zct)}Yt(Uct);var _O=Xr.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),_O.superApply(this,"init",arguments)},mergeOption:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),_O.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=lK(this._flatCoords,t.flatCoords),this._flatCoordsOffset=lK(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e),r=t.option instanceof Array?t.option:t.getShallow("coords");return r},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[e*2],n=this._flatCoordsOffset[e*2+1],i=0;i<n;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[r+i*2],t[i][1]=this._flatCoords[r+i*2+1];return n}else{for(var a=this._getCoordsFromItemModel(e),i=0;i<a.length;i++)t[i]=t[i]||[],t[i][0]=a[i][0],t[i][1]=a[i][1];return a.length}},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),typeof e[0]=="number"){for(var r=e.length,n=new Uint32Array(r),i=new Float64Array(r),a=0,o=0,s=0,l=0;l<r;){s++;var u=e[l++];n[o++]=a+t,n[o++]=u;for(var c=0;c<u;c++){var f=e[l++],d=e[l++];i[a++]=f,i[a++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var r=new oi(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(n,i,a,o){if(n instanceof Array)return NaN;r.hasItemOption=!0;var s=n.value;if(s!=null)return s instanceof Array?s[o]:s}),r},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const Wct=zr.extend({type:"linesGL",__ecgl__:!0,init:function(e,t){this.groupGL=new ae.Node,this.viewGL=new An("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new ad(this.viewGL),this._nativeLinesShader=ae.createShader("ecgl.lines3D"),this._meshLinesShader=ae.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,t,r){this.groupGL.removeAll(),this._glViewHelper.reset(e,r);var n=this._linesMeshes[0];n||(n=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(n),this._updateLinesMesh(e,n,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),r)},incrementalPrepareRender:function(e,t,r){this.groupGL.removeAll(),this._glViewHelper.reset(e,r),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),r)},incrementalRender:function(e,t,r,n){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(t),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(t,i,e.start,e.end),this.groupGL.add(i),n.getZr().refresh(),this._currentStep++},updateTransform:function(e,t,r){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,r)},_createLinesMesh:function(e){var t=new ae.Mesh({$ignorePicking:!0,material:new ae.Material({shader:ae.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new qB({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:ae.Mesh.LINES,culling:!1});return t},_updateLinesMesh:function(e,t,r,n){var i=e.getData();t.material.blend=e.get("blendMode")==="lighter"?ae.additiveBlend:null;var a=e.get("lineStyle.curveness")||0,o=e.get("polyline"),s=t.geometry,l=e.coordinateSystem,u=Nr.firstNotNull(e.get("lineStyle.width"),1);u>1?(t.material.shader!==this._meshLinesShader&&t.material.attachShader(this._meshLinesShader),t.mode=ae.Mesh.TRIANGLES):(t.material.shader!==this._nativeLinesShader&&t.material.attachShader(this._nativeLinesShader),t.mode=ae.Mesh.LINES),r=r||0,n=n||i.count(),s.resetOffset();var c=0,f=0,d=[],h=[],v=[],p=[],g=[],m=.3,y=.7;function x(){h[0]=d[0]*y+p[0]*m-(d[1]-p[1])*a,h[1]=d[1]*y+p[1]*m-(p[0]-d[0])*a,v[0]=d[0]*m+p[0]*y-(d[1]-p[1])*a,v[1]=d[1]*m+p[1]*y-(p[0]-d[0])*a}if(o||a!==0)for(var b=r;b<n;b++)if(o){var w=e.getLineCoordsCount(b);c+=s.getPolylineVertexCount(w),f+=s.getPolylineTriangleCount(w)}else e.getLineCoords(b,g),this._glViewHelper.dataToPoint(l,g[0],d),this._glViewHelper.dataToPoint(l,g[1],p),x(),c+=s.getCubicCurveVertexCount(d,h,v,p),f+=s.getCubicCurveTriangleCount(d,h,v,p);else{var S=n-r;c+=S*s.getLineVertexCount(),f+=S*s.getLineVertexCount()}s.setVertexCount(c),s.setTriangleCount(f);for(var C=r,E=[],b=r;b<n;b++){ae.parseColor(Ea(i,C),E);var A=Nr.firstNotNull(ba(i,C),1);E[3]*=A;for(var w=e.getLineCoords(b,g),M=0;M<w;M++)this._glViewHelper.dataToPoint(l,g[M],g[M]);o?s.addPolyline(g,E,u,0,w):a!==0?(d=g[0],p=g[1],x(),s.addCubicCurve(d,h,v,p,E,u)):s.addPolyline(g,E,u,0,2),C++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function Xct(e){e.registerChartView(Wct),e.registerSeriesModel(_O)}Yt(Xct);var eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Yct=lx.exports,qK;function Kct(){return qK||(qK=1,(function(e,t){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,h=4,v=1,p=2,g=1,m=2,y=4,x=8,b=16,w=32,S=64,C=128,E=256,A=512,M=30,D="...",R=800,L=16,k=1,O=2,F=3,H=1/0,V=9007199254740991,U=17976931348623157e292,K=NaN,q=4294967295,N=q-1,W=q>>>1,j=[["ary",C],["bind",g],["bindKey",m],["curry",x],["curryRight",b],["flip",A],["partial",w],["partialRight",S],["rearg",E]],Z="[object Arguments]",ve="[object Array]",Te="[object AsyncFunction]",Se="[object Boolean]",te="[object Date]",pe="[object DOMException]",Re="[object Error]",z="[object Function]",J="[object GeneratorFunction]",se="[object Map]",he="[object Number]",_e="[object Null]",ge="[object Object]",$e="[object Promise]",Le="[object Proxy]",fe="[object RegExp]",de="[object Set]",Ve="[object String]",Ge="[object Symbol]",ke="[object Undefined]",Xe="[object WeakMap]",gt="[object WeakSet]",Kt="[object ArrayBuffer]",Nt="[object DataView]",Sr="[object Float32Array]",Lt="[object Float64Array]",er="[object Int8Array]",yr="[object Int16Array]",ar="[object Int32Array]",_t="[object Uint8Array]",Ot="[object Uint8ClampedArray]",ue="[object Uint16Array]",Pe="[object Uint32Array]",Je=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bt=/&(?:amp|lt|gt|quot|#39);/g,Gt=/[&<>"']/g,Jt=RegExp(Bt.source),Gr=RegExp(Gt.source),mn=/<%-([\s\S]+?)%>/g,Jr=/<%([\s\S]+?)%>/g,di=/<%=([\s\S]+?)%>/g,Oi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fi=/^\w*$/,Ki=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/[\\^$.*+?()[\]{}|]/g,Zi=RegExp(xi.source),qi=/^\s+/,Ie=/\s/,et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,re=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ne=/\w*$/,Ze=/^[-+]0x[0-9a-f]+$/i,Be=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,dt=/^(?:0|[1-9]\d*)$/,Mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,yt=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",cr="\\u0300-\\u036f",On="\\ufe20-\\ufe2f",Fn="\\u20d0-\\u20ff",hi=cr+On+Fn,Ks="\\u2700-\\u27bf",Zs="a-z\\xdf-\\xf6\\xf8-\\xff",Ul="\\xac\\xb1\\xd7\\xf7",ws="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$c="\\u2000-\\u206f",Do=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",y0="A-Z\\xc0-\\xd6\\xd8-\\xde",x0="\\ufe0e\\ufe0f",Xb=Ul+ws+$c+Do,Cy="['’]",EM="["+Dt+"]",jb="["+Xb+"]",_0="["+hi+"]",Yb="\\d+",MM="["+Ks+"]",Kb="["+Zs+"]",Zb="[^"+Dt+Xb+Yb+Ks+Zs+y0+"]",Ty="\\ud83c[\\udffb-\\udfff]",DM="(?:"+_0+"|"+Ty+")",qb="[^"+Dt+"]",Ay="(?:\\ud83c[\\udde6-\\uddff]){2}",Ey="[\\ud800-\\udbff][\\udc00-\\udfff]",sd="["+y0+"]",Jb="\\u200d",Qb="(?:"+Kb+"|"+Zb+")",PM="(?:"+sd+"|"+Zb+")",ew="(?:"+Cy+"(?:d|ll|m|re|s|t|ve))?",tw="(?:"+Cy+"(?:D|LL|M|RE|S|T|VE))?",rw=DM+"?",tz="["+x0+"]?",Efe="(?:"+Jb+"(?:"+[qb,Ay,Ey].join("|")+")"+tz+rw+")*",Mfe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dfe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rz=tz+rw+Efe,Pfe="(?:"+[MM,Ay,Ey].join("|")+")"+rz,Rfe="(?:"+[qb+_0+"?",_0,Ay,Ey,EM].join("|")+")",Lfe=RegExp(Cy,"g"),Ife=RegExp(_0,"g"),RM=RegExp(Ty+"(?="+Ty+")|"+Rfe+rz,"g"),kfe=RegExp([sd+"?"+Kb+"+"+ew+"(?="+[jb,sd,"$"].join("|")+")",PM+"+"+tw+"(?="+[jb,sd+Qb,"$"].join("|")+")",sd+"?"+Qb+"+"+ew,sd+"+"+tw,Dfe,Mfe,Yb,Pfe].join("|"),"g"),Ofe=RegExp("["+Jb+Dt+hi+x0+"]"),Ffe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nfe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bfe=-1,ri={};ri[Sr]=ri[Lt]=ri[er]=ri[yr]=ri[ar]=ri[_t]=ri[Ot]=ri[ue]=ri[Pe]=!0,ri[Z]=ri[ve]=ri[Kt]=ri[Se]=ri[Nt]=ri[te]=ri[Re]=ri[z]=ri[se]=ri[he]=ri[ge]=ri[fe]=ri[de]=ri[Ve]=ri[Xe]=!1;var Xn={};Xn[Z]=Xn[ve]=Xn[Kt]=Xn[Nt]=Xn[Se]=Xn[te]=Xn[Sr]=Xn[Lt]=Xn[er]=Xn[yr]=Xn[ar]=Xn[se]=Xn[he]=Xn[ge]=Xn[fe]=Xn[de]=Xn[Ve]=Xn[Ge]=Xn[_t]=Xn[Ot]=Xn[ue]=Xn[Pe]=!0,Xn[Re]=Xn[z]=Xn[Xe]=!1;var zfe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Hfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vfe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gfe=parseFloat,Ufe=parseInt,nz=typeof eC=="object"&&eC&&eC.Object===Object&&eC,Wfe=typeof self=="object"&&self&&self.Object===Object&&self,Xa=nz||Wfe||Function("return this")(),LM=t&&!t.nodeType&&t,Vh=LM&&!0&&e&&!e.nodeType&&e,iz=Vh&&Vh.exports===LM,IM=iz&&nz.process,qs=(function(){try{var Oe=Vh&&Vh.require&&Vh.require("util").types;return Oe||IM&&IM.binding&&IM.binding("util")}catch{}})(),az=qs&&qs.isArrayBuffer,oz=qs&&qs.isDate,sz=qs&&qs.isMap,lz=qs&&qs.isRegExp,uz=qs&&qs.isSet,cz=qs&&qs.isTypedArray;function Ss(Oe,Qe,je){switch(je.length){case 0:return Oe.call(Qe);case 1:return Oe.call(Qe,je[0]);case 2:return Oe.call(Qe,je[0],je[1]);case 3:return Oe.call(Qe,je[0],je[1],je[2])}return Oe.apply(Qe,je)}function Xfe(Oe,Qe,je,Qt){for(var Ir=-1,En=Oe==null?0:Oe.length;++Ir<En;){var fa=Oe[Ir];Qe(Qt,fa,je(fa),Oe)}return Qt}function Js(Oe,Qe){for(var je=-1,Qt=Oe==null?0:Oe.length;++je<Qt&&Qe(Oe[je],je,Oe)!==!1;);return Oe}function jfe(Oe,Qe){for(var je=Oe==null?0:Oe.length;je--&&Qe(Oe[je],je,Oe)!==!1;);return Oe}function fz(Oe,Qe){for(var je=-1,Qt=Oe==null?0:Oe.length;++je<Qt;)if(!Qe(Oe[je],je,Oe))return!1;return!0}function ld(Oe,Qe){for(var je=-1,Qt=Oe==null?0:Oe.length,Ir=0,En=[];++je<Qt;){var fa=Oe[je];Qe(fa,je,Oe)&&(En[Ir++]=fa)}return En}function nw(Oe,Qe){var je=Oe==null?0:Oe.length;return!!je&&b0(Oe,Qe,0)>-1}function kM(Oe,Qe,je){for(var Qt=-1,Ir=Oe==null?0:Oe.length;++Qt<Ir;)if(je(Qe,Oe[Qt]))return!0;return!1}function si(Oe,Qe){for(var je=-1,Qt=Oe==null?0:Oe.length,Ir=Array(Qt);++je<Qt;)Ir[je]=Qe(Oe[je],je,Oe);return Ir}function ud(Oe,Qe){for(var je=-1,Qt=Qe.length,Ir=Oe.length;++je<Qt;)Oe[Ir+je]=Qe[je];return Oe}function OM(Oe,Qe,je,Qt){var Ir=-1,En=Oe==null?0:Oe.length;for(Qt&&En&&(je=Oe[++Ir]);++Ir<En;)je=Qe(je,Oe[Ir],Ir,Oe);return je}function Yfe(Oe,Qe,je,Qt){var Ir=Oe==null?0:Oe.length;for(Qt&&Ir&&(je=Oe[--Ir]);Ir--;)je=Qe(je,Oe[Ir],Ir,Oe);return je}function FM(Oe,Qe){for(var je=-1,Qt=Oe==null?0:Oe.length;++je<Qt;)if(Qe(Oe[je],je,Oe))return!0;return!1}var Kfe=NM("length");function Zfe(Oe){return Oe.split("")}function qfe(Oe){return Oe.match(ee)||[]}function dz(Oe,Qe,je){var Qt;return je(Oe,function(Ir,En,fa){if(Qe(Ir,En,fa))return Qt=En,!1}),Qt}function iw(Oe,Qe,je,Qt){for(var Ir=Oe.length,En=je+(Qt?1:-1);Qt?En--:++En<Ir;)if(Qe(Oe[En],En,Oe))return En;return-1}function b0(Oe,Qe,je){return Qe===Qe?ude(Oe,Qe,je):iw(Oe,hz,je)}function Jfe(Oe,Qe,je,Qt){for(var Ir=je-1,En=Oe.length;++Ir<En;)if(Qt(Oe[Ir],Qe))return Ir;return-1}function hz(Oe){return Oe!==Oe}function vz(Oe,Qe){var je=Oe==null?0:Oe.length;return je?zM(Oe,Qe)/je:K}function NM(Oe){return function(Qe){return Qe==null?r:Qe[Oe]}}function BM(Oe){return function(Qe){return Oe==null?r:Oe[Qe]}}function pz(Oe,Qe,je,Qt,Ir){return Ir(Oe,function(En,fa,Gn){je=Qt?(Qt=!1,En):Qe(je,En,fa,Gn)}),je}function Qfe(Oe,Qe){var je=Oe.length;for(Oe.sort(Qe);je--;)Oe[je]=Oe[je].value;return Oe}function zM(Oe,Qe){for(var je,Qt=-1,Ir=Oe.length;++Qt<Ir;){var En=Qe(Oe[Qt]);En!==r&&(je=je===r?En:je+En)}return je}function HM(Oe,Qe){for(var je=-1,Qt=Array(Oe);++je<Oe;)Qt[je]=Qe(je);return Qt}function ede(Oe,Qe){return si(Qe,function(je){return[je,Oe[je]]})}function gz(Oe){return Oe&&Oe.slice(0,_z(Oe)+1).replace(qi,"")}function Cs(Oe){return function(Qe){return Oe(Qe)}}function VM(Oe,Qe){return si(Qe,function(je){return Oe[je]})}function My(Oe,Qe){return Oe.has(Qe)}function mz(Oe,Qe){for(var je=-1,Qt=Oe.length;++je<Qt&&b0(Qe,Oe[je],0)>-1;);return je}function yz(Oe,Qe){for(var je=Oe.length;je--&&b0(Qe,Oe[je],0)>-1;);return je}function tde(Oe,Qe){for(var je=Oe.length,Qt=0;je--;)Oe[je]===Qe&&++Qt;return Qt}var rde=BM(zfe),nde=BM(Hfe);function ide(Oe){return"\\"+$fe[Oe]}function ade(Oe,Qe){return Oe==null?r:Oe[Qe]}function w0(Oe){return Ofe.test(Oe)}function ode(Oe){return Ffe.test(Oe)}function sde(Oe){for(var Qe,je=[];!(Qe=Oe.next()).done;)je.push(Qe.value);return je}function $M(Oe){var Qe=-1,je=Array(Oe.size);return Oe.forEach(function(Qt,Ir){je[++Qe]=[Ir,Qt]}),je}function xz(Oe,Qe){return function(je){return Oe(Qe(je))}}function cd(Oe,Qe){for(var je=-1,Qt=Oe.length,Ir=0,En=[];++je<Qt;){var fa=Oe[je];(fa===Qe||fa===c)&&(Oe[je]=c,En[Ir++]=je)}return En}function aw(Oe){var Qe=-1,je=Array(Oe.size);return Oe.forEach(function(Qt){je[++Qe]=Qt}),je}function lde(Oe){var Qe=-1,je=Array(Oe.size);return Oe.forEach(function(Qt){je[++Qe]=[Qt,Qt]}),je}function ude(Oe,Qe,je){for(var Qt=je-1,Ir=Oe.length;++Qt<Ir;)if(Oe[Qt]===Qe)return Qt;return-1}function cde(Oe,Qe,je){for(var Qt=je+1;Qt--;)if(Oe[Qt]===Qe)return Qt;return Qt}function S0(Oe){return w0(Oe)?dde(Oe):Kfe(Oe)}function Wl(Oe){return w0(Oe)?hde(Oe):Zfe(Oe)}function _z(Oe){for(var Qe=Oe.length;Qe--&&Ie.test(Oe.charAt(Qe)););return Qe}var fde=BM(Vfe);function dde(Oe){for(var Qe=RM.lastIndex=0;RM.test(Oe);)++Qe;return Qe}function hde(Oe){return Oe.match(RM)||[]}function vde(Oe){return Oe.match(kfe)||[]}var pde=(function Oe(Qe){Qe=Qe==null?Xa:C0.defaults(Xa.Object(),Qe,C0.pick(Xa,Nfe));var je=Qe.Array,Qt=Qe.Date,Ir=Qe.Error,En=Qe.Function,fa=Qe.Math,Gn=Qe.Object,GM=Qe.RegExp,gde=Qe.String,Qs=Qe.TypeError,ow=je.prototype,mde=En.prototype,T0=Gn.prototype,sw=Qe["__core-js_shared__"],lw=mde.toString,Nn=T0.hasOwnProperty,yde=0,bz=(function(){var _=/[^.]+$/.exec(sw&&sw.keys&&sw.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),uw=T0.toString,xde=lw.call(Gn),_de=Xa._,bde=GM("^"+lw.call(Nn).replace(xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cw=iz?Qe.Buffer:r,fd=Qe.Symbol,fw=Qe.Uint8Array,wz=cw?cw.allocUnsafe:r,dw=xz(Gn.getPrototypeOf,Gn),Sz=Gn.create,Cz=T0.propertyIsEnumerable,hw=ow.splice,Tz=fd?fd.isConcatSpreadable:r,Dy=fd?fd.iterator:r,$h=fd?fd.toStringTag:r,vw=(function(){try{var _=jh(Gn,"defineProperty");return _({},"",{}),_}catch{}})(),wde=Qe.clearTimeout!==Xa.clearTimeout&&Qe.clearTimeout,Sde=Qt&&Qt.now!==Xa.Date.now&&Qt.now,Cde=Qe.setTimeout!==Xa.setTimeout&&Qe.setTimeout,pw=fa.ceil,gw=fa.floor,UM=Gn.getOwnPropertySymbols,Tde=cw?cw.isBuffer:r,Az=Qe.isFinite,Ade=ow.join,Ede=xz(Gn.keys,Gn),da=fa.max,io=fa.min,Mde=Qt.now,Dde=Qe.parseInt,Ez=fa.random,Pde=ow.reverse,WM=jh(Qe,"DataView"),Py=jh(Qe,"Map"),XM=jh(Qe,"Promise"),A0=jh(Qe,"Set"),Ry=jh(Qe,"WeakMap"),Ly=jh(Gn,"create"),mw=Ry&&new Ry,E0={},Rde=Yh(WM),Lde=Yh(Py),Ide=Yh(XM),kde=Yh(A0),Ode=Yh(Ry),yw=fd?fd.prototype:r,Iy=yw?yw.valueOf:r,Mz=yw?yw.toString:r;function Q(_){if(_i(_)&&!Or(_)&&!(_ instanceof sn)){if(_ instanceof el)return _;if(Nn.call(_,"__wrapped__"))return D6(_)}return new el(_)}var M0=(function(){function _(){}return function(T){if(!vi(T))return{};if(Sz)return Sz(T);_.prototype=T;var P=new _;return _.prototype=r,P}})();function xw(){}function el(_,T){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!T,this.__index__=0,this.__values__=r}Q.templateSettings={escape:mn,evaluate:Jr,interpolate:di,variable:"",imports:{_:Q}},Q.prototype=xw.prototype,Q.prototype.constructor=Q,el.prototype=M0(xw.prototype),el.prototype.constructor=el;function sn(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function Fde(){var _=new sn(this.__wrapped__);return _.__actions__=ts(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=ts(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=ts(this.__views__),_}function Nde(){if(this.__filtered__){var _=new sn(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Bde(){var _=this.__wrapped__.value(),T=this.__dir__,P=Or(_),B=T<0,Y=P?_.length:0,ne=Zhe(0,Y,this.__views__),ye=ne.start,Ee=ne.end,Fe=Ee-ye,it=B?Ee:ye-1,ot=this.__iteratees__,ct=ot.length,zt=0,or=io(Fe,this.__takeCount__);if(!P||!B&&Y==Fe&&or==Fe)return Jz(_,this.__actions__);var xr=[];e:for(;Fe--&&zt<or;){it+=T;for(var jr=-1,_r=_[it];++jr<ct;){var rn=ot[jr],ln=rn.iteratee,Es=rn.type,Lo=ln(_r);if(Es==O)_r=Lo;else if(!Lo){if(Es==k)continue e;break e}}xr[zt++]=_r}return xr}sn.prototype=M0(xw.prototype),sn.prototype.constructor=sn;function Gh(_){var T=-1,P=_==null?0:_.length;for(this.clear();++T<P;){var B=_[T];this.set(B[0],B[1])}}function zde(){this.__data__=Ly?Ly(null):{},this.size=0}function Hde(_){var T=this.has(_)&&delete this.__data__[_];return this.size-=T?1:0,T}function Vde(_){var T=this.__data__;if(Ly){var P=T[_];return P===l?r:P}return Nn.call(T,_)?T[_]:r}function $de(_){var T=this.__data__;return Ly?T[_]!==r:Nn.call(T,_)}function Gde(_,T){var P=this.__data__;return this.size+=this.has(_)?0:1,P[_]=Ly&&T===r?l:T,this}Gh.prototype.clear=zde,Gh.prototype.delete=Hde,Gh.prototype.get=Vde,Gh.prototype.has=$de,Gh.prototype.set=Gde;function Gc(_){var T=-1,P=_==null?0:_.length;for(this.clear();++T<P;){var B=_[T];this.set(B[0],B[1])}}function Ude(){this.__data__=[],this.size=0}function Wde(_){var T=this.__data__,P=_w(T,_);if(P<0)return!1;var B=T.length-1;return P==B?T.pop():hw.call(T,P,1),--this.size,!0}function Xde(_){var T=this.__data__,P=_w(T,_);return P<0?r:T[P][1]}function jde(_){return _w(this.__data__,_)>-1}function Yde(_,T){var P=this.__data__,B=_w(P,_);return B<0?(++this.size,P.push([_,T])):P[B][1]=T,this}Gc.prototype.clear=Ude,Gc.prototype.delete=Wde,Gc.prototype.get=Xde,Gc.prototype.has=jde,Gc.prototype.set=Yde;function Uc(_){var T=-1,P=_==null?0:_.length;for(this.clear();++T<P;){var B=_[T];this.set(B[0],B[1])}}function Kde(){this.size=0,this.__data__={hash:new Gh,map:new(Py||Gc),string:new Gh}}function Zde(_){var T=Lw(this,_).delete(_);return this.size-=T?1:0,T}function qde(_){return Lw(this,_).get(_)}function Jde(_){return Lw(this,_).has(_)}function Qde(_,T){var P=Lw(this,_),B=P.size;return P.set(_,T),this.size+=P.size==B?0:1,this}Uc.prototype.clear=Kde,Uc.prototype.delete=Zde,Uc.prototype.get=qde,Uc.prototype.has=Jde,Uc.prototype.set=Qde;function Uh(_){var T=-1,P=_==null?0:_.length;for(this.__data__=new Uc;++T<P;)this.add(_[T])}function ehe(_){return this.__data__.set(_,l),this}function the(_){return this.__data__.has(_)}Uh.prototype.add=Uh.prototype.push=ehe,Uh.prototype.has=the;function Xl(_){var T=this.__data__=new Gc(_);this.size=T.size}function rhe(){this.__data__=new Gc,this.size=0}function nhe(_){var T=this.__data__,P=T.delete(_);return this.size=T.size,P}function ihe(_){return this.__data__.get(_)}function ahe(_){return this.__data__.has(_)}function ohe(_,T){var P=this.__data__;if(P instanceof Gc){var B=P.__data__;if(!Py||B.length<i-1)return B.push([_,T]),this.size=++P.size,this;P=this.__data__=new Uc(B)}return P.set(_,T),this.size=P.size,this}Xl.prototype.clear=rhe,Xl.prototype.delete=nhe,Xl.prototype.get=ihe,Xl.prototype.has=ahe,Xl.prototype.set=ohe;function Dz(_,T){var P=Or(_),B=!P&&Kh(_),Y=!P&&!B&&gd(_),ne=!P&&!B&&!Y&&L0(_),ye=P||B||Y||ne,Ee=ye?HM(_.length,gde):[],Fe=Ee.length;for(var it in _)(T||Nn.call(_,it))&&!(ye&&(it=="length"||Y&&(it=="offset"||it=="parent")||ne&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||Yc(it,Fe)))&&Ee.push(it);return Ee}function Pz(_){var T=_.length;return T?_[nD(0,T-1)]:r}function she(_,T){return Iw(ts(_),Wh(T,0,_.length))}function lhe(_){return Iw(ts(_))}function jM(_,T,P){(P!==r&&!jl(_[T],P)||P===r&&!(T in _))&&Wc(_,T,P)}function ky(_,T,P){var B=_[T];(!(Nn.call(_,T)&&jl(B,P))||P===r&&!(T in _))&&Wc(_,T,P)}function _w(_,T){for(var P=_.length;P--;)if(jl(_[P][0],T))return P;return-1}function uhe(_,T,P,B){return dd(_,function(Y,ne,ye){T(B,Y,P(Y),ye)}),B}function Rz(_,T){return _&&Ou(T,La(T),_)}function che(_,T){return _&&Ou(T,ns(T),_)}function Wc(_,T,P){T=="__proto__"&&vw?vw(_,T,{configurable:!0,enumerable:!0,value:P,writable:!0}):_[T]=P}function YM(_,T){for(var P=-1,B=T.length,Y=je(B),ne=_==null;++P<B;)Y[P]=ne?r:MD(_,T[P]);return Y}function Wh(_,T,P){return _===_&&(P!==r&&(_=_<=P?_:P),T!==r&&(_=_>=T?_:T)),_}function tl(_,T,P,B,Y,ne){var ye,Ee=T&f,Fe=T&d,it=T&h;if(P&&(ye=Y?P(_,B,Y,ne):P(_)),ye!==r)return ye;if(!vi(_))return _;var ot=Or(_);if(ot){if(ye=Jhe(_),!Ee)return ts(_,ye)}else{var ct=ao(_),zt=ct==z||ct==J;if(gd(_))return t6(_,Ee);if(ct==ge||ct==Z||zt&&!Y){if(ye=Fe||zt?{}:_6(_),!Ee)return Fe?Vhe(_,che(ye,_)):Hhe(_,Rz(ye,_))}else{if(!Xn[ct])return Y?_:{};ye=Qhe(_,ct,Ee)}}ne||(ne=new Xl);var or=ne.get(_);if(or)return or;ne.set(_,ye),K6(_)?_.forEach(function(_r){ye.add(tl(_r,T,P,_r,_,ne))}):j6(_)&&_.forEach(function(_r,rn){ye.set(rn,tl(_r,T,P,rn,_,ne))});var xr=it?Fe?vD:hD:Fe?ns:La,jr=ot?r:xr(_);return Js(jr||_,function(_r,rn){jr&&(rn=_r,_r=_[rn]),ky(ye,rn,tl(_r,T,P,rn,_,ne))}),ye}function fhe(_){var T=La(_);return function(P){return Lz(P,_,T)}}function Lz(_,T,P){var B=P.length;if(_==null)return!B;for(_=Gn(_);B--;){var Y=P[B],ne=T[Y],ye=_[Y];if(ye===r&&!(Y in _)||!ne(ye))return!1}return!0}function Iz(_,T,P){if(typeof _!="function")throw new Qs(o);return Vy(function(){_.apply(r,P)},T)}function Oy(_,T,P,B){var Y=-1,ne=nw,ye=!0,Ee=_.length,Fe=[],it=T.length;if(!Ee)return Fe;P&&(T=si(T,Cs(P))),B?(ne=kM,ye=!1):T.length>=i&&(ne=My,ye=!1,T=new Uh(T));e:for(;++Y<Ee;){var ot=_[Y],ct=P==null?ot:P(ot);if(ot=B||ot!==0?ot:0,ye&&ct===ct){for(var zt=it;zt--;)if(T[zt]===ct)continue e;Fe.push(ot)}else ne(T,ct,B)||Fe.push(ot)}return Fe}var dd=o6(ku),kz=o6(ZM,!0);function dhe(_,T){var P=!0;return dd(_,function(B,Y,ne){return P=!!T(B,Y,ne),P}),P}function bw(_,T,P){for(var B=-1,Y=_.length;++B<Y;){var ne=_[B],ye=T(ne);if(ye!=null&&(Ee===r?ye===ye&&!As(ye):P(ye,Ee)))var Ee=ye,Fe=ne}return Fe}function hhe(_,T,P,B){var Y=_.length;for(P=Ur(P),P<0&&(P=-P>Y?0:Y+P),B=B===r||B>Y?Y:Ur(B),B<0&&(B+=Y),B=P>B?0:q6(B);P<B;)_[P++]=T;return _}function Oz(_,T){var P=[];return dd(_,function(B,Y,ne){T(B,Y,ne)&&P.push(B)}),P}function ja(_,T,P,B,Y){var ne=-1,ye=_.length;for(P||(P=tve),Y||(Y=[]);++ne<ye;){var Ee=_[ne];T>0&&P(Ee)?T>1?ja(Ee,T-1,P,B,Y):ud(Y,Ee):B||(Y[Y.length]=Ee)}return Y}var KM=s6(),Fz=s6(!0);function ku(_,T){return _&&KM(_,T,La)}function ZM(_,T){return _&&Fz(_,T,La)}function ww(_,T){return ld(T,function(P){return Kc(_[P])})}function Xh(_,T){T=vd(T,_);for(var P=0,B=T.length;_!=null&&P<B;)_=_[Fu(T[P++])];return P&&P==B?_:r}function Nz(_,T,P){var B=T(_);return Or(_)?B:ud(B,P(_))}function Po(_){return _==null?_===r?ke:_e:$h&&$h in Gn(_)?Khe(_):lve(_)}function qM(_,T){return _>T}function vhe(_,T){return _!=null&&Nn.call(_,T)}function phe(_,T){return _!=null&&T in Gn(_)}function ghe(_,T,P){return _>=io(T,P)&&_<da(T,P)}function JM(_,T,P){for(var B=P?kM:nw,Y=_[0].length,ne=_.length,ye=ne,Ee=je(ne),Fe=1/0,it=[];ye--;){var ot=_[ye];ye&&T&&(ot=si(ot,Cs(T))),Fe=io(ot.length,Fe),Ee[ye]=!P&&(T||Y>=120&&ot.length>=120)?new Uh(ye&&ot):r}ot=_[0];var ct=-1,zt=Ee[0];e:for(;++ct<Y&&it.length<Fe;){var or=ot[ct],xr=T?T(or):or;if(or=P||or!==0?or:0,!(zt?My(zt,xr):B(it,xr,P))){for(ye=ne;--ye;){var jr=Ee[ye];if(!(jr?My(jr,xr):B(_[ye],xr,P)))continue e}zt&&zt.push(xr),it.push(or)}}return it}function mhe(_,T,P,B){return ku(_,function(Y,ne,ye){T(B,P(Y),ne,ye)}),B}function Fy(_,T,P){T=vd(T,_),_=C6(_,T);var B=_==null?_:_[Fu(nl(T))];return B==null?r:Ss(B,_,P)}function Bz(_){return _i(_)&&Po(_)==Z}function yhe(_){return _i(_)&&Po(_)==Kt}function xhe(_){return _i(_)&&Po(_)==te}function Ny(_,T,P,B,Y){return _===T?!0:_==null||T==null||!_i(_)&&!_i(T)?_!==_&&T!==T:_he(_,T,P,B,Ny,Y)}function _he(_,T,P,B,Y,ne){var ye=Or(_),Ee=Or(T),Fe=ye?ve:ao(_),it=Ee?ve:ao(T);Fe=Fe==Z?ge:Fe,it=it==Z?ge:it;var ot=Fe==ge,ct=it==ge,zt=Fe==it;if(zt&&gd(_)){if(!gd(T))return!1;ye=!0,ot=!1}if(zt&&!ot)return ne||(ne=new Xl),ye||L0(_)?m6(_,T,P,B,Y,ne):jhe(_,T,Fe,P,B,Y,ne);if(!(P&v)){var or=ot&&Nn.call(_,"__wrapped__"),xr=ct&&Nn.call(T,"__wrapped__");if(or||xr){var jr=or?_.value():_,_r=xr?T.value():T;return ne||(ne=new Xl),Y(jr,_r,P,B,ne)}}return zt?(ne||(ne=new Xl),Yhe(_,T,P,B,Y,ne)):!1}function bhe(_){return _i(_)&&ao(_)==se}function QM(_,T,P,B){var Y=P.length,ne=Y,ye=!B;if(_==null)return!ne;for(_=Gn(_);Y--;){var Ee=P[Y];if(ye&&Ee[2]?Ee[1]!==_[Ee[0]]:!(Ee[0]in _))return!1}for(;++Y<ne;){Ee=P[Y];var Fe=Ee[0],it=_[Fe],ot=Ee[1];if(ye&&Ee[2]){if(it===r&&!(Fe in _))return!1}else{var ct=new Xl;if(B)var zt=B(it,ot,Fe,_,T,ct);if(!(zt===r?Ny(ot,it,v|p,B,ct):zt))return!1}}return!0}function zz(_){if(!vi(_)||nve(_))return!1;var T=Kc(_)?bde:ze;return T.test(Yh(_))}function whe(_){return _i(_)&&Po(_)==fe}function She(_){return _i(_)&&ao(_)==de}function Che(_){return _i(_)&&zw(_.length)&&!!ri[Po(_)]}function Hz(_){return typeof _=="function"?_:_==null?is:typeof _=="object"?Or(_)?Gz(_[0],_[1]):$z(_):l8(_)}function eD(_){if(!Hy(_))return Ede(_);var T=[];for(var P in Gn(_))Nn.call(_,P)&&P!="constructor"&&T.push(P);return T}function The(_){if(!vi(_))return sve(_);var T=Hy(_),P=[];for(var B in _)B=="constructor"&&(T||!Nn.call(_,B))||P.push(B);return P}function tD(_,T){return _<T}function Vz(_,T){var P=-1,B=rs(_)?je(_.length):[];return dd(_,function(Y,ne,ye){B[++P]=T(Y,ne,ye)}),B}function $z(_){var T=gD(_);return T.length==1&&T[0][2]?w6(T[0][0],T[0][1]):function(P){return P===_||QM(P,_,T)}}function Gz(_,T){return yD(_)&&b6(T)?w6(Fu(_),T):function(P){var B=MD(P,_);return B===r&&B===T?DD(P,_):Ny(T,B,v|p)}}function Sw(_,T,P,B,Y){_!==T&&KM(T,function(ne,ye){if(Y||(Y=new Xl),vi(ne))Ahe(_,T,ye,P,Sw,B,Y);else{var Ee=B?B(_D(_,ye),ne,ye+"",_,T,Y):r;Ee===r&&(Ee=ne),jM(_,ye,Ee)}},ns)}function Ahe(_,T,P,B,Y,ne,ye){var Ee=_D(_,P),Fe=_D(T,P),it=ye.get(Fe);if(it){jM(_,P,it);return}var ot=ne?ne(Ee,Fe,P+"",_,T,ye):r,ct=ot===r;if(ct){var zt=Or(Fe),or=!zt&&gd(Fe),xr=!zt&&!or&&L0(Fe);ot=Fe,zt||or||xr?Or(Ee)?ot=Ee:Ni(Ee)?ot=ts(Ee):or?(ct=!1,ot=t6(Fe,!0)):xr?(ct=!1,ot=r6(Fe,!0)):ot=[]:$y(Fe)||Kh(Fe)?(ot=Ee,Kh(Ee)?ot=J6(Ee):(!vi(Ee)||Kc(Ee))&&(ot=_6(Fe))):ct=!1}ct&&(ye.set(Fe,ot),Y(ot,Fe,B,ne,ye),ye.delete(Fe)),jM(_,P,ot)}function Uz(_,T){var P=_.length;if(P)return T+=T<0?P:0,Yc(T,P)?_[T]:r}function Wz(_,T,P){T.length?T=si(T,function(ne){return Or(ne)?function(ye){return Xh(ye,ne.length===1?ne[0]:ne)}:ne}):T=[is];var B=-1;T=si(T,Cs(gr()));var Y=Vz(_,function(ne,ye,Ee){var Fe=si(T,function(it){return it(ne)});return{criteria:Fe,index:++B,value:ne}});return Qfe(Y,function(ne,ye){return zhe(ne,ye,P)})}function Ehe(_,T){return Xz(_,T,function(P,B){return DD(_,B)})}function Xz(_,T,P){for(var B=-1,Y=T.length,ne={};++B<Y;){var ye=T[B],Ee=Xh(_,ye);P(Ee,ye)&&By(ne,vd(ye,_),Ee)}return ne}function Mhe(_){return function(T){return Xh(T,_)}}function rD(_,T,P,B){var Y=B?Jfe:b0,ne=-1,ye=T.length,Ee=_;for(_===T&&(T=ts(T)),P&&(Ee=si(_,Cs(P)));++ne<ye;)for(var Fe=0,it=T[ne],ot=P?P(it):it;(Fe=Y(Ee,ot,Fe,B))>-1;)Ee!==_&&hw.call(Ee,Fe,1),hw.call(_,Fe,1);return _}function jz(_,T){for(var P=_?T.length:0,B=P-1;P--;){var Y=T[P];if(P==B||Y!==ne){var ne=Y;Yc(Y)?hw.call(_,Y,1):oD(_,Y)}}return _}function nD(_,T){return _+gw(Ez()*(T-_+1))}function Dhe(_,T,P,B){for(var Y=-1,ne=da(pw((T-_)/(P||1)),0),ye=je(ne);ne--;)ye[B?ne:++Y]=_,_+=P;return ye}function iD(_,T){var P="";if(!_||T<1||T>V)return P;do T%2&&(P+=_),T=gw(T/2),T&&(_+=_);while(T);return P}function Zr(_,T){return bD(S6(_,T,is),_+"")}function Phe(_){return Pz(I0(_))}function Rhe(_,T){var P=I0(_);return Iw(P,Wh(T,0,P.length))}function By(_,T,P,B){if(!vi(_))return _;T=vd(T,_);for(var Y=-1,ne=T.length,ye=ne-1,Ee=_;Ee!=null&&++Y<ne;){var Fe=Fu(T[Y]),it=P;if(Fe==="__proto__"||Fe==="constructor"||Fe==="prototype")return _;if(Y!=ye){var ot=Ee[Fe];it=B?B(ot,Fe,Ee):r,it===r&&(it=vi(ot)?ot:Yc(T[Y+1])?[]:{})}ky(Ee,Fe,it),Ee=Ee[Fe]}return _}var Yz=mw?function(_,T){return mw.set(_,T),_}:is,Lhe=vw?function(_,T){return vw(_,"toString",{configurable:!0,enumerable:!1,value:RD(T),writable:!0})}:is;function Ihe(_){return Iw(I0(_))}function rl(_,T,P){var B=-1,Y=_.length;T<0&&(T=-T>Y?0:Y+T),P=P>Y?Y:P,P<0&&(P+=Y),Y=T>P?0:P-T>>>0,T>>>=0;for(var ne=je(Y);++B<Y;)ne[B]=_[B+T];return ne}function khe(_,T){var P;return dd(_,function(B,Y,ne){return P=T(B,Y,ne),!P}),!!P}function Cw(_,T,P){var B=0,Y=_==null?B:_.length;if(typeof T=="number"&&T===T&&Y<=W){for(;B<Y;){var ne=B+Y>>>1,ye=_[ne];ye!==null&&!As(ye)&&(P?ye<=T:ye<T)?B=ne+1:Y=ne}return Y}return aD(_,T,is,P)}function aD(_,T,P,B){var Y=0,ne=_==null?0:_.length;if(ne===0)return 0;T=P(T);for(var ye=T!==T,Ee=T===null,Fe=As(T),it=T===r;Y<ne;){var ot=gw((Y+ne)/2),ct=P(_[ot]),zt=ct!==r,or=ct===null,xr=ct===ct,jr=As(ct);if(ye)var _r=B||xr;else it?_r=xr&&(B||zt):Ee?_r=xr&&zt&&(B||!or):Fe?_r=xr&&zt&&!or&&(B||!jr):or||jr?_r=!1:_r=B?ct<=T:ct<T;_r?Y=ot+1:ne=ot}return io(ne,N)}function Kz(_,T){for(var P=-1,B=_.length,Y=0,ne=[];++P<B;){var ye=_[P],Ee=T?T(ye):ye;if(!P||!jl(Ee,Fe)){var Fe=Ee;ne[Y++]=ye===0?0:ye}}return ne}function Zz(_){return typeof _=="number"?_:As(_)?K:+_}function Ts(_){if(typeof _=="string")return _;if(Or(_))return si(_,Ts)+"";if(As(_))return Mz?Mz.call(_):"";var T=_+"";return T=="0"&&1/_==-H?"-0":T}function hd(_,T,P){var B=-1,Y=nw,ne=_.length,ye=!0,Ee=[],Fe=Ee;if(P)ye=!1,Y=kM;else if(ne>=i){var it=T?null:Whe(_);if(it)return aw(it);ye=!1,Y=My,Fe=new Uh}else Fe=T?[]:Ee;e:for(;++B<ne;){var ot=_[B],ct=T?T(ot):ot;if(ot=P||ot!==0?ot:0,ye&&ct===ct){for(var zt=Fe.length;zt--;)if(Fe[zt]===ct)continue e;T&&Fe.push(ct),Ee.push(ot)}else Y(Fe,ct,P)||(Fe!==Ee&&Fe.push(ct),Ee.push(ot))}return Ee}function oD(_,T){return T=vd(T,_),_=C6(_,T),_==null||delete _[Fu(nl(T))]}function qz(_,T,P,B){return By(_,T,P(Xh(_,T)),B)}function Tw(_,T,P,B){for(var Y=_.length,ne=B?Y:-1;(B?ne--:++ne<Y)&&T(_[ne],ne,_););return P?rl(_,B?0:ne,B?ne+1:Y):rl(_,B?ne+1:0,B?Y:ne)}function Jz(_,T){var P=_;return P instanceof sn&&(P=P.value()),OM(T,function(B,Y){return Y.func.apply(Y.thisArg,ud([B],Y.args))},P)}function sD(_,T,P){var B=_.length;if(B<2)return B?hd(_[0]):[];for(var Y=-1,ne=je(B);++Y<B;)for(var ye=_[Y],Ee=-1;++Ee<B;)Ee!=Y&&(ne[Y]=Oy(ne[Y]||ye,_[Ee],T,P));return hd(ja(ne,1),T,P)}function Qz(_,T,P){for(var B=-1,Y=_.length,ne=T.length,ye={};++B<Y;){var Ee=B<ne?T[B]:r;P(ye,_[B],Ee)}return ye}function lD(_){return Ni(_)?_:[]}function uD(_){return typeof _=="function"?_:is}function vd(_,T){return Or(_)?_:yD(_,T)?[_]:M6(Pn(_))}var Ohe=Zr;function pd(_,T,P){var B=_.length;return P=P===r?B:P,!T&&P>=B?_:rl(_,T,P)}var e6=wde||function(_){return Xa.clearTimeout(_)};function t6(_,T){if(T)return _.slice();var P=_.length,B=wz?wz(P):new _.constructor(P);return _.copy(B),B}function cD(_){var T=new _.constructor(_.byteLength);return new fw(T).set(new fw(_)),T}function Fhe(_,T){var P=T?cD(_.buffer):_.buffer;return new _.constructor(P,_.byteOffset,_.byteLength)}function Nhe(_){var T=new _.constructor(_.source,Ne.exec(_));return T.lastIndex=_.lastIndex,T}function Bhe(_){return Iy?Gn(Iy.call(_)):{}}function r6(_,T){var P=T?cD(_.buffer):_.buffer;return new _.constructor(P,_.byteOffset,_.length)}function n6(_,T){if(_!==T){var P=_!==r,B=_===null,Y=_===_,ne=As(_),ye=T!==r,Ee=T===null,Fe=T===T,it=As(T);if(!Ee&&!it&&!ne&&_>T||ne&&ye&&Fe&&!Ee&&!it||B&&ye&&Fe||!P&&Fe||!Y)return 1;if(!B&&!ne&&!it&&_<T||it&&P&&Y&&!B&&!ne||Ee&&P&&Y||!ye&&Y||!Fe)return-1}return 0}function zhe(_,T,P){for(var B=-1,Y=_.criteria,ne=T.criteria,ye=Y.length,Ee=P.length;++B<ye;){var Fe=n6(Y[B],ne[B]);if(Fe){if(B>=Ee)return Fe;var it=P[B];return Fe*(it=="desc"?-1:1)}}return _.index-T.index}function i6(_,T,P,B){for(var Y=-1,ne=_.length,ye=P.length,Ee=-1,Fe=T.length,it=da(ne-ye,0),ot=je(Fe+it),ct=!B;++Ee<Fe;)ot[Ee]=T[Ee];for(;++Y<ye;)(ct||Y<ne)&&(ot[P[Y]]=_[Y]);for(;it--;)ot[Ee++]=_[Y++];return ot}function a6(_,T,P,B){for(var Y=-1,ne=_.length,ye=-1,Ee=P.length,Fe=-1,it=T.length,ot=da(ne-Ee,0),ct=je(ot+it),zt=!B;++Y<ot;)ct[Y]=_[Y];for(var or=Y;++Fe<it;)ct[or+Fe]=T[Fe];for(;++ye<Ee;)(zt||Y<ne)&&(ct[or+P[ye]]=_[Y++]);return ct}function ts(_,T){var P=-1,B=_.length;for(T||(T=je(B));++P<B;)T[P]=_[P];return T}function Ou(_,T,P,B){var Y=!P;P||(P={});for(var ne=-1,ye=T.length;++ne<ye;){var Ee=T[ne],Fe=B?B(P[Ee],_[Ee],Ee,P,_):r;Fe===r&&(Fe=_[Ee]),Y?Wc(P,Ee,Fe):ky(P,Ee,Fe)}return P}function Hhe(_,T){return Ou(_,mD(_),T)}function Vhe(_,T){return Ou(_,y6(_),T)}function Aw(_,T){return function(P,B){var Y=Or(P)?Xfe:uhe,ne=T?T():{};return Y(P,_,gr(B,2),ne)}}function D0(_){return Zr(function(T,P){var B=-1,Y=P.length,ne=Y>1?P[Y-1]:r,ye=Y>2?P[2]:r;for(ne=_.length>3&&typeof ne=="function"?(Y--,ne):r,ye&&Ro(P[0],P[1],ye)&&(ne=Y<3?r:ne,Y=1),T=Gn(T);++B<Y;){var Ee=P[B];Ee&&_(T,Ee,B,ne)}return T})}function o6(_,T){return function(P,B){if(P==null)return P;if(!rs(P))return _(P,B);for(var Y=P.length,ne=T?Y:-1,ye=Gn(P);(T?ne--:++ne<Y)&&B(ye[ne],ne,ye)!==!1;);return P}}function s6(_){return function(T,P,B){for(var Y=-1,ne=Gn(T),ye=B(T),Ee=ye.length;Ee--;){var Fe=ye[_?Ee:++Y];if(P(ne[Fe],Fe,ne)===!1)break}return T}}function $he(_,T,P){var B=T&g,Y=zy(_);function ne(){var ye=this&&this!==Xa&&this instanceof ne?Y:_;return ye.apply(B?P:this,arguments)}return ne}function l6(_){return function(T){T=Pn(T);var P=w0(T)?Wl(T):r,B=P?P[0]:T.charAt(0),Y=P?pd(P,1).join(""):T.slice(1);return B[_]()+Y}}function P0(_){return function(T){return OM(o8(a8(T).replace(Lfe,"")),_,"")}}function zy(_){return function(){var T=arguments;switch(T.length){case 0:return new _;case 1:return new _(T[0]);case 2:return new _(T[0],T[1]);case 3:return new _(T[0],T[1],T[2]);case 4:return new _(T[0],T[1],T[2],T[3]);case 5:return new _(T[0],T[1],T[2],T[3],T[4]);case 6:return new _(T[0],T[1],T[2],T[3],T[4],T[5]);case 7:return new _(T[0],T[1],T[2],T[3],T[4],T[5],T[6])}var P=M0(_.prototype),B=_.apply(P,T);return vi(B)?B:P}}function Ghe(_,T,P){var B=zy(_);function Y(){for(var ne=arguments.length,ye=je(ne),Ee=ne,Fe=R0(Y);Ee--;)ye[Ee]=arguments[Ee];var it=ne<3&&ye[0]!==Fe&&ye[ne-1]!==Fe?[]:cd(ye,Fe);if(ne-=it.length,ne<P)return h6(_,T,Ew,Y.placeholder,r,ye,it,r,r,P-ne);var ot=this&&this!==Xa&&this instanceof Y?B:_;return Ss(ot,this,ye)}return Y}function u6(_){return function(T,P,B){var Y=Gn(T);if(!rs(T)){var ne=gr(P,3);T=La(T),P=function(Ee){return ne(Y[Ee],Ee,Y)}}var ye=_(T,P,B);return ye>-1?Y[ne?T[ye]:ye]:r}}function c6(_){return jc(function(T){var P=T.length,B=P,Y=el.prototype.thru;for(_&&T.reverse();B--;){var ne=T[B];if(typeof ne!="function")throw new Qs(o);if(Y&&!ye&&Rw(ne)=="wrapper")var ye=new el([],!0)}for(B=ye?B:P;++B<P;){ne=T[B];var Ee=Rw(ne),Fe=Ee=="wrapper"?pD(ne):r;Fe&&xD(Fe[0])&&Fe[1]==(C|x|w|E)&&!Fe[4].length&&Fe[9]==1?ye=ye[Rw(Fe[0])].apply(ye,Fe[3]):ye=ne.length==1&&xD(ne)?ye[Ee]():ye.thru(ne)}return function(){var it=arguments,ot=it[0];if(ye&&it.length==1&&Or(ot))return ye.plant(ot).value();for(var ct=0,zt=P?T[ct].apply(this,it):ot;++ct<P;)zt=T[ct].call(this,zt);return zt}})}function Ew(_,T,P,B,Y,ne,ye,Ee,Fe,it){var ot=T&C,ct=T&g,zt=T&m,or=T&(x|b),xr=T&A,jr=zt?r:zy(_);function _r(){for(var rn=arguments.length,ln=je(rn),Es=rn;Es--;)ln[Es]=arguments[Es];if(or)var Lo=R0(_r),Ms=tde(ln,Lo);if(B&&(ln=i6(ln,B,Y,or)),ne&&(ln=a6(ln,ne,ye,or)),rn-=Ms,or&&rn<it){var Bi=cd(ln,Lo);return h6(_,T,Ew,_r.placeholder,P,ln,Bi,Ee,Fe,it-rn)}var Yl=ct?P:this,qc=zt?Yl[_]:_;return rn=ln.length,Ee?ln=uve(ln,Ee):xr&&rn>1&&ln.reverse(),ot&&Fe<rn&&(ln.length=Fe),this&&this!==Xa&&this instanceof _r&&(qc=jr||zy(qc)),qc.apply(Yl,ln)}return _r}function f6(_,T){return function(P,B){return mhe(P,_,T(B),{})}}function Mw(_,T){return function(P,B){var Y;if(P===r&&B===r)return T;if(P!==r&&(Y=P),B!==r){if(Y===r)return B;typeof P=="string"||typeof B=="string"?(P=Ts(P),B=Ts(B)):(P=Zz(P),B=Zz(B)),Y=_(P,B)}return Y}}function fD(_){return jc(function(T){return T=si(T,Cs(gr())),Zr(function(P){var B=this;return _(T,function(Y){return Ss(Y,B,P)})})})}function Dw(_,T){T=T===r?" ":Ts(T);var P=T.length;if(P<2)return P?iD(T,_):T;var B=iD(T,pw(_/S0(T)));return w0(T)?pd(Wl(B),0,_).join(""):B.slice(0,_)}function Uhe(_,T,P,B){var Y=T&g,ne=zy(_);function ye(){for(var Ee=-1,Fe=arguments.length,it=-1,ot=B.length,ct=je(ot+Fe),zt=this&&this!==Xa&&this instanceof ye?ne:_;++it<ot;)ct[it]=B[it];for(;Fe--;)ct[it++]=arguments[++Ee];return Ss(zt,Y?P:this,ct)}return ye}function d6(_){return function(T,P,B){return B&&typeof B!="number"&&Ro(T,P,B)&&(P=B=r),T=Zc(T),P===r?(P=T,T=0):P=Zc(P),B=B===r?T<P?1:-1:Zc(B),Dhe(T,P,B,_)}}function Pw(_){return function(T,P){return typeof T=="string"&&typeof P=="string"||(T=il(T),P=il(P)),_(T,P)}}function h6(_,T,P,B,Y,ne,ye,Ee,Fe,it){var ot=T&x,ct=ot?ye:r,zt=ot?r:ye,or=ot?ne:r,xr=ot?r:ne;T|=ot?w:S,T&=~(ot?S:w),T&y||(T&=-4);var jr=[_,T,Y,or,ct,xr,zt,Ee,Fe,it],_r=P.apply(r,jr);return xD(_)&&T6(_r,jr),_r.placeholder=B,A6(_r,_,T)}function dD(_){var T=fa[_];return function(P,B){if(P=il(P),B=B==null?0:io(Ur(B),292),B&&Az(P)){var Y=(Pn(P)+"e").split("e"),ne=T(Y[0]+"e"+(+Y[1]+B));return Y=(Pn(ne)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-B))}return T(P)}}var Whe=A0&&1/aw(new A0([,-0]))[1]==H?function(_){return new A0(_)}:kD;function v6(_){return function(T){var P=ao(T);return P==se?$M(T):P==de?lde(T):ede(T,_(T))}}function Xc(_,T,P,B,Y,ne,ye,Ee){var Fe=T&m;if(!Fe&&typeof _!="function")throw new Qs(o);var it=B?B.length:0;if(it||(T&=-97,B=Y=r),ye=ye===r?ye:da(Ur(ye),0),Ee=Ee===r?Ee:Ur(Ee),it-=Y?Y.length:0,T&S){var ot=B,ct=Y;B=Y=r}var zt=Fe?r:pD(_),or=[_,T,P,B,Y,ot,ct,ne,ye,Ee];if(zt&&ove(or,zt),_=or[0],T=or[1],P=or[2],B=or[3],Y=or[4],Ee=or[9]=or[9]===r?Fe?0:_.length:da(or[9]-it,0),!Ee&&T&(x|b)&&(T&=-25),!T||T==g)var xr=$he(_,T,P);else T==x||T==b?xr=Ghe(_,T,Ee):(T==w||T==(g|w))&&!Y.length?xr=Uhe(_,T,P,B):xr=Ew.apply(r,or);var jr=zt?Yz:T6;return A6(jr(xr,or),_,T)}function p6(_,T,P,B){return _===r||jl(_,T0[P])&&!Nn.call(B,P)?T:_}function g6(_,T,P,B,Y,ne){return vi(_)&&vi(T)&&(ne.set(T,_),Sw(_,T,r,g6,ne),ne.delete(T)),_}function Xhe(_){return $y(_)?r:_}function m6(_,T,P,B,Y,ne){var ye=P&v,Ee=_.length,Fe=T.length;if(Ee!=Fe&&!(ye&&Fe>Ee))return!1;var it=ne.get(_),ot=ne.get(T);if(it&&ot)return it==T&&ot==_;var ct=-1,zt=!0,or=P&p?new Uh:r;for(ne.set(_,T),ne.set(T,_);++ct<Ee;){var xr=_[ct],jr=T[ct];if(B)var _r=ye?B(jr,xr,ct,T,_,ne):B(xr,jr,ct,_,T,ne);if(_r!==r){if(_r)continue;zt=!1;break}if(or){if(!FM(T,function(rn,ln){if(!My(or,ln)&&(xr===rn||Y(xr,rn,P,B,ne)))return or.push(ln)})){zt=!1;break}}else if(!(xr===jr||Y(xr,jr,P,B,ne))){zt=!1;break}}return ne.delete(_),ne.delete(T),zt}function jhe(_,T,P,B,Y,ne,ye){switch(P){case Nt:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case Kt:return!(_.byteLength!=T.byteLength||!ne(new fw(_),new fw(T)));case Se:case te:case he:return jl(+_,+T);case Re:return _.name==T.name&&_.message==T.message;case fe:case Ve:return _==T+"";case se:var Ee=$M;case de:var Fe=B&v;if(Ee||(Ee=aw),_.size!=T.size&&!Fe)return!1;var it=ye.get(_);if(it)return it==T;B|=p,ye.set(_,T);var ot=m6(Ee(_),Ee(T),B,Y,ne,ye);return ye.delete(_),ot;case Ge:if(Iy)return Iy.call(_)==Iy.call(T)}return!1}function Yhe(_,T,P,B,Y,ne){var ye=P&v,Ee=hD(_),Fe=Ee.length,it=hD(T),ot=it.length;if(Fe!=ot&&!ye)return!1;for(var ct=Fe;ct--;){var zt=Ee[ct];if(!(ye?zt in T:Nn.call(T,zt)))return!1}var or=ne.get(_),xr=ne.get(T);if(or&&xr)return or==T&&xr==_;var jr=!0;ne.set(_,T),ne.set(T,_);for(var _r=ye;++ct<Fe;){zt=Ee[ct];var rn=_[zt],ln=T[zt];if(B)var Es=ye?B(ln,rn,zt,T,_,ne):B(rn,ln,zt,_,T,ne);if(!(Es===r?rn===ln||Y(rn,ln,P,B,ne):Es)){jr=!1;break}_r||(_r=zt=="constructor")}if(jr&&!_r){var Lo=_.constructor,Ms=T.constructor;Lo!=Ms&&"constructor"in _&&"constructor"in T&&!(typeof Lo=="function"&&Lo instanceof Lo&&typeof Ms=="function"&&Ms instanceof Ms)&&(jr=!1)}return ne.delete(_),ne.delete(T),jr}function jc(_){return bD(S6(_,r,L6),_+"")}function hD(_){return Nz(_,La,mD)}function vD(_){return Nz(_,ns,y6)}var pD=mw?function(_){return mw.get(_)}:kD;function Rw(_){for(var T=_.name+"",P=E0[T],B=Nn.call(E0,T)?P.length:0;B--;){var Y=P[B],ne=Y.func;if(ne==null||ne==_)return Y.name}return T}function R0(_){var T=Nn.call(Q,"placeholder")?Q:_;return T.placeholder}function gr(){var _=Q.iteratee||LD;return _=_===LD?Hz:_,arguments.length?_(arguments[0],arguments[1]):_}function Lw(_,T){var P=_.__data__;return rve(T)?P[typeof T=="string"?"string":"hash"]:P.map}function gD(_){for(var T=La(_),P=T.length;P--;){var B=T[P],Y=_[B];T[P]=[B,Y,b6(Y)]}return T}function jh(_,T){var P=ade(_,T);return zz(P)?P:r}function Khe(_){var T=Nn.call(_,$h),P=_[$h];try{_[$h]=r;var B=!0}catch{}var Y=uw.call(_);return B&&(T?_[$h]=P:delete _[$h]),Y}var mD=UM?function(_){return _==null?[]:(_=Gn(_),ld(UM(_),function(T){return Cz.call(_,T)}))}:OD,y6=UM?function(_){for(var T=[];_;)ud(T,mD(_)),_=dw(_);return T}:OD,ao=Po;(WM&&ao(new WM(new ArrayBuffer(1)))!=Nt||Py&&ao(new Py)!=se||XM&&ao(XM.resolve())!=$e||A0&&ao(new A0)!=de||Ry&&ao(new Ry)!=Xe)&&(ao=function(_){var T=Po(_),P=T==ge?_.constructor:r,B=P?Yh(P):"";if(B)switch(B){case Rde:return Nt;case Lde:return se;case Ide:return $e;case kde:return de;case Ode:return Xe}return T});function Zhe(_,T,P){for(var B=-1,Y=P.length;++B<Y;){var ne=P[B],ye=ne.size;switch(ne.type){case"drop":_+=ye;break;case"dropRight":T-=ye;break;case"take":T=io(T,_+ye);break;case"takeRight":_=da(_,T-ye);break}}return{start:_,end:T}}function qhe(_){var T=_.match(X);return T?T[1].split(oe):[]}function x6(_,T,P){T=vd(T,_);for(var B=-1,Y=T.length,ne=!1;++B<Y;){var ye=Fu(T[B]);if(!(ne=_!=null&&P(_,ye)))break;_=_[ye]}return ne||++B!=Y?ne:(Y=_==null?0:_.length,!!Y&&zw(Y)&&Yc(ye,Y)&&(Or(_)||Kh(_)))}function Jhe(_){var T=_.length,P=new _.constructor(T);return T&&typeof _[0]=="string"&&Nn.call(_,"index")&&(P.index=_.index,P.input=_.input),P}function _6(_){return typeof _.constructor=="function"&&!Hy(_)?M0(dw(_)):{}}function Qhe(_,T,P){var B=_.constructor;switch(T){case Kt:return cD(_);case Se:case te:return new B(+_);case Nt:return Fhe(_,P);case Sr:case Lt:case er:case yr:case ar:case _t:case Ot:case ue:case Pe:return r6(_,P);case se:return new B;case he:case Ve:return new B(_);case fe:return Nhe(_);case de:return new B;case Ge:return Bhe(_)}}function eve(_,T){var P=T.length;if(!P)return _;var B=P-1;return T[B]=(P>1?"& ":"")+T[B],T=T.join(P>2?", ":" "),_.replace(et,`{
/* [wrapped with `+T+`] */
`)}function tve(_){return Or(_)||Kh(_)||!!(Tz&&_&&_[Tz])}function Yc(_,T){var P=typeof _;return T=T??V,!!T&&(P=="number"||P!="symbol"&&dt.test(_))&&_>-1&&_%1==0&&_<T}function Ro(_,T,P){if(!vi(P))return!1;var B=typeof T;return(B=="number"?rs(P)&&Yc(T,P.length):B=="string"&&T in P)?jl(P[T],_):!1}function yD(_,T){if(Or(_))return!1;var P=typeof _;return P=="number"||P=="symbol"||P=="boolean"||_==null||As(_)?!0:Fi.test(_)||!Oi.test(_)||T!=null&&_ in Gn(T)}function rve(_){var T=typeof _;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?_!=="__proto__":_===null}function xD(_){var T=Rw(_),P=Q[T];if(typeof P!="function"||!(T in sn.prototype))return!1;if(_===P)return!0;var B=pD(P);return!!B&&_===B[0]}function nve(_){return!!bz&&bz in _}var ive=sw?Kc:FD;function Hy(_){var T=_&&_.constructor,P=typeof T=="function"&&T.prototype||T0;return _===P}function b6(_){return _===_&&!vi(_)}function w6(_,T){return function(P){return P==null?!1:P[_]===T&&(T!==r||_ in Gn(P))}}function ave(_){var T=Nw(_,function(B){return P.size===u&&P.clear(),B}),P=T.cache;return T}function ove(_,T){var P=_[1],B=T[1],Y=P|B,ne=Y<(g|m|C),ye=B==C&&P==x||B==C&&P==E&&_[7].length<=T[8]||B==(C|E)&&T[7].length<=T[8]&&P==x;if(!(ne||ye))return _;B&g&&(_[2]=T[2],Y|=P&g?0:y);var Ee=T[3];if(Ee){var Fe=_[3];_[3]=Fe?i6(Fe,Ee,T[4]):Ee,_[4]=Fe?cd(_[3],c):T[4]}return Ee=T[5],Ee&&(Fe=_[5],_[5]=Fe?a6(Fe,Ee,T[6]):Ee,_[6]=Fe?cd(_[5],c):T[6]),Ee=T[7],Ee&&(_[7]=Ee),B&C&&(_[8]=_[8]==null?T[8]:io(_[8],T[8])),_[9]==null&&(_[9]=T[9]),_[0]=T[0],_[1]=Y,_}function sve(_){var T=[];if(_!=null)for(var P in Gn(_))T.push(P);return T}function lve(_){return uw.call(_)}function S6(_,T,P){return T=da(T===r?_.length-1:T,0),function(){for(var B=arguments,Y=-1,ne=da(B.length-T,0),ye=je(ne);++Y<ne;)ye[Y]=B[T+Y];Y=-1;for(var Ee=je(T+1);++Y<T;)Ee[Y]=B[Y];return Ee[T]=P(ye),Ss(_,this,Ee)}}function C6(_,T){return T.length<2?_:Xh(_,rl(T,0,-1))}function uve(_,T){for(var P=_.length,B=io(T.length,P),Y=ts(_);B--;){var ne=T[B];_[B]=Yc(ne,P)?Y[ne]:r}return _}function _D(_,T){if(!(T==="constructor"&&typeof _[T]=="function")&&T!="__proto__")return _[T]}var T6=E6(Yz),Vy=Cde||function(_,T){return Xa.setTimeout(_,T)},bD=E6(Lhe);function A6(_,T,P){var B=T+"";return bD(_,eve(B,cve(qhe(B),P)))}function E6(_){var T=0,P=0;return function(){var B=Mde(),Y=L-(B-P);if(P=B,Y>0){if(++T>=R)return arguments[0]}else T=0;return _.apply(r,arguments)}}function Iw(_,T){var P=-1,B=_.length,Y=B-1;for(T=T===r?B:T;++P<T;){var ne=nD(P,Y),ye=_[ne];_[ne]=_[P],_[P]=ye}return _.length=T,_}var M6=ave(function(_){var T=[];return _.charCodeAt(0)===46&&T.push(""),_.replace(Ki,function(P,B,Y,ne){T.push(Y?ne.replace(le,"$1"):B||P)}),T});function Fu(_){if(typeof _=="string"||As(_))return _;var T=_+"";return T=="0"&&1/_==-H?"-0":T}function Yh(_){if(_!=null){try{return lw.call(_)}catch{}try{return _+""}catch{}}return""}function cve(_,T){return Js(j,function(P){var B="_."+P[0];T&P[1]&&!nw(_,B)&&_.push(B)}),_.sort()}function D6(_){if(_ instanceof sn)return _.clone();var T=new el(_.__wrapped__,_.__chain__);return T.__actions__=ts(_.__actions__),T.__index__=_.__index__,T.__values__=_.__values__,T}function fve(_,T,P){(P?Ro(_,T,P):T===r)?T=1:T=da(Ur(T),0);var B=_==null?0:_.length;if(!B||T<1)return[];for(var Y=0,ne=0,ye=je(pw(B/T));Y<B;)ye[ne++]=rl(_,Y,Y+=T);return ye}function dve(_){for(var T=-1,P=_==null?0:_.length,B=0,Y=[];++T<P;){var ne=_[T];ne&&(Y[B++]=ne)}return Y}function hve(){var _=arguments.length;if(!_)return[];for(var T=je(_-1),P=arguments[0],B=_;B--;)T[B-1]=arguments[B];return ud(Or(P)?ts(P):[P],ja(T,1))}var vve=Zr(function(_,T){return Ni(_)?Oy(_,ja(T,1,Ni,!0)):[]}),pve=Zr(function(_,T){var P=nl(T);return Ni(P)&&(P=r),Ni(_)?Oy(_,ja(T,1,Ni,!0),gr(P,2)):[]}),gve=Zr(function(_,T){var P=nl(T);return Ni(P)&&(P=r),Ni(_)?Oy(_,ja(T,1,Ni,!0),r,P):[]});function mve(_,T,P){var B=_==null?0:_.length;return B?(T=P||T===r?1:Ur(T),rl(_,T<0?0:T,B)):[]}function yve(_,T,P){var B=_==null?0:_.length;return B?(T=P||T===r?1:Ur(T),T=B-T,rl(_,0,T<0?0:T)):[]}function xve(_,T){return _&&_.length?Tw(_,gr(T,3),!0,!0):[]}function _ve(_,T){return _&&_.length?Tw(_,gr(T,3),!0):[]}function bve(_,T,P,B){var Y=_==null?0:_.length;return Y?(P&&typeof P!="number"&&Ro(_,T,P)&&(P=0,B=Y),hhe(_,T,P,B)):[]}function P6(_,T,P){var B=_==null?0:_.length;if(!B)return-1;var Y=P==null?0:Ur(P);return Y<0&&(Y=da(B+Y,0)),iw(_,gr(T,3),Y)}function R6(_,T,P){var B=_==null?0:_.length;if(!B)return-1;var Y=B-1;return P!==r&&(Y=Ur(P),Y=P<0?da(B+Y,0):io(Y,B-1)),iw(_,gr(T,3),Y,!0)}function L6(_){var T=_==null?0:_.length;return T?ja(_,1):[]}function wve(_){var T=_==null?0:_.length;return T?ja(_,H):[]}function Sve(_,T){var P=_==null?0:_.length;return P?(T=T===r?1:Ur(T),ja(_,T)):[]}function Cve(_){for(var T=-1,P=_==null?0:_.length,B={};++T<P;){var Y=_[T];B[Y[0]]=Y[1]}return B}function I6(_){return _&&_.length?_[0]:r}function Tve(_,T,P){var B=_==null?0:_.length;if(!B)return-1;var Y=P==null?0:Ur(P);return Y<0&&(Y=da(B+Y,0)),b0(_,T,Y)}function Ave(_){var T=_==null?0:_.length;return T?rl(_,0,-1):[]}var Eve=Zr(function(_){var T=si(_,lD);return T.length&&T[0]===_[0]?JM(T):[]}),Mve=Zr(function(_){var T=nl(_),P=si(_,lD);return T===nl(P)?T=r:P.pop(),P.length&&P[0]===_[0]?JM(P,gr(T,2)):[]}),Dve=Zr(function(_){var T=nl(_),P=si(_,lD);return T=typeof T=="function"?T:r,T&&P.pop(),P.length&&P[0]===_[0]?JM(P,r,T):[]});function Pve(_,T){return _==null?"":Ade.call(_,T)}function nl(_){var T=_==null?0:_.length;return T?_[T-1]:r}function Rve(_,T,P){var B=_==null?0:_.length;if(!B)return-1;var Y=B;return P!==r&&(Y=Ur(P),Y=Y<0?da(B+Y,0):io(Y,B-1)),T===T?cde(_,T,Y):iw(_,hz,Y,!0)}function Lve(_,T){return _&&_.length?Uz(_,Ur(T)):r}var Ive=Zr(k6);function k6(_,T){return _&&_.length&&T&&T.length?rD(_,T):_}function kve(_,T,P){return _&&_.length&&T&&T.length?rD(_,T,gr(P,2)):_}function Ove(_,T,P){return _&&_.length&&T&&T.length?rD(_,T,r,P):_}var Fve=jc(function(_,T){var P=_==null?0:_.length,B=YM(_,T);return jz(_,si(T,function(Y){return Yc(Y,P)?+Y:Y}).sort(n6)),B});function Nve(_,T){var P=[];if(!(_&&_.length))return P;var B=-1,Y=[],ne=_.length;for(T=gr(T,3);++B<ne;){var ye=_[B];T(ye,B,_)&&(P.push(ye),Y.push(B))}return jz(_,Y),P}function wD(_){return _==null?_:Pde.call(_)}function Bve(_,T,P){var B=_==null?0:_.length;return B?(P&&typeof P!="number"&&Ro(_,T,P)?(T=0,P=B):(T=T==null?0:Ur(T),P=P===r?B:Ur(P)),rl(_,T,P)):[]}function zve(_,T){return Cw(_,T)}function Hve(_,T,P){return aD(_,T,gr(P,2))}function Vve(_,T){var P=_==null?0:_.length;if(P){var B=Cw(_,T);if(B<P&&jl(_[B],T))return B}return-1}function $ve(_,T){return Cw(_,T,!0)}function Gve(_,T,P){return aD(_,T,gr(P,2),!0)}function Uve(_,T){var P=_==null?0:_.length;if(P){var B=Cw(_,T,!0)-1;if(jl(_[B],T))return B}return-1}function Wve(_){return _&&_.length?Kz(_):[]}function Xve(_,T){return _&&_.length?Kz(_,gr(T,2)):[]}function jve(_){var T=_==null?0:_.length;return T?rl(_,1,T):[]}function Yve(_,T,P){return _&&_.length?(T=P||T===r?1:Ur(T),rl(_,0,T<0?0:T)):[]}function Kve(_,T,P){var B=_==null?0:_.length;return B?(T=P||T===r?1:Ur(T),T=B-T,rl(_,T<0?0:T,B)):[]}function Zve(_,T){return _&&_.length?Tw(_,gr(T,3),!1,!0):[]}function qve(_,T){return _&&_.length?Tw(_,gr(T,3)):[]}var Jve=Zr(function(_){return hd(ja(_,1,Ni,!0))}),Qve=Zr(function(_){var T=nl(_);return Ni(T)&&(T=r),hd(ja(_,1,Ni,!0),gr(T,2))}),epe=Zr(function(_){var T=nl(_);return T=typeof T=="function"?T:r,hd(ja(_,1,Ni,!0),r,T)});function tpe(_){return _&&_.length?hd(_):[]}function rpe(_,T){return _&&_.length?hd(_,gr(T,2)):[]}function npe(_,T){return T=typeof T=="function"?T:r,_&&_.length?hd(_,r,T):[]}function SD(_){if(!(_&&_.length))return[];var T=0;return _=ld(_,function(P){if(Ni(P))return T=da(P.length,T),!0}),HM(T,function(P){return si(_,NM(P))})}function O6(_,T){if(!(_&&_.length))return[];var P=SD(_);return T==null?P:si(P,function(B){return Ss(T,r,B)})}var ipe=Zr(function(_,T){return Ni(_)?Oy(_,T):[]}),ape=Zr(function(_){return sD(ld(_,Ni))}),ope=Zr(function(_){var T=nl(_);return Ni(T)&&(T=r),sD(ld(_,Ni),gr(T,2))}),spe=Zr(function(_){var T=nl(_);return T=typeof T=="function"?T:r,sD(ld(_,Ni),r,T)}),lpe=Zr(SD);function upe(_,T){return Qz(_||[],T||[],ky)}function cpe(_,T){return Qz(_||[],T||[],By)}var fpe=Zr(function(_){var T=_.length,P=T>1?_[T-1]:r;return P=typeof P=="function"?(_.pop(),P):r,O6(_,P)});function F6(_){var T=Q(_);return T.__chain__=!0,T}function dpe(_,T){return T(_),_}function kw(_,T){return T(_)}var hpe=jc(function(_){var T=_.length,P=T?_[0]:0,B=this.__wrapped__,Y=function(ne){return YM(ne,_)};return T>1||this.__actions__.length||!(B instanceof sn)||!Yc(P)?this.thru(Y):(B=B.slice(P,+P+(T?1:0)),B.__actions__.push({func:kw,args:[Y],thisArg:r}),new el(B,this.__chain__).thru(function(ne){return T&&!ne.length&&ne.push(r),ne}))});function vpe(){return F6(this)}function ppe(){return new el(this.value(),this.__chain__)}function gpe(){this.__values__===r&&(this.__values__=Z6(this.value()));var _=this.__index__>=this.__values__.length,T=_?r:this.__values__[this.__index__++];return{done:_,value:T}}function mpe(){return this}function ype(_){for(var T,P=this;P instanceof xw;){var B=D6(P);B.__index__=0,B.__values__=r,T?Y.__wrapped__=B:T=B;var Y=B;P=P.__wrapped__}return Y.__wrapped__=_,T}function xpe(){var _=this.__wrapped__;if(_ instanceof sn){var T=_;return this.__actions__.length&&(T=new sn(this)),T=T.reverse(),T.__actions__.push({func:kw,args:[wD],thisArg:r}),new el(T,this.__chain__)}return this.thru(wD)}function _pe(){return Jz(this.__wrapped__,this.__actions__)}var bpe=Aw(function(_,T,P){Nn.call(_,P)?++_[P]:Wc(_,P,1)});function wpe(_,T,P){var B=Or(_)?fz:dhe;return P&&Ro(_,T,P)&&(T=r),B(_,gr(T,3))}function Spe(_,T){var P=Or(_)?ld:Oz;return P(_,gr(T,3))}var Cpe=u6(P6),Tpe=u6(R6);function Ape(_,T){return ja(Ow(_,T),1)}function Epe(_,T){return ja(Ow(_,T),H)}function Mpe(_,T,P){return P=P===r?1:Ur(P),ja(Ow(_,T),P)}function N6(_,T){var P=Or(_)?Js:dd;return P(_,gr(T,3))}function B6(_,T){var P=Or(_)?jfe:kz;return P(_,gr(T,3))}var Dpe=Aw(function(_,T,P){Nn.call(_,P)?_[P].push(T):Wc(_,P,[T])});function Ppe(_,T,P,B){_=rs(_)?_:I0(_),P=P&&!B?Ur(P):0;var Y=_.length;return P<0&&(P=da(Y+P,0)),Hw(_)?P<=Y&&_.indexOf(T,P)>-1:!!Y&&b0(_,T,P)>-1}var Rpe=Zr(function(_,T,P){var B=-1,Y=typeof T=="function",ne=rs(_)?je(_.length):[];return dd(_,function(ye){ne[++B]=Y?Ss(T,ye,P):Fy(ye,T,P)}),ne}),Lpe=Aw(function(_,T,P){Wc(_,P,T)});function Ow(_,T){var P=Or(_)?si:Vz;return P(_,gr(T,3))}function Ipe(_,T,P,B){return _==null?[]:(Or(T)||(T=T==null?[]:[T]),P=B?r:P,Or(P)||(P=P==null?[]:[P]),Wz(_,T,P))}var kpe=Aw(function(_,T,P){_[P?0:1].push(T)},function(){return[[],[]]});function Ope(_,T,P){var B=Or(_)?OM:pz,Y=arguments.length<3;return B(_,gr(T,4),P,Y,dd)}function Fpe(_,T,P){var B=Or(_)?Yfe:pz,Y=arguments.length<3;return B(_,gr(T,4),P,Y,kz)}function Npe(_,T){var P=Or(_)?ld:Oz;return P(_,Bw(gr(T,3)))}function Bpe(_){var T=Or(_)?Pz:Phe;return T(_)}function zpe(_,T,P){(P?Ro(_,T,P):T===r)?T=1:T=Ur(T);var B=Or(_)?she:Rhe;return B(_,T)}function Hpe(_){var T=Or(_)?lhe:Ihe;return T(_)}function Vpe(_){if(_==null)return 0;if(rs(_))return Hw(_)?S0(_):_.length;var T=ao(_);return T==se||T==de?_.size:eD(_).length}function $pe(_,T,P){var B=Or(_)?FM:khe;return P&&Ro(_,T,P)&&(T=r),B(_,gr(T,3))}var Gpe=Zr(function(_,T){if(_==null)return[];var P=T.length;return P>1&&Ro(_,T[0],T[1])?T=[]:P>2&&Ro(T[0],T[1],T[2])&&(T=[T[0]]),Wz(_,ja(T,1),[])}),Fw=Sde||function(){return Xa.Date.now()};function Upe(_,T){if(typeof T!="function")throw new Qs(o);return _=Ur(_),function(){if(--_<1)return T.apply(this,arguments)}}function z6(_,T,P){return T=P?r:T,T=_&&T==null?_.length:T,Xc(_,C,r,r,r,r,T)}function H6(_,T){var P;if(typeof T!="function")throw new Qs(o);return _=Ur(_),function(){return--_>0&&(P=T.apply(this,arguments)),_<=1&&(T=r),P}}var CD=Zr(function(_,T,P){var B=g;if(P.length){var Y=cd(P,R0(CD));B|=w}return Xc(_,B,T,P,Y)}),V6=Zr(function(_,T,P){var B=g|m;if(P.length){var Y=cd(P,R0(V6));B|=w}return Xc(T,B,_,P,Y)});function $6(_,T,P){T=P?r:T;var B=Xc(_,x,r,r,r,r,r,T);return B.placeholder=$6.placeholder,B}function G6(_,T,P){T=P?r:T;var B=Xc(_,b,r,r,r,r,r,T);return B.placeholder=G6.placeholder,B}function U6(_,T,P){var B,Y,ne,ye,Ee,Fe,it=0,ot=!1,ct=!1,zt=!0;if(typeof _!="function")throw new Qs(o);T=il(T)||0,vi(P)&&(ot=!!P.leading,ct="maxWait"in P,ne=ct?da(il(P.maxWait)||0,T):ne,zt="trailing"in P?!!P.trailing:zt);function or(Bi){var Yl=B,qc=Y;return B=Y=r,it=Bi,ye=_.apply(qc,Yl),ye}function xr(Bi){return it=Bi,Ee=Vy(rn,T),ot?or(Bi):ye}function jr(Bi){var Yl=Bi-Fe,qc=Bi-it,u8=T-Yl;return ct?io(u8,ne-qc):u8}function _r(Bi){var Yl=Bi-Fe,qc=Bi-it;return Fe===r||Yl>=T||Yl<0||ct&&qc>=ne}function rn(){var Bi=Fw();if(_r(Bi))return ln(Bi);Ee=Vy(rn,jr(Bi))}function ln(Bi){return Ee=r,zt&&B?or(Bi):(B=Y=r,ye)}function Es(){Ee!==r&&e6(Ee),it=0,B=Fe=Y=Ee=r}function Lo(){return Ee===r?ye:ln(Fw())}function Ms(){var Bi=Fw(),Yl=_r(Bi);if(B=arguments,Y=this,Fe=Bi,Yl){if(Ee===r)return xr(Fe);if(ct)return e6(Ee),Ee=Vy(rn,T),or(Fe)}return Ee===r&&(Ee=Vy(rn,T)),ye}return Ms.cancel=Es,Ms.flush=Lo,Ms}var Wpe=Zr(function(_,T){return Iz(_,1,T)}),Xpe=Zr(function(_,T,P){return Iz(_,il(T)||0,P)});function jpe(_){return Xc(_,A)}function Nw(_,T){if(typeof _!="function"||T!=null&&typeof T!="function")throw new Qs(o);var P=function(){var B=arguments,Y=T?T.apply(this,B):B[0],ne=P.cache;if(ne.has(Y))return ne.get(Y);var ye=_.apply(this,B);return P.cache=ne.set(Y,ye)||ne,ye};return P.cache=new(Nw.Cache||Uc),P}Nw.Cache=Uc;function Bw(_){if(typeof _!="function")throw new Qs(o);return function(){var T=arguments;switch(T.length){case 0:return!_.call(this);case 1:return!_.call(this,T[0]);case 2:return!_.call(this,T[0],T[1]);case 3:return!_.call(this,T[0],T[1],T[2])}return!_.apply(this,T)}}function Ype(_){return H6(2,_)}var Kpe=Ohe(function(_,T){T=T.length==1&&Or(T[0])?si(T[0],Cs(gr())):si(ja(T,1),Cs(gr()));var P=T.length;return Zr(function(B){for(var Y=-1,ne=io(B.length,P);++Y<ne;)B[Y]=T[Y].call(this,B[Y]);return Ss(_,this,B)})}),TD=Zr(function(_,T){var P=cd(T,R0(TD));return Xc(_,w,r,T,P)}),W6=Zr(function(_,T){var P=cd(T,R0(W6));return Xc(_,S,r,T,P)}),Zpe=jc(function(_,T){return Xc(_,E,r,r,r,T)});function qpe(_,T){if(typeof _!="function")throw new Qs(o);return T=T===r?T:Ur(T),Zr(_,T)}function Jpe(_,T){if(typeof _!="function")throw new Qs(o);return T=T==null?0:da(Ur(T),0),Zr(function(P){var B=P[T],Y=pd(P,0,T);return B&&ud(Y,B),Ss(_,this,Y)})}function Qpe(_,T,P){var B=!0,Y=!0;if(typeof _!="function")throw new Qs(o);return vi(P)&&(B="leading"in P?!!P.leading:B,Y="trailing"in P?!!P.trailing:Y),U6(_,T,{leading:B,maxWait:T,trailing:Y})}function e0e(_){return z6(_,1)}function t0e(_,T){return TD(uD(T),_)}function r0e(){if(!arguments.length)return[];var _=arguments[0];return Or(_)?_:[_]}function n0e(_){return tl(_,h)}function i0e(_,T){return T=typeof T=="function"?T:r,tl(_,h,T)}function a0e(_){return tl(_,f|h)}function o0e(_,T){return T=typeof T=="function"?T:r,tl(_,f|h,T)}function s0e(_,T){return T==null||Lz(_,T,La(T))}function jl(_,T){return _===T||_!==_&&T!==T}var l0e=Pw(qM),u0e=Pw(function(_,T){return _>=T}),Kh=Bz((function(){return arguments})())?Bz:function(_){return _i(_)&&Nn.call(_,"callee")&&!Cz.call(_,"callee")},Or=je.isArray,c0e=az?Cs(az):yhe;function rs(_){return _!=null&&zw(_.length)&&!Kc(_)}function Ni(_){return _i(_)&&rs(_)}function f0e(_){return _===!0||_===!1||_i(_)&&Po(_)==Se}var gd=Tde||FD,d0e=oz?Cs(oz):xhe;function h0e(_){return _i(_)&&_.nodeType===1&&!$y(_)}function v0e(_){if(_==null)return!0;if(rs(_)&&(Or(_)||typeof _=="string"||typeof _.splice=="function"||gd(_)||L0(_)||Kh(_)))return!_.length;var T=ao(_);if(T==se||T==de)return!_.size;if(Hy(_))return!eD(_).length;for(var P in _)if(Nn.call(_,P))return!1;return!0}function p0e(_,T){return Ny(_,T)}function g0e(_,T,P){P=typeof P=="function"?P:r;var B=P?P(_,T):r;return B===r?Ny(_,T,r,P):!!B}function AD(_){if(!_i(_))return!1;var T=Po(_);return T==Re||T==pe||typeof _.message=="string"&&typeof _.name=="string"&&!$y(_)}function m0e(_){return typeof _=="number"&&Az(_)}function Kc(_){if(!vi(_))return!1;var T=Po(_);return T==z||T==J||T==Te||T==Le}function X6(_){return typeof _=="number"&&_==Ur(_)}function zw(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=V}function vi(_){var T=typeof _;return _!=null&&(T=="object"||T=="function")}function _i(_){return _!=null&&typeof _=="object"}var j6=sz?Cs(sz):bhe;function y0e(_,T){return _===T||QM(_,T,gD(T))}function x0e(_,T,P){return P=typeof P=="function"?P:r,QM(_,T,gD(T),P)}function _0e(_){return Y6(_)&&_!=+_}function b0e(_){if(ive(_))throw new Ir(a);return zz(_)}function w0e(_){return _===null}function S0e(_){return _==null}function Y6(_){return typeof _=="number"||_i(_)&&Po(_)==he}function $y(_){if(!_i(_)||Po(_)!=ge)return!1;var T=dw(_);if(T===null)return!0;var P=Nn.call(T,"constructor")&&T.constructor;return typeof P=="function"&&P instanceof P&&lw.call(P)==xde}var ED=lz?Cs(lz):whe;function C0e(_){return X6(_)&&_>=-V&&_<=V}var K6=uz?Cs(uz):She;function Hw(_){return typeof _=="string"||!Or(_)&&_i(_)&&Po(_)==Ve}function As(_){return typeof _=="symbol"||_i(_)&&Po(_)==Ge}var L0=cz?Cs(cz):Che;function T0e(_){return _===r}function A0e(_){return _i(_)&&ao(_)==Xe}function E0e(_){return _i(_)&&Po(_)==gt}var M0e=Pw(tD),D0e=Pw(function(_,T){return _<=T});function Z6(_){if(!_)return[];if(rs(_))return Hw(_)?Wl(_):ts(_);if(Dy&&_[Dy])return sde(_[Dy]());var T=ao(_),P=T==se?$M:T==de?aw:I0;return P(_)}function Zc(_){if(!_)return _===0?_:0;if(_=il(_),_===H||_===-H){var T=_<0?-1:1;return T*U}return _===_?_:0}function Ur(_){var T=Zc(_),P=T%1;return T===T?P?T-P:T:0}function q6(_){return _?Wh(Ur(_),0,q):0}function il(_){if(typeof _=="number")return _;if(As(_))return K;if(vi(_)){var T=typeof _.valueOf=="function"?_.valueOf():_;_=vi(T)?T+"":T}if(typeof _!="string")return _===0?_:+_;_=gz(_);var P=Be.test(_);return P||Ue.test(_)?Ufe(_.slice(2),P?2:8):Ze.test(_)?K:+_}function J6(_){return Ou(_,ns(_))}function P0e(_){return _?Wh(Ur(_),-V,V):_===0?_:0}function Pn(_){return _==null?"":Ts(_)}var R0e=D0(function(_,T){if(Hy(T)||rs(T)){Ou(T,La(T),_);return}for(var P in T)Nn.call(T,P)&&ky(_,P,T[P])}),Q6=D0(function(_,T){Ou(T,ns(T),_)}),Vw=D0(function(_,T,P,B){Ou(T,ns(T),_,B)}),L0e=D0(function(_,T,P,B){Ou(T,La(T),_,B)}),I0e=jc(YM);function k0e(_,T){var P=M0(_);return T==null?P:Rz(P,T)}var O0e=Zr(function(_,T){_=Gn(_);var P=-1,B=T.length,Y=B>2?T[2]:r;for(Y&&Ro(T[0],T[1],Y)&&(B=1);++P<B;)for(var ne=T[P],ye=ns(ne),Ee=-1,Fe=ye.length;++Ee<Fe;){var it=ye[Ee],ot=_[it];(ot===r||jl(ot,T0[it])&&!Nn.call(_,it))&&(_[it]=ne[it])}return _}),F0e=Zr(function(_){return _.push(r,g6),Ss(e8,r,_)});function N0e(_,T){return dz(_,gr(T,3),ku)}function B0e(_,T){return dz(_,gr(T,3),ZM)}function z0e(_,T){return _==null?_:KM(_,gr(T,3),ns)}function H0e(_,T){return _==null?_:Fz(_,gr(T,3),ns)}function V0e(_,T){return _&&ku(_,gr(T,3))}function $0e(_,T){return _&&ZM(_,gr(T,3))}function G0e(_){return _==null?[]:ww(_,La(_))}function U0e(_){return _==null?[]:ww(_,ns(_))}function MD(_,T,P){var B=_==null?r:Xh(_,T);return B===r?P:B}function W0e(_,T){return _!=null&&x6(_,T,vhe)}function DD(_,T){return _!=null&&x6(_,T,phe)}var X0e=f6(function(_,T,P){T!=null&&typeof T.toString!="function"&&(T=uw.call(T)),_[T]=P},RD(is)),j0e=f6(function(_,T,P){T!=null&&typeof T.toString!="function"&&(T=uw.call(T)),Nn.call(_,T)?_[T].push(P):_[T]=[P]},gr),Y0e=Zr(Fy);function La(_){return rs(_)?Dz(_):eD(_)}function ns(_){return rs(_)?Dz(_,!0):The(_)}function K0e(_,T){var P={};return T=gr(T,3),ku(_,function(B,Y,ne){Wc(P,T(B,Y,ne),B)}),P}function Z0e(_,T){var P={};return T=gr(T,3),ku(_,function(B,Y,ne){Wc(P,Y,T(B,Y,ne))}),P}var q0e=D0(function(_,T,P){Sw(_,T,P)}),e8=D0(function(_,T,P,B){Sw(_,T,P,B)}),J0e=jc(function(_,T){var P={};if(_==null)return P;var B=!1;T=si(T,function(ne){return ne=vd(ne,_),B||(B=ne.length>1),ne}),Ou(_,vD(_),P),B&&(P=tl(P,f|d|h,Xhe));for(var Y=T.length;Y--;)oD(P,T[Y]);return P});function Q0e(_,T){return t8(_,Bw(gr(T)))}var ege=jc(function(_,T){return _==null?{}:Ehe(_,T)});function t8(_,T){if(_==null)return{};var P=si(vD(_),function(B){return[B]});return T=gr(T),Xz(_,P,function(B,Y){return T(B,Y[0])})}function tge(_,T,P){T=vd(T,_);var B=-1,Y=T.length;for(Y||(Y=1,_=r);++B<Y;){var ne=_==null?r:_[Fu(T[B])];ne===r&&(B=Y,ne=P),_=Kc(ne)?ne.call(_):ne}return _}function rge(_,T,P){return _==null?_:By(_,T,P)}function nge(_,T,P,B){return B=typeof B=="function"?B:r,_==null?_:By(_,T,P,B)}var r8=v6(La),n8=v6(ns);function ige(_,T,P){var B=Or(_),Y=B||gd(_)||L0(_);if(T=gr(T,4),P==null){var ne=_&&_.constructor;Y?P=B?new ne:[]:vi(_)?P=Kc(ne)?M0(dw(_)):{}:P={}}return(Y?Js:ku)(_,function(ye,Ee,Fe){return T(P,ye,Ee,Fe)}),P}function age(_,T){return _==null?!0:oD(_,T)}function oge(_,T,P){return _==null?_:qz(_,T,uD(P))}function sge(_,T,P,B){return B=typeof B=="function"?B:r,_==null?_:qz(_,T,uD(P),B)}function I0(_){return _==null?[]:VM(_,La(_))}function lge(_){return _==null?[]:VM(_,ns(_))}function uge(_,T,P){return P===r&&(P=T,T=r),P!==r&&(P=il(P),P=P===P?P:0),T!==r&&(T=il(T),T=T===T?T:0),Wh(il(_),T,P)}function cge(_,T,P){return T=Zc(T),P===r?(P=T,T=0):P=Zc(P),_=il(_),ghe(_,T,P)}function fge(_,T,P){if(P&&typeof P!="boolean"&&Ro(_,T,P)&&(T=P=r),P===r&&(typeof T=="boolean"?(P=T,T=r):typeof _=="boolean"&&(P=_,_=r)),_===r&&T===r?(_=0,T=1):(_=Zc(_),T===r?(T=_,_=0):T=Zc(T)),_>T){var B=_;_=T,T=B}if(P||_%1||T%1){var Y=Ez();return io(_+Y*(T-_+Gfe("1e-"+((Y+"").length-1))),T)}return nD(_,T)}var dge=P0(function(_,T,P){return T=T.toLowerCase(),_+(P?i8(T):T)});function i8(_){return PD(Pn(_).toLowerCase())}function a8(_){return _=Pn(_),_&&_.replace(Mt,rde).replace(Ife,"")}function hge(_,T,P){_=Pn(_),T=Ts(T);var B=_.length;P=P===r?B:Wh(Ur(P),0,B);var Y=P;return P-=T.length,P>=0&&_.slice(P,Y)==T}function vge(_){return _=Pn(_),_&&Gr.test(_)?_.replace(Gt,nde):_}function pge(_){return _=Pn(_),_&&Zi.test(_)?_.replace(xi,"\\$&"):_}var gge=P0(function(_,T,P){return _+(P?"-":"")+T.toLowerCase()}),mge=P0(function(_,T,P){return _+(P?" ":"")+T.toLowerCase()}),yge=l6("toLowerCase");function xge(_,T,P){_=Pn(_),T=Ur(T);var B=T?S0(_):0;if(!T||B>=T)return _;var Y=(T-B)/2;return Dw(gw(Y),P)+_+Dw(pw(Y),P)}function _ge(_,T,P){_=Pn(_),T=Ur(T);var B=T?S0(_):0;return T&&B<T?_+Dw(T-B,P):_}function bge(_,T,P){_=Pn(_),T=Ur(T);var B=T?S0(_):0;return T&&B<T?Dw(T-B,P)+_:_}function wge(_,T,P){return P||T==null?T=0:T&&(T=+T),Dde(Pn(_).replace(qi,""),T||0)}function Sge(_,T,P){return(P?Ro(_,T,P):T===r)?T=1:T=Ur(T),iD(Pn(_),T)}function Cge(){var _=arguments,T=Pn(_[0]);return _.length<3?T:T.replace(_[1],_[2])}var Tge=P0(function(_,T,P){return _+(P?"_":"")+T.toLowerCase()});function Age(_,T,P){return P&&typeof P!="number"&&Ro(_,T,P)&&(T=P=r),P=P===r?q:P>>>0,P?(_=Pn(_),_&&(typeof T=="string"||T!=null&&!ED(T))&&(T=Ts(T),!T&&w0(_))?pd(Wl(_),0,P):_.split(T,P)):[]}var Ege=P0(function(_,T,P){return _+(P?" ":"")+PD(T)});function Mge(_,T,P){return _=Pn(_),P=P==null?0:Wh(Ur(P),0,_.length),T=Ts(T),_.slice(P,P+T.length)==T}function Dge(_,T,P){var B=Q.templateSettings;P&&Ro(_,T,P)&&(T=r),_=Pn(_),T=Vw({},T,B,p6);var Y=Vw({},T.imports,B.imports,p6),ne=La(Y),ye=VM(Y,ne),Ee,Fe,it=0,ot=T.interpolate||Ft,ct="__p += '",zt=GM((T.escape||Ft).source+"|"+ot.source+"|"+(ot===di?ce:Ft).source+"|"+(T.evaluate||Ft).source+"|$","g"),or="//# sourceURL="+(Nn.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bfe+"]")+`
`;_.replace(zt,function(_r,rn,ln,Es,Lo,Ms){return ln||(ln=Es),ct+=_.slice(it,Ms).replace(yt,ide),rn&&(Ee=!0,ct+=`' +
__e(`+rn+`) +
'`),Lo&&(Fe=!0,ct+=`';
`+Lo+`;
__p += '`),ln&&(ct+=`' +
((__t = (`+ln+`)) == null ? '' : __t) +
'`),it=Ms+_r.length,_r}),ct+=`';
`;var xr=Nn.call(T,"variable")&&T.variable;if(!xr)ct=`with (obj) {
`+ct+`
}
`;else if(re.test(xr))throw new Ir(s);ct=(Fe?ct.replace(Je,""):ct).replace(bt,"$1").replace(Tt,"$1;"),ct="function("+(xr||"obj")+`) {
`+(xr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ee?", __e = _.escape":"")+(Fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ct+`return __p
}`;var jr=s8(function(){return En(ne,or+"return "+ct).apply(r,ye)});if(jr.source=ct,AD(jr))throw jr;return jr}function Pge(_){return Pn(_).toLowerCase()}function Rge(_){return Pn(_).toUpperCase()}function Lge(_,T,P){if(_=Pn(_),_&&(P||T===r))return gz(_);if(!_||!(T=Ts(T)))return _;var B=Wl(_),Y=Wl(T),ne=mz(B,Y),ye=yz(B,Y)+1;return pd(B,ne,ye).join("")}function Ige(_,T,P){if(_=Pn(_),_&&(P||T===r))return _.slice(0,_z(_)+1);if(!_||!(T=Ts(T)))return _;var B=Wl(_),Y=yz(B,Wl(T))+1;return pd(B,0,Y).join("")}function kge(_,T,P){if(_=Pn(_),_&&(P||T===r))return _.replace(qi,"");if(!_||!(T=Ts(T)))return _;var B=Wl(_),Y=mz(B,Wl(T));return pd(B,Y).join("")}function Oge(_,T){var P=M,B=D;if(vi(T)){var Y="separator"in T?T.separator:Y;P="length"in T?Ur(T.length):P,B="omission"in T?Ts(T.omission):B}_=Pn(_);var ne=_.length;if(w0(_)){var ye=Wl(_);ne=ye.length}if(P>=ne)return _;var Ee=P-S0(B);if(Ee<1)return B;var Fe=ye?pd(ye,0,Ee).join(""):_.slice(0,Ee);if(Y===r)return Fe+B;if(ye&&(Ee+=Fe.length-Ee),ED(Y)){if(_.slice(Ee).search(Y)){var it,ot=Fe;for(Y.global||(Y=GM(Y.source,Pn(Ne.exec(Y))+"g")),Y.lastIndex=0;it=Y.exec(ot);)var ct=it.index;Fe=Fe.slice(0,ct===r?Ee:ct)}}else if(_.indexOf(Ts(Y),Ee)!=Ee){var zt=Fe.lastIndexOf(Y);zt>-1&&(Fe=Fe.slice(0,zt))}return Fe+B}function Fge(_){return _=Pn(_),_&&Jt.test(_)?_.replace(Bt,fde):_}var Nge=P0(function(_,T,P){return _+(P?" ":"")+T.toUpperCase()}),PD=l6("toUpperCase");function o8(_,T,P){return _=Pn(_),T=P?r:T,T===r?ode(_)?vde(_):qfe(_):_.match(T)||[]}var s8=Zr(function(_,T){try{return Ss(_,r,T)}catch(P){return AD(P)?P:new Ir(P)}}),Bge=jc(function(_,T){return Js(T,function(P){P=Fu(P),Wc(_,P,CD(_[P],_))}),_});function zge(_){var T=_==null?0:_.length,P=gr();return _=T?si(_,function(B){if(typeof B[1]!="function")throw new Qs(o);return[P(B[0]),B[1]]}):[],Zr(function(B){for(var Y=-1;++Y<T;){var ne=_[Y];if(Ss(ne[0],this,B))return Ss(ne[1],this,B)}})}function Hge(_){return fhe(tl(_,f))}function RD(_){return function(){return _}}function Vge(_,T){return _==null||_!==_?T:_}var $ge=c6(),Gge=c6(!0);function is(_){return _}function LD(_){return Hz(typeof _=="function"?_:tl(_,f))}function Uge(_){return $z(tl(_,f))}function Wge(_,T){return Gz(_,tl(T,f))}var Xge=Zr(function(_,T){return function(P){return Fy(P,_,T)}}),jge=Zr(function(_,T){return function(P){return Fy(_,P,T)}});function ID(_,T,P){var B=La(T),Y=ww(T,B);P==null&&!(vi(T)&&(Y.length||!B.length))&&(P=T,T=_,_=this,Y=ww(T,La(T)));var ne=!(vi(P)&&"chain"in P)||!!P.chain,ye=Kc(_);return Js(Y,function(Ee){var Fe=T[Ee];_[Ee]=Fe,ye&&(_.prototype[Ee]=function(){var it=this.__chain__;if(ne||it){var ot=_(this.__wrapped__),ct=ot.__actions__=ts(this.__actions__);return ct.push({func:Fe,args:arguments,thisArg:_}),ot.__chain__=it,ot}return Fe.apply(_,ud([this.value()],arguments))})}),_}function Yge(){return Xa._===this&&(Xa._=_de),this}function kD(){}function Kge(_){return _=Ur(_),Zr(function(T){return Uz(T,_)})}var Zge=fD(si),qge=fD(fz),Jge=fD(FM);function l8(_){return yD(_)?NM(Fu(_)):Mhe(_)}function Qge(_){return function(T){return _==null?r:Xh(_,T)}}var eme=d6(),tme=d6(!0);function OD(){return[]}function FD(){return!1}function rme(){return{}}function nme(){return""}function ime(){return!0}function ame(_,T){if(_=Ur(_),_<1||_>V)return[];var P=q,B=io(_,q);T=gr(T),_-=q;for(var Y=HM(B,T);++P<_;)T(P);return Y}function ome(_){return Or(_)?si(_,Fu):As(_)?[_]:ts(M6(Pn(_)))}function sme(_){var T=++yde;return Pn(_)+T}var lme=Mw(function(_,T){return _+T},0),ume=dD("ceil"),cme=Mw(function(_,T){return _/T},1),fme=dD("floor");function dme(_){return _&&_.length?bw(_,is,qM):r}function hme(_,T){return _&&_.length?bw(_,gr(T,2),qM):r}function vme(_){return vz(_,is)}function pme(_,T){return vz(_,gr(T,2))}function gme(_){return _&&_.length?bw(_,is,tD):r}function mme(_,T){return _&&_.length?bw(_,gr(T,2),tD):r}var yme=Mw(function(_,T){return _*T},1),xme=dD("round"),_me=Mw(function(_,T){return _-T},0);function bme(_){return _&&_.length?zM(_,is):0}function wme(_,T){return _&&_.length?zM(_,gr(T,2)):0}return Q.after=Upe,Q.ary=z6,Q.assign=R0e,Q.assignIn=Q6,Q.assignInWith=Vw,Q.assignWith=L0e,Q.at=I0e,Q.before=H6,Q.bind=CD,Q.bindAll=Bge,Q.bindKey=V6,Q.castArray=r0e,Q.chain=F6,Q.chunk=fve,Q.compact=dve,Q.concat=hve,Q.cond=zge,Q.conforms=Hge,Q.constant=RD,Q.countBy=bpe,Q.create=k0e,Q.curry=$6,Q.curryRight=G6,Q.debounce=U6,Q.defaults=O0e,Q.defaultsDeep=F0e,Q.defer=Wpe,Q.delay=Xpe,Q.difference=vve,Q.differenceBy=pve,Q.differenceWith=gve,Q.drop=mve,Q.dropRight=yve,Q.dropRightWhile=xve,Q.dropWhile=_ve,Q.fill=bve,Q.filter=Spe,Q.flatMap=Ape,Q.flatMapDeep=Epe,Q.flatMapDepth=Mpe,Q.flatten=L6,Q.flattenDeep=wve,Q.flattenDepth=Sve,Q.flip=jpe,Q.flow=$ge,Q.flowRight=Gge,Q.fromPairs=Cve,Q.functions=G0e,Q.functionsIn=U0e,Q.groupBy=Dpe,Q.initial=Ave,Q.intersection=Eve,Q.intersectionBy=Mve,Q.intersectionWith=Dve,Q.invert=X0e,Q.invertBy=j0e,Q.invokeMap=Rpe,Q.iteratee=LD,Q.keyBy=Lpe,Q.keys=La,Q.keysIn=ns,Q.map=Ow,Q.mapKeys=K0e,Q.mapValues=Z0e,Q.matches=Uge,Q.matchesProperty=Wge,Q.memoize=Nw,Q.merge=q0e,Q.mergeWith=e8,Q.method=Xge,Q.methodOf=jge,Q.mixin=ID,Q.negate=Bw,Q.nthArg=Kge,Q.omit=J0e,Q.omitBy=Q0e,Q.once=Ype,Q.orderBy=Ipe,Q.over=Zge,Q.overArgs=Kpe,Q.overEvery=qge,Q.overSome=Jge,Q.partial=TD,Q.partialRight=W6,Q.partition=kpe,Q.pick=ege,Q.pickBy=t8,Q.property=l8,Q.propertyOf=Qge,Q.pull=Ive,Q.pullAll=k6,Q.pullAllBy=kve,Q.pullAllWith=Ove,Q.pullAt=Fve,Q.range=eme,Q.rangeRight=tme,Q.rearg=Zpe,Q.reject=Npe,Q.remove=Nve,Q.rest=qpe,Q.reverse=wD,Q.sampleSize=zpe,Q.set=rge,Q.setWith=nge,Q.shuffle=Hpe,Q.slice=Bve,Q.sortBy=Gpe,Q.sortedUniq=Wve,Q.sortedUniqBy=Xve,Q.split=Age,Q.spread=Jpe,Q.tail=jve,Q.take=Yve,Q.takeRight=Kve,Q.takeRightWhile=Zve,Q.takeWhile=qve,Q.tap=dpe,Q.throttle=Qpe,Q.thru=kw,Q.toArray=Z6,Q.toPairs=r8,Q.toPairsIn=n8,Q.toPath=ome,Q.toPlainObject=J6,Q.transform=ige,Q.unary=e0e,Q.union=Jve,Q.unionBy=Qve,Q.unionWith=epe,Q.uniq=tpe,Q.uniqBy=rpe,Q.uniqWith=npe,Q.unset=age,Q.unzip=SD,Q.unzipWith=O6,Q.update=oge,Q.updateWith=sge,Q.values=I0,Q.valuesIn=lge,Q.without=ipe,Q.words=o8,Q.wrap=t0e,Q.xor=ape,Q.xorBy=ope,Q.xorWith=spe,Q.zip=lpe,Q.zipObject=upe,Q.zipObjectDeep=cpe,Q.zipWith=fpe,Q.entries=r8,Q.entriesIn=n8,Q.extend=Q6,Q.extendWith=Vw,ID(Q,Q),Q.add=lme,Q.attempt=s8,Q.camelCase=dge,Q.capitalize=i8,Q.ceil=ume,Q.clamp=uge,Q.clone=n0e,Q.cloneDeep=a0e,Q.cloneDeepWith=o0e,Q.cloneWith=i0e,Q.conformsTo=s0e,Q.deburr=a8,Q.defaultTo=Vge,Q.divide=cme,Q.endsWith=hge,Q.eq=jl,Q.escape=vge,Q.escapeRegExp=pge,Q.every=wpe,Q.find=Cpe,Q.findIndex=P6,Q.findKey=N0e,Q.findLast=Tpe,Q.findLastIndex=R6,Q.findLastKey=B0e,Q.floor=fme,Q.forEach=N6,Q.forEachRight=B6,Q.forIn=z0e,Q.forInRight=H0e,Q.forOwn=V0e,Q.forOwnRight=$0e,Q.get=MD,Q.gt=l0e,Q.gte=u0e,Q.has=W0e,Q.hasIn=DD,Q.head=I6,Q.identity=is,Q.includes=Ppe,Q.indexOf=Tve,Q.inRange=cge,Q.invoke=Y0e,Q.isArguments=Kh,Q.isArray=Or,Q.isArrayBuffer=c0e,Q.isArrayLike=rs,Q.isArrayLikeObject=Ni,Q.isBoolean=f0e,Q.isBuffer=gd,Q.isDate=d0e,Q.isElement=h0e,Q.isEmpty=v0e,Q.isEqual=p0e,Q.isEqualWith=g0e,Q.isError=AD,Q.isFinite=m0e,Q.isFunction=Kc,Q.isInteger=X6,Q.isLength=zw,Q.isMap=j6,Q.isMatch=y0e,Q.isMatchWith=x0e,Q.isNaN=_0e,Q.isNative=b0e,Q.isNil=S0e,Q.isNull=w0e,Q.isNumber=Y6,Q.isObject=vi,Q.isObjectLike=_i,Q.isPlainObject=$y,Q.isRegExp=ED,Q.isSafeInteger=C0e,Q.isSet=K6,Q.isString=Hw,Q.isSymbol=As,Q.isTypedArray=L0,Q.isUndefined=T0e,Q.isWeakMap=A0e,Q.isWeakSet=E0e,Q.join=Pve,Q.kebabCase=gge,Q.last=nl,Q.lastIndexOf=Rve,Q.lowerCase=mge,Q.lowerFirst=yge,Q.lt=M0e,Q.lte=D0e,Q.max=dme,Q.maxBy=hme,Q.mean=vme,Q.meanBy=pme,Q.min=gme,Q.minBy=mme,Q.stubArray=OD,Q.stubFalse=FD,Q.stubObject=rme,Q.stubString=nme,Q.stubTrue=ime,Q.multiply=yme,Q.nth=Lve,Q.noConflict=Yge,Q.noop=kD,Q.now=Fw,Q.pad=xge,Q.padEnd=_ge,Q.padStart=bge,Q.parseInt=wge,Q.random=fge,Q.reduce=Ope,Q.reduceRight=Fpe,Q.repeat=Sge,Q.replace=Cge,Q.result=tge,Q.round=xme,Q.runInContext=Oe,Q.sample=Bpe,Q.size=Vpe,Q.snakeCase=Tge,Q.some=$pe,Q.sortedIndex=zve,Q.sortedIndexBy=Hve,Q.sortedIndexOf=Vve,Q.sortedLastIndex=$ve,Q.sortedLastIndexBy=Gve,Q.sortedLastIndexOf=Uve,Q.startCase=Ege,Q.startsWith=Mge,Q.subtract=_me,Q.sum=bme,Q.sumBy=wme,Q.template=Dge,Q.times=ame,Q.toFinite=Zc,Q.toInteger=Ur,Q.toLength=q6,Q.toLower=Pge,Q.toNumber=il,Q.toSafeInteger=P0e,Q.toString=Pn,Q.toUpper=Rge,Q.trim=Lge,Q.trimEnd=Ige,Q.trimStart=kge,Q.truncate=Oge,Q.unescape=Fge,Q.uniqueId=sme,Q.upperCase=Nge,Q.upperFirst=PD,Q.each=N6,Q.eachRight=B6,Q.first=I6,ID(Q,(function(){var _={};return ku(Q,function(T,P){Nn.call(Q.prototype,P)||(_[P]=T)}),_})(),{chain:!1}),Q.VERSION=n,Js(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){Q[_].placeholder=Q}),Js(["drop","take"],function(_,T){sn.prototype[_]=function(P){P=P===r?1:da(Ur(P),0);var B=this.__filtered__&&!T?new sn(this):this.clone();return B.__filtered__?B.__takeCount__=io(P,B.__takeCount__):B.__views__.push({size:io(P,q),type:_+(B.__dir__<0?"Right":"")}),B},sn.prototype[_+"Right"]=function(P){return this.reverse()[_](P).reverse()}}),Js(["filter","map","takeWhile"],function(_,T){var P=T+1,B=P==k||P==F;sn.prototype[_]=function(Y){var ne=this.clone();return ne.__iteratees__.push({iteratee:gr(Y,3),type:P}),ne.__filtered__=ne.__filtered__||B,ne}}),Js(["head","last"],function(_,T){var P="take"+(T?"Right":"");sn.prototype[_]=function(){return this[P](1).value()[0]}}),Js(["initial","tail"],function(_,T){var P="drop"+(T?"":"Right");sn.prototype[_]=function(){return this.__filtered__?new sn(this):this[P](1)}}),sn.prototype.compact=function(){return this.filter(is)},sn.prototype.find=function(_){return this.filter(_).head()},sn.prototype.findLast=function(_){return this.reverse().find(_)},sn.prototype.invokeMap=Zr(function(_,T){return typeof _=="function"?new sn(this):this.map(function(P){return Fy(P,_,T)})}),sn.prototype.reject=function(_){return this.filter(Bw(gr(_)))},sn.prototype.slice=function(_,T){_=Ur(_);var P=this;return P.__filtered__&&(_>0||T<0)?new sn(P):(_<0?P=P.takeRight(-_):_&&(P=P.drop(_)),T!==r&&(T=Ur(T),P=T<0?P.dropRight(-T):P.take(T-_)),P)},sn.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},sn.prototype.toArray=function(){return this.take(q)},ku(sn.prototype,function(_,T){var P=/^(?:filter|find|map|reject)|While$/.test(T),B=/^(?:head|last)$/.test(T),Y=Q[B?"take"+(T=="last"?"Right":""):T],ne=B||/^find/.test(T);Y&&(Q.prototype[T]=function(){var ye=this.__wrapped__,Ee=B?[1]:arguments,Fe=ye instanceof sn,it=Ee[0],ot=Fe||Or(ye),ct=function(rn){var ln=Y.apply(Q,ud([rn],Ee));return B&&zt?ln[0]:ln};ot&&P&&typeof it=="function"&&it.length!=1&&(Fe=ot=!1);var zt=this.__chain__,or=!!this.__actions__.length,xr=ne&&!zt,jr=Fe&&!or;if(!ne&&ot){ye=jr?ye:new sn(this);var _r=_.apply(ye,Ee);return _r.__actions__.push({func:kw,args:[ct],thisArg:r}),new el(_r,zt)}return xr&&jr?_.apply(this,Ee):(_r=this.thru(ct),xr?B?_r.value()[0]:_r.value():_r)})}),Js(["pop","push","shift","sort","splice","unshift"],function(_){var T=ow[_],P=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",B=/^(?:pop|shift)$/.test(_);Q.prototype[_]=function(){var Y=arguments;if(B&&!this.__chain__){var ne=this.value();return T.apply(Or(ne)?ne:[],Y)}return this[P](function(ye){return T.apply(Or(ye)?ye:[],Y)})}}),ku(sn.prototype,function(_,T){var P=Q[T];if(P){var B=P.name+"";Nn.call(E0,B)||(E0[B]=[]),E0[B].push({name:T,func:P})}}),E0[Ew(r,m).name]=[{name:"wrapper",func:r}],sn.prototype.clone=Fde,sn.prototype.reverse=Nde,sn.prototype.value=Bde,Q.prototype.at=hpe,Q.prototype.chain=vpe,Q.prototype.commit=ppe,Q.prototype.next=gpe,Q.prototype.plant=ype,Q.prototype.reverse=xpe,Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=_pe,Q.prototype.first=Q.prototype.head,Dy&&(Q.prototype[Dy]=mpe),Q}),C0=pde();Vh?((Vh.exports=C0)._=C0,LM._=C0):Xa._=C0}).call(Yct)})(lx,lx.exports)),lx.exports}var Zct=Kct();const GI=jct(Zct);function rfe(e,t){return function(){return e.apply(t,arguments)}}const{toString:qct}=Object.prototype,{getPrototypeOf:JB}=Object,{iterator:bM,toStringTag:nfe}=Symbol,wM=(e=>t=>{const r=qct.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Iu=e=>(e=e.toLowerCase(),t=>wM(t)===e),SM=e=>t=>typeof t===e,{isArray:wy}=Array,ib=SM("undefined");function $b(e){return e!==null&&!ib(e)&&e.constructor!==null&&!ib(e.constructor)&&gs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ife=Iu("ArrayBuffer");function Jct(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ife(e.buffer),t}const Qct=SM("string"),gs=SM("function"),afe=SM("number"),Gb=e=>e!==null&&typeof e=="object",eft=e=>e===!0||e===!1,IC=e=>{if(wM(e)!=="object")return!1;const t=JB(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nfe in e)&&!(bM in e)},tft=e=>{if(!Gb(e)||$b(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rft=Iu("Date"),nft=Iu("File"),ift=Iu("Blob"),aft=Iu("FileList"),oft=e=>Gb(e)&&gs(e.pipe),sft=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gs(e.append)&&((t=wM(e))==="formdata"||t==="object"&&gs(e.toString)&&e.toString()==="[object FormData]"))},lft=Iu("URLSearchParams"),[uft,cft,fft,dft]=["ReadableStream","Request","Response","Headers"].map(Iu),hft=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ub(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),wy(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if($b(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function ofe(e,t){if($b(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ap=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sfe=e=>!ib(e)&&e!==ap;function bO(){const{caseless:e}=sfe(this)&&this||{},t={},r=(n,i)=>{const a=e&&ofe(t,i)||i;IC(t[a])&&IC(n)?t[a]=bO(t[a],n):IC(n)?t[a]=bO({},n):wy(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ub(arguments[n],r);return t}const vft=(e,t,r,{allOwnKeys:n}={})=>(Ub(t,(i,a)=>{r&&gs(i)?e[a]=rfe(i,r):e[a]=i},{allOwnKeys:n}),e),pft=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gft=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mft=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&JB(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yft=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},xft=e=>{if(!e)return null;if(wy(e))return e;let t=e.length;if(!afe(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_ft=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&JB(Uint8Array)),bft=(e,t)=>{const n=(e&&e[bM]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},wft=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Sft=Iu("HTMLFormElement"),Cft=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),JK=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Tft=Iu("RegExp"),lfe=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ub(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},Aft=e=>{lfe(e,(t,r)=>{if(gs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(gs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Eft=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return wy(e)?n(e):n(String(e).split(t)),r},Mft=()=>{},Dft=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Pft(e){return!!(e&&gs(e.append)&&e[nfe]==="FormData"&&e[bM])}const Rft=e=>{const t=new Array(10),r=(n,i)=>{if(Gb(n)){if(t.indexOf(n)>=0)return;if($b(n))return n;if(!("toJSON"in n)){t[i]=n;const a=wy(n)?[]:{};return Ub(n,(o,s)=>{const l=r(o,i+1);!ib(l)&&(a[s]=l)}),t[i]=void 0,a}}return n};return r(e,0)},Lft=Iu("AsyncFunction"),Ift=e=>e&&(Gb(e)||gs(e))&&gs(e.then)&&gs(e.catch),ufe=((e,t)=>e?setImmediate:t?((r,n)=>(ap.addEventListener("message",({source:i,data:a})=>{i===ap&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ap.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gs(ap.postMessage)),kft=typeof queueMicrotask<"u"?queueMicrotask.bind(ap):typeof process<"u"&&process.nextTick||ufe,Oft=e=>e!=null&&gs(e[bM]),Ke={isArray:wy,isArrayBuffer:ife,isBuffer:$b,isFormData:sft,isArrayBufferView:Jct,isString:Qct,isNumber:afe,isBoolean:eft,isObject:Gb,isPlainObject:IC,isEmptyObject:tft,isReadableStream:uft,isRequest:cft,isResponse:fft,isHeaders:dft,isUndefined:ib,isDate:rft,isFile:nft,isBlob:ift,isRegExp:Tft,isFunction:gs,isStream:oft,isURLSearchParams:lft,isTypedArray:_ft,isFileList:aft,forEach:Ub,merge:bO,extend:vft,trim:hft,stripBOM:pft,inherits:gft,toFlatObject:mft,kindOf:wM,kindOfTest:Iu,endsWith:yft,toArray:xft,forEachEntry:bft,matchAll:wft,isHTMLForm:Sft,hasOwnProperty:JK,hasOwnProp:JK,reduceDescriptors:lfe,freezeMethods:Aft,toObjectSet:Eft,toCamelCase:Cft,noop:Mft,toFiniteNumber:Dft,findKey:ofe,global:ap,isContextDefined:sfe,isSpecCompliantForm:Pft,toJSONObject:Rft,isAsyncFn:Lft,isThenable:Ift,setImmediate:ufe,asap:kft,isIterable:Oft};function $r(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ke.inherits($r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}});const cfe=$r.prototype,ffe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ffe[e]={value:e}});Object.defineProperties($r,ffe);Object.defineProperty(cfe,"isAxiosError",{value:!0});$r.from=(e,t,r,n,i,a)=>{const o=Object.create(cfe);return Ke.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),$r.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Fft=null;function wO(e){return Ke.isPlainObject(e)||Ke.isArray(e)}function dfe(e){return Ke.endsWith(e,"[]")?e.slice(0,-2):e}function QK(e,t,r){return e?e.concat(t).map(function(i,a){return i=dfe(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Nft(e){return Ke.isArray(e)&&!e.some(wO)}const Bft=Ke.toFlatObject(Ke,{},null,function(t){return/^is[A-Z]/.test(t)});function CM(e,t,r){if(!Ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!Ke.isUndefined(g[p])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ke.isSpecCompliantForm(t);if(!Ke.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Ke.isDate(v))return v.toISOString();if(Ke.isBoolean(v))return v.toString();if(!l&&Ke.isBlob(v))throw new $r("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(v)||Ke.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,p,g){let m=v;if(v&&!g&&typeof v=="object"){if(Ke.endsWith(p,"{}"))p=n?p:p.slice(0,-2),v=JSON.stringify(v);else if(Ke.isArray(v)&&Nft(v)||(Ke.isFileList(v)||Ke.endsWith(p,"[]"))&&(m=Ke.toArray(v)))return p=dfe(p),m.forEach(function(x,b){!(Ke.isUndefined(x)||x===null)&&t.append(o===!0?QK([p],b,a):o===null?p:p+"[]",u(x))}),!1}return wO(v)?!0:(t.append(QK(g,p,a),u(v)),!1)}const f=[],d=Object.assign(Bft,{defaultVisitor:c,convertValue:u,isVisitable:wO});function h(v,p){if(!Ke.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),Ke.forEach(v,function(m,y){(!(Ke.isUndefined(m)||m===null)&&i.call(t,m,Ke.isString(y)?y.trim():y,p,d))===!0&&h(m,p?p.concat(y):[y])}),f.pop()}}if(!Ke.isObject(e))throw new TypeError("data must be an object");return h(e),t}function eZ(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function QB(e,t){this._pairs=[],e&&CM(e,this,t)}const hfe=QB.prototype;hfe.append=function(t,r){this._pairs.push([t,r])};hfe.toString=function(t){const r=t?function(n){return t.call(this,n,eZ)}:eZ;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function zft(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vfe(e,t,r){if(!t)return e;const n=r&&r.encode||zft;Ke.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=Ke.isURLSearchParams(t)?t.toString():new QB(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class tZ{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const pfe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hft=typeof URLSearchParams<"u"?URLSearchParams:QB,Vft=typeof FormData<"u"?FormData:null,$ft=typeof Blob<"u"?Blob:null,Gft={isBrowser:!0,classes:{URLSearchParams:Hft,FormData:Vft,Blob:$ft},protocols:["http","https","file","blob","url","data"]},ez=typeof window<"u"&&typeof document<"u",SO=typeof navigator=="object"&&navigator||void 0,Uft=ez&&(!SO||["ReactNative","NativeScript","NS"].indexOf(SO.product)<0),Wft=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xft=ez&&window.location.href||"http://localhost",jft=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ez,hasStandardBrowserEnv:Uft,hasStandardBrowserWebWorkerEnv:Wft,navigator:SO,origin:Xft},Symbol.toStringTag,{value:"Module"})),go={...jft,...Gft};function Yft(e,t){return CM(e,new go.classes.URLSearchParams,{visitor:function(r,n,i,a){return go.isNode&&Ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Kft(e){return Ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zft(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function gfe(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&Ke.isArray(i)?i.length:o,l?(Ke.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Ke.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&Ke.isArray(i[o])&&(i[o]=Zft(i[o])),!s)}if(Ke.isFormData(e)&&Ke.isFunction(e.entries)){const r={};return Ke.forEachEntry(e,(n,i)=>{t(Kft(n),i,r,0)}),r}return null}function qft(e,t,r){if(Ke.isString(e))try{return(t||JSON.parse)(e),Ke.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Wb={transitional:pfe,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Ke.isObject(t);if(a&&Ke.isHTMLForm(t)&&(t=new FormData(t)),Ke.isFormData(t))return i?JSON.stringify(gfe(t)):t;if(Ke.isArrayBuffer(t)||Ke.isBuffer(t)||Ke.isStream(t)||Ke.isFile(t)||Ke.isBlob(t)||Ke.isReadableStream(t))return t;if(Ke.isArrayBufferView(t))return t.buffer;if(Ke.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yft(t,this.formSerializer).toString();if((s=Ke.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return CM(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),qft(t)):t}],transformResponse:[function(t){const r=this.transitional||Wb.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ke.isResponse(t)||Ke.isReadableStream(t))return t;if(t&&Ke.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?$r.from(s,$r.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:go.classes.FormData,Blob:go.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],e=>{Wb.headers[e]={}});const Jft=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qft=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&Jft[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rZ=Symbol("internals");function F1(e){return e&&String(e).trim().toLowerCase()}function kC(e){return e===!1||e==null?e:Ke.isArray(e)?e.map(kC):String(e)}function edt(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tdt=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function UI(e,t,r,n,i){if(Ke.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Ke.isString(t)){if(Ke.isString(n))return t.indexOf(n)!==-1;if(Ke.isRegExp(n))return n.test(t)}}function rdt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ndt(e,t){const r=Ke.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let ms=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,l,u){const c=F1(l);if(!c)throw new Error("header name must be a non-empty string");const f=Ke.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=kC(s))}const o=(s,l)=>Ke.forEach(s,(u,c)=>a(u,c,l));if(Ke.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ke.isString(t)&&(t=t.trim())&&!tdt(t))o(Qft(t),r);else if(Ke.isObject(t)&&Ke.isIterable(t)){let s={},l,u;for(const c of t){if(!Ke.isArray(c))throw TypeError("Object iterator must return a key-value pair");s[u=c[0]]=(l=s[u])?Ke.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(s,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=F1(t),t){const n=Ke.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return edt(i);if(Ke.isFunction(r))return r.call(this,i,n);if(Ke.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=F1(t),t){const n=Ke.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||UI(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=F1(o),o){const s=Ke.findKey(n,o);s&&(!r||UI(n,n[s],s,r))&&(delete n[s],i=!0)}}return Ke.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||UI(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return Ke.forEach(this,(i,a)=>{const o=Ke.findKey(n,a);if(o){r[o]=kC(i),delete r[a];return}const s=t?rdt(a):String(a).trim();s!==a&&delete r[a],r[s]=kC(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ke.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[rZ]=this[rZ]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=F1(o);n[s]||(ndt(i,o),n[s]=!0)}return Ke.isArray(t)?t.forEach(a):a(t),this}};ms.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(ms.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ke.freezeMethods(ms);function WI(e,t){const r=this||Wb,n=t||r,i=ms.from(n.headers);let a=n.data;return Ke.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function mfe(e){return!!(e&&e.__CANCEL__)}function Sy(e,t,r){$r.call(this,e??"canceled",$r.ERR_CANCELED,t,r),this.name="CanceledError"}Ke.inherits(Sy,$r,{__CANCEL__:!0});function yfe(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $r("Request failed with status code "+r.status,[$r.ERR_BAD_REQUEST,$r.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function idt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function adt(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[a];o||(o=u),r[i]=l,n[i]=u;let f=a,d=0;for(;f!==i;)d+=r[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function odt(e,t){let r=0,n=1e3/t,i,a;const o=(u,c=Date.now())=>{r=c,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const c=Date.now(),f=c-r;f>=n?o(u,c):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const FA=(e,t,r=3)=>{let n=0;const i=adt(50,250);return odt(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,u=i(l),c=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},r)},nZ=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},iZ=e=>(...t)=>Ke.asap(()=>e(...t)),sdt=go.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,go.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(go.origin),go.navigator&&/(msie|trident)/i.test(go.navigator.userAgent)):()=>!0,ldt=go.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];Ke.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ke.isString(n)&&o.push("path="+n),Ke.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function udt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cdt(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function xfe(e,t,r){let n=!udt(t);return e&&(n||r==!1)?cdt(e,t):t}const aZ=e=>e instanceof ms?{...e}:e;function Gp(e,t){t=t||{};const r={};function n(u,c,f,d){return Ke.isPlainObject(u)&&Ke.isPlainObject(c)?Ke.merge.call({caseless:d},u,c):Ke.isPlainObject(c)?Ke.merge({},c):Ke.isArray(c)?c.slice():c}function i(u,c,f,d){if(Ke.isUndefined(c)){if(!Ke.isUndefined(u))return n(void 0,u,f,d)}else return n(u,c,f,d)}function a(u,c){if(!Ke.isUndefined(c))return n(void 0,c)}function o(u,c){if(Ke.isUndefined(c)){if(!Ke.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,f){if(f in t)return n(u,c);if(f in e)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c,f)=>i(aZ(u),aZ(c),f,!0)};return Ke.forEach(Object.keys({...e,...t}),function(c){const f=l[c]||i,d=f(e[c],t[c],c);Ke.isUndefined(d)&&f!==s||(r[c]=d)}),r}const _fe=e=>{const t=Gp({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;t.headers=o=ms.from(o),t.url=vfe(xfe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(Ke.isFormData(r)){if(go.hasStandardBrowserEnv||go.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(go.hasStandardBrowserEnv&&(n&&Ke.isFunction(n)&&(n=n(t)),n||n!==!1&&sdt(t.url))){const u=i&&a&&ldt.read(a);u&&o.set(i,u)}return t},fdt=typeof XMLHttpRequest<"u",ddt=fdt&&function(e){return new Promise(function(r,n){const i=_fe(e);let a=i.data;const o=ms.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,h,v;function p(){h&&h(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function m(){if(!g)return;const x=ms.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:e,request:g};yfe(function(C){r(C),p()},function(C){n(C),p()},w),g=null}"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(n(new $r("Request aborted",$r.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new $r("Network Error",$r.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||pfe;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new $r(b,w.clarifyTimeoutError?$r.ETIMEDOUT:$r.ECONNABORTED,e,g)),g=null},a===void 0&&o.setContentType(null),"setRequestHeader"in g&&Ke.forEach(o.toJSON(),function(b,w){g.setRequestHeader(w,b)}),Ke.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),s&&s!=="json"&&(g.responseType=i.responseType),u&&([d,v]=FA(u,!0),g.addEventListener("progress",d)),l&&g.upload&&([f,h]=FA(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=x=>{g&&(n(!x||x.type?new Sy(null,e,g):x),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=idt(i.url);if(y&&go.protocols.indexOf(y)===-1){n(new $r("Unsupported protocol "+y+":",$r.ERR_BAD_REQUEST,e));return}g.send(a||null)})},hdt=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const c=u instanceof Error?u:this.reason;n.abort(c instanceof $r?c:new Sy(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,a(new $r(`timeout ${t} of ms exceeded`,$r.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>Ke.asap(s),l}},vdt=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},pdt=async function*(e,t){for await(const r of gdt(e))yield*vdt(r,t)},gdt=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},oZ=(e,t,r,n)=>{const i=pdt(e,t);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){s(),l.close();return}let f=c.byteLength;if(r){let d=a+=f;r(d)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},TM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bfe=TM&&typeof ReadableStream=="function",mdt=TM&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wfe=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ydt=bfe&&wfe(()=>{let e=!1;const t=new Request(go.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sZ=64*1024,CO=bfe&&wfe(()=>Ke.isReadableStream(new Response("").body)),NA={stream:CO&&(e=>e.body)};TM&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!NA[t]&&(NA[t]=Ke.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new $r(`Response type '${t}' is not supported`,$r.ERR_NOT_SUPPORT,n)})})})(new Response);const xdt=async e=>{if(e==null)return 0;if(Ke.isBlob(e))return e.size;if(Ke.isSpecCompliantForm(e))return(await new Request(go.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(e)||Ke.isArrayBuffer(e))return e.byteLength;if(Ke.isURLSearchParams(e)&&(e=e+""),Ke.isString(e))return(await mdt(e)).byteLength},_dt=async(e,t)=>{const r=Ke.toFiniteNumber(e.getContentLength());return r??xdt(t)},bdt=TM&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=_fe(e);u=u?(u+"").toLowerCase():"text";let h=hdt([i,a&&a.toAbortSignal()],o),v;const p=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&ydt&&r!=="get"&&r!=="head"&&(g=await _dt(c,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(Ke.isFormData(n)&&(S=w.headers.get("content-type"))&&c.setContentType(S),w.body){const[C,E]=nZ(g,FA(iZ(l)));n=oZ(w.body,sZ,C,E)}}Ke.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;v=new Request(t,{...d,signal:h,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:m?f:void 0});let y=await fetch(v,d);const x=CO&&(u==="stream"||u==="response");if(CO&&(s||x&&p)){const w={};["status","statusText","headers"].forEach(A=>{w[A]=y[A]});const S=Ke.toFiniteNumber(y.headers.get("content-length")),[C,E]=s&&nZ(S,FA(iZ(s),!0))||[];y=new Response(oZ(y.body,sZ,C,()=>{E&&E(),p&&p()}),w)}u=u||"text";let b=await NA[Ke.findKey(NA,u)||"text"](y,e);return!x&&p&&p(),await new Promise((w,S)=>{yfe(w,S,{data:b,headers:ms.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(m){throw p&&p(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new $r("Network Error",$r.ERR_NETWORK,e,v),{cause:m.cause||m}):$r.from(m,m&&m.code,e,v)}}),TO={http:Fft,xhr:ddt,fetch:bdt};Ke.forEach(TO,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lZ=e=>`- ${e}`,wdt=e=>Ke.isFunction(e)||e===null||e===!1,Sfe={getAdapter:e=>{e=Ke.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!wdt(r)&&(n=TO[(o=String(r)).toLowerCase()],n===void 0))throw new $r(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(lZ).join(`
`):" "+lZ(a[0]):"as no adapter specified";throw new $r("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:TO};function XI(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sy(null,e)}function uZ(e){return XI(e),e.headers=ms.from(e.headers),e.data=WI.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sfe.getAdapter(e.adapter||Wb.adapter)(e).then(function(n){return XI(e),n.data=WI.call(e,e.transformResponse,n),n.headers=ms.from(n.headers),n},function(n){return mfe(n)||(XI(e),n&&n.response&&(n.response.data=WI.call(e,e.transformResponse,n.response),n.response.headers=ms.from(n.response.headers))),Promise.reject(n)})}const Cfe="1.11.0",AM={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{AM[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const cZ={};AM.transitional=function(t,r,n){function i(a,o){return"[Axios v"+Cfe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new $r(i(o," has been removed"+(r?" in "+r:"")),$r.ERR_DEPRECATED);return r&&!cZ[o]&&(cZ[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};AM.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Sdt(e,t,r){if(typeof e!="object")throw new $r("options must be an object",$r.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new $r("option "+a+" must be "+l,$r.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $r("Unknown option "+a,$r.ERR_BAD_OPTION)}}const OC={assertOptions:Sdt,validators:AM},Yu=OC.validators;let wp=class{constructor(t){this.defaults=t||{},this.interceptors={request:new tZ,response:new tZ}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Gp(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&OC.assertOptions(n,{silentJSONParsing:Yu.transitional(Yu.boolean),forcedJSONParsing:Yu.transitional(Yu.boolean),clarifyTimeoutError:Yu.transitional(Yu.boolean)},!1),i!=null&&(Ke.isFunction(i)?r.paramsSerializer={serialize:i}:OC.assertOptions(i,{encode:Yu.function,serialize:Yu.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),OC.assertOptions(r,{baseUrl:Yu.spelling("baseURL"),withXsrfToken:Yu.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Ke.merge(a.common,a[r.method]);a&&Ke.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=ms.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,f=0,d;if(!l){const v=[uZ.bind(this),void 0];for(v.unshift(...s),v.push(...u),d=v.length,c=Promise.resolve(r);f<d;)c=c.then(v[f++],v[f++]);return c}d=s.length;let h=r;for(f=0;f<d;){const v=s[f++],p=s[f++];try{h=v(h)}catch(g){p.call(this,g);break}}try{c=uZ.call(this,h)}catch(v){return Promise.reject(v)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=Gp(this.defaults,t);const r=xfe(t.baseURL,t.url,t.allowAbsoluteUrls);return vfe(r,t.params,t.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(t){wp.prototype[t]=function(r,n){return this.request(Gp(n||{},{method:t,url:r,data:(n||{}).data}))}});Ke.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(Gp(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}wp.prototype[t]=r(),wp.prototype[t+"Form"]=r(!0)});let Cdt=class Tfe{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new Sy(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Tfe(function(i){t=i}),cancel:t}}};function Tdt(e){return function(r){return e.apply(null,r)}}function Adt(e){return Ke.isObject(e)&&e.isAxiosError===!0}const AO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(AO).forEach(([e,t])=>{AO[t]=e});function Afe(e){const t=new wp(e),r=rfe(wp.prototype.request,t);return Ke.extend(r,wp.prototype,t,{allOwnKeys:!0}),Ke.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Afe(Gp(e,i))},r}const Yi=Afe(Wb);Yi.Axios=wp;Yi.CanceledError=Sy;Yi.CancelToken=Cdt;Yi.isCancel=mfe;Yi.VERSION=Cfe;Yi.toFormData=CM;Yi.AxiosError=$r;Yi.Cancel=Yi.CanceledError;Yi.all=function(t){return Promise.all(t)};Yi.spread=Tdt;Yi.isAxiosError=Adt;Yi.mergeConfig=Gp;Yi.AxiosHeaders=ms;Yi.formToJSON=e=>gfe(Ke.isHTMLForm(e)?new FormData(e):e);Yi.getAdapter=Sfe.getAdapter;Yi.HttpStatusCode=AO;Yi.default=Yi;const{Axios:Ydt,AxiosError:Kdt,CanceledError:Zdt,isCancel:qdt,CancelToken:Jdt,VERSION:Qdt,all:eht,Cancel:tht,isAxiosError:rht,spread:nht,toFormData:iht,AxiosHeaders:aht,HttpStatusCode:oht,formToJSON:sht,getAdapter:lht,mergeConfig:uht}=Yi,nu=Yi.create({baseURL:"/api"});nu.interceptors.request.use(e=>e,e=>Promise.reject(e));nu.interceptors.response.use(e=>{const t=e;return console.log(111,t),t.status>=200&&t.status<300?t.data?.data||t.data:(console.error(t.message||"请求出错"),window.$message.error(t.message||"请求出错"),Promise.reject(t))},e=>(console.error("网络错误：",e),window.$message.error(e.message||"网络错误"),Promise.reject(e)));const od={upload:e=>nu.post("/upload",{payload:e}),tunnelPoint:()=>nu.get("/tunnel/point"),yichang:()=>nu.get("/yichang"),zhengtai:()=>nu.get("/zhengtai"),fangchaqx:()=>nu.get("/fangchaqx"),fangchafx:()=>nu.get("/fangchafx"),budengfangchafx:()=>nu.get("/budengfangchafx"),kruskal:()=>nu.get("/Kruskal"),predict:()=>nu.get("/predict")},Edt={class:"flex items-center justify-between"},Mdt={class:"flex items-center justify-between"},Ddt={__name:"tunnel-point",setup(e){const t=xe(!0),r=xe(),n=xe(),i=xe();let a=[];async function o(){try{t.value=!0,r.value=await od.tunnelPoint(),Sa(()=>{f(),h(),window.addEventListener("resize",s)})}finally{t.value=!1}}Vn(o),Xf(()=>{window.removeEventListener("resize",s),a.forEach(v=>{v?.dispose()})});function s(){a.forEach(v=>{v.resize()})}function l(v){const p=v===0?n.value:i.value;document.fullscreenElement?document.exitFullscreen():p.requestFullscreen()}function u(v){const p=GI.chain(v).groupBy(g=>g[3]).value();return Object.values(p).map(g=>({type:"scatter3D",name:g[0][3].toString(),data:g}))}function c(v){return GI.uniq(v.map(p=>p[3].toString()))}function f(){const v=Kk(n.value),p=c(r.value),g=u(r.value),m={legend:{data:p,top:0,textStyle:{color:"#fff",fontSize:14,fontWeight:"bold"}},grid3D:{top:-32,viewControl:{alpha:20,beta:40,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,autoRotate:!1},axisLine:{lineStyle:{color:"#999"}},axisPointer:{lineStyle:{color:"#fff"}}},xAxis3D:{type:"value",name:"东",min:-15,max:6,axisLabel:{formatter:"{value}"}},yAxis3D:{type:"value",name:"北",min:-60,max:60,axisLabel:{formatter:"{value}"}},zAxis3D:{type:"value",name:"高",min:-3,max:3,axisLabel:{formatter:"{value}"}},series:g};v.setOption(m),a.push(v)}function d(v){let p=GI.chain(v).groupBy(g=>g[3]).value();return p=Object.values(p).map(g=>({type:"scatter",name:g[0][3].toString(),data:g.map(m=>[m[0],m[1]])})),p}function h(){const v=Kk(i.value),p=c(r.value),g=d(r.value),m={legend:{data:p,top:0,textStyle:{color:"#fff",fontSize:14,fontWeight:"bold"}},xAxis:{name:"东",nameLocation:"middle",nameGap:30,axisLabel:{color:"#999"}},yAxis:{name:"北",nameLocation:"middle",nameGap:30,axisLabel:{color:"#999"}},series:g};v.setOption(m),a.push(v)}return(v,p)=>{const g=Ph,m=Zf,y=lu,x=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(g,{key:0,width:"100%",height:"487px",size:"large"})):Ca("",!0),Fr(r)?(cn(),mi(m,{key:1,"item-class":"flex-1"},{default:br(()=>[mr(x,{"content-class":"!p-0 "},{header:br(()=>[pi("div",Edt,[mr(m,{align:"center"},{default:br(()=>p[2]||(p[2]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 隧道测点三维模型图 ",-1)])),_:1,__:[2]}),mr(y,{type:"info",size:"small",onClick:p[0]||(p[0]=b=>l(0))},{default:br(()=>p[3]||(p[3]=[qn(" 全屏 ",-1)])),_:1,__:[3]})])]),default:br(()=>[pi("div",{ref_key:"threeChartRef",ref:n,class:"h-110"},null,512)]),_:1}),mr(x,{"content-class":"!p-0"},{header:br(()=>[pi("div",Mdt,[mr(m,{align:"center"},{default:br(()=>p[4]||(p[4]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 隧道测点二维模型图 ",-1)])),_:1,__:[4]}),mr(y,{type:"info",size:"small",onClick:p[1]||(p[1]=b=>l(1))},{default:br(()=>p[5]||(p[5]=[qn(" 全屏 ",-1)])),_:1,__:[5]})])]),default:br(()=>[pi("div",{ref_key:"twoChartRef",ref:i,class:"h-110"},null,512)]),_:1})]),_:1})):Ca("",!0)],64)}}};function m0(e){const t=Object.keys(e);if(t.length===0)return[];const r=e[t[0]].length;if(!t.every(n=>e[n].length===r))throw new Error("All columns must have the same length");return Array.from({length:r},(n,i)=>t.reduce((a,o)=>({...a,[o]:e[o][i]}),{}))}const Pdt={__name:"yichang",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.yichang();r.value=m0(a),n.value=Object.keys(a).map(o=>({title:o,key:o}))}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" S-H-ESD 异常值检验 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},Rdt={__name:"pp-dialog",props:{data:{type:Object}},setup(e){const t=e,r=xe(),n=xe(!1),i=()=>{n.value=!0,console.log(t.data),Sa(a)};function a(){const o=Kk(r.value),s=[],{ecdf:l,tcdf:u}=t.data;for(let f=0;f<l.length;f++)s.push([l[f],u[f]]);const c={title:{text:"PP图（ECDF vs TCDF）",left:"center",textStyle:{color:"white"}},tooltip:{trigger:"item"},xAxis:{name:"理论累积概率（TCDF）",nameLocation:"middle",nameGap:25,min:0,max:1,axisLine:{onZero:!0},axisLabel:{color:"#999"},nameTextStyle:{color:"#999",fontSize:14,fontWeight:"bold"}},yAxis:{name:"经验累积概率（ECDF）",nameLocation:"middle",nameGap:25,min:0,max:1,axisLine:{onZero:!0},axisLabel:{color:"#999"},nameTextStyle:{color:"#999",fontSize:14,fontWeight:"bold"}},series:[{name:"PP图",type:"scatter",data:s,symbolSize:10,itemStyle:{color:"#3498db"}},{name:"对角线",type:"line",data:[[0,0],[1,1]],symbol:"none",lineStyle:{color:"#e74c3c",type:"dashed",width:2},silent:!0}],grid:{left:"10%",right:"10%",bottom:"15%",top:"15%"}};o.setOption(c)}return(o,s)=>{const l=lu,u=lRe;return cn(),Pl(Dr,null,[mr(l,{onClick:i},{default:br(()=>s[1]||(s[1]=[qn(" 查看 ",-1)])),_:1,__:[1]}),mr(u,{show:Fr(n),"onUpdate:show":s[0]||(s[0]=c=>wa(n)?n.value=c:null),preset:"card",style:{width:"800px",height:"700px"}},{default:br(()=>[pi("div",{class:"w-full h-full",ref_key:"chartRef",ref:r},null,512)]),_:1},8,["show"])],64)}}},Ldt={__name:"zhengtai",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.zhengtai();r.value=m0(a),n.value=Object.keys(a).map(o=>{const s={title:o,key:o};return o==="PP图"&&(s.render=l=>I(Rdt,{data:l[o]},null)),s}),console.log(222,n.value,r.value)}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 正态性检验 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},Idt={__name:"fangchaqx",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.fangchaqx();r.value=m0(a),n.value=Object.keys(a).map(o=>({title:o,key:o}))}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 方差齐性 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},kdt={__name:"fangchacheck",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.fangchafx();r.value=m0(a),n.value=Object.keys(a).map(o=>({title:o,key:o}))}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 方差验证 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},Odt={__name:"budengfangcha",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.budengfangchafx();r.value=m0(a),n.value=Object.keys(a).map(o=>({title:o,key:o}))}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 不等方差验证 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},Fdt={__name:"unzhengtai",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.kruskal();r.value=m0(a),n.value=Object.keys(a).map(o=>({title:o,key:o}))}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 非正态数据验证 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},Ndt={__name:"predict",setup(e){const t=xe(!0),r=xe([]),n=xe([]);async function i(){try{t.value=!0;const a=await od.predict();r.value=m0(a),n.value=Object.keys(a).map(o=>({title:o,key:o}))}finally{t.value=!1}}return Vn(i),(a,o)=>{const s=Ph,l=Zf,u=Qp,c=Nc;return cn(),Pl(Dr,null,[Fr(t)?(cn(),mi(s,{key:0,width:"100%",height:"500px",size:"large"})):Ca("",!0),Fr(r).length?(cn(),mi(c,{key:1},{header:br(()=>[mr(l,{align:"center"},{default:br(()=>o[0]||(o[0]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" Prophet隧道变形预测 ",-1)])),_:1,__:[0]})]),default:br(()=>[mr(u,{"max-height":450,size:"small",columns:Fr(n),data:Fr(r)},null,8,["columns","data"])]),_:1})):Ca("",!0)],64)}}},Bdt={class:"flex flex-col items-center justify-center"},zdt={class:"text-green"},Hdt={key:0},Vdt={__name:"index",setup(e){const t=xe(),r=xe(!1),n=xe(!1),i=xe(!1),a=Dee(),o=me(()=>{const c=new Date,f=y=>String(y).padStart(2,"0"),d=c.getFullYear(),h=f(c.getMonth()+1),v=f(c.getDate()),p=f(c.getHours()),g=f(c.getMinutes()),m=f(c.getSeconds());return`${d}-${h}-${v} ${p}:${g}:${m}`});function s(c){r.value=!0;const{file:{file:f}}=c,d=new FileReader;d.onload=function(h){const v=new Uint8Array(h.target.result),p=H3(v,{type:"array",cellDates:!0}),g=p.SheetNames[0],m=p.Sheets[g],y=n6e.sheet_to_json(m).map(x=>({...x,remark:x.remark||null,record_time:new Date(x.record_time).getTime()}));t.value=y,r.value=!1,a.success("上传成功,可以开始解析数据!")},d.readAsArrayBuffer(f)}async function l(){try{n.value=!0,i.value=!1,await od.upload(t.value),n.value=!0,a.success("解析数据成功"),i.value=!0}finally{n.value=!1}}const u=[{label:"隧道测点模型图",comp:Ddt},{label:"S-H-ESD 异常值检验",comp:Pdt},{label:"正态性检验",comp:Ldt},{label:"方差齐性",comp:Idt},{label:"方差验证",comp:kdt},{label:"不等方差验证",comp:Odt},{label:"非正态数据验证",comp:Fdt},{label:"Prophet隧道变形预测",comp:Ndt}];return(c,f)=>{const d=XLe,h=Zf,v=lu,p=ZIe,g=Nc,m=TIe,y=DIe;return cn(),mi(h,{vertical:"",class:"p-6",size:28},{default:br(()=>[mr(h,{vertical:"",align:"center"},{default:br(()=>[mr(d,{type:"success",size:30},{default:br(()=>f[0]||(f[0]=[qn(" 基于全站仪自动化监测的隧道变形分析平台 ",-1)])),_:1,__:[0]}),mr(d,{type:"info",size:14},{default:br(()=>f[1]||(f[1]=[qn(" 基于全站仪的隧道变形智能分析：实现隧道测点的可视化，分析与变形预测 ",-1)])),_:1,__:[1]})]),_:1}),mr(g,null,{header:br(()=>[mr(h,{align:"center"},{default:br(()=>f[2]||(f[2]=[pi("div",{class:"w-1 h-5 bg-green-500"},null,-1),qn(" 数据上传 ",-1)])),_:1,__:[2]})]),default:br(()=>[mr(h,null,{default:br(()=>[mr(p,{accept:".xlsx, .xls","show-file-list":!1,"custom-request":s},{default:br(()=>[mr(v,{loading:Fr(r),size:"large",type:"primary"},{default:br(()=>f[3]||(f[3]=[qn(" 选择 Excel 文件 ",-1)])),_:1,__:[3]},8,["loading"])]),_:1}),mr(v,{loading:Fr(n),disabled:!Fr(t),size:"large",type:"info",onClick:l},{default:br(()=>f[4]||(f[4]=[qn(" 开始解析数据 ",-1)])),_:1,__:[4]},8,["loading","disabled"])]),_:1})]),_:1}),Fr(i)?(cn(),mi(y,{key:0,type:"line",animated:""},{default:br(()=>[(cn(),Pl(Dr,null,Dye(u,x=>mr(m,{"display-directive":"show",name:x.label,tab:x.label},{default:br(()=>[(cn(),mi(Eye(x.comp)))]),_:2},1032,["name","tab"])),64))]),_:1})):Ca("",!0),pi("footer",{class:nm(["text-center",{"fixed  bottom-0 w-full h-10":!Fr(i)}])},[mr(d,{type:"info",size:14},{default:br(()=>[pi("div",Bdt,[pi("div",null,[f[6]||(f[6]=qn(" 轨道变形监测系统 © 2023 ",-1)),Fr(i)?(cn(),Pl(Dr,{key:0},[f[5]||(f[5]=qn(" | 数据分析更新时间:",-1)),pi("span",zdt,mZ(Fr(o)),1)],64)):Ca("",!0)]),Fr(i)?(cn(),Pl("div",Hdt,f[7]||(f[7]=[qn(" 监测精度: ±1mm | 数据完整性:",-1),pi("span",{class:"text-green"},"100%",-1),qn(" | 系统状态:",-1),pi("span",{class:"text-green"},"运行正常",-1)]))):Ca("",!0)])]),_:1})],2)]),_:1})}}},$dt={__name:"App",setup(e){return(t,r)=>{const n=xRe,i=fDe;return cn(),mi(i,{theme:Fr(e3e),locale:Fr(Y_e),"date-locale":Fr(lwe)},{default:br(()=>[mr(n,null,{default:br(()=>[mr(t3e,null,{default:br(()=>[mr(Vdt)]),_:1})]),_:1})]),_:1},8,["theme","locale","date-locale"])}}};X1e($dt).mount("#app")});export default Gdt();
